var pas={$libimports:{}},rtl={version:20301,quiet:!1,debug_load_units:!1,debug_rtti:!1,$res:{},debug:function(){!rtl.quiet&&console&&console.log&&console.log(arguments)},error:function(t){throw rtl.debug("Error: ",t),t},warn:function(t){rtl.debug("Warn: ",t)},checkVersion:function(t){if(rtl.version!=t)throw"expected rtl version "+t+", but found "+rtl.version},hiInt:Math.pow(2,53),hasString:function(t){return rtl.isString(t)&&t.length>0},isArray:function(t){return Array.isArray(t)},isFunction:function(t){return"function"==typeof t},isModule:function(t){return rtl.isObject(t)&&rtl.hasString(t.$name)&&pas[t.$name]===t},isImplementation:function(t){return rtl.isObject(t)&&rtl.isModule(t.$module)&&t.$module.$impl===t},isNumber:function(t){return"number"==typeof t},isObject:function(t){return"object"==typeof t&&null!=t},isString:function(t){return"string"==typeof t},getNumber:function(t){return"number"==typeof t?t:NaN},getChar:function(t){return"string"==typeof t&&1===t.length?t:""},getObject:function(t){return"object"==typeof t||"function"==typeof t?t:null},isTRecord:function(t){return rtl.isObject(t)&&t.hasOwnProperty("$new")&&"function"==typeof t.$new},isPasClass:function(t){return rtl.isObject(t)&&t.hasOwnProperty("$classname")&&rtl.isObject(t.$module)},isPasClassInstance:function(t){return rtl.isObject(t)&&rtl.isPasClass(t.$class)},hexStr:function(t,e){return("000000000000000"+t.toString(16).toUpperCase()).slice(-e)},m_loading:0,m_loading_intf:1,m_intf_loaded:2,m_loading_impl:3,m_initializing:4,m_initialized:5,module:function(t,e,i,s){rtl.debug_load_units&&rtl.debug('rtl.module name="'+t+'" intfuses='+e+" impluses="+s),rtl.hasString(t)||rtl.error('invalid module name "'+t+'"'),rtl.isArray(e)||rtl.error('invalid interface useslist of "'+t+'"'),rtl.isFunction(i)||rtl.error('invalid interface code of "'+t+'"'),null==s||rtl.isArray(s)||rtl.error('invalid implementation useslist of "'+t+'"'),pas[t]&&rtl.error('module "'+t+'" is already registered');var n=Object.create(rtl.tSectionRTTI),o=n.$module=pas[t]={$name:t,$intfuseslist:e,$impluseslist:s,$state:rtl.m_loading,$intfcode:i,$implcode:null,$impl:null,$rtti:n};s&&(o.$impl={$module:o,$rtti:n})},exitcode:0,run:function(t){try{rtl.hasString(t)||(t="program"),rtl.debug_load_units&&rtl.debug('rtl.run module="'+t+'"'),rtl.initRTTI();var e=pas[t];if(e||rtl.error('rtl.run module "'+t+'" missing'),rtl.loadintf(e),rtl.loadimpl(e),"program"==t||"library"==t){rtl.debug_load_units&&rtl.debug("running $main");var i=pas[t].$main();rtl.isNumber(i)&&(rtl.exitcode=i)}}catch(t){if(!rtl.showUncaughtExceptions)throw t;rtl.handleUncaughtException(t)||(rtl.showException(t),rtl.exitcode=216)}return rtl.exitcode},showException:function(t){var e=rtl.hasString(t.$classname)?t.$classname:"";e+=(e?": ":"")+(t.hasOwnProperty("fMessage")?t.fMessage:t),alert("Uncaught Exception : "+e)},handleUncaughtException:function(t){if(!rtl.onUncaughtException)return!1;try{return rtl.onUncaughtException(t),!0}catch(t){return!1}},loadintf:function(t){t.$state>rtl.m_loading_intf||(rtl.debug_load_units&&rtl.debug('loadintf: "'+t.$name+'"'),t.$state===rtl.m_loading_intf&&rtl.error('unit cycle detected "'+t.$name+'"'),t.$state=rtl.m_loading_intf,rtl.loaduseslist(t,t.$intfuseslist,rtl.loadintf),rtl.debug_load_units&&rtl.debug('loadintf: run intf of "'+t.$name+'"'),t.$intfcode(t.$intfuseslist),t.$state=rtl.m_intf_loaded)},loaduseslist:function(t,e,i){if(null!=e)for(var s=e.length,n=0;n<s;n++){var o=e[n];rtl.debug_load_units&&rtl.debug('loaduseslist of "'+t.$name+'" uses="'+o+'"'),null==pas[o]&&rtl.error('module "'+t.$name+'" misses "'+o+'"'),i(pas[o])}},loadimpl:function(t){t.$state>=rtl.m_loading_impl||(t.$state<rtl.m_intf_loaded&&rtl.error('loadimpl: interface not loaded of "'+t.$name+'"'),rtl.debug_load_units&&rtl.debug('loadimpl: load uses of "'+t.$name+'"'),t.$state=rtl.m_loading_impl,rtl.loaduseslist(t,t.$impluseslist,rtl.loadintf),rtl.loaduseslist(t,t.$intfuseslist,rtl.loadimpl),rtl.loaduseslist(t,t.$impluseslist,rtl.loadimpl),rtl.debug_load_units&&rtl.debug('loadimpl: run impl of "'+t.$name+'"'),rtl.isFunction(t.$implcode)&&t.$implcode(t.$impluseslist),rtl.debug_load_units&&rtl.debug('loadimpl: run init of "'+t.$name+'"'),t.$state=rtl.m_initializing,rtl.isFunction(t.$init)&&t.$init(),t.$state=rtl.m_initialized)},createCallback:function(t,e){var i;if("string"==typeof e){if(t.hasOwnProperty("$events")||(t.$events={}),i=t.$events[e])return i;t.$events[e]=i=function(){return t[e].apply(t,arguments)}}else i=function(){return e.apply(t,arguments)};return i.scope=t,i.fn=e,i},createSafeCallback:function(t,e){var i;if("string"==typeof e){if(t.hasOwnProperty("$events")||(t.$events={}),i=t.$events[e])return i;t.$events[e]=i=function(){try{return t[e].apply(t,arguments)}catch(t){if(!rtl.handleUncaughtException(t))throw t}}}else i=function(){try{return e.apply(t,arguments)}catch(t){if(!rtl.handleUncaughtException(t))throw t}};return i.scope=t,i.fn=e,i},eqCallback:function(t,e){return t===e||null!=t&&null!=e&&t.fn&&t.scope===e.scope&&t.fn===e.fn},initStruct:function(t,e,i){return e.$module&&e.$module.$impl===e&&(e=e.$module),t.$parent=e,rtl.isModule(e)?(t.$module=e,t.$name=i):(t.$module=e.$module,t.$name=e.$name+"."+i),e},initClass:function(t,e,i,s,n){e[i]=t,t.$class=t,t.$classname=n||i,e=rtl.initStruct(t,e,i),t.$fullname=e.$name+"."+i,rtl.debug_rtti&&rtl.debug("initClass "+t.$fullname);var o=t.$module.$rtti.$Class(t.$classname,{class:t});t.$rtti=o,rtl.isObject(t.$ancestor)&&(o.ancestor=t.$ancestor.$rtti),o.ancestor||(o.ancestor=null),s.call(t)},createClass:function(t,e,i,s,n){var o=null;null!=i?(o=Object.create(i)).$ancestor=i:((o={$ancestor:null}).$create=function(t,e){null==e&&(e=[]);var i=Object.create(this);i.$init();try{"string"==typeof t?i[t].apply(i,e):t.apply(i,e),i.AfterConstruction()}catch(t){throw i.Destroy&&i.Destroy(),i.$final(),t}return i},o.$destroy=function(t){this.BeforeDestruction(),this[t]&&this[t](),this.$final()}),rtl.initClass(o,t,e,s,n)},createClassExt:function(t,e,i,s,n,o){var r=rtl.isFunction(i),a=null;if(r?((a=Object.create(i.prototype)).$ancestorfunc=i,a.$ancestor=null):i.$func?(r=!0,(a=Object.create(i)).$ancestor=i):(a=Object.create(i)).$ancestor=null,a.$create=function(t,e){null==e&&(e=[]);var i=null;(i=s.length>0?this[s](t,e):r?new this.$func(e):Object.create(a)).$init&&i.$init();try{"string"==typeof t?this[t].apply(i,e):t.apply(i,e),i.AfterConstruction&&i.AfterConstruction()}catch(t){throw i.Destroy&&i.Destroy(),i.$final&&i.$final(),t}return i},a.$destroy=function(t){this.BeforeDestruction&&this.BeforeDestruction(),this[t]&&this[t](),this.$final&&this.$final()},rtl.initClass(a,t,e,n,o),r){function l(){}l.prototype=a,a.$func=l}},createHelper:function(t,e,i,s,n){var o=null;null!=i?(o=Object.create(i)).$ancestor=i:o={$ancestor:null},t[e]=o,o.$class=o,o.$classname=n||e,t=rtl.initStruct(o,t,e),o.$fullname=t.$name+"."+e;var r=o.$module.$rtti.$Helper(o.$classname,{helper:o});o.$rtti=r,rtl.isObject(i)&&(r.ancestor=i.$rtti),r.ancestor||(r.ancestor=null),s.call(o)},tObjectDestroy:"Destroy",free:function(t,e){if(null==t[e])return null;t[e].$destroy(rtl.tObjectDestroy),t[e]=null},freeLoc:function(t){return null==t||t.$destroy(rtl.tObjectDestroy),null},hideProp:function(t,e,i){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0}),arguments.length>2&&(t[e]=i)},recNewT:function(t,e,i,s){var n={};t&&(t[e]=n);var o=rtl.hideProp;return s&&(rtl.initStruct(n,t,e),n.$record=n,o(n,"$record"),o(n,"$name"),o(n,"$parent"),o(n,"$module"),o(n,"$initSpec")),i.call(n),n.$new||(n.$new=function(){return Object.create(n)}),n.$clone=function(t){return n.$new().$assign(t)},o(n,"$new"),o(n,"$clone"),o(n,"$eq"),o(n,"$assign"),n},is:function(t,e){return e.isPrototypeOf(t)||t===e},isExt:function(t,e,i){return null!=t&&(("object"==typeof e||"function"==typeof e)&&(t===e?1!==i&&(2!==i||rtl.isPasClass(t)):e.isPrototypeOf&&e.isPrototypeOf(t)?1===i?rtl.isPasClassInstance(t):2!==i||rtl.isPasClass(t):"function"==typeof e&&t instanceof e))},Exception:null,EInvalidCast:null,EAbstractError:null,ERangeError:null,EIntOverflow:null,EPropWriteOnly:null,raiseE:function(t){var e=rtl[t];if(null==e){var i=pas.SysUtils;i||(i=pas.sysutils),i&&((e=i[t])||(e=i[t.toLowerCase()]),e||(e=i.Exception),e||(e=i.exception))}if(e){if(e.Create)throw e.$create("Create");if(e.create)throw e.$create("create")}if("EInvalidCast"===t)throw"invalid type cast";if("EAbstractError"===t)throw"Abstract method called";if("ERangeError"===t)throw"range error";throw t},as:function(t,e){if(null===t||rtl.is(t,e))return t;rtl.raiseE("EInvalidCast")},asExt:function(t,e,i){if(null===t||rtl.isExt(t,e,i))return t;rtl.raiseE("EInvalidCast")},createInterface:function(t,e,i,s,n,o){var r=n?Object.create(n):{};if(t[e]=r,r.$module=t,r.$name=e,r.$fullname=t.$name+"."+e,r.$guid=i,r.$guidr=null,r.$names=s||[],rtl.isFunction(o)){rtl.debug_rtti&&rtl.debug("createInterface "+r.$fullname);var a=r.$module.$rtti.$Interface(e,{interface:r,module:t});r.$rtti=a,n&&(a.ancestor=n.$rtti),a.ancestor||(a.ancestor=null),o.call(r)}return r},strToGUIDR:function(t,e){var i=0;function s(e){var s=t.substr(i,e);return i+=e,parseInt(s,16)}i+=1,e.D1=s(8),i+=1,e.D2=s(4),i+=1,e.D3=s(4),i+=1,e.D4||(e.D4=[]),e.D4[0]=s(2),e.D4[1]=s(2),i+=1;for(var n=2;n<8;n++)e.D4[n]=s(2);return e},guidrToStr:function(t){if(t.$intf)return t.$intf.$guid;for(var e=rtl.hexStr,i="{"+e(t.D1,8)+"-"+e(t.D2,4)+"-"+e(t.D3,4)+"-"+e(t.D4[0],2)+e(t.D4[1],2)+"-",s=2;s<8;s++)i+=e(t.D4[s],2);return i+="}"},createTGUID:function(t){var e=pas.System?pas.System.TGuid:pas.system.tguid;return rtl.strToGUIDR(t,e.$new())},getIntfGUIDR:function(t){if(!t)return null;if(!t.$guidr){var e=rtl.createTGUID(t.$guid);t.hasOwnProperty("$guid")||(t=Object.getPrototypeOf(t)),e.$intf=t,t.$guidr=e}return t.$guidr},addIntf:function(t,e,i){function s(t){return"function"==typeof t?function(){return t.apply(this.$o,arguments)}:function(){rtl.raiseE("EAbstractError")}}i||(i={});var n=e,o=Object.create(n);t.hasOwnProperty("$intfmaps")||(t.$intfmaps={}),t.$intfmaps[e.$guid]=o;do{var r=n.$names;if(!r)break;for(var a=0;a<r.length;a++){var l=r[a],h=i[l];h||(h=l),o[l]=s(t[h])}n=Object.getPrototypeOf(n)}while(null!=n)},getIntfG:function(t,e,i){if(!t)return null;var s=t.$intfmaps;if(!s)return null;var n=s[e];if(!n)return null;if("function"==typeof n)return n.call(t);var o=null;if(t.$interfaces&&(o=t.$interfaces[e]),o||((o=Object.create(n)).$o=t,t.$interfaces||(t.$interfaces={}),t.$interfaces[e]=o),"object"==typeof i){var r=null;return 0===o.QueryInterface(rtl.getIntfGUIDR(i),{get:function(){return r},set:function(t){r=t}})?r:null}return 2===i&&"com"===o.$kind&&o._AddRef(),o},getIntfT:function(t,e){return rtl.getIntfG(t,e.$guid)},queryIntfT:function(t,e){return rtl.getIntfG(t,e.$guid,e)},queryIntfIsT:function(t,e){var i=rtl.getIntfG(t,e.$guid);return!!i&&("com"===i.$kind&&i._Release(),!0)},asIntfT:function(t,e){var i=rtl.getIntfG(t,e.$guid);if(null!==i)return i;rtl.raiseEInvalidCast()},intfIsIntfT:function(t,e){return null!==t&&rtl.queryIntfIsT(t.$o,e)},intfAsIntfT:function(t,e){if(!t)return null;var i=rtl.getIntfG(t.$o,e.$guid);if(i)return i;rtl.raiseEInvalidCast()},intfIsClass:function(t,e){return null!=t&&rtl.is(t.$o,e)},intfAsClass:function(t,e){return null==t?null:rtl.as(t.$o,e)},intfToClass:function(t,e){return null!==t&&rtl.is(t.$o,e)?t.$o:null},intfRefs:{ref:function(t,e){var i=this[t];return i&&(delete this[t],i._Release()),e&&(this[t]=e),e},free:function(){for(var t in this)if(this.hasOwnProperty(t)){var e=this[t];e&&e._Release()}}},createIntfRefs:function(){return Object.create(rtl.intfRefs)},setIntfP:function(t,e,i,s){var n=t[e];n!==i&&(null!==n&&(t[e]=null,n._Release()),null!==i&&(s||i._AddRef(),t[e]=i))},setIntfL:function(t,e,i){return t!==e?(null!==e&&(i||e._AddRef()),null!==t&&t._Release()):i&&null!==t&&t._Release(),e},_AddRef:function(t){return t&&t._AddRef(),t},_Release:function(t){return t&&t._Release(),t},_ReleaseArray:function(t,e){if(!t)return null;for(var i=0;i<t.length;i++)e<=1?t[i]&&t[i]._Release():rtl._ReleaseArray(t[i],e-1);return null},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},checkMethodCall:function(t,e){rtl.isObject(t)&&rtl.is(t,e)||rtl.raiseE("EInvalidCast")},oc:function(t){if(Math.floor(t)===t&&t>=-9007199254740991&&t<=9007199254740991)return t;rtl.raiseE("EIntOverflow")},rc:function(t,e,i){if(Math.floor(t)===t&&t>=e&&t<=i)return t;rtl.raiseE("ERangeError")},rcc:function(t,e,i){if("string"==typeof t&&1===t.length){var s=t.charCodeAt(0);if(s>=e&&s<=i)return t}rtl.raiseE("ERangeError")},rcSetCharAt:function(t,e,i){return("string"!=typeof t||e<0||e>=t.length)&&rtl.raiseE("ERangeError"),rtl.setCharAt(t,e,i)},rcCharAt:function(t,e){return("string"!=typeof t||e<0||e>=t.length)&&rtl.raiseE("ERangeError"),t.charAt(e)},rcArrR:function(t,e){if(Array.isArray(t)&&"number"==typeof e&&e>=0&&e<t.length){if(arguments.length>2){t=t[e];for(var i=2;i<arguments.length;i++)t=rtl.rcArrR(t,arguments[i]);return t}return t[e]}rtl.raiseE("ERangeError")},rcArrW:function(t,e,i){for(var s=3;s<arguments.length;s++)t=rtl.rcArrR(t,e),e=arguments[s-1],i=arguments[s];if(Array.isArray(t)&&"number"==typeof e&&e>=0&&e<t.length)return t[e]=i;rtl.raiseE("ERangeError")},length:function(t){return null==t?0:t.length},arrayRef:function(t){return null!=t&&rtl.hideProp(t,"$pas2jsrefcnt",1),t},arraySetLength:function(t,e,i){for(var s=[],n=9999,o=2;o<arguments.length;o++){var r=arguments[o];"s"===r?n=o-2:s.push({dim:r+0,a:null,i:0,src:null})}for(var a=s.length-1,l=0,h=0,d=null,u=null,c=t,p=0,C=0;;)if(l>0&&(c=(d=s[l-1]).src&&d.src.length>d.i?d.src[d.i]:null),c?c.$pas2jsrefcnt>0||l>=n?(u=[],C=p=c.length):(p=0,C=(u=c).length):(u=[],p=0,C=0),h=s[l].dim,u.length=h,!(l>0&&(d.a[d.i]=u,d.i++,0===h&&d.i<d.a.length))){if(h>0){if(l<a){(d=s[l]).a=u,d.i=0,d.src=c,l++;continue}if(p>h&&(p=h),rtl.isArray(e)){for(o=0;o<p;o++)u[o]=c[o];for(o=C;o<h;o++)u[o]=[]}else if(rtl.isObject(e))if(rtl.isTRecord(e)){for(o=0;o<p;o++)u[o]=e.$clone(c[o]);for(o=C;o<h;o++)u[o]=e.$new()}else{for(o=0;o<p;o++)u[o]=rtl.refSet(c[o]);for(o=C;o<h;o++)u[o]={}}else{for(o=0;o<p;o++)u[o]=c[o];for(o=C;o<h;o++)u[o]=e}}for(;l>0&&s[l-1].i>=s[l-1].dim;)l--;if(0===l)return 0===a?u:s[0].a}},arrayEq:function(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},arrayClone:function(t,e,i,s,n,o){if("refSet"===t)for(;i<s;i++)n[o++]=rtl.refSet(e[i]);else if("slice"===t)for(;i<s;i++)n[o++]=e[i].slice(0);else if("function"==typeof t)for(;i<s;i++)n[o++]=t(e[i]);else if(rtl.isTRecord(t))for(;i<s;i++)n[o++]=t.$clone(e[i]);else for(;i<s;i++)n[o++]=e[i]},arrayConcat:function(t){for(var e=[],i=0,s=1;s<arguments.length;s++){null!==(n=arguments[s])&&(i+=n.length)}e.length=i,i=0;for(s=1;s<arguments.length;s++){var n;null!==(n=arguments[s])&&(rtl.arrayClone(t,n,0,n.length,e,i),i+=n.length)}return e},arrayConcatN:function(){for(var t=null,e=0;e<arguments.length;e++){var i=arguments[e];if(null!==i)if(null===t)t=rtl.arrayRef(i);else if(t.$pas2jsrefcnt)t=t.concat(i);else for(e=0;e<i.length;e++)t.push(i[e])}return t},arrayPush:function(t,e){return null===e?e=[]:e.$pas2jsrefcnt&&(e=rtl.arrayCopy(t,e,0,e.length)),rtl.arrayClone(t,arguments,2,arguments.length,e,e.length),e},arrayPushN:function(t){null===t?t=[]:t.$pas2jsrefcnt&&(t=t.concat());for(var e=1;e<arguments.length;e++)t.push(arguments[e]);return t},arrayCopy:function(t,e,i,s){if(null===e)return[];i<0&&(i=0),void 0===s&&(s=e.length);var n=i+s;if(n>e.length&&(n=e.length),i>=n)return[];if(0===t)return e.slice(i,n);var o=[];return o.length=n-i,rtl.arrayClone(t,e,i,n,o,0),o},arrayInsert:function(t,e,i){return e?(e.splice(i,0,t),e):[t]},setCharAt:function(t,e,i){return t.substr(0,e)+i+t.substr(e+1)},getResStr:function(t,e){var i=t.$resourcestrings[e];return i.current?i.current:i.org},createSet:function(){for(var t={},e=0;e<arguments.length;e++)if(null!=arguments[e])t[arguments[e]]=!0;else for(var i=arguments[e+=1],s=arguments[e+=1],n=i;n<=s;n++)t[n]=!0;return t},cloneSet:function(t){var e={};for(var i in t)e[i]=!0;return e},refSet:function(t){return rtl.hideProp(t,"$shared",!0),t},includeSet:function(t,e){return t.$shared&&(t=rtl.cloneSet(t)),t[e]=!0,t},excludeSet:function(t,e){return t.$shared&&(t=rtl.cloneSet(t)),delete t[e],t},diffSet:function(t,e){var i={};for(var s in t)e[s]||(i[s]=!0);return i},unionSet:function(t,e){var i={};for(var s in t)i[s]=!0;for(var s in e)i[s]=!0;return i},intersectSet:function(t,e){var i={};for(var s in t)e[s]&&(i[s]=!0);return i},symDiffSet:function(t,e){var i={};for(var s in t)e[s]||(i[s]=!0);for(var s in e)t[s]||(i[s]=!0);return i},eqSet:function(t,e){for(var i in t)if(!e[i])return!1;for(var i in e)if(!t[i])return!1;return!0},neSet:function(t,e){return!rtl.eqSet(t,e)},leSet:function(t,e){for(var i in t)if(!e[i])return!1;return!0},geSet:function(t,e){for(var i in e)if(!t[i])return!1;return!0},strSetLength:function(t,e){var i=t.length;if(i>e)return t.substring(0,e);if(t.repeat)return t+" ".repeat(e-i);for(;i<e;)t+=" ",i++;return t},spaceLeft:function(t,e){var i=t.length;if(i>=e)return t;if(t.repeat)return" ".repeat(e-i)+t;for(;i<e;)t=" "+t,i++;return t},floatToStr:function(t,e,i){if(arguments.length>2)return rtl.spaceLeft(t.toFixed(i),e);var s="",n=Math.abs(t);n>1&&n<1e10||n>1e-10&&n<1?s="00":(n>1&&n<1e100||n<1e-10)&&(s="0"),arguments.length<2?e=24:e<9&&(e=9);i=e-8;var o=(t>0?" ":"")+t.toExponential(i);return o=o.replace(/e(.)/,"E$1"+s),rtl.spaceLeft(o,e)},valEnum:function(t,e,i){for(var s in t=t.toLowerCase(),e)if("string"==typeof s&&s.toLowerCase()===t)return i(0),e[s];return i(1),0},lw:function(t){return t<0?t+4294967296:t},and:function(t,e){var i=2147483648;return(t/i&e/i)*i+(2147483647&t&e)},or:function(t,e){var i=2147483648;return(t/i|e/i)*i+(2147483647&t|2147483647&e)},xor:function(t,e){var i=2147483648;return(t/i^e/i)*i+(2147483647&t^2147483647&e)},shr:function(t,e){return t<0&&(t+=rtl.hiInt),t<2147483648?t>>e:e<=0?t:e>54?0:Math.floor(t/Math.pow(2,e))},shl:function(t,e){if(t<0&&(t+=rtl.hiInt),e<=0)return t;if(e>54)return 0;var i=t*Math.pow(2,e);return i<=rtl.hiInt?i:i%rtl.hiInt},initRTTI:function(){function t(t,e,i){i||(i=rtl.tTypeInfo),rtl.debug_rtti&&rtl.debug('initRTTI.newBaseTI "'+t+'" '+e+' ("'+i.name+'")');var s=Object.create(i);return s.name=t,s.kind=e,rtl[t]=s,s}function e(e,i,s,n){var o=t(e,1,rtl.tTypeInfoInteger);return o.minvalue=i,o.maxvalue=s,o.ordtype=n,o}function i(t,e){var i=Object.create(rtl.tTypeMember);i.name=t,i.kind=e,rtl[t]=i}rtl.debug_rtti&&rtl.debug("initRTTI"),rtl.tTypeInfo={name:"tTypeInfo",kind:0,$module:null,attr:null},t("tTypeInfoInteger",1),e("shortint",-128,127,0),e("byte",0,255,1),e("smallint",-32768,32767,2),e("word",0,65535,3),e("longint",-2147483648,2147483647,4),e("longword",0,4294967295,5),e("nativeint",-4503599627370496,0xfffffffffffff,6),e("nativeuint",0,0xfffffffffffff,7),t("char",2),t("string",3),t("tTypeInfoEnum",4,rtl.tTypeInfoInteger),t("tTypeInfoSet",5),t("double",6),t("boolean",7),t("tTypeInfoProcVar",8),t("tTypeInfoMethodVar",9,rtl.tTypeInfoProcVar),t("tTypeInfoArray",10),t("tTypeInfoDynArray",11),t("tTypeInfoPointer",15),t("pointer",15,rtl.tTypeInfoPointer).reftype=null,t("jsvalue",16),t("tTypeInfoRefToProcVar",17,rtl.tTypeInfoProcVar),rtl.tTypeMember={attr:null},i("tTypeMemberField",1),i("tTypeMemberMethod",2),i("tTypeMemberProperty",3),rtl.tTypeMembers={};var s=t("tTypeInfoStruct",0);s.$addMember=function(t,e,i){if(rtl.debug_rtti){if(!rtl.hasString(t)||"$"===t.charAt())throw'invalid member "'+t+'", this="'+this.name+'"';if(!rtl.is(e,rtl.tTypeMember))throw'invalid ancestor "'+e+":"+e.name+'", "'+this.name+"."+t+'"';if(null!=i&&"object"!=typeof i)throw'invalid options "'+i+'", "'+this.name+"."+t+'"'}var s=Object.create(e);if(s.name=t,this.members[t]=s,this.names.push(t),rtl.isObject(i))for(var n in i)i.hasOwnProperty(n)&&(s[n]=i[n]);return s},s.addField=function(t,e,i){var s=this.$addMember(t,rtl.tTypeMemberField,i);if(rtl.debug_rtti&&!rtl.is(e,rtl.tTypeInfo))throw'invalid type "'+e+'", "'+this.name+"."+t+'"';return s.typeinfo=e,this.fields.push(t),s},s.addFields=function(){for(var t=0;t<arguments.length;){var e=arguments[t++],i=arguments[t++];t<arguments.length&&"object"==typeof arguments[t]?this.addField(e,i,arguments[t++]):this.addField(e,i)}},s.addMethod=function(t,e,i,s,n,o){var r=this.$addMember(t,rtl.tTypeMemberMethod,o);return r.methodkind=e,r.procsig=rtl.newTIProcSig(i,s,n),this.methods.push(t),r},s.addProperty=function(t,e,i,s,n,o){var r=this.$addMember(t,rtl.tTypeMemberProperty,o);return r.flags=e,r.typeinfo=i,r.getter=s,r.setter=n,r.params=rtl.isArray(r.params)?rtl.newTIParams(r.params):null,this.properties.push(t),rtl.isString(r.stored)||(r.stored=""),r},s.getField=function(t){return this.members[this.fields[t]]},s.getMethod=function(t){return this.members[this.methods[t]]},s.getProperty=function(t){return this.members[this.properties[t]]},t("tTypeInfoRecord",12,rtl.tTypeInfoStruct),t("tTypeInfoClass",13,rtl.tTypeInfoStruct),t("tTypeInfoClassRef",14),t("tTypeInfoInterface",18,rtl.tTypeInfoStruct),t("tTypeInfoHelper",19,rtl.tTypeInfoStruct),t("tTypeInfoExtClass",20,rtl.tTypeInfoClass)},tSectionRTTI:{$module:null,$inherited:function(t,e,i){rtl.debug_rtti&&rtl.debug('tSectionRTTI.newTI "'+(this.$module?this.$module.$name:"(no module)")+'"."'+t+'" ('+e.name+") "+(i?"init":"forward"));var s=this[t];if(s){if(!s.$forward)throw'duplicate type "'+t+'"';if(!e.isPrototypeOf(s))throw'typeinfo ancestor mismatch "'+t+'" ancestor="'+e.name+'" t.name="'+s.name+'"'}else(s=Object.create(e)).name=t,s.$module=this.$module,this[t]=s;if(i)for(var n in delete s.$forward,i)i.hasOwnProperty(n)&&(s[n]=i[n]);else s.$forward=!0;return s},$Scope:function(t,e,i){var s=this.$inherited(t,e,i);return s.members={},s.names=[],s.fields=[],s.methods=[],s.properties=[],s},$TI:function(t,e,i){var s=this.$inherited(t,rtl.tTypeInfo,i);return s.kind=e,s},$Int:function(t,e){return this.$inherited(t,rtl.tTypeInfoInteger,e)},$Enum:function(t,e){return this.$inherited(t,rtl.tTypeInfoEnum,e)},$Set:function(t,e){return this.$inherited(t,rtl.tTypeInfoSet,e)},$StaticArray:function(t,e){return this.$inherited(t,rtl.tTypeInfoArray,e)},$DynArray:function(t,e){return this.$inherited(t,rtl.tTypeInfoDynArray,e)},$ProcVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoProcVar,e)},$RefToProcVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoRefToProcVar,e)},$MethodVar:function(t,e){return this.$inherited(t,rtl.tTypeInfoMethodVar,e)},$Record:function(t,e){return this.$Scope(t,rtl.tTypeInfoRecord,e)},$Class:function(t,e){return this.$Scope(t,rtl.tTypeInfoClass,e)},$ClassRef:function(t,e){return this.$inherited(t,rtl.tTypeInfoClassRef,e)},$Pointer:function(t,e){return this.$inherited(t,rtl.tTypeInfoPointer,e)},$Interface:function(t,e){return this.$Scope(t,rtl.tTypeInfoInterface,e)},$Helper:function(t,e){return this.$Scope(t,rtl.tTypeInfoHelper,e)},$ExtClass:function(t,e){return this.$Scope(t,rtl.tTypeInfoExtClass,e)}},newTIParam:function(t){return{name:t[0],typeinfo:t[1],flags:rtl.isNumber(t[2])?t[2]:0}},newTIParams:function(t){var e=[];if(rtl.isArray(t))for(var i=0;i<t.length;i++)e.push(rtl.newTIParam(t[i]));return e},newTIProcSig:function(t,e,i){return{params:rtl.newTIParams(t),resulttype:e||null,flags:i||0}},addResource:function(t){rtl.$res[t.name]=t},getResource:function(t){var e=rtl.$res[t];return void 0!==e?e:null},getResourceList:function(){return Object.keys(rtl.$res)}};rtl.module("System",[],(function(){"use strict";var t=this,e=t.$impl;this.LineEnding="\n",this.sLineBreak=this.LineEnding,this.MaxLongint=2147483647,this.Maxint=2147483647,this.TTextLineBreakStyle={0:"tlbsLF",tlbsLF:0,1:"tlbsCRLF",tlbsCRLF:1,2:"tlbsCR",tlbsCR:2},rtl.recNewT(this,"TGuid",(function(){this.D1=0,this.D2=0,this.D3=0,this.$new=function(){var t=Object.create(this);return t.D4=rtl.arraySetLength(null,0,8),t},this.$eq=function(t){return this.D1===t.D1&&this.D2===t.D2&&this.D3===t.D3&&rtl.arrayEq(this.D4,t.D4)},this.$assign=function(t){return this.D1=t.D1,this.D2=t.D2,this.D3=t.D3,this.D4=t.D4.slice(0),this}})),rtl.recNewT(this,"TMethod",(function(){this.Code=null,this.Data=null,this.$eq=function(t){return this.Code===t.Code&&this.Data===t.Data},this.$assign=function(t){return this.Code=t.Code,this.Data=t.Data,this}})),rtl.createClass(this,"TObject",null,(function(){this.$init=function(){},this.$final=function(){},this.Create=function(){return this},this.Destroy=function(){},this.Free=function(){this.$destroy("Destroy")},this.ClassType=function(){return this},this.InheritsFrom=function(t){return null!=t&&(this==t||t.isPrototypeOf(this))},this.MethodName=function(t){var e="";if(e="",null===t)return e;if("function"!=typeof t)return"";var i=0,s=this.$rtti;if(rtl.isObject(t.scope)){if("string"==typeof t.fn)return t.fn;t=t.fn}for(;""===e&&null!=s;){for(i=0;""===e&&i<s.methods.length;)this[s.getMethod(i).name]===t&&(e=s.getMethod(i).name),i+=1;""===e&&(s=s.ancestor)}return e},this.MethodAddress=function(t){var e=null;if(e=null,""===t)return e;var i,s=0,n=this.$rtti,o="";for(i=t.toLowerCase();""===o&&null!=n;){for(s=0;""===o&&s<n.methods.length;)n.getMethod(s).name.toLowerCase()===i&&(o=n.getMethod(s).name),s+=1;""===o&&(n=n.ancestor)}return""!==o&&(e=this[o]),e},this.FieldAddress=function(t){if(null,""===t)return null;for(var e=this.$class,i=null,s=t.toLowerCase(),n=null;null!==e;){for(var o=0,r=(i=e.$rtti).fields.length-1;o<=r;o++)if((n=i.getField(o)).name.toLowerCase()===s)return n;e=e.$ancestor?e.$ancestor:null}return null},this.ClassInfo=function(){return this.$rtti},this.AfterConstruction=function(){},this.BeforeDestruction=function(){},this.GetInterface=function(t,e){var i=t.$intf;return i&&(i=rtl.getIntfG(this,i.$guid,2))?(e.set(i),!0):this.GetInterfaceByStr(rtl.guidrToStr(t),e)},this.GetInterfaceByStr=function(e,i){if(!1,t.IObjectInstance.$str||(t.IObjectInstance.$str=rtl.guidrToStr(t.IObjectInstance)),e==t.IObjectInstance.$str)return i.set(this),!0;var s=rtl.getIntfG(this,e,2);return i.set(s),null!==s}})),rtl.createClass(this,"TCustomAttribute",this.TObject,(function(){})),this.S_OK=0,this.E_NOINTERFACE=-2147467262,rtl.createInterface(this,"IUnknown","{00000000-0000-0000-C000-000000000046}",["QueryInterface","_AddRef","_Release"],null,(function(){this.$kind="com"})),rtl.createClass(this,"TInterfacedObject",this.TObject,(function(){this.$init=function(){t.TObject.$init.call(this),this.fRefCount=0},this.QueryInterface=function(t,e){return this.GetInterface(t,e)?0:-2147467262},this._AddRef=function(){return this.fRefCount+=1,this.fRefCount},this._Release=function(){var t;return this.fRefCount-=1,t=this.fRefCount,0===this.fRefCount&&this.$destroy("Destroy"),t},this.BeforeDestruction=function(){0!==this.fRefCount&&rtl.raiseE("EHeapMemoryError")},rtl.addIntf(this,t.IUnknown)})),this.IObjectInstance=this.TGuid.$clone({D1:3642530548,D2:15507,D3:16911,D4:[163,3,191,91,168,43,253,35]}),this.TTypeKind={0:"tkUnknown",tkUnknown:0,1:"tkInteger",tkInteger:1,2:"tkChar",tkChar:2,3:"tkString",tkString:3,4:"tkEnumeration",tkEnumeration:4,5:"tkSet",tkSet:5,6:"tkDouble",tkDouble:6,7:"tkBool",tkBool:7,8:"tkProcVar",tkProcVar:8,9:"tkMethod",tkMethod:9,10:"tkArray",tkArray:10,11:"tkDynArray",tkDynArray:11,12:"tkRecord",tkRecord:12,13:"tkClass",tkClass:13,14:"tkClassRef",tkClassRef:14,15:"tkPointer",tkPointer:15,16:"tkJSValue",tkJSValue:16,17:"tkRefToProcVar",tkRefToProcVar:17,18:"tkInterface",tkInterface:18,19:"tkHelper",tkHelper:19,20:"tkExtClass",tkExtClass:20},this.$rtti.$Enum("TTypeKind",{minvalue:0,maxvalue:20,ordtype:1,enumtype:this.TTypeKind}),this.tkFloat=6,this.tkAny=rtl.createSet(null,this.TTypeKind.tkUnknown,this.TTypeKind.tkExtClass),this.vtInteger=0,this.vtExtended=3,this.vtWideChar=9,this.vtCurrency=12,this.vtUnicodeString=18,this.vtNativeInt=19,rtl.recNewT(this,"TVarRec",(function(){this.VType=0,this.VJSValue=void 0,this.$eq=function(t){return this.VType===t.VType&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue&&this.VJSValue===t.VJSValue},this.$assign=function(t){return this.VType=t.VType,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this.VJSValue=t.VJSValue,this}})),this.VarRecs=function(){var e=[],i=0,s=null;for(e=[];i<arguments.length;)(s=t.TVarRec.$new()).VType=rtl.trunc(arguments[i]),i+=1,s.VJSValue=arguments[i],i+=1,e.push(t.TVarRec.$clone(s));return e},this.Frac=function(t){return t%1},this.Odd=function(t){return!0&t},this.Random=function(t){return Math.floor(Math.random()*t)},this.Trunc=function(e){return Math.trunc||(Math.trunc=function(t){return t=+t,isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t}),t.Trunc=Math.trunc,Math.trunc(e)},this.DefaultTextLineBreakStyle=0,this.Int=function(e){return t.Trunc(e)},this.Copy=function(t,e,i){return e<1&&(e=1),i>0?t.substring(e-1,e+i-1):""},this.Copy$1=function(t,e){return e<1&&(e=1),t.substr(e-1)},this.Delete=function(e,i,s){var n;i<1||i>e.get().length||s<=0||(n=e.get(),e.set(t.Copy(n,1,i-1)+t.Copy$1(n,i+s)))},this.Pos=function(t,e){return e.indexOf(t)+1},this.Pos$1=function(t,e,i){return e.indexOf(t,i-1)+1},this.Insert=function(e,i,s){var n;""!==e&&(n=i.get(),s<1?i.set(e+n):s>n.length?i.set(n+e):i.set(t.Copy(n,1,s-1)+e+t.Copy(n,s,n.length)))},this.upcase=function(t){return t.toUpperCase()},this.val=function(t,i,s){i.set(e.valint(t,-9007199254740991,9007199254740991,s))},this.val$6=function(t,i,s){i.set(e.valint(t,-2147483648,2147483647,s))},this.val$8=function(t,e,i){var s;""!==t?(s=Number(t),isNaN(s)?i.set(1):(i.set(0),e.set(s))):i.set(1)},this.StringOfChar=function(t,e){var i="";if(e>0&&t.repeat)return t.repeat(e);i="";for(var s=1,n=e;s<=n;s++)s,i+=t;return i},this.Writeln=function(){var t=0,i=0,s="";if(i=arguments.length-1,null!=e.WriteCallBack)for(var n=0,o=i;n<=o;n++)t=n,e.WriteCallBack(arguments[t],t===i);else{s=e.WriteBuf;for(var r=0,a=i;r<=a;r++)s=s+""+arguments[t=r];console.log(s),e.WriteBuf=""}},this.Assigned=function(t){return null!=t&&null!=t&&(!rtl.isArray(t)||t.length>0)},t.$implcode=function(){e.WriteBuf="",e.WriteCallBack=null,e.valint=function(e,i,s,n){var o=0,r=0;if(""===e)return n.set(1),o;if(r=Number(e),isNaN(r)){var a=t.Copy(e,1,1);if("$"===a)r=Number("0x"+t.Copy$1(e,2));else if("&"===a)r=Number("0o"+t.Copy$1(e,2));else{if("%"!==a)return n.set(1),o;r=Number("0b"+t.Copy$1(e,2))}}return isNaN(r)||r!==t.Int(r)?n.set(1):r<i||r>s?n.set(2):(o=t.Trunc(r),n.set(0)),o}},t.$init=function(){rtl.exitcode=0}}),[]),rtl.module("RTLConsts",["System"],(function(){"use strict";this.$resourcestrings={SArgumentMissing:{org:'Missing argument in format "%s"'},SInvalidFormat:{org:'Invalid format specifier : "%s"'},SInvalidArgIndex:{org:'Invalid argument index in format: "%s"'},SListCapacityError:{org:"List capacity (%s) exceeded."},SListCountError:{org:"List count (%s) out of bounds."},SListIndexError:{org:"List index (%s) out of bounds"},SSortedListError:{org:"Operation not allowed on sorted list"},SDuplicateString:{org:"String list does not allow duplicates"},SErrFindNeedsSortedList:{org:"Cannot use find on unsorted list"},SInvalidName:{org:'Invalid component name: "%s"'},SDuplicateName:{org:'Duplicate component name: "%s"'},SCantReadPropertyS:{org:'Cannot read property "%s"'},SCantWritePropertyS:{org:'Cannot write property "%s"'},SErrPropertyNotFound:{org:'Unknown property: "%s"'},SIndexedPropertyNeedsParams:{org:'Indexed property "%s" needs parameters'},SErrInvalidInteger:{org:'Invalid integer value: "%s"'},SErrInvalidFloat:{org:'Invalid floating-point value: "%s"'}}})),rtl.module("Types",["System"],(function(){"use strict";var t=this;this.TDirection={0:"FromBeginning",FromBeginning:0,1:"FromEnd",FromEnd:1},this.TDuplicates={0:"dupIgnore",dupIgnore:0,1:"dupAccept",dupAccept:1,2:"dupError",dupError:2},rtl.recNewT(this,"TPoint",(function(){this.x=0,this.y=0,this.$eq=function(t){return this.x===t.x&&this.y===t.y},this.$assign=function(t){return this.x=t.x,this.y=t.y,this};var e=t.$rtti.$Record("TPoint",{});e.addField("x",rtl.longint),e.addField("y",rtl.longint)})),rtl.recNewT(this,"TRect",(function(){this.Left=0,this.Top=0,this.Right=0,this.Bottom=0,this.$eq=function(t){return this.Left===t.Left&&this.Top===t.Top&&this.Right===t.Right&&this.Bottom===t.Bottom},this.$assign=function(t){return this.Left=t.Left,this.Top=t.Top,this.Right=t.Right,this.Bottom=t.Bottom,this};var e=t.$rtti.$Record("TRect",{});e.addField("Left",rtl.longint),e.addField("Top",rtl.longint),e.addField("Right",rtl.longint),e.addField("Bottom",rtl.longint)})),this.Rect=function(e,i,s,n){var o=t.TRect.$new();return o.Left=e,o.Top=i,o.Right=s,o.Bottom=n,o},this.Point=function(e,i){var s=t.TPoint.$new();return s.x=e,s.y=i,s}})),rtl.module("JS",["System","Types"],(function(){"use strict";var t=this;rtl.createClass(this,"AsyncAttribute",pas.System.TCustomAttribute,(function(){})),this.isBoolean=function(t){return"boolean"==typeof t},this.isInteger=function(t){return Math.floor(t)===t},this.isNull=function(t){return null===t},this.isUndefined=function(t){return null==t},this.toObject=function(t){return rtl.isObject(t)?t:null},this.toBoolean=function(e){return!!t.isBoolean(e)&&!(0==e)},this.ToString=function(t){return rtl.isString(t)?""+t:""},this.TJSValueType={0:"jvtNull",jvtNull:0,1:"jvtBoolean",jvtBoolean:1,2:"jvtInteger",jvtInteger:2,3:"jvtFloat",jvtFloat:3,4:"jvtString",jvtString:4,5:"jvtObject",jvtObject:5,6:"jvtArray",jvtArray:6},this.GetValueType=function(e){var i=0,s="";return t.isNull(e)?i=0:"string"===(s=typeof e)?i=4:"boolean"===s?i=1:"object"===s?i=rtl.isArray(e)?6:5:"number"===s&&(i=t.isInteger(e)?2:3),i}})),rtl.module("SysUtils",["System","RTLConsts","JS"],(function(){"use strict";var t=this,e=t.$impl;this.FreeAndNil=function(t){var e=null;null!==(e=t.get())&&(t.set(null),e.$destroy("Destroy"))},rtl.recNewT(this,"TFormatSettings",(function(){this.CurrencyDecimals=0,this.CurrencyFormat=0,this.CurrencyString="",this.DateSeparator="",this.DecimalSeparator="",this.LongDateFormat="",this.LongTimeFormat="",this.NegCurrFormat=0,this.ShortDateFormat="",this.ShortTimeFormat="",this.ThousandSeparator="",this.TimeAMString="",this.TimePMString="",this.TimeSeparator="",this.TwoDigitYearCenturyWindow=0,this.InitLocaleHandler=null,this.$new=function(){var t=Object.create(this);return t.DateTimeToStrFormat=rtl.arraySetLength(null,"",2),t.LongDayNames=rtl.arraySetLength(null,"",7),t.LongMonthNames=rtl.arraySetLength(null,"",12),t.ShortDayNames=rtl.arraySetLength(null,"",7),t.ShortMonthNames=rtl.arraySetLength(null,"",12),t},this.$eq=function(t){return this.CurrencyDecimals===t.CurrencyDecimals&&this.CurrencyFormat===t.CurrencyFormat&&this.CurrencyString===t.CurrencyString&&this.DateSeparator===t.DateSeparator&&rtl.arrayEq(this.DateTimeToStrFormat,t.DateTimeToStrFormat)&&this.DecimalSeparator===t.DecimalSeparator&&this.LongDateFormat===t.LongDateFormat&&rtl.arrayEq(this.LongDayNames,t.LongDayNames)&&rtl.arrayEq(this.LongMonthNames,t.LongMonthNames)&&this.LongTimeFormat===t.LongTimeFormat&&this.NegCurrFormat===t.NegCurrFormat&&this.ShortDateFormat===t.ShortDateFormat&&rtl.arrayEq(this.ShortDayNames,t.ShortDayNames)&&rtl.arrayEq(this.ShortMonthNames,t.ShortMonthNames)&&this.ShortTimeFormat===t.ShortTimeFormat&&this.ThousandSeparator===t.ThousandSeparator&&this.TimeAMString===t.TimeAMString&&this.TimePMString===t.TimePMString&&this.TimeSeparator===t.TimeSeparator&&this.TwoDigitYearCenturyWindow===t.TwoDigitYearCenturyWindow},this.$assign=function(t){return this.CurrencyDecimals=t.CurrencyDecimals,this.CurrencyFormat=t.CurrencyFormat,this.CurrencyString=t.CurrencyString,this.DateSeparator=t.DateSeparator,this.DateTimeToStrFormat=t.DateTimeToStrFormat.slice(0),this.DecimalSeparator=t.DecimalSeparator,this.LongDateFormat=t.LongDateFormat,this.LongDayNames=t.LongDayNames.slice(0),this.LongMonthNames=t.LongMonthNames.slice(0),this.LongTimeFormat=t.LongTimeFormat,this.NegCurrFormat=t.NegCurrFormat,this.ShortDateFormat=t.ShortDateFormat,this.ShortDayNames=t.ShortDayNames.slice(0),this.ShortMonthNames=t.ShortMonthNames.slice(0),this.ShortTimeFormat=t.ShortTimeFormat,this.ThousandSeparator=t.ThousandSeparator,this.TimeAMString=t.TimeAMString,this.TimePMString=t.TimePMString,this.TimeSeparator=t.TimeSeparator,this.TwoDigitYearCenturyWindow=t.TwoDigitYearCenturyWindow,this},this.GetJSLocale=function(){return Intl.DateTimeFormat().resolvedOptions().locale},this.GetLocaleDecimalSeparator=function(t){var e=1.1;return e=e.toLocaleString(t).substring(1,2)},this.GetLocaleLongDayName=function(t,e){var i=new Date(2017,0,1);return i.setDate(i.getDate()+t-1),i.toLocaleDateString(e,{weekday:"long"})},this.GetLocaleLongMonthName=function(t,e){return new Date(2017,t-1,1).toLocaleDateString(e,{month:"long"})},this.GetLocaleLongTimeFormat=function(e){var i="";return i="hh:nn:ss","EN-US"===t.UpperCase(e)&&(i="hh:nn:ss AMPM"),i};this.GetLocaleShortDateFormat=function(e){var i;t.TStringHelper.Empty,e=t.TStringHelper.ToLower.call({get:function(){return e},set:function(t){e=t}}),(i=t.TStringHelper.IndexOf.call({get:function(){return e},set:function(t){e=t}},"-"))>=0?e=t.TStringHelper.Substring$1.call({get:function(){return e},set:function(t){e=t}},0,i)+t.TStringHelper.ToUpper.call({a:t.TStringHelper.Substring.call({get:function(){return e},set:function(t){e=t}},i),get:function(){return this.a},set:function(t){this.a=t}}):2===t.TStringHelper.GetLength.call({get:function(){return e},set:function(t){e=t}})&&(e=e+"-"+t.TStringHelper.ToUpper.call({get:function(){return e},set:function(t){e=t}}));return{"ar-SA":"dd/MM/yy","bg-BG":"dd.M.yyyy","ca-ES":"dd/MM/yyyy","zh-TW":"yyyy/M/d","cs-CZ":"d.M.yyyy","da-DK":"dd-MM-yyyy","de-DE":"dd.MM.yyyy","el-GR":"d/M/yyyy","en-US":"M/d/yyyy","fi-FI":"d.M.yyyy","fr-FR":"dd/MM/yyyy","he-IL":"dd/MM/yyyy","hu-HU":"yyyy. MM. dd.","is-IS":"d.M.yyyy","it-IT":"dd/MM/yyyy","ja-JP":"yyyy/MM/dd","ko-KR":"yyyy-MM-dd","nl-NL":"d-M-yyyy","nb-NO":"dd.MM.yyyy","pl-PL":"yyyy-MM-dd","pt-BR":"d/M/yyyy","ro-RO":"dd.MM.yyyy","ru-RU":"dd.MM.yyyy","hr-HR":"d.M.yyyy","sk-SK":"d. M. yyyy","sq-AL":"yyyy-MM-dd","sv-SE":"yyyy-MM-dd","th-TH":"d/M/yyyy","tr-TR":"dd.MM.yyyy","ur-PK":"dd/MM/yyyy","id-ID":"dd/MM/yyyy","uk-UA":"dd.MM.yyyy","be-BY":"dd.MM.yyyy","sl-SI":"d.M.yyyy","et-EE":"d.MM.yyyy","lv-LV":"yyyy.MM.dd.","lt-LT":"yyyy.MM.dd","fa-IR":"MM/dd/yyyy","vi-VN":"dd/MM/yyyy","hy-AM":"dd.MM.yyyy","az-Latn-AZ":"dd.MM.yyyy","eu-ES":"yyyy/MM/dd","mk-MK":"dd.MM.yyyy","af-ZA":"yyyy/MM/dd","ka-GE":"dd.MM.yyyy","fo-FO":"dd-MM-yyyy","hi-IN":"dd-MM-yyyy","ms-MY":"dd/MM/yyyy","kk-KZ":"dd.MM.yyyy","ky-KG":"dd.MM.yy","sw-KE":"M/d/yyyy","uz-Latn-UZ":"dd/MM yyyy","tt-RU":"dd.MM.yyyy","pa-IN":"dd-MM-yy","gu-IN":"dd-MM-yy","ta-IN":"dd-MM-yyyy","te-IN":"dd-MM-yy","kn-IN":"dd-MM-yy","mr-IN":"dd-MM-yyyy","sa-IN":"dd-MM-yyyy","mn-MN":"yy.MM.dd","gl-ES":"dd/MM/yy","kok-IN":"dd-MM-yyyy","syr-SY":"dd/MM/yyyy","dv-MV":"dd/MM/yy","ar-IQ":"dd/MM/yyyy","zh-CN":"yyyy/M/d","de-CH":"dd.MM.yyyy","en-GB":"dd/MM/yyyy","es-MX":"dd/MM/yyyy","fr-BE":"d/MM/yyyy","it-CH":"dd.MM.yyyy","nl-BE":"d/MM/yyyy","nn-NO":"dd.MM.yyyy","pt-PT":"dd-MM-yyyy","sr-Latn-CS":"d.M.yyyy","sv-FI":"d.M.yyyy","az-Cyrl-AZ":"dd.MM.yyyy","ms-BN":"dd/MM/yyyy","uz-Cyrl-UZ":"dd.MM.yyyy","ar-EG":"dd/MM/yyyy","zh-HK":"d/M/yyyy","de-AT":"dd.MM.yyyy","en-AU":"d/MM/yyyy","es-ES":"dd/MM/yyyy","fr-CA":"yyyy-MM-dd","sr-Cyrl-CS":"d.M.yyyy","ar-LY":"dd/MM/yyyy","zh-SG":"d/M/yyyy","de-LU":"dd.MM.yyyy","en-CA":"dd/MM/yyyy","es-GT":"dd/MM/yyyy","fr-CH":"dd.MM.yyyy","ar-DZ":"dd-MM-yyyy","zh-MO":"d/M/yyyy","de-LI":"dd.MM.yyyy","en-NZ":"d/MM/yyyy","es-CR":"dd/MM/yyyy","fr-LU":"dd/MM/yyyy","ar-MA":"dd-MM-yyyy","en-IE":"dd/MM/yyyy","es-PA":"MM/dd/yyyy","fr-MC":"dd/MM/yyyy","ar-TN":"dd-MM-yyyy","en-ZA":"yyyy/MM/dd","es-DO":"dd/MM/yyyy","ar-OM":"dd/MM/yyyy","en-JM":"dd/MM/yyyy","es-VE":"dd/MM/yyyy","ar-YE":"dd/MM/yyyy","en-029":"MM/dd/yyyy","es-CO":"dd/MM/yyyy","ar-SY":"dd/MM/yyyy","en-BZ":"dd/MM/yyyy","es-PE":"dd/MM/yyyy","ar-JO":"dd/MM/yyyy","en-TT":"dd/MM/yyyy","es-AR":"dd/MM/yyyy","ar-LB":"dd/MM/yyyy","en-ZW":"M/d/yyyy","es-EC":"dd/MM/yyyy","ar-KW":"dd/MM/yyyy","en-PH":"M/d/yyyy","es-CL":"dd-MM-yyyy","ar-AE":"dd/MM/yyyy","es-UY":"dd/MM/yyyy","ar-BH":"dd/MM/yyyy","es-PY":"dd/MM/yyyy","ar-QA":"dd/MM/yyyy","es-BO":"dd/MM/yyyy","es-SV":"dd/MM/yyyy","es-HN":"dd/MM/yyyy","es-NI":"dd/MM/yyyy","es-PR":"dd/MM/yyyy","am-ET":"d/M/yyyy","tzm-Latn-DZ":"dd-MM-yyyy","iu-Latn-CA":"d/MM/yyyy","sma-NO":"dd.MM.yyyy","mn-Mong-CN":"yyyy/M/d","gd-GB":"dd/MM/yyyy","en-MY":"d/M/yyyy","prs-AF":"dd/MM/yy","bn-BD":"dd-MM-yy","wo-SN":"dd/MM/yyyy","rw-RW":"M/d/yyyy","qut-GT":"dd/MM/yyyy","sah-RU":"MM.dd.yyyy","gsw-FR":"dd/MM/yyyy","co-FR":"dd/MM/yyyy","oc-FR":"dd/MM/yyyy","mi-NZ":"dd/MM/yyyy","ga-IE":"dd/MM/yyyy","se-SE":"yyyy-MM-dd","br-FR":"dd/MM/yyyy","smn-FI":"d.M.yyyy","moh-CA":"M/d/yyyy","arn-CL":"dd-MM-yyyy","ii-CN":"yyyy/M/d","dsb-DE":"d. M. yyyy","ig-NG":"d/M/yyyy","kl-GL":"dd-MM-yyyy","lb-LU":"dd/MM/yyyy","ba-RU":"dd.MM.yy","nso-ZA":"yyyy/MM/dd","quz-BO":"dd/MM/yyyy","yo-NG":"d/M/yyyy","ha-Latn-NG":"d/M/yyyy","fil-PH":"M/d/yyyy","ps-AF":"dd/MM/yy","fy-NL":"d-M-yyyy","ne-NP":"M/d/yyyy","se-NO":"dd.MM.yyyy","iu-Cans-CA":"d/M/yyyy","sr-Latn-RS":"d.M.yyyy","si-LK":"yyyy-MM-dd","sr-Cyrl-RS":"d.M.yyyy","lo-LA":"dd/MM/yyyy","km-KH":"yyyy-MM-dd","cy-GB":"dd/MM/yyyy","bo-CN":"yyyy/M/d","sms-FI":"d.M.yyyy","as-IN":"dd-MM-yyyy","ml-IN":"dd-MM-yy","en-IN":"dd-MM-yyyy","or-IN":"dd-MM-yy","bn-IN":"dd-MM-yy","tk-TM":"dd.MM.yy","bs-Latn-BA":"d.M.yyyy","mt-MT":"dd/MM/yyyy","sr-Cyrl-ME":"d.M.yyyy","se-FI":"d.M.yyyy","zu-ZA":"yyyy/MM/dd","xh-ZA":"yyyy/MM/dd","tn-ZA":"yyyy/MM/dd","hsb-DE":"d. M. yyyy","bs-Cyrl-BA":"d.M.yyyy","tg-Cyrl-TJ":"dd.MM.yy","sr-Latn-BA":"d.M.yyyy","smj-NO":"dd.MM.yyyy","rm-CH":"dd/MM/yyyy","smj-SE":"yyyy-MM-dd","quz-EC":"dd/MM/yyyy","quz-PE":"dd/MM/yyyy","hr-BA":"d.M.yyyy.","sr-Latn-ME":"d.M.yyyy","sma-SE":"yyyy-MM-dd","en-SG":"d/M/yyyy","ug-CN":"yyyy-M-d","sr-Cyrl-BA":"d.M.yyyy","es-US":"M/d/yyyy"}[e]||"dd/MM/yyyy"},this.GetLocaleShortDayName=function(t,e){var i=new Date(2017,0,1);i.setDate(i.getDate()+t-1);var s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{weekday:"short"})},this.GetLocaleShortMonthName=function(t,e){var i=new Date(2017,t-1,1),s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{month:"short"})},this.GetLocaleShortTimeFormat=function(e){var i="";return i="hh:nn","EN-US"===t.UpperCase(e)&&(i="h:nn AMPM"),i},this.Create=function(){var e=t.TFormatSettings.$new();return e.$assign(t.TFormatSettings.Create$1(t.TFormatSettings.GetJSLocale())),e};var i=["/",".","-"],s=[":",".","-"],n=[",","."],o=[".",","];this.Create$1=function(e){var r=t.TFormatSettings.$new(),a="",l=0,h="";h=t.UpperCase(e),1===pas.System.Pos("DE-",h)?(r.LongDayNames[0]="Sonntag",r.LongDayNames[1]="Montag",r.LongDayNames[2]="Dienstag",r.LongDayNames[3]="Mittwoch",r.LongDayNames[4]="Donnerstag",r.LongDayNames[5]="Freitag",r.LongDayNames[6]="Samstag",r.ShortDayNames[0]="Son",r.ShortDayNames[1]="Mon",r.ShortDayNames[2]="Die",r.ShortDayNames[3]="Mit",r.ShortDayNames[4]="Don",r.ShortDayNames[5]="Fre",r.ShortDayNames[6]="Sam",r.ShortMonthNames[0]="Jan",r.ShortMonthNames[1]="Feb",r.ShortMonthNames[2]="M�r",r.ShortMonthNames[3]="Apr",r.ShortMonthNames[4]="Mai",r.ShortMonthNames[5]="Jun",r.ShortMonthNames[6]="Jul",r.ShortMonthNames[7]="Aug",r.ShortMonthNames[8]="Sep",r.ShortMonthNames[9]="Okt",r.ShortMonthNames[10]="Nov",r.ShortMonthNames[11]="Dez",r.LongMonthNames[0]="Januar",r.LongMonthNames[1]="Februar",r.LongMonthNames[2]="M�rz",r.LongMonthNames[3]="April",r.LongMonthNames[4]="Mai",r.LongMonthNames[5]="Juni",r.LongMonthNames[6]="Juli",r.LongMonthNames[7]="August",r.LongMonthNames[8]="September",r.LongMonthNames[9]="Oktober",r.LongMonthNames[10]="November",r.LongMonthNames[11]="Dezember"):1===pas.System.Pos("FR-",t.UpperCase(e))?(r.LongDayNames[0]="Dimanche",r.LongDayNames[1]="Lundi",r.LongDayNames[2]="Mardi",r.LongDayNames[3]="Mecredi",r.LongDayNames[4]="Jeudi",r.LongDayNames[5]="Vendredi",r.LongDayNames[6]="Samedi",r.ShortDayNames[0]="Dim",r.ShortDayNames[1]="Lun",r.ShortDayNames[2]="Mar",r.ShortDayNames[3]="Mer",r.ShortDayNames[4]="Jeu",r.ShortDayNames[5]="Ven",r.ShortDayNames[6]="Sam",r.ShortMonthNames[0]="Jan",r.ShortMonthNames[1]="F�v",r.ShortMonthNames[2]="Mar",r.ShortMonthNames[3]="Avr",r.ShortMonthNames[4]="Mai",r.ShortMonthNames[5]="Jun",r.ShortMonthNames[6]="Jul",r.ShortMonthNames[7]="Ao�",r.ShortMonthNames[8]="Sep",r.ShortMonthNames[9]="Oct",r.ShortMonthNames[10]="Nov",r.ShortMonthNames[11]="Dec",r.LongMonthNames[0]="Janvier",r.LongMonthNames[1]="F�vrier",r.LongMonthNames[2]="Mars",r.LongMonthNames[3]="Avril",r.LongMonthNames[4]="Mai",r.LongMonthNames[5]="Juin",r.LongMonthNames[6]="Juillet",r.LongMonthNames[7]="Ao�t",r.LongMonthNames[8]="Septembre",r.LongMonthNames[9]="Octobre",r.LongMonthNames[10]="Novembre",r.LongMonthNames[11]="D�cembre"):1===pas.System.Pos("ES-",t.UpperCase(e))?(r.LongDayNames[0]="Domingo",r.LongDayNames[1]="Lunes",r.LongDayNames[2]="Martes",r.LongDayNames[3]="Mi�rcoles",r.LongDayNames[4]="Jueves",r.LongDayNames[5]="Viernes",r.LongDayNames[6]="S�bado",r.ShortDayNames[0]="Dom",r.ShortDayNames[1]="Lun",r.ShortDayNames[2]="Mar",r.ShortDayNames[3]="Mi�",r.ShortDayNames[4]="Jue",r.ShortDayNames[5]="Vie",r.ShortDayNames[6]="Sab",r.ShortMonthNames[0]="Ene",r.ShortMonthNames[1]="Feb",r.ShortMonthNames[2]="Mar",r.ShortMonthNames[3]="Abr",r.ShortMonthNames[4]="May",r.ShortMonthNames[5]="Jun",r.ShortMonthNames[6]="Jul",r.ShortMonthNames[7]="Ago",r.ShortMonthNames[8]="Sep",r.ShortMonthNames[9]="Oct",r.ShortMonthNames[10]="Nov",r.ShortMonthNames[11]="Dic",r.LongMonthNames[0]="January",r.LongMonthNames[1]="Febrero",r.LongMonthNames[2]="Marzi",r.LongMonthNames[3]="Abril",r.LongMonthNames[4]="Mayo",r.LongMonthNames[5]="Junio",r.LongMonthNames[6]="Julio",r.LongMonthNames[7]="Agusto",r.LongMonthNames[8]="Septiembre",r.LongMonthNames[9]="Octubre",r.LongMonthNames[10]="Noviembre",r.LongMonthNames[11]="Diciembre"):(r.LongDayNames[0]="Sunday",r.LongDayNames[1]="Monday",r.LongDayNames[2]="Tuesday",r.LongDayNames[3]="Wednesday",r.LongDayNames[4]="Thursday",r.LongDayNames[5]="Friday",r.LongDayNames[6]="Saturday",r.ShortDayNames[0]="Sun",r.ShortDayNames[1]="Mon",r.ShortDayNames[2]="Tue",r.ShortDayNames[3]="Wed",r.ShortDayNames[4]="Thu",r.ShortDayNames[5]="Fri",r.ShortDayNames[6]="Sat",r.ShortMonthNames[0]="Jan",r.ShortMonthNames[1]="Feb",r.ShortMonthNames[2]="Mar",r.ShortMonthNames[3]="Apr",r.ShortMonthNames[4]="May",r.ShortMonthNames[5]="Jun",r.ShortMonthNames[6]="Jul",r.ShortMonthNames[7]="Aug",r.ShortMonthNames[8]="Sep",r.ShortMonthNames[9]="Oct",r.ShortMonthNames[10]="Nov",r.ShortMonthNames[11]="Dec",r.LongMonthNames[0]="January",r.LongMonthNames[1]="February",r.LongMonthNames[2]="March",r.LongMonthNames[3]="April",r.LongMonthNames[4]="May",r.LongMonthNames[5]="June",r.LongMonthNames[6]="July",r.LongMonthNames[7]="August",r.LongMonthNames[8]="September",r.LongMonthNames[9]="October",r.LongMonthNames[10]="November",r.LongMonthNames[11]="December"),r.DateTimeToStrFormat[0]="c",r.DateTimeToStrFormat[1]="f",r.DateSeparator="-",r.TimeSeparator=":",r.ShortDateFormat="yyyy-mm-dd",r.LongDateFormat="ddd, yyyy-mm-dd",r.DecimalSeparator=".",r.ThousandSeparator=",",r.TimeAMString="AM",r.TimePMString="PM",r.TwoDigitYearCenturyWindow=50,r.ShortTimeFormat=t.TFormatSettings.GetLocaleShortTimeFormat(e),r.LongTimeFormat=t.TFormatSettings.GetLocaleLongTimeFormat(e),r.ShortDateFormat=t.TFormatSettings.GetLocaleShortDateFormat(e);for(var d=0,u=rtl.length(i)-1;d<=u;d++)l=d,t.TStringHelper.IndexOf.call({p:r,get:function(){return this.p.ShortDateFormat},set:function(t){this.p.ShortDateFormat=t}},i[l])>=0&&(r.DateSeparator=i[l]);var c=new Date("Jan 1, 1980 06:07:08 GMT+00:00");h="";h=""==e?navigator.language:e,a=c.toLocaleTimeString(h);for(var p=0,C=rtl.length(s)-1;p<=C;p++)l=p,t.TStringHelper.IndexOf.call({get:function(){return a},set:function(t){a=t}},s[l])>=0&&(r.TimeSeparator=s[l]);for(l=1;l<=7;l++)r.ShortDayNames[l-1]=t.TFormatSettings.GetLocaleShortDayName(l,e);for(l=1;l<=7;l++)r.LongDayNames[l-1]=t.TFormatSettings.GetLocaleLongDayName(l,e);for(l=1;l<=12;l++)r.ShortMonthNames[l-1]=t.TFormatSettings.GetLocaleShortMonthName(l,e);for(l=1;l<=12;l++)r.LongMonthNames[l-1]=t.TFormatSettings.GetLocaleLongMonthName(l,e);r.DecimalSeparator=t.TFormatSettings.GetLocaleDecimalSeparator(e);for(var S=0,F=rtl.length(n)-1;S<=F;S++)if(l=S,r.DecimalSeparator===n[l]){r.ThousandSeparator=o[l];break}return null!=t.TFormatSettings.InitLocaleHandler&&t.TFormatSettings.InitLocaleHandler(t.UpperCase(e),t.TFormatSettings.$clone(r)),r},this.Invariant=function(){var i=t.TFormatSettings.$new();return e.FInvariantCreated||(e.FInvariant.$assign(t.TFormatSettings.Create$1("EN-US")),e.FInvariant.CurrencyString="¤",e.FInvariant.CurrencyFormat=0,e.FInvariant.CurrencyDecimals=2,e.FInvariant.DateSeparator="/",e.FInvariant.TimeSeparator=":",e.FInvariant.ShortDateFormat="MM/dd/yyyy",e.FInvariant.LongDateFormat="dddd, dd MMMMM yyyy HH:mm:ss",e.FInvariant.TimeAMString="AM",e.FInvariant.TimePMString="PM",e.FInvariant.ShortTimeFormat="HH:mm",e.FInvariant.LongTimeFormat="HH:mm:ss",e.FInvariant.ShortMonthNames=e.DefaultShortMonthNames.slice(0),e.FInvariant.LongMonthNames=e.DefaultLongMonthNames.slice(0),e.FInvariant.ShortDayNames=e.DefaultShortDayNames.slice(0),e.FInvariant.LongDayNames=e.DefaultLongDayNames.slice(0),e.FInvariant.ThousandSeparator=",",e.FInvariant.DecimalSeparator=".",e.FInvariant.TwoDigitYearCenturyWindow=50,e.FInvariant.NegCurrFormat=0,e.FInvariantCreated=!0),i.$assign(e.FInvariant),i}}),!0),rtl.createClass(this,"Exception",pas.System.TObject,(function(){this.LogMessageOnCreate=!1,this.$init=function(){pas.System.TObject.$init.call(this),this.fMessage=""},this.Create$1=function(t){return this.fMessage=t,this.LogMessageOnCreate&&pas.System.Writeln("Created exception ",this.$classname," with message: ",t),this},this.CreateFmt=function(e,i){return this.Create$1(t.Format(e,i)),this}})),rtl.createClass(this,"EExternal",this.Exception,(function(){})),rtl.createClass(this,"EConvertError",this.Exception,(function(){})),rtl.createClass(this,"EIntError",this.EExternal,(function(){})),rtl.createClass(this,"ERangeError",this.EIntError,(function(){})),rtl.createClass(this,"EArgumentException",this.Exception,(function(){})),rtl.createClass(this,"EArgumentOutOfRangeException",this.EArgumentException,(function(){})),this.Trim=function(t){return t.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,"").replace(/[\s\uFEFF\xA0\x00-\x1f]+$/,"")},this.TrimLeft=function(t){return t.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,"")},this.UpperCase=function(t){return t.toUpperCase()},this.LowerCase=function(t){return t.toLowerCase()},this.CompareStr=function(t,e){var i,s=t.length,n=e.length;return s<=n?t<(i=e.substr(0,s))?-1:t>i?1:s<n?-1:0:(i=t.substr(0,n))<e?-1:1},this.CompareText=function(t,e){var i=t.toLowerCase(),s=e.toLowerCase();return i>s?1:i<s?-1:0},this.SameText=function(t,e){return t.toLowerCase()==e.toLowerCase()},this.Format=function(e,i){return t.Format$1(e,i,t.FormatSettings)},this.Format$1=function(i,s,n){var o="",r=0,a=0,l=0,h=0,d=0,u="",c="",p=0,C=0,S=0,F=!1,g=0;function m(){var t=0;function n(){var n=0,o=0;if(-1===t){for(a=r;r<=d&&i.charAt(r-1)<="9"&&i.charAt(r-1)>="0";)r+=1;if(r>d&&e.DoFormatError(1,i),"*"===i.charAt(r-1)){255===p?o=l:(o=p,p+=1),(r>a||o>rtl.length(s)-1)&&e.DoFormatError(1,i),l=o+1;var h=s[o].VType;0===h||19===h?t=s[o].VJSValue:e.DoFormatError(1,i),r+=1}else a<r?(pas.System.val(pas.System.Copy(i,a,r-a),{get:function(){return t},set:function(e){t=e}},{get:function(){return n},set:function(t){n=t}}),n>0&&e.DoFormatError(1,i)):t=-1}}return p=255,C=-1,S=-1,t=-1,r+=1,"%"===i.charAt(r-1)?"%":(":"!==i.charAt(r-1)?n():t=0,":"===i.charAt(r-1)&&(-1===t&&e.DoFormatError(2,i),p=t,t=-1,r+=1),"-"===i.charAt(r-1)?(F=!0,r+=1):F=!1,n(),-1!==t&&(C=t,t=-1),"."===i.charAt(r-1)&&(r+=1,n(),-1===t&&(t=0),S=t),pas.System.upcase(i.charAt(r-1)))}function f(t,n){var o=!1;return o=!1,l=(h=255===p?l:p)+1,h>rtl.length(s)-1||s[h].VType!==t?(n&&e.DoFormatError(3,i),l-=1,o):o=!0}for(o="",d=i.length,r=1,a=1,l=0;r<=d;){for(;r<=d&&"%"!==i.charAt(r-1);)r+=1;if(r>a&&(o+=pas.System.Copy(i,a,r-a)),r<d){var T=m();if("D"===T)(f(0,!1)||f(19,!0))&&(c=t.IntToStr(s[h].VJSValue)),C=Math.abs(C),p=S-c.length,"-"!==c.charAt(0)?c=pas.System.StringOfChar("0",p)+c:pas.System.Insert(pas.System.StringOfChar("0",p+1),{get:function(){return c},set:function(t){c=t}},2);else if("U"===T)f(0,!1)?c=t.IntToStr(s[h].VJSValue>>>0):f(19,!0)&&(c=t.IntToStr(s[h].VJSValue)),C=Math.abs(C),p=S-c.length,c=pas.System.StringOfChar("0",p)+c;else if("E"===T)f(12,!1)?c=t.FloatToStrF$1(s[h].VJSValue/1e4,2,3,S,n):f(3,!0)&&(c=t.FloatToStrF$1(s[h].VJSValue,2,3,S,n));else if("F"===T)f(12,!1)?c=t.FloatToStrF$1(s[h].VJSValue/1e4,0,9999,S,n):(f(0,!1)||f(3,!0))&&(c=t.FloatToStrF$1(s[h].VJSValue,0,9999,S,n));else if("G"===T)f(12,!1)?c=t.FloatToStrF$1(s[h].VJSValue/1e4,1,S,3,n):f(3,!0)&&(c=t.FloatToStrF$1(s[h].VJSValue,1,S,3,n));else if("N"===T)f(12,!1)?c=t.FloatToStrF$1(s[h].VJSValue/1e4,3,9999,S,n):f(3,!0)&&(c=t.FloatToStrF$1(s[h].VJSValue,3,9999,S,n));else if("M"===T)f(12,!1)?c=t.FloatToStrF$1(s[h].VJSValue/1e4,4,9999,S,n):f(3,!0)&&(c=t.FloatToStrF$1(s[h].VJSValue,4,9999,S,n));else if("S"===T)(f(18,!1)||f(9,!0))&&(u=s[h].VJSValue),p=u.length,-1!==S&&p>S&&(p=S),c=pas.System.Copy(u,1,p);else if("P"===T)f(0,!1)?c=t.IntToHex(s[h].VJSValue,8):f(0,!0)&&(c=t.IntToHex(s[h].VJSValue,16));else if("X"===T)if(f(0,!1)?(g=s[h].VJSValue,p=16):f(19,!0)&&(g=s[h].VJSValue,p=31),S>p)c=t.IntToHex(g,p);else{for(p=1;rtl.shl(1,4*p)<=g&&p<16;)p+=1;p>S&&(S=p),c=t.IntToHex(g,S)}else"%"===T&&(c="%");-1!==C&&c.length<C&&(F?c+=pas.System.StringOfChar(" ",C-c.length):c=pas.System.StringOfChar(" ",C-c.length)+c),o+=c}a=r+=1}return o};var i=rtl.createSet(null,65,90,null,97,122,95),s=rtl.unionSet(i,rtl.createSet(null,48,57));this.IsValidIdent=function(t,e,n){var o,r=!1,a=!1,l=0;if((o=t.length)<1)return!1;for(a=!0,r=!1,l=1;l<=o;){if(a){if(!(t.charCodeAt(l-1)in i))return r;a=!1}else if(e&&"."===t.charAt(l-1)){if(n){if(l>=o)return r;a=!0}}else if(!(t.charCodeAt(l-1)in s))return r;l+=1}return r=!0},this.TStringReplaceFlag={0:"rfReplaceAll",rfReplaceAll:0,1:"rfIgnoreCase",rfIgnoreCase:1},this.StringReplace=function(t,i,s,n){var o,r="";return r="",0 in n&&(r="g"),1 in n&&(r+="i"),o=i.replace(new RegExp(e.RESpecials,"g"),"\\$1"),t.replace(new RegExp(o,r),s)},this.LastDelimiter=function(t,e){var i=0;for(i=e.length;i>0&&0===pas.System.Pos(e.charAt(i-1),t);)i-=1;return i},this.IntToStr=function(t){return""+t},this.TryStrToInt=function(e,i){var s=!1,n=0;return(s=(s=t.TryStrToInt$1(e,{get:function(){return n},set:function(t){n=t}}))&&-2147483648<=n&&n<=2147483647)&&i.set(n),s},this.TryStrToInt$1=function(i,s){return e.IntTryStrToInt(i,s,t.FormatSettings.DecimalSeparator)},this.StrToInt=function(e){var i=0;if(!t.TryStrToInt$1(e,{get:function(){return i},set:function(t){i=t}}))throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SErrInvalidInteger"),pas.System.VarRecs(18,e)]);return i},this.StrToInt64=function(e){var i=0;if(!t.TryStrToInt$1(e,{get:function(){return i},set:function(t){i=t}}))throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SErrInvalidInteger"),pas.System.VarRecs(18,e)]);return i},this.IntToHex=function(e,i){var s="";for(s="",e<0&&e<0&&(e=4294967295+e+1),s=e.toString(16),s=t.UpperCase(s);s.length<i;)s="0"+s;return s},this.TFloatFormat={0:"ffFixed",ffFixed:0,1:"ffGeneral",ffGeneral:1,2:"ffExponent",ffExponent:2,3:"ffNumber",ffNumber:3,4:"ffCurrency",ffCurrency:4},this.FloatToStr=function(e){return t.FloatToStr$1(e,t.FormatSettings)},this.FloatToStr$1=function(e,i){return t.FloatToStrF$1(e,1,15,0,i)},this.FloatToStrF$1=function(t,i,s,n,o){var r,a,l="";a=o.DecimalSeparator,r=o.ThousandSeparator;var h=i;return 1===h?l=e.FormatGeneralFloat(t,s,a):2===h?l=e.FormatExponentFloat(t,s,n,a):0===h?l=e.FormatFixedFloat(t,n,a):3===h?l=e.FormatNumberFloat(t,n,a,r):4===h&&(l=e.FormatNumberCurrency(1e4*t,n,o)),4!==i&&l.length>1&&"-"===l.charAt(0)&&e.RemoveLeadingNegativeSign({get:function(){return l},set:function(t){l=t}},a,r),l},this.TryStrToFloat$2=function(e,i){return t.TryStrToFloat$3(e,i,t.FormatSettings)},this.TryStrToFloat$3=function(e,i,s){var n,o,r="";return r=e,""!==s.ThousandSeparator&&(r=t.StringReplace(r,s.ThousandSeparator,"",rtl.createSet(0))),"."!==s.DecimalSeparator&&(r=t.StringReplace(r,s.DecimalSeparator,".",{})),o=parseFloat(r),(n=!isNaN(o))&&i.set(rtl.getNumber(o)),n},this.StrToFloat=function(e){return t.StrToFloat$1(e,t.FormatSettings)},this.StrToFloat$1=function(e,i){var s=0;if(!t.TryStrToFloat$3(e,{get:function(){return s},set:function(t){s=t}},i))throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SErrInvalidFloat"),pas.System.VarRecs(18,e)]);return s},rtl.recNewT(this,"TTimeStamp",(function(){this.Time=0,this.Date=0,this.$eq=function(t){return this.Time===t.Time&&this.Date===t.Date},this.$assign=function(t){return this.Time=t.Time,this.Date=t.Date,this}})),this.TimeSeparator="",this.DateSeparator="",this.ShortDateFormat="",this.LongDateFormat="",this.ShortTimeFormat="",this.LongTimeFormat="",this.DecimalSeparator="",this.ThousandSeparator="",this.TimeAMString="",this.TimePMString="",this.HoursPerDay=24,this.MinsPerHour=60,this.SecsPerMin=60,this.MSecsPerSec=1e3,this.MinsPerDay=1440,this.SecsPerDay=86400,this.MSecsPerDay=864e5,this.MaxDateTime=2958465.99999999,this.DateDelta=693594,this.MonthDays$a$clone=function(t){var e=[];e.length=2;for(var i=0;i<2;i++)e[i]=t[i].slice(0);return e},this.MonthDays=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],this.ShortMonthNames=rtl.arraySetLength(null,"",12),this.LongMonthNames=rtl.arraySetLength(null,"",12),this.ShortDayNames=rtl.arraySetLength(null,"",7),this.LongDayNames=rtl.arraySetLength(null,"",7),this.FormatSettings=this.TFormatSettings.$new(),this.JSDateToDateTime=function(e){return t.EncodeDate(e.getFullYear(),e.getMonth()+1,e.getDate())+t.EncodeTime(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},this.DateTimeToTimeStamp=function(e){var i=t.TTimeStamp.$new(),s=0;return(s=864e5*e)<0?s-=.5:s+=.5,i.Time=pas.System.Trunc(Math.abs(pas.System.Trunc(s))%864e5),i.Date=693594+rtl.trunc(pas.System.Trunc(s)/864e5),i},this.TryEncodeDate=function(e,i,s,n){var o,r=0,a=0;return(o=e>0&&e<1e4&&i>=1&&i<=12&&s>0&&s<=t.MonthDays[+t.IsLeapYear(e)][i-1])&&(i>2?i-=3:(i+=9,e-=1),a=e-100*(r=rtl.trunc(e/100)),n.set((146097*r>>>2)+(1461*a>>>2)+rtl.trunc((153*i+2)/5)+s),n.set(n.get()-693900)),o},this.TryEncodeTime=function(t,e,i,s,n){var o;return(o=t<24&&e<60&&i<60&&s<1e3)&&n.set((36e5*t+6e4*e+1e3*i+s)/864e5),o},this.EncodeDate=function(e,i,s){var n=0;if(!t.TryEncodeDate(e,i,s,{get:function(){return n},set:function(t){n=t}}))throw t.EConvertError.$create("CreateFmt",["%s-%s-%s is not a valid date specification",pas.System.VarRecs(18,t.IntToStr(e),18,t.IntToStr(i),18,t.IntToStr(s))]);return n},this.EncodeTime=function(e,i,s,n){var o=0;if(!t.TryEncodeTime(e,i,s,n,{get:function(){return o},set:function(t){o=t}}))throw t.EConvertError.$create("CreateFmt",["%s:%s:%s.%s is not a valid time specification",pas.System.VarRecs(18,t.IntToStr(e),18,t.IntToStr(i),18,t.IntToStr(s),18,t.IntToStr(n))]);return o},this.DecodeDate=function(e,i,s,n){var o=0,r=0,a=0,l=0;e<=-693594?(i.set(0),s.set(0),n.set(0)):(e>0?e+=1/1728e5:e-=1/1728e5,e>t.MaxDateTime&&(e=t.MaxDateTime),l=rtl.shl(pas.System.Trunc(e)+693900,2)-1,l-=146097*(o=rtl.trunc(l/146097)),r=rtl.lw(l>>>2),l=rtl.trunc((rtl.lw(r<<2)+3)/1461),r=rtl.lw(rtl.lw(r<<2)+7-1461*l>>>2),a=rtl.trunc((5*r-3)/153),r=rtl.trunc((5*r+2-153*a)/5),o=100*o+l,a<10?a+=3:(a-=9,o+=1),i.set(o),s.set(a),n.set(r))},this.DecodeTime=function(e,i,s,n,o){var r=0;r=t.DateTimeToTimeStamp(e).Time,i.set(rtl.trunc(r/36e5)),r%=36e5,s.set(rtl.trunc(r/6e4)),r%=6e4,n.set(rtl.trunc(r/1e3)),r%=1e3,o.set(r)},this.DecodeDateFully=function(e,i,s,n,o){return t.DecodeDate(e,i,s,n),o.set(t.DayOfWeek(e)),t.IsLeapYear(i.get())},this.Now=function(){return t.JSDateToDateTime(new Date)},this.DayOfWeek=function(t){var e=0;return(e=1+(pas.System.Trunc(t)-1)%7)<=0&&(e+=7),e},this.IsLeapYear=function(t){return t%4==0&&(t%100!=0||t%400==0)},this.FormatDateTime=function(e,i){return t.FormatDateTime$1(e,i,t.FormatSettings)},this.FormatDateTime$1=function(e,i,s){var n="";function o(t,i){n+=pas.System.Copy(e,t,i)}function r(t){n+=t}function a(e,i){var s="";for(s=t.IntToStr(e);s.length<i;)s="0"+s;r(s)}var l=0,h=0,d=0,u=0,c=0,p=0,C=0,S=0;function F(e,i,n){var g,m="",f="",T=0,b=!1,y=0,v=0,L=0;if(!(i>1)){for(L=1,g=e.length,b=!1,!1,v=1;v<=g;){var B=m=e.charAt(v-1);if("'"===B||'"'===B)for(v+=1;v<g&&e.charAt(v-1)!==m;)v+=1;else if(!("A"!==B&&"a"!==B||0!==t.CompareText(pas.System.Copy(e,v,3),"A/P")&&0!==t.CompareText(pas.System.Copy(e,v,4),"AMPM")&&0!==t.CompareText(pas.System.Copy(e,v,5),"AM/PM"))){b=!0;break}v+=1}for(m="ÿ",f=" ","H";L<=g;){T=1,v=L+1;var M=m=t.UpperCase(e.charAt(L-1)).charAt(0);if("'"===M||'"'===M){for(;v<g&&e.charAt(v-1)!==m;)v+=1;o(L+1,(T=(v+=1)-L)-2)}else if("A"===M)if(0===t.CompareText(pas.System.Copy(e,L,4),"AMPM"))T=4,r(c<12?s.TimeAMString:s.TimePMString);else if(0===t.CompareText(pas.System.Copy(e,L,5),"AM/PM"))T=5,o(c<12?L:L+3,2);else{if(0!==t.CompareText(pas.System.Copy(e,L,3),"A/P"))throw t.EConvertError.$create("Create$1",["Illegal character in format string"]);T=3,o(c<12?L:L+2,1)}else if("/"===M)r(s.DateSeparator);else if(":"===M)r(s.TimeSeparator);else if(" "===M||"C"===M||"D"===M||"H"===M||"M"===M||"N"===M||"S"===M||"T"===M||"Y"===M||"Z"===M||"F"===M){for(;v<=g&&t.UpperCase(e.charAt(v-1))===m;)v+=1;T=v-L;var E=m;if(" "===E)o(L,T);else if("Y"===E)T>2?a(l,4):a(l%100,2);else if("M"===E)if("H"===f||n)a(p,1===T?0:2);else{var P=T;1===P?a(h,0):2===P?a(h,2):r(3===P?s.ShortMonthNames[h-1]:s.LongMonthNames[h-1])}else if("D"===E){var D=T;1===D?a(d,0):2===D?a(d,2):3===D?r(s.ShortDayNames[u-1]):4===D?r(s.LongDayNames[u-1]):F(5===D?s.ShortDateFormat:s.LongDateFormat,i+1,!1)}else"H"===E?b?(0===(y=c%12)&&(y=12),a(y,1===T?0:2)):a(c,1===T?0:2):"N"===E?a(p,1===T?0:2):"S"===E?a(C,1===T?0:2):"Z"===E?a(S,1===T?0:3):"T"===E?F(1===T?s.ShortTimeFormat:s.LongTimeFormat,i+1,!0):"C"===E?(F(s.ShortDateFormat,i+1,!1),0===c&&0===p&&0===C||(r(" "),F(s.LongTimeFormat,i+1,!0))):"F"===E&&(F(s.ShortDateFormat,i+1,!1),r(" "),F(s.LongTimeFormat,i+1,!0));f,f=m}else r(m);L+=T}}}return t.DecodeDateFully(i,{get:function(){return l},set:function(t){l=t}},{get:function(){return h},set:function(t){h=t}},{get:function(){return d},set:function(t){d=t}},{get:function(){return u},set:function(t){u=t}}),t.DecodeTime(i,{get:function(){return c},set:function(t){c=t}},{get:function(){return p},set:function(t){p=t}},{get:function(){return C},set:function(t){C=t}},{get:function(){return S},set:function(t){S=t}}),F(""!==e?e:"C",0,!1),n},this.CurrencyFormat=0,this.NegCurrFormat=0,this.CurrencyDecimals=0,this.CurrencyString="",this.Supports$1=function(t,e,i){return null!==t&&0===t.QueryInterface(e,i)},this.Supports$3=function(t,e,i){return null!==t&&t.GetInterfaceByStr(e,i)},this.GUIDToString=function(t){return rtl.guidrToStr(t)},this.CreateGUID=function(t){function e(t){var e=0;for(e=pas.System.Random(256);t>1;)e=256*e+pas.System.Random(256),t-=1;return e}var i=0;for(0,t.D1=e(4),t.D2=e(2),t.D3=e(2),i=0;i<=7;i++)t.D4[i]=e(1);return 0},rtl.createHelper(this,"TGuidHelper",null,(function(){this.NewGuid=function(){var e=pas.System.TGuid.$new();return t.CreateGUID(e),e},this.ToString=function(e){var i="";return i=t.GUIDToString(this),e&&(i=pas.System.Copy(i,2,i.length-2)),i}})),rtl.createHelper(this,"TStringHelper",null,(function(){this.Empty="",this.GetLength=function(){return this.get().length},this.LowerCase=function(e){return t.LowerCase(e)},this.UpperCase=function(e){return t.UpperCase(e)},this.IndexOf=function(e){return t.TStringHelper.IndexOf$4.call(this,e,0,t.TStringHelper.GetLength.call(this))},this.IndexOf$4=function(t,e,i){var s,n=0;return s=pas.System.Copy(this.get(),e+1,i),-1!==(n=pas.System.Pos(t,s)-1)&&(n+=e),n},this.Substring=function(e){return t.TStringHelper.Substring$1.call(this,e,t.TStringHelper.GetLength.call(this)-e)},this.Substring$1=function(t,e){return pas.System.Copy(this.get(),t+1,e)},this.ToLower=function(){return t.TStringHelper.LowerCase(this.get())},this.ToUpper=function(){return t.TStringHelper.UpperCase(this.get())}})),rtl.createHelper(this,"TDoubleHelper",null,(function(){this.ToString$3=function(){return t.FloatToStr(this.get())}})),rtl.createHelper(this,"TIntegerHelper",null,(function(){this.ToString$1=function(){return t.IntToStr(this.get())}})),t.$implcode=function(){e.DefaultShortMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.DefaultLongMonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],e.DefaultShortDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e.DefaultLongDayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.FInvariant=t.TFormatSettings.$new(),e.FInvariantCreated=!1,e.feInvalidFormat=1,e.feMissingArgument=2,e.feInvalidArgIndex=3,e.DoFormatError=function(e,i){var s=e;if(1===s)throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SInvalidFormat"),pas.System.VarRecs(18,i)]);if(2===s)throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SArgumentMissing"),pas.System.VarRecs(18,i)]);if(3===s)throw t.EConvertError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SInvalidArgIndex"),pas.System.VarRecs(18,i)])},e.maxdigits=15,e.ReplaceDecimalSep=function(t,e){var i;return(i=pas.System.Pos(".",t))>0?pas.System.Copy(t,1,i-1)+e+pas.System.Copy(t,i+1,t.length-i):t},e.FormatGeneralFloat=function(i,s,n){var o="",r=0,a=0,l=0,h=0;if((-1===s||s>15)&&(s=15),o=rtl.floatToStr(i,s+7),o=t.TrimLeft(o),0===(r=pas.System.Pos(".",o)))return o;if(0===(a=pas.System.Pos("E",o)))return o=e.ReplaceDecimalSep(o,n);for(l=a+2,h=0;l<=o.length;)h=10*h+o.charCodeAt(l-1)-48,l+=1;if("-"===o.charAt(a+1-1)&&(h=-h),r+h<a&&h>-6){if(o=rtl.strSetLength(o,a-1),h>=0){for(var d=0,u=h-1;d<=u;d++)l=d,o=rtl.setCharAt(o,r-1,o.charAt(r+1-1)),r+=1;for(o=rtl.setCharAt(o,r-1,"."),r=1,"-"===o.charAt(r-1)&&(r+=1);"0"===o.charAt(r-1)&&r<o.length&&pas.System.Copy(o,r+1,n.length)!==n;)pas.System.Delete({get:function(){return o},set:function(t){o=t}},r,1)}else pas.System.Insert(pas.System.Copy("00000",1,-h),{get:function(){return o},set:function(t){o=t}},r-1),o=rtl.setCharAt(o,r-h-1,o.charAt(r-h-1-1)),o=rtl.setCharAt(o,r-1,"."),-1!==h&&(o=rtl.setCharAt(o,r-h-1-1,"0"));for(l=o.length;l>0&&"0"===o.charAt(l-1);)l-=1;"."===o.charAt(l-1)&&(l-=1),o=0===l||1===l&&"-"===o.charAt(0)?"0":rtl.strSetLength(o,l)}else{for(;"0"===o.charAt(a-1-1);)pas.System.Delete({get:function(){return o},set:function(t){o=t}},a-1,1),a-=1;for(o.charAt(a-1-1)===n&&(pas.System.Delete({get:function(){return o},set:function(t){o=t}},a-1,1),a-=1),"+"===o.charAt(a+1-1)?pas.System.Delete({get:function(){return o},set:function(t){o=t}},a+1,1):a+=1;"0"===o.charAt(a+1-1);)pas.System.Delete({get:function(){return o},set:function(t){o=t}},a+1,1)}return o=e.ReplaceDecimalSep(o,n)},e.FormatExponentFloat=function(i,s,n,o){var r="",a=0;for(o=t.FormatSettings.DecimalSeparator,(-1===s||s>15)&&(s=15),r=rtl.floatToStr(i,s+7);" "===r.charAt(0);)pas.System.Delete({get:function(){return r},set:function(t){r=t}},1,1);if(0===(a=pas.System.Pos("E",r)))return r=e.ReplaceDecimalSep(r,o);if(a+=2,n>4&&(n=4),(n=r.length-a-n+1)<0)pas.System.Insert(pas.System.Copy("0000",1,-n),{get:function(){return r},set:function(t){r=t}},a);else for(;n>0&&"0"===r.charAt(a-1);){if(pas.System.Delete({get:function(){return r},set:function(t){r=t}},a,1),a>r.length){pas.System.Delete({get:function(){return r},set:function(t){r=t}},a-2,2);break}n-=1}return r=e.ReplaceDecimalSep(r,o)},e.FormatFixedFloat=function(t,i,s){var n="";return-1===i?i=2:i>18&&(i=18),""!==(n=rtl.floatToStr(t,0,i))&&" "===n.charAt(0)&&pas.System.Delete({get:function(){return n},set:function(t){n=t}},1,1),n=e.ReplaceDecimalSep(n,s)},e.FormatNumberFloat=function(t,i,s,n){var o="",r=0;if(-1===i?i=2:i>15&&(i=15),""!==(o=rtl.floatToStr(t,0,i))&&" "===o.charAt(0)&&pas.System.Delete({get:function(){return o},set:function(t){o=t}},1,1),(r=pas.System.Pos(".",o))<=0&&(r=o.length+1),o=e.ReplaceDecimalSep(o,s),r-=3,""!==n&&"\0"!==n)for(;r>1;)"-"!==o.charAt(r-1-1)&&pas.System.Insert(n,{get:function(){return o},set:function(t){o=t}},r),r-=3;return o},e.RemoveLeadingNegativeSign=function(t,e,i){var s,n=!1,o=0;n=!1,s=i;for(var r=2,a=t.get().length;r<=a&&(o=r,n=t.get().charCodeAt(o-1)in rtl.createSet(48,e.charCodeAt(),69,43)||t.get().charAt(o-1)===s);r++);return n&&"-"===t.get().charAt(0)&&pas.System.Delete(t,1,1),n},e.FormatNumberCurrency=function(t,i,s){var n,o,r,a,l="",h=0;if(r=s.DecimalSeparator,a=s.ThousandSeparator,o=s.CurrencyString,-1===i?i=s.CurrencyDecimals:i>18&&(i=18),(n="-"===(l=rtl.floatToStr(t/1e4,0,i)).charAt(0))&&pas.System.Delete({get:function(){return l},set:function(t){l=t}},1,1),h=pas.System.Pos(".",l),""!==a)for(0!==h?l=e.ReplaceDecimalSep(l,r):h=l.length+1,h-=3;h>1;)pas.System.Insert(a,{get:function(){return l},set:function(t){l=t}},h),h-=3;if(n&&e.RemoveLeadingNegativeSign({get:function(){return l},set:function(t){l=t}},r,a),n){var d=s.NegCurrFormat;0===d?l="("+o+l+")":1===d?l="-"+o+l:2===d?l=o+"-"+l:3===d?l=o+l+"-":4===d?l="("+l+o+")":5===d?l="-"+l+o:6===d?l=l+"-"+o:7===d?l=l+o+"-":8===d?l="-"+l+" "+o:9===d?l="-"+o+" "+l:10===d?l=l+" "+o+"-":11===d?l=o+" "+l+"-":12===d?l=o+" -"+l:13===d?l=l+"- "+o:14===d?l="("+o+" "+l+")":15===d&&(l="("+l+" "+o+")")}else{var u=s.CurrencyFormat;0===u?l=o+l:1===u?l+=o:2===u?l=o+" "+l:3===u&&(l=l+" "+o)}return l},e.RESpecials="([\\$\\+\\[\\]\\(\\)\\\\\\.\\*\\^\\?\\|])",e.IntTryStrToInt=function(e,i,s){var n,o,r=10,a="";if(a=e,0!==pas.System.Pos(s,a)||0!==pas.System.Pos(".",a))return!1;var l=pas.System.Copy(a,1,1);return"$"===l?r=16:"&"===l?r=8:"%"===l&&(r=2),(16===r||0===pas.System.Pos("e",t.LowerCase(a)))&&(10!==r&&pas.System.Delete({get:function(){return a},set:function(t){a=t}},1,1),o=parseInt(a,r),(n=!isNaN(o))&&i.set(rtl.trunc(o)),n)},e.InitGlobalFormatSettings=function(){t.FormatSettings.$assign(t.TFormatSettings.Create()),t.TimeSeparator=t.FormatSettings.TimeSeparator,t.DateSeparator=t.FormatSettings.DateSeparator,t.ShortDateFormat=t.FormatSettings.ShortDateFormat,t.LongDateFormat=t.FormatSettings.LongDateFormat,t.ShortTimeFormat=t.FormatSettings.ShortTimeFormat,t.LongTimeFormat=t.FormatSettings.LongTimeFormat,t.DecimalSeparator=t.FormatSettings.DecimalSeparator,t.ThousandSeparator=t.FormatSettings.ThousandSeparator,t.TimeAMString=t.FormatSettings.TimeAMString,t.TimePMString=t.FormatSettings.TimePMString,t.CurrencyFormat=t.FormatSettings.CurrencyFormat,t.NegCurrFormat=t.FormatSettings.NegCurrFormat,t.CurrencyDecimals=t.FormatSettings.CurrencyDecimals,t.CurrencyString=t.FormatSettings.CurrencyString}},t.$init=function(){e.InitGlobalFormatSettings(),t.ShortMonthNames=e.DefaultShortMonthNames.slice(0),t.LongMonthNames=e.DefaultLongMonthNames.slice(0),t.ShortDayNames=e.DefaultShortDayNames.slice(0),t.LongDayNames=e.DefaultLongDayNames.slice(0)}}),[]),rtl.module("TypInfo",["System","SysUtils","Types","RTLConsts","JS"],(function(){"use strict";var t=this,e=t.$impl;this.pfGetFunction=1,this.pfSetProcedure=2,this.pfHasIndex=16,rtl.createClass(this,"EPropertyError",pas.SysUtils.Exception,(function(){})),this.GetPropList=function(t,e,i){var s=[];var n=null,o=0,r=null,a="",l=null;for(s=[],n=t,r=new Object;null!==n;){for(var h=0,d=n.properties.length-1;h<=d;h++)o=h,a=n.properties[o],r.hasOwnProperty(a)||(l=n.members[a]).typeinfo.kind in e&&(s.push(l),r[a]=!0);if(!rtl.isExt(n,rtl.tTypeInfoClass))break;n=n.ancestor}return i&&s.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),s},this.GetPropInfo=function(t,e){var i=null,s=null,n=0,o=null;for(o=t;null!==o;){if(s=o.members[e],rtl.isExt(s,rtl.tTypeMemberProperty))return s;if(!rtl.isExt(o,rtl.tTypeInfoClass))break;o=o.ancestor}i=null;do{for(var r=0,a=t.properties.length-1;r<=a;r++)if(n=r,0===pas.SysUtils.CompareText(e,t.properties[n]))return s=t.members[t.properties[n]],rtl.isExt(s,rtl.tTypeMemberProperty)&&(i=s),i;if(!rtl.isExt(t,rtl.tTypeInfoClass))break;t=t.ancestor}while(null!==t);return i},this.GetPropInfo$1=function(e,i,s){var n=null;return n=t.GetPropInfo(e,i),rtl.neSet(s,{})&&null!==n&&!(n.typeinfo.kind in s)&&(n=null),n},this.GetPropInfo$2=function(e,i){return t.GetPropInfo$1(e.$rtti,i,{})},this.FindPropInfo=function(e,i){var s;if(null===(s=t.GetPropInfo(e.$rtti,i)))throw t.EPropertyError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SErrPropertyNotFound"),pas.System.VarRecs(18,i)]);return s},this.GetJSValueProp$1=function(i,s){var n=void 0,o=e.GetPropGetterKind(s);if(0===o)throw t.EPropertyError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SCantReadPropertyS"),pas.System.VarRecs(18,s.name)]);if(1===o)n=i[s.getter];else if(2===o)n=(16&s.flags)>0?i[s.getter](s.index):i[s.getter]();else if(3===o)throw t.EPropertyError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SIndexedPropertyNeedsParams"),pas.System.VarRecs(18,s.name)]);return n},this.GetJSValueProp$3=function(e,i){return t.GetJSValueProp$1(e,i)},this.SetJSValueProp$1=function(i,s,n){var o=e.GetPropSetterKind(s);if(0===o)throw t.EPropertyError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SCantWritePropertyS"),pas.System.VarRecs(18,s.name)]);if(1===o)i[s.setter]=n;else if(2===o)(16&s.flags)>0?i[s.setter](s.index,n):i[s.setter](n);else if(3===o)throw t.EPropertyError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SIndexedPropertyNeedsParams"),pas.System.VarRecs(18,s.name)])},this.SetJSValueProp$3=function(e,i,s){t.SetJSValueProp$1(e,i,s)},this.GetOrdProp$1=function(e,i){var s=0,n="",o=0,r=void 0;if(5===i.typeinfo.kind)for(n in s=0,t.GetJSValueProp$3(e,i))(o=parseInt(n,10))<32&&(s+=1<<o);else 2===i.typeinfo.kind?(r=t.GetJSValueProp$3(e,i),s=rtl.isNumber(r)?rtl.trunc(r):""===(n=""+r)?0:n.charCodeAt(0)):s=rtl.trunc(t.GetJSValueProp$3(e,i));return s},this.SetOrdProp=function(e,i,s){t.SetOrdProp$1(e,t.FindPropInfo(e,i),s)},this.SetOrdProp$1=function(e,i,s){var n=null,o=0;if(5===i.typeinfo.kind){for(n=new Object,o=0;o<=31;o++)(1<<o&s)>0&&(n[""+o]=!0);t.SetJSValueProp$3(e,i,n)}else 2===i.typeinfo.kind?t.SetJSValueProp$3(e,i,String.fromCharCode(s)):t.SetJSValueProp$3(e,i,s)},this.GetStrProp$1=function(e,i){return""+t.GetJSValueProp$3(e,i)},this.SetStrProp$1=function(e,i,s){t.SetJSValueProp$3(e,i,s)},this.GetFloatProp$1=function(e,i){return rtl.getNumber(t.GetJSValueProp$3(e,i))},this.SetFloatProp$1=function(e,i,s){t.SetJSValueProp$3(e,i,s)},this.GetObjectProp=function(e,i){return t.GetObjectProp$2(e,t.FindPropInfo(e,i))},this.GetObjectProp$2=function(e,i){return t.GetObjectProp$3(e,i,null)},this.GetObjectProp$3=function(e,i,s){var n=null;return n=rtl.getObject(t.GetJSValueProp$3(e,i)),null===s||n.$class.InheritsFrom(s)?n:null},this.SetObjectProp=function(e,i,s){t.SetObjectProp$1(e,t.FindPropInfo(e,i),s)},this.SetObjectProp$1=function(e,i,s){t.SetJSValueProp$3(e,i,s)},this.GetMethodProp=function(e,i){var s,n,o=pas.System.TMethod.$new();return o.Code=null,o.Data=null,s=t.GetJSValueProp$3(e,i),rtl.isFunction(s)?(o.Data=s.scope,n=s.fn,rtl.isString(n)?null!==o.Data?o.Code=o.Data[""+n]:o.Code=s:o.Code=n,o):o},this.SetMethodProp=function(e,i,s){var n,o=null;o=null===(n=s.Code)?null:rtl.isFunction(n)?n.scope===s.Data&&(rtl.isFunction(n.fn)||rtl.isString(n.fn))?n:rtl.isString(n.fn)?rtl.createCallback(s.Data,""+n.fn):rtl.createCallback(s.Data,n):rtl.createCallback(s.Data,n),t.SetJSValueProp$3(e,i,o)},this.SetMethodProp$1=function(e,i,s){t.SetMethodProp(e,t.FindPropInfo(e,i),s)},t.$implcode=function(){e.TGetterKind={0:"gkNone",gkNone:0,1:"gkField",gkField:1,2:"gkFunction",gkFunction:2,3:"gkFunctionWithParams",gkFunctionWithParams:3},e.GetPropGetterKind=function(t){return""===t.getter?0:(1&t.flags)>0?rtl.length(t.params)>0?3:2:1},e.TSetterKind={0:"skNone",skNone:0,1:"skField",skField:1,2:"skProcedure",skProcedure:2,3:"skProcedureWithParams",skProcedureWithParams:3},e.GetPropSetterKind=function(t){return""===t.setter?0:(2&t.flags)>0?rtl.length(t.params)>0?3:2:1}}}),[]),rtl.module("Web",["System","Types","JS"],(function(){"use strict";rtl.createClassExt(this,"TJSFocusEvent",Event,"",(function(){this.$init=function(){},this.$final=function(){}})),rtl.createClass(this,"TJSKeyNames",pas.System.TObject,(function(){this.Alt="Alt",this.CapsLock="CapsLock",this.Control="Control",this.Shift="Shift",this.Enter="Enter",this.Tab="Tab",this.ArrowDown="ArrowDown",this.ArrowLeft="ArrowLeft",this.ArrowRight="ArrowRight",this.ArrowUp="ArrowUp",this._End="End",this.Home="Home",this.PageDown="PageDown",this.PageUp="PageUp",this.BackSpace="Backspace",this.Delete="Delete",this.Insert="Insert",this.Escape="Escape",this.Pause="Pause",this.F1="F1",this.F2="F2",this.F3="F3",this.F4="F4",this.F5="F5",this.F6="F6",this.F7="F7",this.F8="F8",this.F9="F9",this.F10="F10",this.F11="F11",this.F12="F12",this.F13="F13",this.F14="F14",this.F15="F15",this.F16="F16",this.F17="F17",this.F18="F18",this.F19="F19",this.F20="F20"}))})),rtl.module("Classes",["System","RTLConsts","Types","SysUtils","JS","TypInfo"],(function(){"use strict";var t=this,e=t.$impl;this.$rtti.$MethodVar("TNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject]]),methodkind:0}),rtl.createClass(this,"EStreamError",pas.SysUtils.Exception,(function(){})),rtl.createClass(this,"EListError",pas.SysUtils.Exception,(function(){})),rtl.createClass(this,"EStringListError",this.EListError,(function(){})),rtl.createClass(this,"EComponentError",pas.SysUtils.Exception,(function(){})),this.TAlignment={0:"taLeftJustify",taLeftJustify:0,1:"taRightJustify",taRightJustify:1,2:"taCenter",taCenter:2},this.$rtti.$Enum("TAlignment",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TAlignment}),rtl.createClass(this,"TFPList",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FList=[],this.FCount=0,this.FCapacity=0},this.$final=function(){this.FList=void 0,pas.System.TObject.$final.call(this)},this.Get=function(t){return(t<0||t>=this.FCount)&&this.RaiseIndexError(t),this.FList[t]},this.Put=function(t,e){(t<0||t>=this.FCount)&&this.RaiseIndexError(t),this.FList[t]=e},this.SetCapacity=function(t){t<this.FCount&&this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListCapacityError"),""+t),t!==this.FCapacity&&(this.FList=rtl.arraySetLength(this.FList,void 0,t),this.FCapacity=t)},this.SetCount=function(t){t<0&&this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListCountError"),""+t),t>this.FCount&&t>this.FCapacity&&this.SetCapacity(t),this.FCount=t},this.RaiseIndexError=function(t){this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),""+t)},this.Destroy=function(){this.Clear(),pas.System.TObject.Destroy.call(this)},this.Add=function(t){var e;return this.FCount===this.FCapacity&&this.Expand(),this.FList[this.FCount]=t,e=this.FCount,this.FCount+=1,e},this.Clear=function(){rtl.length(this.FList)>0&&(this.SetCount(0),this.SetCapacity(0))},this.Delete=function(t){(t<0||t>=this.FCount)&&this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),""+t),this.FCount=this.FCount-1,this.FList.splice(t,1),this.FCapacity-=1},this.Error=function(e,i){throw t.EListError.$create("CreateFmt",[e,pas.System.VarRecs(18,i)])},this.Expand=function(){var t=0;return this.FCount<this.FCapacity||(t=4,this.FCapacity>3&&(t+=4),this.FCapacity>8&&(t+=8),this.FCapacity>127&&(t+=this.FCapacity>>>2),this.SetCapacity(this.FCapacity+t),this),this},this.IndexOf=function(t){var e,i=0;for(i=0,e=this.FCount;i<e&&this.FList[i]!=t;)i+=1;return i>=e&&(i=-1),i},this.IndexOfItem=function(t,e){var i=0;if(0===e)i=this.IndexOf(t);else for(i=this.FCount-1;i>=0&&this.FList[i]!=t;)i-=1;return i},this.Insert=function(t,e){(t<0||t>this.FCount)&&this.$class.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),""+t),this.FList.splice(t,0,e),this.FCapacity+=1,this.FCount+=1},this.Last=function(){return 0===this.FCount?null:this.Get(this.FCount-1)},this.Remove=function(t){var e;return-1!==(e=this.IndexOf(t))&&this.Delete(e),e}})),this.TListNotification={0:"lnAdded",lnAdded:0,1:"lnExtracted",lnExtracted:1,2:"lnDeleted",lnDeleted:2},rtl.createClass(this,"TList",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FList=null},this.$final=function(){this.FList=void 0,pas.System.TObject.$final.call(this)},this.Get=function(t){return this.FList.Get(t)},this.Put=function(t,e){var i;i=this.Get(t),this.FList.Put(t,e),pas.System.Assigned(i)&&this.Notify(i,2),pas.System.Assigned(e)&&this.Notify(e,0)},this.Notify=function(t,e){pas.System.Assigned(t)},this.SetCount=function(t){if(t<this.FList.FCount)for(;this.FList.FCount>t;)this.Delete(this.FList.FCount-1);else this.FList.SetCount(t)},this.GetCount=function(){return this.FList.FCount},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FList=t.TFPList.$create("Create"),this},this.Destroy=function(){null!=this.FList&&this.Clear(),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FList},set:function(t){this.p.FList=t}})},this.Add=function(t){var e;return e=this.FList.Add(t),pas.System.Assigned(t)&&this.Notify(t,0),e},this.Clear=function(){for(;this.FList.FCount>0;)this.Delete(this.GetCount()-1)},this.Delete=function(t){var e;e=this.FList.Get(t),this.FList.Delete(t),pas.System.Assigned(e)&&this.Notify(e,2)},this.IndexOf=function(t){return this.FList.IndexOf(t)},this.Insert=function(t,e){this.FList.Insert(t,e),pas.System.Assigned(e)&&this.Notify(e,0)},this.Remove=function(t){var e;return-1!==(e=this.IndexOf(t))&&this.Delete(e),e}})),rtl.createClass(this,"TPersistent",pas.System.TObject,(function(){this.AssignError=function(t){var e="";throw e=null!==t?t.$classname:"Nil",pas.SysUtils.EConvertError.$create("Create$1",["Cannot assign a "+e+" to a "+this.$classname+"."])},this.AssignTo=function(t){t.AssignError(this)},this.Assign=function(t){null!==t?t.AssignTo(this):this.AssignError(null)},this.SetEvent=function(t,e,i){this.SetEvent$1(this,t,e,i)},this.SetEvent$1=function(t,e,i,s){var n=pas.System.TMethod.$new();if(n.Code=e.$class.MethodAddress(s),null===n.Code)throw pas.SysUtils.Exception.$create("Create$1",[e.$classname+' has no published method "'+s+'"']);n.Data=e,pas.TypInfo.SetMethodProp$1(t,i,n)}})),rtl.createClass(this,"TStrings",this.TPersistent,(function(){this.$init=function(){t.TPersistent.$init.call(this),this.FSpecialCharsInited=!1,this.FAlwaysQuote=!1,this.FQuoteChar="",this.FDelimiter="",this.FNameValueSeparator="",this.FUpdateCount=0,this.FLBS=0,this.FSkipLastLineBreak=!1,this.FStrictDelimiter=!1,this.FLineBreak=""},this.GetName=function(t){var e="",i="";return this.GetNameValue(t,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),e},this.GetValue=function(t){var e,i="",s="";return i="",-1!==(e=this.IndexOfName(t))&&this.GetNameValue(e,{get:function(){return s},set:function(t){s=t}},{get:function(){return i},set:function(t){i=t}}),i},this.SetDelimiter=function(t){this.CheckSpecialChars(),this.FDelimiter=t},this.DoSetTextStr=function(t,e){var i="",s=0;try{for(this.BeginUpdate(),e&&this.Clear(),s=1;this.GetNextLinebreak(t,{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}});)this.Add(i)}finally{this.EndUpdate()}},this.GetNameValueSeparator=function(){return this.CheckSpecialChars(),this.FNameValueSeparator},this.SetLineBreak=function(t){this.CheckSpecialChars(),this.FLineBreak=t},this.GetSkipLastLineBreak=function(){return this.CheckSpecialChars(),this.FSkipLastLineBreak},this.SetSkipLastLineBreak=function(t){this.CheckSpecialChars(),this.FSkipLastLineBreak=t},this.Error=function(e,i){throw t.EStringListError.$create("CreateFmt",[e,pas.System.VarRecs(18,pas.SysUtils.IntToStr(i))])},this.GetCapacity=function(){return this.GetCount()},this.GetObject=function(t){return null,null},this.GetTextStr=function(){var t="",e=0,i="";if(this.CheckSpecialChars(),this.FLineBreak!==pas.System.sLineBreak)i=this.FLineBreak;else{var s=this.FLBS;0===s?i="\n":1===s?i="\r\n":2===s&&(i="\r")}t="";for(var n=0,o=this.GetCount()-1;n<=o;n++)e=n,t+=this.Get(e),(e<this.GetCount()-1||!this.GetSkipLastLineBreak())&&(t+=i);return t},this.PutObject=function(t,e){},this.SetTextStr=function(t){this.CheckSpecialChars(),this.DoSetTextStr(t,!0)},this.SetUpdateState=function(t){},this.DoCompareText=function(t,e){return pas.SysUtils.CompareText(t,e)},this.SetDelimitedText=function(t){var e=0,i=0,s=!1;this.CheckSpecialChars(),this.BeginUpdate(),e=1,i=1,s=!1;try{if(this.Clear(),this.FStrictDelimiter)for(;e<=t.length;){if(s&&e<=t.length&&t.charAt(e-1)===this.FDelimiter&&(e+=1),e<=t.length)if(t.charAt(e-1)===this.FQuoteChar){for(i=e+1;i<=t.length&&(t.charAt(i-1)!==this.FQuoteChar||i+1<=t.length&&t.charAt(i+1-1)===this.FQuoteChar);)i<=t.length&&t.charAt(i-1)===this.FQuoteChar?i+=2:i+=1;this.Add(pas.SysUtils.StringReplace(pas.System.Copy(t,e+1,i-e-1),this.FQuoteChar+this.FQuoteChar,this.FQuoteChar,rtl.createSet(0))),e=i+1}else{for(i=e;i<=t.length&&t.charAt(i-1)!==this.FDelimiter;)i+=1;this.Add(pas.System.Copy(t,e,i-e)),e=i}else s&&this.Add("");s=!0}else for(;e<=t.length;){for(s&&e<=t.length&&t.charAt(e-1)===this.FDelimiter&&(e+=1);e<=t.length&&t.charCodeAt(e-1)<=32;)e+=1;if(e<=t.length)if(t.charAt(e-1)===this.FQuoteChar){for(i=e+1;i<=t.length&&(t.charAt(i-1)!==this.FQuoteChar||i+1<=t.length&&t.charAt(i+1-1)===this.FQuoteChar);)i<=t.length&&t.charAt(i-1)===this.FQuoteChar?i+=2:i+=1;this.Add(pas.SysUtils.StringReplace(pas.System.Copy(t,e+1,i-e-1),this.FQuoteChar+this.FQuoteChar,this.FQuoteChar,rtl.createSet(0))),e=i+1}else{for(i=e;i<=t.length&&t.charCodeAt(i-1)>32&&t.charAt(i-1)!==this.FDelimiter;)i+=1;this.Add(pas.System.Copy(t,e,i-e)),e=i}else s&&this.Add("");for(;e<=t.length&&t.charCodeAt(e-1)<=32;)e+=1;s=!0}}finally{this.EndUpdate()}},this.GetValueFromIndex=function(t){var e="",i="";return this.GetNameValue(t,{get:function(){return i},set:function(t){i=t}},{get:function(){return e},set:function(t){e=t}}),e},this.CheckSpecialChars=function(){this.FSpecialCharsInited||(this.FQuoteChar='"',this.FDelimiter=",",this.FNameValueSeparator="=",this.FLBS=pas.System.DefaultTextLineBreakStyle,this.FSpecialCharsInited=!0,this.FLineBreak=pas.System.sLineBreak)},this.GetNextLinebreak=function(t,e,i){var s,n,o=!1,r=0,a=0;return e.set(""),o=!1,t.length-i.get()<0?o:(s=t.indexOf("\n",i.get()-1)+1,n=t.indexOf("\r",i.get()-1)+1,a=1,s>0&&n>0?(s-n==1&&(a=2),r=s<n?s:n):r=s>0&&n<1?s:n>0&&s<1?n:t.length+1,e.set(pas.System.Copy(t,i.get(),r-i.get())),i.set(r+a),o=!0)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FAlwaysQuote=!1,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.Add=function(t){var e;return e=this.GetCount(),this.Insert(this.GetCount(),t),e},this.AddObject=function(t,e){var i;return i=this.Add(t),this.PutObject(i,e),i},this.AddStrings=function(t){for(var e=0,i=0,s=t.GetCount()-1;i<=s;i++)e=i,this.AddObject(t.Get(e),t.GetObject(e))},this.Assign=function(e){var i=null;if(t.TStrings.isPrototypeOf(e)){i=e,this.BeginUpdate();try{this.Clear(),this.FSpecialCharsInited=i.FSpecialCharsInited,this.FQuoteChar=i.FQuoteChar,this.FDelimiter=i.FDelimiter,this.FNameValueSeparator=i.FNameValueSeparator,this.FLBS=i.FLBS,this.FLineBreak=i.FLineBreak,this.AddStrings(i)}finally{this.EndUpdate()}}else t.TPersistent.Assign.call(this,e)},this.BeginUpdate=function(){0===this.FUpdateCount&&this.SetUpdateState(!0),this.FUpdateCount+=1},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1),0===this.FUpdateCount&&this.SetUpdateState(!1)},this.IndexOf=function(t){var e=0;for(e=0;e<this.GetCount()&&0!==this.DoCompareText(this.Get(e),t);)e+=1;return e===this.GetCount()&&(e=-1),e},this.IndexOfName=function(t){var e=0,i=0,s="";for(this.CheckSpecialChars(),e=0;e<this.GetCount();){if(s=this.Get(e),(i=pas.System.Pos(this.FNameValueSeparator,s)-1)>=0&&0===this.DoCompareText(t,pas.System.Copy(s,1,i)))return e;e+=1}return e=-1},this.GetNameValue=function(t,e,i){var s;this.CheckSpecialChars(),i.set(this.Get(t)),0!==(s=pas.System.Pos(this.FNameValueSeparator,i.get()))?(e.set(pas.System.Copy(i.get(),1,s-1)),i.set(pas.System.Copy(i.get(),s+1,i.get().length-s))):e.set("")}})),rtl.recNewT(this,"TStringItem",(function(){this.FString="",this.FObject=null,this.$eq=function(t){return this.FString===t.FString&&this.FObject===t.FObject},this.$assign=function(t){return this.FString=t.FString,this.FObject=t.FObject,this}})),this.$rtti.$Class("TStringList"),this.TStringsSortStyle={0:"sslNone",sslNone:0,1:"sslUser",sslUser:1,2:"sslAuto",sslAuto:2},rtl.createClass(this,"TStringList",this.TStrings,(function(){this.$init=function(){t.TStrings.$init.call(this),this.FList=[],this.FCount=0,this.FOnChange=null,this.FOnChanging=null,this.FDuplicates=0,this.FCaseSensitive=!1,this.FForceSort=!1,this.FOwnsObjects=!1,this.FSortStyle=0},this.$final=function(){this.FList=void 0,this.FOnChange=void 0,this.FOnChanging=void 0,t.TStrings.$final.call(this)},this.ExchangeItemsInt=function(t,e){var i,s;i=this.FList[t].FString,s=this.FList[t].FObject,this.FList[t].FString=this.FList[e].FString,this.FList[t].FObject=this.FList[e].FObject,this.FList[e].FString=i,this.FList[e].FObject=s},this.GetSorted=function(){return this.FSortStyle in rtl.createSet(1,2)},this.Grow=function(){var t=0;(t=this.GetCapacity())>=256?t+=rtl.trunc(t/4):0===t?t=4:t*=4,this.SetCapacity(t)},this.InternalClear=function(t,e){var i=0;if(t<this.FCount){if(this.FOwnsObjects)for(var s=t,n=this.FCount-1;s<=n;s++)i=s,this.FList[i].FString="",pas.SysUtils.FreeAndNil({p:this.FList[i],get:function(){return this.p.FObject},set:function(t){this.p.FObject=t}});else for(var o=t,r=this.FCount-1;o<=r;o++)i=o,this.FList[i].FString="";this.FCount=t}e||this.SetCapacity(0)},this.QuickSort=function(t,e,i){var s=0,n=0,o=0;if(e-t<=1)t<e&&i(this,t,e)>0&&this.ExchangeItems(t,e);else{for(n=t,o=e,s=t+pas.System.Random(e-t);n<o;){for(;n<s&&i(this,n,s)<=0;)n+=1;for(;o>s&&i(this,o,s)>0;)o-=1;this.ExchangeItems(n,o),s===n?s=o:s===o&&(s=n)}s-1>=t&&this.QuickSort(t,s-1,i),s+1<=e&&this.QuickSort(s+1,e,i)}},this.SetSorted=function(t){t?this.SetSortStyle(2):this.SetSortStyle(0)},this.SetSortStyle=function(t){this.FSortStyle!==t&&(2===t&&this.Sort(),this.FSortStyle=t)},this.CheckIndex=function(t){(t<0||t>=this.FCount)&&this.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),t)},this.ExchangeItems=function(t,e){this.ExchangeItemsInt(t,e)},this.Changed=function(){0===this.FUpdateCount&&null!=this.FOnChange&&this.FOnChange(this)},this.Changing=function(){0===this.FUpdateCount&&null!=this.FOnChanging&&this.FOnChanging(this)},this.Get=function(t){return this.CheckIndex(t),this.FList[t].FString},this.GetCapacity=function(){return rtl.length(this.FList)},this.GetCount=function(){return this.FCount},this.GetObject=function(t){return this.CheckIndex(t),this.FList[t].FObject},this.PutObject=function(t,e){this.CheckIndex(t),this.Changing(),this.FList[t].FObject=e,this.Changed()},this.SetCapacity=function(e){e<0&&this.Error(rtl.getResStr(pas.RTLConsts,"SListCapacityError"),e),e!==this.GetCapacity()&&(this.FList=rtl.arraySetLength(this.FList,t.TStringItem,e))},this.SetUpdateState=function(t){t?this.Changing():this.Changed()},this.InsertItem=function(t,e){this.InsertItem$1(t,e,null)},this.InsertItem$1=function(e,i,s){var n=t.TStringItem.$new();this.Changing(),this.FCount===this.GetCapacity()&&this.Grow(),n.FString=i,n.FObject=s,this.FList.splice(e,0,n),this.FCount+=1,this.Changed()},this.DoCompareText=function(t,e){return this.FCaseSensitive?pas.SysUtils.CompareStr(t,e):pas.SysUtils.CompareText(t,e)},this.Destroy=function(){this.InternalClear(0,!1),t.TStrings.Destroy.call(this)},this.Add=function(t){var e=0;if(2!==this.FSortStyle)e=this.FCount;else if(this.Find(t,{get:function(){return e},set:function(t){e=t}})){var i=this.FDuplicates;if(0===i)return e;2===i&&this.Error(rtl.getResStr(pas.RTLConsts,"SDuplicateString"),0)}return this.InsertItem(e,t),e},this.Clear=function(){0!==this.FCount&&(this.Changing(),this.InternalClear(0,!1),this.Changed())},this.Delete=function(t){this.CheckIndex(t),this.Changing(),this.FOwnsObjects&&pas.SysUtils.FreeAndNil({p:this.FList[t],get:function(){return this.p.FObject},set:function(t){this.p.FObject=t}}),this.FList.splice(t,1),this.FList[this.GetCount()-1].FString="",this.FList[this.GetCount()-1].FObject=null,this.FCount-=1,this.Changed()},this.Find=function(e,i){var s=!1,n=0,o=0,r=0,a=0;if(s=!1,i.set(-1),!this.GetSorted())throw t.EListError.$create("Create$1",[rtl.getResStr(pas.RTLConsts,"SErrFindNeedsSortedList")]);for(n=0,o=this.GetCount()-1;n<=o;)r=n+rtl.trunc((o-n)/2),(a=this.DoCompareText(e,this.FList[r].FString))>0?n=r+1:(o=r-1,0===a&&(s=!0,1!==this.FDuplicates&&(n=r)));return i.set(n),s},this.IndexOf=function(e){var i=0;return this.GetSorted()?this.Find(e,{get:function(){return i},set:function(t){i=t}})||(i=-1):i=t.TStrings.IndexOf.call(this,e),i},this.Insert=function(t,e){2===this.FSortStyle?this.Error(rtl.getResStr(pas.RTLConsts,"SSortedListError"),0):((t<0||t>this.FCount)&&this.Error(rtl.getResStr(pas.RTLConsts,"SListIndexError"),t),this.InsertItem(t,e))},this.Sort=function(){this.CustomSort(e.StringListAnsiCompare)},this.CustomSort=function(t){(this.FForceSort||2!==this.FSortStyle)&&this.FCount>1&&(this.Changing(),this.QuickSort(0,this.FCount-1,t),this.Changed())}})),rtl.createClass(this,"TCollectionItem",this.TPersistent,(function(){this.$init=function(){t.TPersistent.$init.call(this),this.FCollection=null,this.FID=0},this.$final=function(){this.FCollection=void 0,t.TPersistent.$final.call(this)},this.SetCollection=function(t){t!==this.FCollection&&(null!=this.FCollection&&this.FCollection.RemoveItem(this),null!=t&&t.InsertItem(this))},this.Create$1=function(t){return pas.System.TObject.Create.call(this),this.SetCollection(t),this},this.Destroy=function(){this.SetCollection(null),pas.System.TObject.Destroy.call(this)}})),this.TCollectionNotification={0:"cnAdded",cnAdded:0,1:"cnExtracting",cnExtracting:1,2:"cnDeleting",cnDeleting:2},rtl.createClass(this,"TCollection",this.TPersistent,(function(){this.$init=function(){t.TPersistent.$init.call(this),this.FItemClass=null,this.FItems=null,this.FUpdateCount=0,this.FNextID=0,this.FPropName=""},this.$final=function(){this.FItemClass=void 0,this.FItems=void 0,t.TPersistent.$final.call(this)},this.GetCount=function(){return this.FItems.FCount},this.InsertItem=function(t){this.FItemClass.isPrototypeOf(t)&&(this.FItems.Add(t),t.FCollection=this,t.FID=this.FNextID,this.FNextID+=1,this.SetItemName(t),this.Notify(t,0),this.Changed())},this.RemoveItem=function(t){var e;this.Notify(t,1),-1!==(e=this.FItems.IndexOfItem(t,1))&&this.FItems.Delete(e),t.FCollection=null,this.Changed()},this.DoClear=function(){for(var t=null;this.FItems.FCount>0;)null!=(t=rtl.getObject(this.FItems.Last()))&&t.$destroy("Destroy")},this.Changed=function(){0===this.FUpdateCount&&this.Update(null)},this.GetItem=function(t){return rtl.getObject(this.FItems.Get(t))},this.SetItemName=function(t){},this.Update=function(t){},this.Notify=function(t,e){},this.Create$1=function(e){return pas.System.TObject.Create.call(this),this.FItemClass=e,this.FItems=t.TFPList.$create("Create"),this},this.Destroy=function(){this.FUpdateCount=1;try{this.DoClear()}finally{this.FUpdateCount=0}null!=this.FItems&&this.FItems.$destroy("Destroy"),pas.System.TObject.Destroy.call(this)},this.Add=function(){return this.FItemClass.$create("Create$1",[this])},this.Assign=function(e){var i=0;if(t.TCollection.isPrototypeOf(e)){this.Clear();for(var s=0,n=e.GetCount()-1;s<=n;s++)i=s,this.Add().Assign(e.GetItem(i))}else t.TPersistent.Assign.call(this,e)},this.BeginUpdate=function(){this.FUpdateCount+=1},this.Clear=function(){if(0!==this.FItems.FCount){this.BeginUpdate();try{this.DoClear()}finally{this.EndUpdate()}}},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1),0===this.FUpdateCount&&this.Changed()}})),rtl.createClass(this,"TOwnedCollection",this.TCollection,(function(){this.$init=function(){t.TCollection.$init.call(this),this.FOwner=null},this.$final=function(){this.FOwner=void 0,t.TCollection.$final.call(this)},this.Create$2=function(e,i){return this.FOwner=e,t.TCollection.Create$1.call(this,i),this}})),this.TOperation={0:"opInsert",opInsert:0,1:"opRemove",opRemove:1},this.TComponentStateItem={0:"csLoading",csLoading:0,1:"csReading",csReading:1,2:"csWriting",csWriting:2,3:"csDestroying",csDestroying:3,4:"csDesigning",csDesigning:4,5:"csAncestor",csAncestor:5,6:"csUpdating",csUpdating:6,7:"csFixups",csFixups:7,8:"csFreeNotification",csFreeNotification:8,9:"csInline",csInline:9,10:"csDesignInstance",csDesignInstance:10},this.TComponentStyleItem={0:"csInheritable",csInheritable:0,1:"csCheckPropAvail",csCheckPropAvail:1,2:"csSubComponent",csSubComponent:2,3:"csTransient",csTransient:3},rtl.createClass(this,"TComponent",this.TPersistent,(function(){this.$init=function(){t.TPersistent.$init.call(this),this.FOwner=null,this.FName="",this.FTag=0,this.FComponents=null,this.FFreeNotifies=null,this.FComponentState={},this.FComponentStyle={},this.FLeft=0,this.FTop=0},this.$final=function(){this.FOwner=void 0,this.FComponents=void 0,this.FFreeNotifies=void 0,this.FComponentState=void 0,this.FComponentStyle=void 0,t.TPersistent.$final.call(this)},this.GetComponent=function(t){return null==this.FComponents?null:rtl.getObject(this.FComponents.Get(t))},this.GetComponentCount=function(){return null==this.FComponents?0:this.FComponents.FCount},this.Insert=function(e){null==this.FComponents&&(this.FComponents=t.TFPList.$create("Create")),this.FComponents.Add(e),e.FOwner=this},this.Remove=function(t){t.FOwner=null,null!=this.FComponents&&(this.FComponents.Remove(t),0===this.FComponents.FCount&&(this.FComponents.$destroy("Destroy"),this.FComponents=null))},this.RemoveNotification=function(t){null!==this.FFreeNotifies&&(this.FFreeNotifies.Remove(t),0===this.FFreeNotifies.FCount&&(this.FFreeNotifies.$destroy("Destroy"),this.FFreeNotifies=null,this.FComponentState=rtl.excludeSet(this.FComponentState,8)))},this.SetReference=function(t){var e=null,i=null,s=null;""!==this.FName&&null!=this.FOwner&&(s=this.FOwner,null!=(e=this.FOwner.$class.FieldAddress(this.FName))&&(i=t?this:null,s[""+e.name]=i))},this.ChangeName=function(t){this.FName=t},this.Loaded=function(){this.FComponentState=rtl.excludeSet(this.FComponentState,0)},this.Loading=function(){this.FComponentState=rtl.includeSet(this.FComponentState,0)},this.Notification=function(t,e){var i=0;if(1===e&&this.RemoveFreeNotification(t),null!=this.FComponents)for(i=this.FComponents.FCount-1;i>=0;)rtl.getObject(this.FComponents.Get(i)).Notification(t,e),(i-=1)>=this.FComponents.FCount&&(i=this.FComponents.FCount-1)},this.SetDesigning=function(t,e){var i=0;if(this.FComponentState=t?rtl.includeSet(this.FComponentState,4):rtl.excludeSet(this.FComponentState,4),null!=this.FComponents&&e)for(var s=0,n=this.FComponents.FCount-1;s<=n;s++)i=s,rtl.getObject(this.FComponents.Get(i)).SetDesigning(t,!0)},this.SetName=function(e){if(this.FName!==e){if(""!==e&&!pas.SysUtils.IsValidIdent(e,!1,!1))throw t.EComponentError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SInvalidName"),pas.System.VarRecs(18,e)]);null!=this.FOwner?this.FOwner.ValidateRename(this,this.FName,e):this.ValidateRename(null,this.FName,e),this.SetReference(!1),this.ChangeName(e),this.SetReference(!0)}},this.SetParentComponent=function(t){},this.ValidateRename=function(e,i,s){if(null!==e&&0!==pas.SysUtils.CompareText(i,s)&&e.FOwner===this&&null!==this.FindComponent(s))throw t.EComponentError.$create("CreateFmt",[rtl.getResStr(pas.RTLConsts,"SDuplicateName"),pas.System.VarRecs(18,s)]);4 in this.FComponentState&&null!==this.FOwner&&this.FOwner.ValidateRename(e,i,s)},this.ValidateContainer=function(t){t.ValidateInsert(this)},this.ValidateInsert=function(t){},this._AddRef=function(){return-1,-1},this.GetLeft=function(){return this.FLeft},this.GetTop=function(){return this.FTop},this.SetLeft=function(t){this.FLeft=t},this.SetTop=function(t){this.FTop=t},this._Release=function(){return-1,-1},this.Create$1=function(t){return this.FComponentStyle=rtl.createSet(0),null!=t&&t.InsertComponent(this),this},this.Destroy=function(){var t=0,e=null;if(this.Destroying(),null!=this.FFreeNotifies){for(t=this.FFreeNotifies.FCount-1;t>=0;)e=rtl.getObject(this.FFreeNotifies.Get(t)),this.FFreeNotifies.Delete(t),e.Notification(this,1),null===this.FFreeNotifies?t=0:t>this.FFreeNotifies.FCount&&(t=this.FFreeNotifies.FCount),t-=1;pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FFreeNotifies},set:function(t){this.p.FFreeNotifies=t}})}this.DestroyComponents(),null!==this.FOwner&&this.FOwner.RemoveComponent(this),pas.System.TObject.Destroy.call(this)},this.BeforeDestruction=function(){3 in this.FComponentState||this.Destroying()},this.DestroyComponents=function(){for(var t=null;null!=this.FComponents;)t=rtl.getObject(this.FComponents.Last()),this.Remove(t),t.$destroy("Destroy")},this.Destroying=function(){var t=0;if(!(3 in this.FComponentState)&&(this.FComponentState=rtl.includeSet(this.FComponentState,3),null!=this.FComponents))for(var e=0,i=this.FComponents.FCount-1;e<=i;e++)t=e,rtl.getObject(this.FComponents.Get(t)).Destroying()},this.QueryInterface=function(t,e){return this.GetInterface(t,e)?0:-2147467262},this.AfterLoadDFMValues=function(){this.EndUpdate(),this.Loaded()},this.BeforeLoadDFMValues=function(){4 in this.FComponentState||this.Loading(),this.BeginUpdate()},this.BeginUpdate=function(){},this.EndUpdate=function(){},this.FindComponent=function(t){var e=null,i=0;if(e=null,""===t||null==this.FComponents)return e;for(var s=0,n=this.FComponents.FCount-1;s<=n;s++)if(i=s,0===pas.SysUtils.CompareText(rtl.getObject(this.FComponents.Get(i)).FName,t))return e=rtl.getObject(this.FComponents.Get(i));return e},this.FreeNotification=function(e){null!==this.FOwner&&e===this.FOwner||(null==this.FFreeNotifies&&(this.FFreeNotifies=t.TFPList.$create("Create")),-1===this.FFreeNotifies.IndexOf(e)&&(this.FFreeNotifies.Add(e),e.FreeNotification(this)))},this.RemoveFreeNotification=function(t){this.RemoveNotification(t),t.RemoveNotification(this)},this.InsertComponent=function(t){t.ValidateContainer(this),this.ValidateRename(t,"",t.FName),null!==t.FOwner&&t.FOwner.RemoveComponent(t),this.Insert(t),4 in this.FComponentState&&t.SetDesigning(!0,!0),this.Notification(t,0)},this.RemoveComponent=function(t){this.Notification(t,1),this.Remove(t),t.SetDesigning(!1,!0),this.ValidateRename(t,t.FName,"")},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Name",6,rtl.string,"FName","SetName"),e.addProperty("Tag",0,rtl.nativeint,"FTag","FTag",{Default:0})})),this.TSeekOrigin={0:"soBeginning",soBeginning:0,1:"soCurrent",soCurrent:1,2:"soEnd",soEnd:2},rtl.createClass(this,"TStream",pas.System.TObject,(function(){this.GetPosition=function(){return this.Seek(0,1)},this.SetPosition=function(t){this.Seek(t,0)},this.GetSize=function(){var t,e;return e=this.Seek(0,1),t=this.Seek(0,2),this.Seek(e,0),t},this.Read=function(t,e){return this.Read$1(rtl.arrayRef(t.get()),0,e)},this.ReadBuffer=function(t,e){this.ReadBuffer$1(t,0,e)},this.ReadBuffer$1=function(e,i,s){if(this.Read$1(rtl.arrayRef(e.get()),i,s)!==s)throw t.EStreamError.$create("Create$1",[rtl.getResStr(t,"SReadError")])},this.WriteBuffer=function(t,e){this.WriteBuffer$1(t,0,e)},this.WriteBuffer$1=function(e,i,s){if(this.Write$1(e,i,s)!==s)throw t.EStreamError.$create("Create$1",[rtl.getResStr(t,"SWriteError")])};this.CopyFrom=function(t,e){var i=0,s=[],n=0,o=0;if(i=0,0===e&&t.SetPosition(0),n=131072,e>0&&e<n&&(n=e),s=rtl.arraySetLength(s,0,n),0===e)do{(o=t.Read({get:function(){return s},set:function(t){s=t}},n))>0&&this.WriteBuffer(s,o),i+=o}while(!(o<n));else for(;e>0;)o=e>n?n:e,t.ReadBuffer({get:function(){return s},set:function(t){s=t}},o),this.WriteBuffer(s,o),e-=o,i+=o;return i}})),rtl.createClass(this,"TCustomMemoryStream",this.TStream,(function(){this.$init=function(){t.TStream.$init.call(this),this.FMemory=null,this.FDataView=null,this.FDataArray=null,this.FSize=0,this.FPosition=0,this.FSizeBoundsSeek=!1},this.$final=function(){this.FMemory=void 0,this.FDataView=void 0,this.FDataArray=void 0,t.TStream.$final.call(this)},this.GetDataArray=function(){return null===this.FDataArray&&(this.FDataArray=new Uint8Array(this.FMemory)),this.FDataArray},this.GetDataView=function(){return null===this.FDataView&&(this.FDataView=new DataView(this.FMemory)),this.FDataView},this.GetSize=function(){return this.FSize},this.GetPosition=function(){return this.FPosition},this.SetPointer=function(t,e){this.FMemory=t,this.FSize=e,this.FDataView=null,this.FDataArray=null},this.MemoryToBytes=function(t){return this.MemoryToBytes$1(new Uint8Array(t))},this.MemoryToBytes$1=function(t){for(var e=[],i=0,s=0,n=t.length-1;s<=n;s++)e[i=s]=t[i];return e},this.BytesToMemory=function(t){var e;return e=new ArrayBuffer(rtl.length(t)),new Uint8Array(e).set(t),e},this.Read$1=function(t,e,i){var s=0,n=0,o=0,r=0;if(s=0,this.FSize>0&&this.FPosition<this.FSize&&this.FPosition>=0){for((s=i)>this.FSize-this.FPosition&&(s=this.FSize-this.FPosition),o=this.FPosition,r=e,n=0;n<s;)t[r]=this.GetDataView().getUint8(o),o+=1,r+=1,n+=1;this.FPosition=this.FPosition+s}return s},this.Seek=function(t,e){var i=e;return 0===i?this.FPosition=t:2===i?this.FPosition=this.FSize+t:1===i&&(this.FPosition=this.FPosition+t),this.FSizeBoundsSeek&&this.FPosition>this.FSize&&(this.FPosition=this.FSize),this.FPosition}})),rtl.createClass(this,"TMemoryStream",this.TCustomMemoryStream,(function(){this.$init=function(){t.TCustomMemoryStream.$init.call(this),this.FCapacity=0},this.SetCapacity=function(t){this.SetPointer(this.Realloc({get:function(){return t},set:function(e){t=e}}),this.FSize),this.FCapacity=t},this.Realloc=function(e){var i=null,s=0;if(e.get()<0?e.set(0):(s=this.FCapacity+rtl.trunc(this.FCapacity/4),e.get()>this.FCapacity&&e.get()<s&&e.set(s),e.set(e.get()+4095&-4096)),e.get()===this.FCapacity)i=this.FMemory;else if(0===e.get())i=null;else{if(null===(i=new ArrayBuffer(e.get())))throw t.EStreamError.$create("Create$1",[rtl.getResStr(t,"SMemoryStreamError")]);new Uint8Array(i).set(this.GetDataArray())}return i},this.Destroy=function(){this.Clear(),pas.System.TObject.Destroy.call(this)},this.Clear=function(){this.FSize=0,this.FPosition=0,this.SetCapacity(0)},this.Write$1=function(t,e,i){var s;return 0===i||this.FPosition<0?0:((s=this.FPosition+i)>this.FSize&&(s>this.FCapacity&&this.SetCapacity(s),this.FSize=s),this.GetDataArray().set(rtl.arrayCopy(0,t,e,i),this.FPosition),this.FPosition=s,i)}})),rtl.createClass(this,"TStringStream",this.TMemoryStream,(function(){this.$init=function(){t.TMemoryStream.$init.call(this),this.FEncoding=null,this.FOwnsEncoding=!1},this.$final=function(){this.FEncoding=void 0,t.TMemoryStream.$final.call(this)};this.GetDataString=function(){var e="",i=null,s=null,n=0;if(e="",this.FEncoding===t.TEncoding.GetUnicode()){if(null!==(i=new Uint16Array(this.FMemory.slice(0,this.GetSize()))))for(var o=0,r=rtl.trunc(i.length/8192);o<=r;o++)n=o,e+=String.fromCharCode.apply(null,i.slice(8192*n,8192*(n+1)))}else if(null!==(s=new Uint8Array(this.FMemory.slice(0,this.GetSize()))))return s.reduce((function(t,e){return t+String.fromCharCode(e)}),"");return e},this.Create$3=function(e,i,s){var n;return pas.System.TObject.Create.call(this),this.FEncoding=i,n=e.length,this.FEncoding===t.TEncoding.GetUnicode()?(this.SetPointer(t.StringToBuffer$1(e,n,this.FEncoding),2*n),this.FCapacity=2*n):(this.SetPointer(t.StringToBuffer$1(e,n,this.FEncoding),n),this.FCapacity=n),this},this.Destroy=function(){this.FOwnsEncoding&&rtl.free(this,"FEncoding"),t.TMemoryStream.Destroy.call(this)},this.ReadString=function(e){var i,s="",n=[],o=null;return i=this.GetSize()-this.GetPosition(),this.FEncoding===t.TEncoding.GetUnicode()?(i<2*e&&(e=i),n=rtl.arraySetLength(n,0,2*e),this.ReadBuffer$1({get:function(){return n},set:function(t){n=t}},0,2*e),o=this.$class.BytesToMemory(rtl.arrayRef(n)),s=t.BufferToString$1(o,0,2*e,this.FEncoding)):(i<e&&(e=i),n=rtl.arraySetLength(n,0,e),this.ReadBuffer$1({get:function(){return n},set:function(t){n=t}},0,e),o=this.$class.BytesToMemory(rtl.arrayRef(n)),s=t.BufferToString$1(o,0,e,this.FEncoding)),s},this.WriteString=function(e){var i,s;i=t.StringToBuffer$1(e,e.length,this.FEncoding),s=this.$class.MemoryToBytes(i),this.WriteBuffer(s,rtl.length(s))}})),rtl.createClass(this,"TLoadHelper",pas.System.TObject,(function(){})),rtl.createClass(this,"TEncoding",pas.System.TObject,(function(){this.FANSI=null,this.FUnicode=null,this.GetANSI=function(){return null==this.FANSI&&(t.TEncoding.FANSI=t.TANSIEncoding.$create("Create")),this.FANSI},this.GetUnicode=function(){return null==this.FUnicode&&(t.TEncoding.FUnicode=t.TUnicodeEncoding.$create("Create")),this.FUnicode}})),rtl.createClass(this,"TANSIEncoding",this.TEncoding,(function(){})),rtl.createClass(this,"TUnicodeEncoding",this.TEncoding,(function(){})),rtl.createClass(this,"ComponentPlatformsAttribute",pas.System.TCustomAttribute,(function(){this.$init=function(){pas.System.TCustomAttribute.$init.call(this),this.FPlatforms=0},this.Create$1=function(t){return this.FPlatforms=t,this}})),this.TShiftState$a={0:"ssShift",ssShift:0,1:"ssAlt",ssAlt:1,2:"ssCtrl",ssCtrl:2,3:"ssLeft",ssLeft:3,4:"ssRight",ssRight:4,5:"ssMIDdle",ssMIDdle:5,6:"ssDouble",ssDouble:6,7:"ssTouch",ssTouch:7,8:"ssPen",ssPen:8,9:"ssCommand",ssCommand:9},this.$rtti.$Enum("TShiftState$a",{minvalue:0,maxvalue:9,ordtype:1,enumtype:this.TShiftState$a}),this.$rtti.$Set("TShiftState",{comptype:this.$rtti.TShiftState$a}),this.RegisterClass=function(t){e.ClassList[t.$classname]=t},this.GetClass=function(t){var i=null;return i=null,""===t?i:e.ClassList.hasOwnProperty(t)?i=rtl.getObject(e.ClassList[t]):i},this.SetLoadHelperClass=function(t){var i;return i=e.GlobalLoadHelper,e.GlobalLoadHelper=t,i},this.StringToBuffer$1=function(e,i,s){var n=null,o=0;if(s===t.TEncoding.GetUnicode()){n=new ArrayBuffer(2*i);for(var r=new Uint16Array(n),a=0,l=i-1;a<=l;a++)r[o=a]=e.charCodeAt(o)}else{n=new ArrayBuffer(i);for(var h=new Uint8Array(n),d=0,u=i-1;d<=u;d++)h[o=d]=e.charCodeAt(o)}return n},this.BufferToString$1=function(e,i,s,n){var o="",r=null,a=null;return o="",n===t.TEncoding.GetUnicode()?null!==(r=new Uint16Array(e.slice(i,s)))&&(o=""+String.fromCharCode.apply(null,r)):null!==(a=new Uint8Array(e.slice(i,s)))&&(o=""+String.fromCharCode.apply(null,a)),o},t.$implcode=function(){e.GlobalLoadHelper=null,e.StringListAnsiCompare=function(t,e,i){return t.DoCompareText(t.FList[e].FString,t.FList[i].FString)},e.TMSGrow=4096,e.ClassList=null,t.$resourcestrings={SReadError:{org:"Could not read data from stream"},SWriteError:{org:"Could not write data to stream"},SMemoryStreamError:{org:"Could not allocate memory"}}},t.$init=function(){e.ClassList=new Object}}),["Web"]),rtl.module("WEBLib.Menus",["System","Classes","SysUtils","WEBLib.Controls","WEBLib.Graphics","Web"],(function(){"use strict";var t=this,e=t.$impl;this.$rtti.$Class("TMainMenu"),this.$rtti.$Class("TMenuItem"),this.$rtti.$Class("TCustomMainMenu"),this.TMenuItemAutoFlag={0:"maAutomatic",maAutomatic:0,1:"maManual",maManual:1,2:"maParent",maParent:2},this.$rtti.$Enum("TMenuItemAutoFlag",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TMenuItemAutoFlag}),this.TMenuBreak={0:"mbNone",mbNone:0,1:"mbBreak",mbBreak:1,2:"mbBarBreak",mbBarBreak:2},this.$rtti.$Enum("TMenuBreak",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TMenuBreak}),this.$rtti.$Int("THelpContext",{minvalue:-2147483647,maxvalue:2147483647,ordtype:4}),this.$rtti.$inherited("TShortCut",rtl.word,{}),this.TMainMenuHamburgerMenuVisible={0:"hmAlways",hmAlways:0,1:"hmNever",hmNever:1,2:"hmResponsive",hmResponsive:2},this.$rtti.$Enum("TMainMenuHamburgerMenuVisible",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TMainMenuHamburgerMenuVisible}),this.$rtti.$MethodVar("TMainMenuChangeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",this.$rtti.TMenuItem],["Rebuild",rtl.boolean]]),methodkind:0}),rtl.createClass(this,"TMenuItemList",pas.Classes.TList,(function(){this.GetItem=function(t){return rtl.getObject(this.Get(t))}})),rtl.createClass(this,"TMenuItem",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FOwner$1=null,this.FCaption="",this.FItems=null,this.FParentItem=null,this.FOnClick=null,this.FChecked=!1,this.FEnabled=!1,this.FDefault=!1,this.FAutoCheck=!1,this.FHint="",this.FAutoHotkeys=0,this.FRadioItem=!1,this.FGroupIndex=0,this.FVisible=!1,this.FShortCut=0,this.FBreak=0,this.FImageIndex=0,this.FAutoLineReduction=0,this.FHelpContext=0,this.FElementClassName="",this.FParentMenu=null},this.$final=function(){this.FOwner$1=void 0,this.FItems=void 0,this.FParentItem=void 0,this.FOnClick=void 0,this.FParentMenu=void 0,pas.Classes.TComponent.$final.call(this)},this.SetChecked=function(e){var i=null,s=null,n=null,o=null,r=0;if(this.FChecked!==e){if(this.FChecked=e,null!=(o=this.FParentMenu)){if(t.TMenuItem.isPrototypeOf(o)&&e)for(var a=0,l=(s=o).FItems.GetCount()-1;a<=l;a++)r=a,(n=s.FItems.GetItem(r)).FRadioItem&&n!==this&&n.SetChecked(!1);for(;!t.TCustomMainMenu.isPrototypeOf(o)&&null!=o;)o=o.FOwner}null!=(i=this.GetParentMenu())&&i.UpdateElement()}},this.SetCaption=function(t){var e=null;this.FCaption=t,null!=(e=this.GetParentMenu())&&e.UpdateElement()},this.SetImageIndex=function(t){var e=null;this.FImageIndex=t,null!=(e=this.GetParentMenu())&&e.UpdateElement()},this.SetEnabled=function(t){this.FEnabled!==t&&(this.FEnabled=t,this.GetParentMenu().UpdateElement())},this.GetCount=function(){return null===this.FItems?0:this.FItems.GetCount()},this.Create$1=function(e){return this.FParentMenu=null,t.TMainMenu.isPrototypeOf(e)&&(this.FParentMenu=e),pas.Classes.TComponent.Create$1.call(this,e),this.FAutoHotkeys=2,this.FAutoLineReduction=2,this.FImageIndex=-1,this.FHint="",this.FCaption="MenuItem",this.FChecked=!1,this.FEnabled=!0,this.FDefault=!1,this.FRadioItem=!1,this.FVisible=!0,this.FOwner$1=e,this},this.Destroy=function(){var t=0,e=null,i=null;if(e=this.GetParentMenu(),null!=this.FParentItem&&null!=e){e.BeginUpdate();for(var s=this.FParentItem.FItems.GetCount()-1;s>=0;s--)t=s,this.FParentItem.FItems.GetItem(t)===this&&this.FParentItem.FItems.Delete(t);e.EndUpdate()}if(null!=this.FItems)for(var n=this.FItems.GetCount()-1;n>=0;n--)t=n,(i=this.FItems.GetItem(t)).FParentItem=null,i=rtl.freeLoc(i),this.FItems.Delete(t);pas.Classes.TComponent.Destroy.call(this)},this.Assign=function(e){var i=0,s=null,n=null,o=null;if(t.TMenuItem.isPrototypeOf(e)&&(s=rtl.as(e,t.TMenuItem),this.FAutoCheck=s.FAutoCheck,this.FAutoHotkeys=s.FAutoHotkeys,this.FAutoLineReduction=s.FAutoLineReduction,this.FBreak=s.FBreak,this.FCaption=s.FCaption,this.FChecked=s.FChecked,this.FDefault=s.FDefault,this.FEnabled=s.FEnabled,this.FGroupIndex=s.FGroupIndex,this.FHelpContext=s.FHelpContext,this.FHint=s.FHint,this.FImageIndex=s.FImageIndex,this.FRadioItem=s.FRadioItem,this.FShortCut=s.FShortCut,this.FVisible=s.FVisible,this.FElementClassName=s.FElementClassName,o=this.GetParentMenu(),null!=this.FParentItem&&this.SetName(o.GetUniqueName(s.FCaption)),null!=s.FItems)){if(null!=this.FItems){for(var r=this.FItems.GetCount()-1;r>=0;r--)i=r,this.RemoveItem(this.GetParentMenu().FParent,this.FItems.GetItem(i));this.FItems.Clear()}else this.FItems=t.TMenuItemList.$create("Create$1");for(var a=0,l=s.FItems.GetCount()-1;a<=l;a++)i=a,(n=t.TMenuItem.$create("Create$1",[o.FOwner])).FParentMenu=o,n.FParentItem=this,n.Assign(s.FItems.GetItem(i)),this.FItems.Add(n)}},this.SetParentComponent=function(e){pas.Classes.TComponent.SetParentComponent.apply(this,arguments),this.FParentMenu=e,null!==e&&(t.TCustomMainMenu.isPrototypeOf(e)?e.FItems.IsChild(this)||e.FItems.Add(this):t.TMenuItem.isPrototypeOf(e)&&(e.IsChild(this)||e.Add(this)))},this.Add=function(t){this.Insert$1(this.GetCount(),t)},this.Insert$1=function(e,i){null===this.FItems&&(this.FItems=t.TMenuItemList.$create("Create$1")),this.FItems.Insert(e,i),i.FParentItem=this,null!=i.GetParentMenu()&&i.GetParentMenu().UpdateElement()},this.IsChild=function(t){var e=!1,i=0;if(e=!1,null==this.FItems)return e;for(var s=0,n=this.FItems.GetCount()-1;s<=n;s++)i=s,this.FItems.GetItem(i)===t&&(e=!0);return e},this.GetParentMenu=function(){var e=null,i=null;for(e=null,i=this.FParentMenu;null!=i&&t.TMenuItem.isPrototypeOf(i);)i=i.FParentMenu;return null!=i&&(e=i),e},this.RemoveItem=function(t,e){var i=0;if(null!=e.FItems)for(var s=e.FItems.GetCount()-1;s>=0;s--)i=s,this.RemoveItem(t,e.FItems.GetItem(i));t.RemoveComponent(e)},this.Click=function(){null!=this.FOnClick&&this.FOnClick(this)},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("AutoCheck",0,rtl.boolean,"FAutoCheck","FAutoCheck",{Default:!1}),e.addProperty("AutoHotkeys",0,t.$rtti.TMenuItemAutoFlag,"FAutoHotkeys","FAutoHotkeys",{Default:t.TMenuItemAutoFlag.maParent}),e.addProperty("AutoLineReduction",0,t.$rtti.TMenuItemAutoFlag,"FAutoLineReduction","FAutoLineReduction",{Default:t.TMenuItemAutoFlag.maParent}),e.addProperty("Break",0,t.$rtti.TMenuBreak,"FBreak","FBreak",{Default:t.TMenuBreak.mbNone}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("Checked",2,rtl.boolean,"FChecked","SetChecked",{Default:!1}),e.addProperty("Default",0,rtl.boolean,"FDefault","FDefault",{Default:!1}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("GroupIndex",0,rtl.byte,"FGroupIndex","FGroupIndex",{Default:0}),e.addProperty("HelpContext",0,t.$rtti.THelpContext,"FHelpContext","FHelpContext",{Default:0}),e.addProperty("Hint",0,rtl.string,"FHint","FHint"),e.addProperty("ImageIndex",2,rtl.longint,"FImageIndex","SetImageIndex",{Default:-1}),e.addProperty("RadioItem",0,rtl.boolean,"FRadioItem","FRadioItem",{Default:!1}),e.addProperty("ShortCut",0,t.$rtti.TShortCut,"FShortCut","FShortCut",{Default:0}),e.addProperty("Visible",0,rtl.boolean,"FVisible","FVisible",{Default:!0}),e.addProperty("ElementClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","FElementClassName"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick")})),this.$rtti.$Class("TMainMenuAppearance"),rtl.createClass(this,"THamburgerMenu",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FVisible=0,this.FCaption="",this.FBackgroundColor=0,this.FCaptionColor=0,this.FResponsiveMaxWidth=0},this.$final=function(){this.FOwner=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetVisible=function(t){this.FVisible!==t&&(this.FVisible=t,this.FOwner.FOwner.UpdateElement())},this.SetBackgroundColor=function(t){this.FBackgroundColor!==t&&(this.FBackgroundColor=t,this.FOwner.FOwner.UpdateElement())},this.SetCaption=function(t){this.FCaption!==t&&(this.FCaption=t,this.FOwner.FOwner.UpdateElement())},this.SetCaptionColor=function(t){this.FCaptionColor!==t&&(this.FCaptionColor=t,this.FOwner.FOwner.UpdateElement())},this.SetResponsiveMaxWidth=function(t){this.FResponsiveMaxWidth!==t&&(this.FResponsiveMaxWidth=t,this.FOwner.FOwner.UpdateElement())},this.Create$1=function(t){return this.FBackgroundColor=12632256,this.FCaption="Menu",this.FCaptionColor=16777215,this.FVisible=2,this.FResponsiveMaxWidth=768,this.FOwner=t,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.Assign=function(e){pas.Classes.TPersistent.Assign.apply(this,arguments),t.THamburgerMenu.isPrototypeOf(e)&&(this.FBackgroundColor=rtl.as(e,t.THamburgerMenu).FBackgroundColor,this.FCaption=rtl.as(e,t.THamburgerMenu).FCaption,this.FCaptionColor=rtl.as(e,t.THamburgerMenu).FCaptionColor,this.FVisible=rtl.as(e,t.THamburgerMenu).FVisible,this.FResponsiveMaxWidth=rtl.as(e,t.THamburgerMenu).FResponsiveMaxWidth)};var e=this.$rtti;e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("CaptionColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FCaptionColor","SetCaptionColor",{Default:16777215}),e.addProperty("BackgroundColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBackgroundColor","SetBackgroundColor",{Default:12632256}),e.addProperty("Visible",2,t.$rtti.TMainMenuHamburgerMenuVisible,"FVisible","SetVisible",{Default:t.TMainMenuHamburgerMenuVisible.hmResponsive}),e.addProperty("ResponsiveMaxWidth",2,rtl.longint,"FResponsiveMaxWidth","SetResponsiveMaxWidth",{Default:768})})),rtl.createClass(this,"TMainMenuAppearance",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOwner=null,this.FBackgroundColor=0,this.FHoverFontColor=0,this.FHoverColor=0,this.FImageURLs=null,this.FHamburgerMenu=null,this.FImageSize=0,this.FSubmenuIndicator=""},this.$final=function(){this.FOwner=void 0,this.FImageURLs=void 0,this.FHamburgerMenu=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetBackgroundColor=function(t){this.FBackgroundColor!==t&&(this.FBackgroundColor=t,this.FOwner.UpdateElement())},this.SetHoverColor=function(t){this.FHoverColor!==t&&(this.FHoverColor=t,this.FOwner.UpdateElement())},this.SetHoverFontColor=function(t){this.FHoverFontColor!==t&&(this.FHoverFontColor=t,this.FOwner.UpdateElement())},this.SetImageURLs=function(t){this.FImageURLs.Assign(t)},this.SetImageSize=function(t){this.FImageSize!==t&&(this.FImageSize=t,this.FOwner.UpdateElement())},this.SetSubmenuIndicator=function(t){this.FSubmenuIndicator!==t&&(this.FSubmenuIndicator=t,this.FOwner.UpdateElement())},this.HandleImageURLsChanged=function(t){this.FOwner.UpdateElement()},this.Create$1=function(e){return this.FBackgroundColor=15790320,this.FHoverColor=14120960,this.FHoverFontColor=197379,this.FHamburgerMenu=t.THamburgerMenu.$create("Create$1",[this]),this.FImageURLs=pas.Classes.TStringList.$create("Create$1"),this.FImageURLs.SetSkipLastLineBreak(!0),this.FImageURLs.FOnChange=rtl.createCallback(this,"HandleImageURLsChanged"),this.FImageSize=16,this.FSubmenuIndicator="&#9658;",this.FOwner=e,this},this.Destroy=function(){rtl.free(this,"FHamburgerMenu"),rtl.free(this,"FImageURLs"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){pas.Classes.TPersistent.Assign.apply(this,arguments),t.TMainMenu.isPrototypeOf(e)&&(this.FBackgroundColor=rtl.as(e,t.TMainMenuAppearance).FBackgroundColor,this.FHoverColor=rtl.as(e,t.TMainMenuAppearance).FHoverColor,this.FHoverFontColor=rtl.as(e,t.TMainMenuAppearance).FHoverFontColor,this.FHamburgerMenu.Assign(rtl.as(e,t.TMainMenuAppearance).FHamburgerMenu),this.FImageURLs.Assign(rtl.as(e,t.TMainMenuAppearance).FImageURLs),this.FImageSize=rtl.as(e,t.TMainMenuAppearance).FImageSize,this.FSubmenuIndicator=rtl.as(e,t.TMainMenuAppearance).FSubmenuIndicator)};var e=this.$rtti;e.addProperty("BackgroundColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBackgroundColor","SetBackgroundColor",{Default:15790320}),e.addProperty("HamburgerMenu",0,t.$rtti.THamburgerMenu,"FHamburgerMenu","FHamburgerMenu"),e.addProperty("HoverColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FHoverColor","SetHoverColor",{Default:14120960}),e.addProperty("HoverFontColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FHoverFontColor","SetHoverFontColor",{Default:197379}),e.addProperty("ImageURLs",2,pas.Classes.$rtti.TStringList,"FImageURLs","SetImageURLs"),e.addProperty("ImageSize",2,rtl.longint,"FImageSize","SetImageSize",{Default:16}),e.addProperty("SubmenuIndicator",2,rtl.string,"FSubmenuIndicator","SetSubmenuIndicator")})),rtl.createClass(this,"TCustomMainMenu",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FItems=null,this.FOnChange=null},this.$final=function(){this.FItems=void 0,this.FOnChange=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.IsUpdating()||null!=this.GetElementHandle()&&this.UpdateElement()},this.UpdateElement=function(){pas["WEBLib.Controls"].TControl.UpdateElement.call(this),this.IsUpdating()},this.GetUniqueName=function(t){var i="",s=0,n=0,o=!1;n=1,""===t&&(t=this.FName+"item"),t=e.MakeValidName(t);do{i=t+pas.SysUtils.IntToStr(n),o=!0;for(var r=0,a=this.FOwner.GetComponentCount()-1;r<=a;r++)if(s=r,this.FOwner.GetComponent(s).FName===i){o=!1,n+=1;break}}while(!o);return i},this.SetName=function(t){pas["WEBLib.Controls"].TCustomControl.SetName.apply(this,arguments),this.IsUpdating()||0 in this.FComponentState||this.UpdateElement()},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FItems=t.TMenuItem.$create("Create$1",[this]),this.FItems.FParentMenu=this,this.SetWidthStyle(2),this.SetHeight(30)},this.Destroy=function(){rtl.free(this,"FItems"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown);var i=this.$rtti;i.addProperty("Items",0,t.$rtti.TMenuItem,"FItems",""),i.addProperty("OnChange",0,t.$rtti.TMainMenuChangeEvent,"FOnChange","FOnChange")})),rtl.createClass(this,"TMainMenu",this.TCustomMainMenu,(function(){this.$init=function(){t.TCustomMainMenu.$init.call(this),this.FMenu=null,this.FMainMenu=!1,this.FMenuIndex=0,this.FAppearance=null,this.FContainer$1=null,this.FIsPopupMenu=!1,this.FShowPopup=!1},this.$final=function(){this.FMenu=void 0,this.FAppearance=void 0,this.FContainer$1=void 0,t.TCustomMainMenu.$final.call(this)},this.HandleChange=function(t){var e=null,i=null;return!0,this.FIsPopupMenu&&(this.FShowPopup=!1,this.UpdateElement()),(e=t.target).hasAttribute("id")||(e=e.parentElement),null!=(i=this.GetItemByName(this.FItems,e.id))&&(i.FAutoCheck&&i.SetChecked(!i.FChecked),null!=this.FOnChange&&this.FOnChange(this,i,!1),i.Click()),!0},this.Loaded=function(){t.TCustomMainMenu.Loaded.call(this),this.IsUpdating()||null!=this.GetElementHandle()&&this.UpdateElement()},this.UpdateElement=function(){var e,i="",s="",n="",o="",r="",a=null,l=null,h=null,d=null,u=null,c=null,p=null;t.TCustomMainMenu.UpdateElement.call(this),this.IsUpdating()||null==this.GetElementHandle()&&null==this.FContainer$1||(null!=this.FContainer$1?(a=this.FContainer$1.GetElementHandle(),this.SetVisible(!1)):((a=this.GetElementHandle()).style.setProperty("top",pas.SysUtils.IntToStr(this.GetTop())+"px"),a.style.setProperty("left",pas.SysUtils.IntToStr(this.GetLeft())+"px"),4 in this.FComponentState&&null==this.FContainer$1&&this.GetElementHandle().style.setProperty("background-color","silver")),this.FMenu=a.firstChild,null!=this.FMenu&&this.FMenu.parentElement.removeChild(this.FMenu),3 in this.FComponentState||(this.FMenu=document.createElement("NAV"),this.FMenu.setAttribute("id",this.GetID()+"menu"),this.FMenu.innerHTML="",null!=this.FContainer$1&&(this.FMenu.style.setProperty("top","0"),this.FMenu.style.setProperty("left","0"),this.FMenu.style.setProperty("position","absolute"),this.FMenu.style.setProperty("width","100%"),this.FMenu.style.setProperty("z-index","999997")),a.innerHTML="",a.style.setProperty("overflow","visible"),0!==this.FAppearance.FHamburgerMenu.FVisible&&(r=this.FShowPopup?"block":"none",n="  #"+this.GetID()+"menu .main-menu {\r    display: block;\r  }\r  #"+this.GetID()+"menu #toggle-menu {\r    display: none;\r  }\r  #"+this.GetID()+"menu ul span.drop-label {\r    display: inline-block;\r  }\r  #"+this.GetID()+"menu li {\r    float: left;\r    border-width: 0 1px 0 0;\r  }\r  #"+this.GetID()+"menu .popup-menu li, \r  #"+this.GetID()+"menu .sub-menu li {\r    float: none;\r  }\r  #"+this.GetID()+"menu .sub-menu {\r    top: 100%;\r  }\r  #"+this.GetID()+"menu .popup-menu { \r    top: 0;\r  }\r  #"+this.GetID()+"menu .popup-menu, \r  #"+this.GetID()+"menu .sub-menu {\r    border-width: 0;\r    margin: 0;\r    position: absolute;\r    left: 0;\r    min-width: 12em;\r    z-index: 9999999;\r\t   white-space: nowrap;\r  }\r  #"+this.GetID()+"menu .sub-menu {\r    top: 100%;\r  }\r  #"+this.GetID()+"menu .popup-menu { \r    display: "+r+";\r  }\r  #"+this.GetID()+"menu .sub-menu,\r  #"+this.GetID()+'menu input[type="checkbox"]:checked + .popup-menu,\r  #'+this.GetID()+'menu input[type="checkbox"]:checked + .sub-menu {\r    display: none;\r  }\r  #'+this.GetID()+"menu .popup-menu li, \r  #"+this.GetID()+"menu .sub-menu li {\r    border-width: 1px;\r  }\r  #"+this.GetID()+"menu .popup-menu .sub-menu, \r  #"+this.GetID()+"menu .sub-menu .sub-menu {\r    top: 0;\r    left: 100%;\r  }\r  #"+this.GetID()+'menu li:hover > input[type="checkbox"] + .popup-menu, \r  #'+this.GetID()+'menu li:hover > input[type="checkbox"] + .sub-menu {\r    display: block;\r  }\r',2===this.FAppearance.FHamburgerMenu.FVisible&&(n="@media only screen and (min-width: "+pas.SysUtils.IntToStr(this.FAppearance.FHamburgerMenu.FResponsiveMaxWidth)+"px) {\r"+n+"}")),this.FAppearance.FImageSize>0&&(o="  width: "+pas.SysUtils.IntToStr(this.FAppearance.FImageSize)+"px;\r  height: "+pas.SysUtils.IntToStr(this.FAppearance.FImageSize)+"px;\r"),i="#"+this.GetID()+"menu ul {\r  margin: 0;\r  padding: 0;\r}\r#"+this.GetID()+"menu .main-menu {\r  display: none;\r}\r#"+this.GetID()+"menu .popup-menu {\r  display: block;\r}\r#"+this.GetID()+"menu label img.icon,#"+this.GetID()+"menu label span.checked {\r"+o+"  margin-right: 10px;\r  pointer-events: none;\r}\r#tm:checked + .main-menu {\r  display: block;\r}\r#"+this.GetID()+'menu input[type="checkbox"],\r#'+this.GetID()+"menu ul span.drop-label {\r  display: none;\r}\r#"+this.GetID()+"menu li,\r#"+this.GetID()+"menu #toggle-menu,\r#"+this.GetID()+"menu .popup-menu,\r#"+this.GetID()+"menu .sub-menu {\r  border-width: 1px;\r  border-style: solid;\r  border-color: rgba(0, 0, 0, .05);\r  border-bottom: 0px;\r  border-top: 0px;\r}\r#"+this.GetID()+"menu li,\r#"+this.GetID()+"menu #toggle-menu {\r  border-width: 0 0 3px;\r}\r#"+this.GetID()+"menu .popup-menu,\r#"+this.GetID()+"menu .sub-menu {\r  border-width: 1px 1px 0;\r  margin: 0 1em;\r}\r#"+this.GetID()+"menu .popup-menu li:first-child,\r#"+this.GetID()+"menu .sub-menu li:first-child {\r  border-top: 1px solid;\r  border-color: rgba(0, 0, 0, .05);\r}\r#"+this.GetID()+"menu .popup-menu li:last-child,\r#"+this.GetID()+"menu .sub-menu li:last-child {\r  border-bottom: 1px solid;\r  border-color: rgba(0, 0, 0, .05);\r}\r#"+this.GetID()+"menu li,\r#"+this.GetID()+"menu #toggle-menu,\r#"+this.GetID()+"menu li label {\r  position: relative;\r  display: block;\r}\r#"+this.GetID()+"menu #toggle-menu,\r#"+this.GetID()+"menu li label { \r  padding: 0.75em 1.5em;\r  text-decoration: none;\r}\r#"+this.GetID()+"menu li span.menu-separator { \r  display: block;\r  width: 100%;\r  height: 1px;\r  background-color: rgba(0, 0, 0, .05);\r}\r#"+this.GetID()+"menu .popup-menu, \r#"+this.GetID()+"menu .sub-menu {\r  display: none;\r}\r#"+this.GetID()+'menu input[type="checkbox"]:checked + .popup-menu,\r#'+this.GetID()+'menu input[type="checkbox"]:checked + .sub-menu {\r  display: block;\r  z-index: 3000;\r}\r#'+this.GetID()+"menu span.drop-icon {\r  margin-left: 10px;}\r#"+this.GetID()+"menu span.hamburger-icon {\r  float: right;\r  padding: 0;\r  margin: 0;\r  font-weight: 900;\r}\r@media only screen and (max-width: 64em) and (min-width: 52.01em) {\r  #"+this.GetID()+"menu li {\r    width: auto;\r  }\r  #"+this.GetID()+"menu .sub-menu li {\r    width: auto;\r  }\r}\r",""===this.FElementClassName&&(s="#"+this.GetID()+"menu .popup-menu, \r#"+this.GetID()+"menu .sub-menu {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FBackgroundColor)+";\r}\r@media only screen and (max-width: 64em) and (min-width: 52.01em) {\r#"+this.GetID()+"menu .sub-menu {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHamburgerMenu.FBackgroundColor)+";\r}\r}\r#"+this.GetID()+"menu li,\r#"+this.GetID()+"menu #toggle-menu,\r#"+this.GetID()+"menu li label {\r}\r#"+this.GetID()+"menu #toggle-menu {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHamburgerMenu.FBackgroundColor)+";\r  color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHamburgerMenu.FCaptionColor)+";\r}\r#"+this.GetID()+"menu .main-menu li label {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FBackgroundColor)+";\r}\r#"+this.GetID()+"menu li label:hover {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHoverColor)+";\r  color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHoverFontColor)+";\r}\r#"+this.GetID()+"menu .popup-menu label:hover, \r#"+this.GetID()+"menu .sub-menu label:hover {\r  background-color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHoverColor)+";\r  color: "+pas["WEBLib.Graphics"].ColorToHTML(this.FAppearance.FHoverFontColor)+";\r}\r"),i=i+s+n,this.FMainMenu=!0,this.FMenuIndex=0,(c=document.createElement("STYLE")).innerHTML=i,(p=document.createElement("SCRIPT")).innerHTML="function "+this.GetID()+'MenuClick(ctrl){  el = ctrl.parentElement.parentElement;  el.style.display = "none";  setTimeout(function(){el.style.removeProperty("display")}, 25);}function '+this.GetID()+'MenuOut(ctrl){  menuel = document.getElementById("'+this.GetID()+'");  if(menuel) {     popupel = menuel.getElementsByClassName("popup-menu");    if(popupel)       setTimeout(function(){popupel[0].style.display = "none"}, 25);  }}',(l=document.createElement("LABEL")).setAttribute("for","tm"),l.setAttribute("id","toggle-menu"),l.innerHTML=this.FAppearance.FHamburgerMenu.FCaption,(h=document.createElement("SPAN")).setAttribute("class","drop-label"),l.appendChild(h),(d=document.createElement("SPAN")).setAttribute("class","hamburger-icon"),d.innerHTML="&#9776;",h.appendChild(d),(u=document.createElement("INPUT")).setAttribute("type","checkbox"),u.setAttribute("id","tm"),this.FMenu.appendChild(c),this.FMenu.appendChild(p),this.FMenu.appendChild(l),this.FMenu.appendChild(u),null!==(e=this.GetMenuSource(this.FItems))&&this.FMenu.appendChild(e),a.appendChild(this.FMenu)))},this.GetMenuSource=function(t){var i=null,s=0,n=null,o="",r=null,a=null,l=null,h=null,d=0,u="";if(i=null,null!=t.FItems&&t.FItems.GetCount()>0){i=document.createElement("UL"),this.FMainMenu?(this.FMainMenu=!1,o=this.FIsPopupMenu?"popup-menu":"main-menu"):o="sub-menu",this.FMenuIndex=this.FMenuIndex+1,i.setAttribute("class",o);for(var c=0,p=t.FItems.GetCount()-1;c<=p;c++)s=c,d+=1,""===(n=t.FItems.GetItem(s)).FName&&(u=pas.SysUtils.StringReplace(n.FCaption," ","",rtl.createSet(0)),""===(u=e.MakeValidName(u))&&(u="MenuItem"+pas.SysUtils.IntToStr(d)),n.SetName(u+pas.SysUtils.IntToStr(d))),n.FVisible&&(r=document.createElement("LI"),"-"!==n.FCaption?((a=document.createElement("LABEL")).setAttribute("class","drop-label"),a.setAttribute("title",n.FHint),n.FImageIndex>=0&&this.FAppearance.FImageURLs.GetCount()>n.FImageIndex?a.innerHTML='<img class="icon" src="'+this.FAppearance.FImageURLs.Get(n.FImageIndex)+'">':n.FChecked&&(n.FRadioItem?a.innerHTML='<span class="checked">&#9679;</span>':a.innerHTML='<span class="checked">&#10004;</span>'),a.innerHTML=a.innerHTML+n.FCaption):((a=document.createElement("SPAN")).setAttribute("class","menu-separator"),a.innerHTML=""),null!=n.FItems&&n.FItems.GetCount()>0?((h=document.createElement("SPAN")).setAttribute("class","drop-icon"),h.innerHTML=this.FAppearance.FSubmenuIndicator,a.setAttribute("for","sm"+pas.SysUtils.IntToStr(this.FMenuIndex)),a.appendChild(h),(l=document.createElement("INPUT")).setAttribute("type","checkbox"),l.setAttribute("id","sm"+pas.SysUtils.IntToStr(this.FMenuIndex)),r.appendChild(a),r.appendChild(l),r.appendChild(this.GetMenuSource(n))):(a.setAttribute("for","tm"),a.setAttribute("id",n.FName),n.FEnabled?("sub-menu"===o&&n.FEnabled&&a.setAttribute("onMouseUp",this.GetID()+"MenuClick(this);"),a.addEventListener("click",rtl.createSafeCallback(this,"HandleChange"))):a.style.setProperty("color","gray"),r.appendChild(a)),i.appendChild(r))}return i},this.GetItemByName=function(t,e){var i=null,s=0,n=null;if(i=null,null!=t.FItems)for(var o=0,r=t.FItems.GetCount()-1;o<=r;o++){if(s=o,(n=t.FItems.GetItem(s)).FName===e)return i=n,null!=n.FOnClick&&(i.FOnClick=n.FOnClick),i;null==i&&(i=this.GetItemByName(n,e))}return i},this.CreateInitialize=function(){t.TCustomMainMenu.CreateInitialize.call(this),this.FAppearance=t.TMainMenuAppearance.$create("Create$1",[this]),this.FContainer$1=null,this.FMainMenu=!0,this.FMenuIndex=0,this.FIsPopupMenu=!1,this.FShowPopup=!1,this.SetTop(0),this.SetLeft(0),this.SetWidth(100),4 in this.FComponentState&&(this.SetElementPosition(1),this.SetWidthPercent(100),this.SetWidthStyle(0))},this.CreateElement=function(){var t=null,e=null;return 4 in this.FComponentState?(t=document.createElement("DIV"),(e=document.createElement("DIV")).innerHTML="TWebMainMenu",this.SetBorderStyle(1),e.setAttribute("align","center"),e.style.setProperty("border","1px solid gray"),e.style.setProperty("vertical-align","middle"),e.style.setProperty("display","table-cell"),t.appendChild(e)):(t=document.createElement("DIV"),this.FIsPopupMenu&&t.setAttribute("onMouseLeave",this.GetID()+"MenuOut(this);")),t},this.Destroy=function(){rtl.free(this,"FAppearance"),t.TCustomMainMenu.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown);var i=this.$rtti;i.addProperty("Appearance",0,t.$rtti.TMainMenuAppearance,"FAppearance","FAppearance"),i.addProperty("Container",0,pas["WEBLib.Controls"].$rtti.TControl,"FContainer$1","FContainer$1")})),rtl.createClass(this,"TPopupMenu",this.TMainMenu,(function(){this.CreateInitialize=function(){t.TMainMenu.CreateInitialize.call(this),this.FAppearance.FHamburgerMenu.SetVisible(1),this.FIsPopupMenu=!0},this.Popup=function(t,e){this.SetTop(e),this.SetLeft(t),this.FShowPopup=!0,this.UpdateElement(),this.FShowPopup=!1},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TWebCustomControl",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FPopupMenu=null},this.$final=function(){this.FPopupMenu=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.HandleDoContextMenu=function(t){var e=!1,i=pas.Types.TPoint.$new(),s=null,n=null;return pas["WEBLib.Controls"].TControl.HandleDoContextMenu.apply(this,arguments),null!=this.FPopupMenu&&(t.stopPropagation(),t.preventDefault(),i.$assign(pas.Types.Point(Math.round(t.clientX),Math.round(t.clientY))),null!=(s=pas["WEBLib.Forms"].GetParentForm(this))&&null!=s.GetContainer()&&(n=s.GetContainer().getBoundingClientRect(),i.x=i.x-Math.round(n.left),i.y=i.y-Math.round(n.top)),this.FPopupMenu.Popup(i.x,i.y),e=!0),e},this.Notification=function(t,e){pas.Classes.TComponent.Notification.apply(this,arguments),1===e&&t===this.FPopupMenu&&(this.FPopupMenu=null)},rtl.addIntf(this,pas.System.IUnknown)})),t.$implcode=function(){var t=rtl.createSet(null,65,90,null,97,122,95),i=rtl.unionSet(t,rtl.createSet(null,48,57));e.MakeValidName=function(t){var e="",s=0;e="";for(var n=1,o=t.length;n<=o;n++)s=n,t.charCodeAt(s-1)in i&&(e+=t.charAt(s-1));return e}}}),["Types","WEBLib.Forms"]),rtl.module("WEBLib.WebCtrls",["System","Classes","WEBLib.Controls","WEBLib.Graphics","SysUtils","Web","JS","WEBLib.Menus"],(function(){"use strict";rtl.createClass(this,"THTMLDiv",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FHTML=null,this.FOldText=""},this.$final=function(){this.FHTML=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.SetHTML=function(t){this.FHTML.Assign(t)},this.UpdateElementData=function(){pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),null!=this.GetElementHandle()?(""===this.FOldText&&""===this.FHTML.GetTextStr()||(this.GetElementHandle().innerHTML=this.FHTML.GetTextStr()),this.FOldText=this.FHTML.GetTextStr()):!this.GetIsLinked()&&4 in this.FComponentState&&this.RenderDesigning(this.$classname,this.GetContainer(),this,!0,"")},this.HTMLChanged=function(t){this.UpdateElementData()},this.CreateElement=function(){return document.createElement("DIV")},this.CreateInitialize=function(){this.FHTML=pas.Classes.TStringList.$create("Create$1"),this.FHTML.SetSkipLastLineBreak(!0),rtl.as(this.FHTML,pas.Classes.TStringList).FOnChange=rtl.createCallback(this,"HTMLChanged"),pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FControlStyle=rtl.unionSet(this.FControlStyle,rtl.createSet(0)),this.SetClipChildren(!1),this.SetTabStop(!1)},this.Destroy=function(){rtl.free(this,"FHTML"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),t.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),t.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),t.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),t.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),t.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),t.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),t.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),t.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),t.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),t.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("HTML",2,pas.Classes.$rtti.TStrings,"FHTML","SetHTML"),t.addProperty("Role",3,rtl.string,"GetRole","SetRole"),t.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),t.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),t.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),t.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),t.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),t.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),t.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),t.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),t.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),t.addProperty("OnTouchStart",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchStart","FOnTouchStart"),t.addProperty("OnTouchEnd",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchEnd","FOnTouchEnd"),t.addProperty("OnTouchMove",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchMove","FOnTouchMove"),t.addProperty("OnTouchCancel",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchCancel","FOnTouchCancel"),t.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),t.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),t.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),t.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")}))}),["WEBLib.Dialogs","WEBLib.WebTools"]),rtl.module("WEBLib.Consts",["System"],(function(){"use strict";this.$resourcestrings={SWarning:{org:"Warning"},SError:{org:"Error"},SInformation:{org:"Information"},SConfirm:{org:"Confirm"},SOK:{org:"OK"},SCancel:{org:"Cancel"},SYes:{org:"Yes"},SNo:{org:"No"},SAbort:{org:"Abort"},SRetry:{org:"Retry"},SIgnore:{org:"Ignore"},SHelp:{org:"Help"},SClose:{org:"Close"},SAll:{org:"All"},SYesToAll:{org:"Yes to all"},SNoToAll:{org:"No to all"},SWarningFR:{org:"Avertissement"},SErrorFR:{org:"Erreur"},SInformationFR:{org:"Information"},SConfirmFR:{org:"Confirmer"},SOKFR:{org:"OK"},SCancelFR:{org:"Annuler"},SYesFR:{org:"Oui"},SNoFR:{org:"Non"},SAbortFR:{org:"Interrompre"},SRetryFR:{org:"Réessayer"},SIgnoreFR:{org:"Ignorer"},SHelpFR:{org:"Aide"},SCloseFR:{org:"Fermer"},SAllFR:{org:"Tout"},SYesToAllFR:{org:"Oui à tout"},SNoToAllFR:{org:"Non à tout"},SWarningDE:{org:"Warnung"},SErrorDE:{org:"Fehler"},SInformationDE:{org:"Information"},SConfirmDE:{org:"Bestätigen"},SOKDE:{org:"OK"},SCancelDE:{org:"Verzögern"},SYesDE:{org:"Ja"},SNoDE:{org:"Nein"},SAbortDE:{org:"Abbrechen"},SRetryDE:{org:"Wiederholen"},SIgnoreDE:{org:"Ignorieren"},SHelpDE:{org:"Hilfe"},SCloseDE:{org:"Schließen"},SAllDE:{org:"Alles"},SYesToAllDE:{org:"Ja auf Alles"},SNoToAllDE:{org:"Nein auf Alles"},SWarningES:{org:"Advertencia"},SErrorES:{org:"Error"},SInformationES:{org:"Información"},SConfirmES:{org:"Confirmado"},SOKES:{org:"OK"},SCancelES:{org:"Cancelar"},SYesES:{org:"Sí"},SNoES:{org:"No"},SAbortES:{org:"Abortar"},SRetryES:{org:"Rever"},SIgnoreES:{org:"Ignorar"},SHelpES:{org:"Ayudar"},SCloseES:{org:"Cerrar"},SAllES:{org:"Todos"},SYesToAllES:{org:"Sí a todo"},SNoToAllES:{org:"No a todo"},SWarningNL:{org:"Waarschuwing"},SErrorNL:{org:"Fout"},SInformationNL:{org:"Informatie"},SConfirmNL:{org:"Bevestiging"},SOKNL:{org:"OK"},SCancelNL:{org:"Afbreken"},SYesNL:{org:"Ja"},SNoNL:{org:"Nee"},SAbortNL:{org:"Afbreken"},SRetryNL:{org:"Opnieuw"},SIgnoreNL:{org:"Negeren"},SHelpNL:{org:"Hulp"},SCloseNL:{org:"Sluiten"},SAllNL:{org:"Alles"},SYesToAllNL:{org:"Ja op alles"},SNoToAllNL:{org:"Nee op alles"}}})),rtl.module("WEBLib.Dialogs",["System","Classes","WEBLib.Controls","Web","JS","SysUtils","WEBLib.WebTools","WEBLib.WebCtrls","WEBLib.Graphics"],(function(){"use strict";var t=this,e=t.$impl;this.TMsgDlgType={0:"mtWarning",mtWarning:0,1:"mtError",mtError:1,2:"mtInformation",mtInformation:2,3:"mtConfirmation",mtConfirmation:3,4:"mtCustom",mtCustom:4},this.$rtti.$Enum("TMsgDlgType",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TMsgDlgType}),this.TMsgDlgBtn={0:"mbYes",mbYes:0,1:"mbNo",mbNo:1,2:"mbOK",mbOK:2,3:"mbCancel",mbCancel:3,4:"mbAbort",mbAbort:4,5:"mbRetry",mbRetry:5,6:"mbIgnore",mbIgnore:6,7:"mbAll",mbAll:7,8:"mbNoToAll",mbNoToAll:8,9:"mbYesToAll",mbYesToAll:9,10:"mbHelp",mbHelp:10,11:"mbClose",mbClose:11},this.$rtti.$Enum("TMsgDlgBtn",{minvalue:0,maxvalue:11,ordtype:1,enumtype:this.TMsgDlgBtn}),this.$rtti.$Set("TMsgDlgButtons",{comptype:this.$rtti.TMsgDlgBtn}),rtl.createClass(this,"TCustomDialogButton",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FCaption="",this.FTag=0,this.FElementClassName=""};var t=this.$rtti;t.addProperty("Caption",0,rtl.string,"FCaption","FCaption"),t.addProperty("ElementClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","FElementClassName"),t.addProperty("Tag",0,rtl.longint,"FTag","FTag",{Default:0})})),rtl.createClass(this,"TCustomDialogButtons",pas.Classes.TOwnedCollection,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TMessageDlg",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FOpacity=0,this.FLayer$1=null,this.FDlg=null,this.FCancel=null,this.FMessage="",this.FTitle="",this.FMsgDlgType=0,this.FOnButtonClick=null,this.FOnClose=null,this.FButtons={},this.FDialogProc=null,this.FDialogResult=0,this.FMdx=0,this.FMdy=0,this.FDlgX=0,this.FDlgY=0,this.FCaptured$1=!1,this.FDown=!1,this.FElementTitleClassName="",this.FElementButtonClassName="",this.FElementContentClassName="",this.FDialogText=null,this.FCustomButtons=null,this.FElementDialogClassName="",this.FAutoLanguage=!1},this.$final=function(){this.FLayer$1=void 0,this.FDlg=void 0,this.FCancel=void 0,this.FOnButtonClick=void 0,this.FOnClose=void 0,this.FButtons=void 0,this.FDialogProc=void 0,this.FDialogText=void 0,this.FCustomButtons=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.SetDialogText=function(t){this.FDialogText.Assign(t)},this.SetCustomButtons=function(t){this.FCustomButtons.Assign(t)},this.CreateElement=function(){var t=null;return 4 in this.FComponentState?t=null:pas["WEBLib.Controls"].TCustomControl.CreateElement.call(this),t};this.GetDialogText=function(t){var e="",i="",s=0;if(e="Undefined",t<this.FDialogText.GetCount()&&(e=this.FDialogText.Get(t)),this.FAutoLanguage){i=pas["WEBLib.WebTools"].GetBrowserLocale(),s=0,1===pas.System.Pos("es",i)&&(s=3),1===pas.System.Pos("fr",i)&&(s=1),1===pas.System.Pos("de",i)&&(s=2),1===pas.System.Pos("nl",i)&&(s=4);var n=s;if(3===n){var o=t;0===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SWarningES"):1===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SErrorES"):2===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SInformationES"):3===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SConfirmES"):5===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SOKES"):6===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SCancelES"):7===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesES"):8===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoES"):9===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SAbortES"):10===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SRetryES"):11===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SIgnoreES"):12===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SAllES"):13===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesToAllES"):14===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoToAllES"):15===o?e=rtl.getResStr(pas["WEBLib.Consts"],"SHelpES"):16===o&&(e=rtl.getResStr(pas["WEBLib.Consts"],"SCloseES"))}else if(1===n){var r=t;0===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SWarningFR"):1===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SErrorFR"):2===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SInformationFR"):3===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SConfirmFR"):5===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SOKFR"):6===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SCancelFR"):7===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesFR"):8===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoFR"):9===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SAbortFR"):10===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SRetryFR"):11===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SIgnoreFR"):12===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SAllFR"):13===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesToAllFR"):14===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoToAllFR"):15===r?e=rtl.getResStr(pas["WEBLib.Consts"],"SHelpFR"):16===r&&(e=rtl.getResStr(pas["WEBLib.Consts"],"SCloseFR"))}else if(2===n){var a=t;0===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SWarningDE"):1===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SErrorDE"):2===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SInformationDE"):3===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SConfirmDE"):5===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SOKDE"):6===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SCancelDE"):7===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesDE"):8===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoDE"):9===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SAbortDE"):10===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SRetryDE"):11===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SIgnoreDE"):12===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SAllDE"):13===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesToAllDE"):14===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoToAllDE"):15===a?e=rtl.getResStr(pas["WEBLib.Consts"],"SHelpDE"):16===a&&(e=rtl.getResStr(pas["WEBLib.Consts"],"SCloseDE"))}else if(4===n){var l=t;0===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SWarningNL"):1===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SErrorNL"):2===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SInformationNL"):3===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SConfirmNL"):5===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SOKNL"):6===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SCancelNL"):7===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesNL"):8===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoNL"):9===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SAbortNL"):10===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SRetryNL"):11===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SIgnoreNL"):12===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SAllNL"):13===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SYesToAllNL"):14===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SNoToAllNL"):15===l?e=rtl.getResStr(pas["WEBLib.Consts"],"SHelpNL"):16===l&&(e=rtl.getResStr(pas["WEBLib.Consts"],"SCloseNL"))}}return e},this.BindEvents=function(){},this.SetDialogResult=function(t){this.FDialogResult=t,0!==this.FDialogResult&&this.Close()},this.CreateButton=function(t,e,i){var s=null;return(s=document.createElement("BUTTON")).innerHTML=t,1===pas["WEBLib.Forms"].Application.FMainForm.FCSSLibrary?(s.setAttribute("type","BUTTON"),s.setAttribute("class","btn "+i),s.setAttribute("data-dismiss","modal-dialog")):(s.style.setProperty("width","100px"),s.style.setProperty("margin-left","5px"),""!==this.FElementButtonClassName?s.setAttribute("class",this.FElementButtonClassName+" "+i):""!==pas["WEBLib.Forms"].Application.FThemeButtonClassName&&s.setAttribute("class",pas["WEBLib.Forms"].Application.FThemeButtonClassName+" "+i)),s.id=t,s.addEventListener("click",rtl.createCallback(this,"HandleButtonClick")),s.addEventListener("keydown",rtl.createCallback(this,"HandleKeyDown")),e.get()&&(setTimeout((function(){s.focus()}),1),e.set(!1)),s},this.HandleDocMouseMove=function(t){var e=0,i=0,s=null;return this.FDown&&(e=t.screenX-this.FMdx,i=t.screenY-this.FMdy,(s=this.FDlg).style.setProperty("transform",""),s.style.setProperty("position","absolute"),s.style.setProperty("left",pas.SysUtils.IntToStr(Math.round(this.FDlgX+e))+"px"),s.style.setProperty("top",pas.SysUtils.IntToStr(Math.round(this.FDlgY+i))+"px"),(s=this.FCancel).style.setProperty("position","absolute"),s.style.setProperty("top","0"),s.style.setProperty("right","0")),!0,!0},this.HandleDocMouseUp=function(t){return this.FDown=!1,document.body.removeEventListener("mousemove",rtl.createCallback(this,"HandleDocMouseMove")),document.body.removeEventListener("mouseup",rtl.createCallback(this,"HandleDocMouseUp")),!0,!0},this.HandleMouseDown=function(t){var e;return this.FMdx=Math.round(t.screenX),this.FMdy=Math.round(t.screenY),e=this.FDlg.getBoundingClientRect(),this.FDlgX=Math.round(pas.System.Int(e.left)),this.FDlgY=Math.round(pas.System.Int(e.top)),this.FDown=!0,this.FCaptured$1||(this.FCaptured$1=!0,document.body.addEventListener("mousemove",rtl.createCallback(this,"HandleDocMouseMove")),document.body.addEventListener("mouseup",rtl.createCallback(this,"HandleDocMouseUp"))),!0,!0},this.HandleButtonClick=function(t){var e,i=0;if(this.SetDialogResult(0),(e=t.target.getAttribute("id"))===this.GetDialogText(7)?this.SetDialogResult(6):e===this.GetDialogText(8)?this.SetDialogResult(7):e===this.GetDialogText(5)?this.SetDialogResult(1):e===this.GetDialogText(6)?this.SetDialogResult(2):e===this.GetDialogText(9)?this.SetDialogResult(3):e===this.GetDialogText(10)?this.SetDialogResult(4):e===this.GetDialogText(11)?this.SetDialogResult(5):e===this.GetDialogText(12)?this.SetDialogResult(12):e===this.GetDialogText(13)?this.SetDialogResult(13):e===this.GetDialogText(14)?this.SetDialogResult(14):e===this.GetDialogText(15)?this.SetDialogResult(9):e===this.GetDialogText(16)&&this.SetDialogResult(8),0===this.FDialogResult&&this.FCustomButtons.GetCount()>0)for(var s=0,n=this.FCustomButtons.GetCount()-1;s<=n;s++)if(i=s,e===this.FCustomButtons.GetItem$1(i).FCaption){this.SetDialogResult(100+i);break}return null!=this.FOnButtonClick&&this.FOnButtonClick(this),!0,!0},this.HandleKeyDown=function(t){var e,i=!1;return e=this.GetKeyCode(t.key,!0),pas.System.Assigned(e)?(27===e&&this.SetDialogResult(2),i=!0):i},this.InitBootstrapStyle=function(){this.FElementButtonClassName="btn",this.FElementContentClassName="text-body",this.FElementTitleClassName="text-body",this.FElementDialogClassName="shadow-lg p-3 mb-5 bg-white rounded"},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FOpacity=.2,this.FMessage="",this.FAutoLanguage=!0,this.FMsgDlgType=2,this.FDialogText=pas.Classes.TStringList.$create("Create$1"),this.FDialogText.SetSkipLastLineBreak(!0),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SWarning")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SError")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SInformation")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SConfirm")),this.FDialogText.Add("Custom"),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SOK")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SCancel")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SYes")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SNo")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SAbort")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SRetry")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SIgnore")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SAll")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SYesToAll")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SNoToAll")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SHelp")),this.FDialogText.Add(rtl.getResStr(pas["WEBLib.Consts"],"SClose")),this.FMsgDlgType=4,this.FCustomButtons=t.TCustomDialogButtons.$create("Create$2",[this,t.TCustomDialogButton]),this.FCustomButtons.FPropName="CustomButtons"},this.Destroy=function(){rtl.free(this,"FDialogText"),rtl.free(this,"FCustomButtons"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.Close=function(){pas["WEBLib.Forms"].Application.UnLockForm(pas["WEBLib.Forms"].Application.FMainForm),document.body.removeChild(this.FLayer$1),document.body.removeChild(this.FDlg),this.FDown=!1,this.FCaptured$1=!1,null!=this.FOnClose&&this.FOnClose(this),null!=this.FDialogProc&&this.FDialogProc(this.FDialogResult)},this.Show$1=function(){var t=null,i=null,s=null,n=null,o=null,r=null,a=null,l=null,h=null,d=null,u=null,c=null,p="",C="",S="",F="",g="",m="",f="",T=!1,b=0;if(null!==pas["WEBLib.Forms"].Application&&null!==pas["WEBLib.Forms"].Application.FMainForm){pas["WEBLib.Forms"].Application.HasCSS(e.lMaterial)||this.AddControlLink("material",e.lMaterial),pas["WEBLib.Forms"].Application.LockForm(pas["WEBLib.Forms"].Application.FMainForm),this.FLayer$1=document.createElement("SPAN"),document.body.appendChild(this.FLayer$1),this.FLayer$1.setAttribute("tabindex","0"),this.FLayer$1.addEventListener("keydown",rtl.createCallback(this,"HandleKeyDown")),T=!0,S=this.FTitle,this.FMessage=e.StringToHTML(this.FMessage);var y=this.FMsgDlgType;0===y?(p="warning",C="orange",S=this.GetDialogText(0)):1===y?(p="cancel",C="red",S=this.GetDialogText(1)):2===y?(p="info",C="blue",S=this.GetDialogText(2)):3===y?(p="help",C="blue",S=this.GetDialogText(3)):4===y&&(p="",C="",S=this.GetDialogText(4)),1===pas["WEBLib.Forms"].Application.FMainForm.FCSSLibrary?(this.FDlg=document.createElement("DIV"),this.FDlg.setAttribute("class","modal-dialog"),this.FDlg.setAttribute("role","document"),this.FDlg.style.setProperty("z-index","1999998"),(l=document.createElement("SPAN")).style.setProperty("position","absolute"),l.style.setProperty("top","0"),l.style.setProperty("left","0"),l.style.setProperty("right","0"),l.style.setProperty("bottom","0"),l.style.setProperty("z-index","1999997"),document.body.appendChild(l),l.appendChild(this.FDlg),u=this.FDlg,(d=document.createElement("DIV")).setAttribute("class","modal-content "+this.FElementDialogClassName),u.appendChild(d),c=d,u=d,(d=document.createElement("DIV")).setAttribute("class","modal-header"),c.appendChild(d),u=d,(d=document.createElement("H5")).setAttribute("class","modal-title"),d.innerHTML=S,u.appendChild(d),3 in this.FButtons&&((d=document.createElement("BUTTON")).setAttribute("type","button"),d.setAttribute("class","close btn btn-danger"),d.setAttribute("data-dismiss","modal-dialog"),d.setAttribute("aria-label","Close"),d.setAttribute("id",this.GetDialogText(6)),d.addEventListener("click",rtl.createCallback(this,"HandleButtonClick")),u.appendChild(d),u=d,(d=document.createElement("SPAN")).setAttribute("aria-hidden","true"),d.setAttribute("id",this.GetDialogText(6)),d.innerHTML="&times;",u.appendChild(d)),(d=document.createElement("DIV")).setAttribute("class","modal-body"),c.appendChild(d),u=d,4!==this.FMsgDlgType&&((s=document.createElement("SPAN")).innerHTML='<i class="material-icons" style="color:'+C+'!important;font-size:48px!important">'+p+"</i>",s.style.setProperty("display","inline-block"),s.style.setProperty("float","left"),s.style.setProperty("padding-right","15px"),u.appendChild(s)),(d=document.createElement("H6")).innerHTML=this.FMessage,u.appendChild(d),(d=document.createElement("DIV")).setAttribute("class","modal-footer"),c.appendChild(d),r=u=d,this.FDlg=l):(f="5",m="26",g="#f1f1f1",F="#ababab",this.FDlg=document.createElement("DIV"),document.body.appendChild(this.FDlg),a=this.FDlg,""!==this.FElementDialogClassName?a.setAttribute("class",this.FElementDialogClassName):(a.style.setProperty("background-color","white"),a.style.setProperty("border","1px solid "+F),a.style.setProperty("font-family","Arial"),a.style.setProperty("font-size","10pt")),a.style.setProperty("cursor","default"),a.style.setProperty("position","fixed"),a.style.setProperty("min-width","300px"),a.style.setProperty("min-height","125px"),a.style.setProperty("max-width","100%"),a.style.setProperty("max-height","100%"),a.style.setProperty("top","50%"),a.style.setProperty("left","50%"),a.style.setProperty("transform","translate(-50%, -50%)"),a.style.setProperty("z-index","1999998"),a.style.setProperty("box-shadow","5px 5px 5px gray"),h=document.createElement("DIV"),this.FCancel=h,h.innerHTML='<i id="Cancel" class="material-icons" style="font-size:16px!important">clear</i>',h.id="Cancel",h.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(pas["WEBLib.Forms"].Application.FThemeTextColor)),h.style.setProperty("position","fixed"),h.style.setProperty("top","0"),h.style.setProperty("right","0"),h.style.setProperty("padding",f+"px"),h.style.setProperty("height",m+"px"),h.style.setProperty("line-height",m+"px"),h.addEventListener("click",rtl.createCallback(this,"HandleButtonClick")),a.appendChild(h),(t=document.createElement("DIV")).innerHTML=S,""!==this.FElementTitleClassName?t.setAttribute("class",this.FElementTitleClassName):(t.style.setProperty("background-color",pas["WEBLib.Graphics"].ColorToHTML(pas["WEBLib.Forms"].Application.FThemeColor)),t.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(pas["WEBLib.Forms"].Application.FThemeTextColor))),t.style.setProperty("cursor","move"),t.style.setProperty("padding-left",f+"px"),t.style.setProperty("height",m+"px"),t.style.setProperty("vertical-align","middle"),t.style.setProperty("line-height",m+"px"),t.style.setProperty("border-bottom","1px solid "+F),t.style.setProperty("-moz-user-select","none"),t.style.setProperty("-webkit-user-select","none"),t.style.setProperty("-ms-user-select","none"),t.style.setProperty("user-select","none"),t.style.setProperty("-o-user-select","none"),t.addEventListener("mousedown",rtl.createCallback(this,"HandleMouseDown")),a.appendChild(t),(i=document.createElement("DIV")).style.setProperty("padding",f+"px"),i.style.setProperty("height","auto"),i.style.setProperty("min-height","50px"),i.style.setProperty("border-bottom","1px solid "+F),4!==this.FMsgDlgType&&((s=document.createElement("DIV")).innerHTML='<i class="material-icons" style="color:'+C+'!important;font-size:48px!important">'+p+"</i>",s.style.setProperty("display","inline-block"),s.style.setProperty("float","left"),s.style.setProperty("padding-right","15px"),i.appendChild(s)),this.FMessage=pas.SysUtils.StringReplace(this.FMessage,pas.System.sLineBreak,"<BR>",rtl.createSet(0)),(o=document.createElement("DIV")).innerHTML=this.FMessage,o.style.setProperty("height","auto"),o.style.setProperty("min-height","50px"),o.style.setProperty("white-space","pre-wrap"),(n=document.createElement("LABEL")).innerHTML=this.FMessage,""!==this.FElementTitleClassName&&n.setAttribute("class",this.FElementContentClassName),o.appendChild(n),i.appendChild(n),a.appendChild(i),(r=document.createElement("DIV")).style.setProperty("background-color",g),r.style.setProperty("padding",f+"px"),r.style.setProperty("min-height",m+"px"),r.style.setProperty("height","auto"),r.style.setProperty("line-height",m+"px"),r.style.setProperty("text-align","right"),a.appendChild(r)),rtl.eqSet(this.FButtons,{})&&0===this.FCustomButtons.GetCount()?r.appendChild(this.CreateButton(this.GetDialogText(5),{get:function(){return T},set:function(t){T=t}},"")):(0 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(7),{get:function(){return T},set:function(t){T=t}},"")),1 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(8),{get:function(){return T},set:function(t){T=t}},"")),2 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(5),{get:function(){return T},set:function(t){T=t}},"")),3 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(6),{get:function(){return T},set:function(t){T=t}},"")),4 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(9),{get:function(){return T},set:function(t){T=t}},"")),5 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(10),{get:function(){return T},set:function(t){T=t}},"")),6 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(11),{get:function(){return T},set:function(t){T=t}},"")),7 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(12),{get:function(){return T},set:function(t){T=t}},"")),9 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(13),{get:function(){return T},set:function(t){T=t}},"")),8 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(14),{get:function(){return T},set:function(t){T=t}},"")),10 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(15),{get:function(){return T},set:function(t){T=t}},"")),11 in this.FButtons&&r.appendChild(this.CreateButton(this.GetDialogText(16),{get:function(){return T},set:function(t){T=t}},"")));for(var v=0,L=this.FCustomButtons.GetCount()-1;v<=L;v++)b=v,r.appendChild(this.CreateButton(this.FCustomButtons.GetItem$1(b).FCaption,{get:function(){return T},set:function(t){T=t}},this.FCustomButtons.GetItem$1(b).FElementClassName));(l=this.FLayer$1).style.setProperty("background-color","black"),l.style.setProperty("opacity",pas["WEBLib.WebTools"].DoubleToHTML(this.FOpacity)),l.style.setProperty("top","0"),l.style.setProperty("left","0"),l.style.setProperty("right","0"),l.style.setProperty("bottom","0"),l.style.setProperty("z-index","19990"),l.style.setProperty("webkit-user-select","none"),l.style.setProperty("moz-user-select","none"),l.style.setProperty("khtml-user-select","none"),l.style.setProperty("ms-user-select","none"),l.style.setProperty("user-select","none"),l.style.setProperty("position","fixed")}},this.ShowDialog$1=function(t,e,i,s){return 0,this.FButtons=rtl.refSet(i),this.FMessage=t,this.FMsgDlgType=e,this.FDialogProc=s,this.SetDialogResult(0),this.Show$1(),0},rtl.addIntf(this,pas.System.IUnknown);var i=this.$rtti;i.addProperty("AutoLanguage",0,rtl.boolean,"FAutoLanguage","FAutoLanguage",{Default:!0}),i.addProperty("Buttons",0,t.$rtti.TMsgDlgButtons,"FButtons","FButtons",{Default:{}}),i.addProperty("CustomButtons",2,t.$rtti.TCustomDialogButtons,"FCustomButtons","SetCustomButtons"),i.addProperty("DialogText",2,pas.Classes.$rtti.TStringList,"FDialogText","SetDialogText"),i.addProperty("DialogType",0,t.$rtti.TMsgDlgType,"FMsgDlgType","FMsgDlgType",{Default:t.TMsgDlgType.mtCustom}),i.addProperty("Message",0,rtl.string,"FMessage","FMessage"),i.addProperty("Opacity",0,rtl.double,"FOpacity","FOpacity"),i.addProperty("ElementButtonClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementButtonClassName","FElementButtonClassName"),i.addProperty("ElementDialogClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementDialogClassName","FElementDialogClassName"),i.addProperty("ElementTitleClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementTitleClassName","FElementTitleClassName"),i.addProperty("ElementContentClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementContentClassName","FElementContentClassName"),i.addProperty("Title",0,rtl.string,"FTitle","FTitle"),i.addProperty("OnButtonClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnButtonClick","FOnButtonClick"),i.addProperty("OnClose",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClose","FOnClose")})),this.MessageDlg=function(i,s,n,o){null==e.WebLibDlg&&(e.WebLibDlg=t.TMessageDlg.$create("Create$1",[null]),1===pas["WEBLib.Forms"].Application.FMainForm.FCSSLibrary&&e.WebLibDlg.InitBootstrapStyle()),e.WebLibDlg.ShowDialog$1(i,s,rtl.refSet(n),o)},this.ShowMessage=function(e){null!==pas["WEBLib.Forms"].Application&&null!==pas["WEBLib.Forms"].Application.FMainForm&&1===pas["WEBLib.Forms"].Application.FMainForm.FCSSLibrary?t.MessageDlg(e,2,rtl.createSet(2),null):alert(e)},t.$implcode=function(){e.lMaterial="https://fonts.googleapis.com/icon?family=Material+Icons",e.WebLibDlg=null,e.StringToHTML=function(t){var e="";return e=pas.SysUtils.StringReplace(t,"\r","<BR>",rtl.createSet(0)),e=pas.SysUtils.StringReplace(e,"\n","",rtl.createSet(0))}},t.$init=function(){e.WebLibDlg=null}}),["WEBLib.Forms","WEBLib.Consts"]),rtl.module("Math",["System"],(function(){"use strict";var t=this.$impl;this.SameValue=function(t,e,i){return 0===i&&(i=Math.max(1e-12*Math.min(Math.abs(t),Math.abs(e)),1e-12)),t>e?t-e<=i:e-t<=i},this.Floor=function(t){return pas.System.Trunc(Math.floor(t))},this.DegToRad=function(t){return t*(Math.PI/180)},this.$implcode=function(){t.DZeroResolution=1e-12}}),[]),rtl.module("WEBLib.Utils",["System","Types","Web","SysUtils","Math","Classes","JS"],(function(){"use strict";this.FormatProp=function(t,e){return pas.SysUtils.Format$1(t,e,pas.SysUtils.TFormatSettings.Invariant())}}),["RTLConsts","WEBLib.Consts"]),rtl.module("WEBLib.Controls",["System","Classes","WEBLib.Graphics","Types","SysUtils","Web","JS"],(function(){"use strict";var t=this,e=t.$impl;this.VK_TAB=9,this.VK_RETURN=13,this.VK_ESCAPE=27,this.WHEEL_DELTA=120,this.$rtti.$inherited("TCursor",rtl.longint,{}),this.crDefault=0,this.crNone=1,this.crArrow=2,this.crCross=3,this.crIBeam=4,this.crSize=5,this.crSizeNESW=6,this.crSizeNS=7,this.crSizeNWSE=8,this.crSizeWE=9,this.crUpArrow=10,this.crHourGlass=11,this.crDrag=12,this.crNoDrop=13,this.crHSplit=14,this.crVSplit=15,this.crMultIDrag=16,this.crSQLWait=17,this.crNo=18,this.crAppStart=19,this.crHelp=20,this.crHandPoint=21,this.crSizeAll=22,this.CSSBackground="background-color",this.CSSZIndex="z-index",this.TDragState={0:"dsDragEnter",dsDragEnter:0,1:"dsDragLeave",dsDragLeave:1,2:"dsDragMove",dsDragMove:2},this.$rtti.$Enum("TDragState",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TDragState}),this.TDragMode={0:"dmManual",dmManual:0,1:"dmAutomatic",dmAutomatic:1},this.$rtti.$Enum("TDragMode",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TDragMode}),this.TDragKind={0:"dkDrag",dkDrag:0,1:"dkDock",dkDock:1},this.$rtti.$Enum("TDragKind",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TDragKind}),rtl.createClass(this,"TDragObject",pas.System.TObject,(function(){})),this.TAlign={0:"alNone",alNone:0,1:"alTop",alTop:1,2:"alBottom",alBottom:2,3:"alLeft",alLeft:3,4:"alRight",alRight:4,5:"alClient",alClient:5,6:"alCustom",alCustom:6},this.$rtti.$Enum("TAlign",{minvalue:0,maxvalue:6,ordtype:1,enumtype:this.TAlign}),this.TMouseButton={0:"mbLeft",mbLeft:0,1:"mbRight",mbRight:1,2:"mbMiddle",mbMiddle:2},this.$rtti.$Enum("TMouseButton",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TMouseButton}),this.TBorderStyle={0:"bsNone",bsNone:0,1:"bsSingle",bsSingle:1},this.$rtti.$Enum("TBorderStyle",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TBorderStyle}),this.TSizeStyle={0:"ssPercent",ssPercent:0,1:"ssAbsolute",ssAbsolute:1,2:"ssAuto",ssAuto:2},this.$rtti.$Enum("TSizeStyle",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TSizeStyle}),this.TScrollStyle={0:"ssNone",ssNone:0,1:"ssHorizontal",ssHorizontal:1,2:"ssVertical",ssVertical:2,3:"ssBoth",ssBoth:3},this.$rtti.$Enum("TScrollStyle",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TScrollStyle}),this.TAnchorKind={0:"akLeft",akLeft:0,1:"akTop",akTop:1,2:"akRight",akRight:2,3:"akBottom",akBottom:3},this.$rtti.$Enum("TAnchorKind",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TAnchorKind}),this.$rtti.$Set("TAnchors",{comptype:this.$rtti.TAnchorKind}),this.$rtti.$inherited("TElementClassName",rtl.string,{}),this.$rtti.$inherited("TElementID",rtl.string,{}),this.TElementFont={0:"efProperty",efProperty:0,1:"efCSS",efCSS:1},this.$rtti.$Enum("TElementFont",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TElementFont}),this.TElementPosition={0:"epAbsolute",epAbsolute:0,1:"epRelative",epRelative:1,2:"epIgnore",epIgnore:2},this.$rtti.$Enum("TElementPosition",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TElementPosition}),this.TElementEvent={0:"eeClick",eeClick:0,1:"eeMouseDown",eeMouseDown:1,2:"eeMouseUp",eeMouseUp:2,3:"eeMouseMove",eeMouseMove:3,4:"eeDblClick",eeDblClick:4,5:"eeKeyPress",eeKeyPress:5,6:"eeKeyDown",eeKeyDown:6,7:"eeKeyUp",eeKeyUp:7},this.TTextDirection={0:"tdDefault",tdDefault:0,1:"tdLeftToRight",tdLeftToRight:1,2:"tdRightToLeft",tdRightToLeft:2,3:"tdInherit",tdInherit:3},this.$rtti.$Enum("TTextDirection",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTextDirection}),this.TMaterialGlyphType={0:"mgNormal",mgNormal:0,1:"mgOutlined",mgOutlined:1,2:"mgTwoTone",mgTwoTone:2,3:"mgRound",mgRound:3,4:"mgSharp",mgSharp:4},this.$rtti.$Enum("TMaterialGlyphType",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TMaterialGlyphType}),this.$rtti.$MethodVar("TNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject]]),methodkind:0}),this.$rtti.$MethodVar("TMouseEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Button",this.$rtti.TMouseButton],["Shift",pas.Classes.$rtti.TShiftState],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TMouseWheelEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",pas.Classes.$rtti.TShiftState],["WheelDelta",rtl.longint],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TMouseWheelUpDownEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",pas.Classes.$rtti.TShiftState],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TMouseMoveEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",pas.Classes.$rtti.TShiftState],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TKeyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AKey",rtl.word,1],["Shift",pas.Classes.$rtti.TShiftState]]),methodkind:0}),this.$rtti.$MethodVar("TKeyPressEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AChar",rtl.char,1]]),methodkind:0}),this.$rtti.$MethodVar("TTouchEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.TBiDiMode={0:"bdLeftToRight",bdLeftToRight:0,1:"bdRightToLeft",bdRightToLeft:1,2:"bdRightToLeftNoAlign",bdRightToLeftNoAlign:2,3:"bdRightToLeftReadingOnly",bdRightToLeftReadingOnly:3},this.$rtti.$Enum("TBiDiMode",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TBiDiMode}),this.$rtti.$MethodVar("TDragOverEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint],["State",this.$rtti.TDragState],["Accept",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TDragDropEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TStartDragEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["DragObject",this.$rtti.TDragObject,1]]),methodkind:0}),this.$rtti.$MethodVar("TEndDragEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Target",pas.System.$rtti.TObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.TControlStyleValue={0:"csAcceptsControls",csAcceptsControls:0,1:"csSetCaption",csSetCaption:1},rtl.createClass(this,"TMargins",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOnChange=null,this.FLeft=0,this.FTop=0,this.FRight=0,this.FBottom=0},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetLeft=function(t){t!==this.FLeft&&(this.FLeft=t,this.DoChange())},this.SetTop=function(t){t!==this.FTop&&(this.FTop=t,this.DoChange())},this.SetRight=function(t){t!==this.FRight&&(this.FRight=t,this.DoChange())},this.SetBottom=function(t){t!==this.FBottom&&(this.FBottom=t,this.DoChange())},this.DoChange=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Create$1=function(){return this.FLeft=3,this.FTop=3,this.FBottom=3,this.FRight=3,this},this.Assign=function(e){t.TMargins.isPrototypeOf(e)?(this.FLeft=rtl.as(e,t.TMargins).FLeft,this.FTop=rtl.as(e,t.TMargins).FTop,this.FBottom=rtl.as(e,t.TMargins).FBottom,this.FRight=rtl.as(e,t.TMargins).FRight):pas.Classes.TPersistent.Assign.apply(this,arguments)};var e=this.$rtti;e.addProperty("Left",2,rtl.longint,"FLeft","SetLeft",{Default:3}),e.addProperty("Top",2,rtl.longint,"FTop","SetTop",{Default:3}),e.addProperty("Right",2,rtl.longint,"FRight","SetRight",{Default:3}),e.addProperty("Bottom",2,rtl.longint,"FBottom","SetBottom",{Default:3})})),rtl.createClass(this,"TPadding",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FOnChange=null,this.FLeft=0,this.FTop=0,this.FRight=0,this.FBottom=0},this.$final=function(){this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetLeft=function(t){this.FLeft!==t&&(this.FLeft=t,this.DoChange())},this.SetTop=function(t){this.FTop!==t&&(this.FTop=t,this.DoChange())},this.SetRight=function(t){this.FRight!==t&&(this.FRight=t,this.DoChange())},this.SetBottom=function(t){this.FBottom!==t&&(this.FBottom=t,this.DoChange())},this.DoChange=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FLeft=0,this.FTop=0,this.FRight=0,this.FBottom=0,this},this.Assign=function(e){t.TPadding.isPrototypeOf(e)&&(this.FLeft=rtl.as(e,t.TPadding).FLeft,this.FRight=rtl.as(e,t.TPadding).FRight,this.FTop=rtl.as(e,t.TPadding).FTop,this.FBottom=rtl.as(e,t.TPadding).FBottom)};var e=this.$rtti;e.addProperty("Left",2,rtl.longint,"FLeft","SetLeft",{Default:0}),e.addProperty("Top",2,rtl.longint,"FTop","SetTop",{Default:0}),e.addProperty("Right",2,rtl.longint,"FRight","SetRight",{Default:0}),e.addProperty("Bottom",2,rtl.longint,"FBottom","SetBottom",{Default:0})})),rtl.createClass(this,"TControl",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FGotFocus=!1,this.FAcceptDrag=!1,this.FCaptureDown=!1,this.FMouseInsideLayer=!1,this.FLayer=null,this.FCaptured=!1,this.FControlCreated=!1,this.FUpdateCount=0,this.FBlockUpdateElement=!1,this.FElement=null,this.FID="",this.FNew=!1,this.FContainer=null,this.FElementEvent=null,this.FLastElementEvent=null,this.FElementClassName="",this.FColor=0,this.FFont=null,this.FParent=null,this.FPrevParent=null,this.FControls=[],this.FOnDragOver=null,this.FOnDragDrop=null,this.FOnStartDrag=null,this.FonEndDrag=null,this.FOnClick=null,this.FOnDblClick=null,this.FOnMouseDown=null,this.FOnMouseUp=null,this.FOnMouseMove=null,this.FOnKeyDown=null,this.FOnKeyUp=null,this.FOnKeyPress=null,this.FOnEnter=null,this.FOnExit=null,this.FEnabled=!1,this.FHint="",this.FRole="",this.FShowHint=!1,this.FTabOrder=0,this.FTabStop=!1,this.FVisible=!1,this.FWidth=0,this.FHeight=0,this.FTag$1=0,this.FAlign=0,this.FAnchors={},this.FAlignWithMargins=!1,this.FIsAligning=!1,this.FOnMouseEnter=null,this.FOnMouseLeave=null,this.FCursor=0,this.FDoubleBuffered=!1,this.FControlStyle={},this.FMargins=null,this.FOnMouseWheel=null,this.FParentDoubleBuffered=!1,this.FParentColor=!1,this.FParentFont=!1,this.FParentBiDiMode=!1,this.FOnTouchMove=null,this.FOnTouchStart=null,this.FOnTouchEnd=null,this.FOnTouchCancel=null,this.FLinkTouchEvents=!1,this.FWidthStyle=0,this.FHeightStyle=0,this.FWidthPercent=0,this.FHeightPercent=0,this.FOrigRect=pas.Types.TRect.$new(),this.FOrigParentRect=pas.Types.TRect.$new(),this.FIsResizing=!1,this.FShowFocus=!1,this.FBorderWidth=0,this.FOrigTop=0,this.FOrigLeft=0,this.FUpdateTopLeft=!1,this.FEnablePropagation=!1,this.FParentShowHint=!1,this.FScriptLoaded=!1,this.FControlScriptCountLoaded=0,this.FRequiredScripts=null,this.FElementFont=0,this.FElementPosition=0,this.FParentElement=null,this.FClipChildren=!1,this.FTextDirection=0,this.FEventStopPropagation={},this.FOnResize=null,this.FMouseMovePtr=null,this.FMouseDownPtr=null,this.FMouseUpPtr=null,this.FMouseEnterPtr=null,this.FMouseLeavePtr=null,this.FClickPtr=null,this.FDblClickPtr=null,this.FKeyDownPtr=null,this.FKeyUpPtr=null,this.FKeyPressPtr=null,this.FInputPtr=null,this.FTouchStartPtr=null,this.FTouchEndPtr=null,this.FTouchMovePtr=null,this.FTouchCancelPtr=null,this.FContextMenuPtr=null,this.FExitPtr=null,this.FEnterPtr=null,this.FWheelPtr=null,this.FLayerMouseEnterPtr=null,this.FLayerMouseLeavePtr=null,this.FScriptLoadedPtr=null,this.FDragStartPtr=null,this.FDragOverPtr=null,this.FDragEnterPtr=null,this.FDragLeavePtr=null,this.FDragEndPtr=null,this.FDragDropPtr=null,this.FChildOrder=0,this.FAllowTouch=!1,this.FWheelAccumulator=0,this.FWheelMousePos=pas.Types.TPoint.$new(),this.FBiDiMode=0,this.FOnMouseWheelDown=null,this.FOnMouseWheelUp=null,this.FNoUserSelect=!1,this.FEventsBound=!1,this.FDragMode=0,this.FToolTip=void 0},this.$final=function(){this.FLayer=void 0,this.FElement=void 0,this.FContainer=void 0,this.FElementEvent=void 0,this.FLastElementEvent=void 0,this.FFont=void 0,this.FParent=void 0,this.FPrevParent=void 0,this.FControls=void 0,this.FOnDragOver=void 0,this.FOnDragDrop=void 0,this.FOnStartDrag=void 0,this.FonEndDrag=void 0,this.FOnClick=void 0,this.FOnDblClick=void 0,this.FOnMouseDown=void 0,this.FOnMouseUp=void 0,this.FOnMouseMove=void 0,this.FOnKeyDown=void 0,this.FOnKeyUp=void 0,this.FOnKeyPress=void 0,this.FOnEnter=void 0,this.FOnExit=void 0,this.FAnchors=void 0,this.FOnMouseEnter=void 0,this.FOnMouseLeave=void 0,this.FControlStyle=void 0,this.FMargins=void 0,this.FOnMouseWheel=void 0,this.FOnTouchMove=void 0,this.FOnTouchStart=void 0,this.FOnTouchEnd=void 0,this.FOnTouchCancel=void 0,this.FOrigRect=void 0,this.FOrigParentRect=void 0,this.FRequiredScripts=void 0,this.FParentElement=void 0,this.FEventStopPropagation=void 0,this.FOnResize=void 0,this.FWheelMousePos=void 0,this.FOnMouseWheelDown=void 0,this.FOnMouseWheelUp=void 0,pas.Classes.TComponent.$final.call(this)},this.GetControlsCount=function(){return rtl.length(this.FControls)},this.GetControls=function(t){return this.FControls[t]},this.SetVisible=function(t){this.FVisible!==t&&(this.VisibleChanging(),this.FVisible=t,this.UpdateElement(),this.DoRealign(),this.AlignControl(this),this.VisibleChanged())},this.SetHint=function(t){this.FHint!==t&&(this.FHint=t,this.UpdateElement())},this.SetShowHint=function(t){this.FShowHint!==t&&(this.FShowHint=t,this.UpdateElement())},this.SetTabOrder=function(t){this.FTabOrder!==t&&(this.FTabOrder=t,this.UpdateElement())},this.SetTabStop=function(t){this.FTabStop!==t&&(this.FTabStop=t,this.UpdateElement())},this.SetAlign=function(t){this.FAlign!==t&&(this.FAlign=t,this.DoRealign())},this.SetAlignWithMargins=function(t){this.FAlignWithMargins!==t&&(this.FAlignWithMargins=t,this.DoRealign())},this.GetBoundsRect=function(){var t=pas.Types.TRect.$new();return t.Left=this.GetLeft(),t.Top=this.GetTop(),t.Right=this.GetLeft()+this.GetWidth(),t.Bottom=this.GetTop()+this.GetHeight(),t},this.SetID=function(t){var e=null,i=null,s=null,n=null,o=0,r=0,a=0,l=0;if(this.FNew&&this.FID!==t&&null!=(e=document.getElementById(t)))return o=this.FLeft,r=this.FTop,a=this.FWidth,l=this.FHeight,i=null,this.UnbindEvents(),null!=this.FContainer&&(this.FParentElement=this.FContainer.parentElement,i=document.createElement("SPAN"),this.MoveElements(this.FContainer,i)),n=this.FParent,this.SetParent(null),this.CreateWithID(t),this.SetParentComponent(n),this.FID=t,this.FWidth=a,this.FHeight=l,this.UpdateElement(),4 in this.FComponentState&&(this.FLeft=o,this.FTop=r),void(null!=i&&this.MoveElementsAndFree(i,this.GetElementHandle()));if(!this.FNew&&this.FID!==t){if(a=this.FWidth,l=this.FHeight,null!=(e=document.getElementById(this.FID))&&(i=document.createElement("SPAN"),this.MoveElements(e,i),this.UnbindEvents()),""!==t&&null!=(e=document.getElementById(t)))return this.CreateWithID(t),this.FID=t,this.FWidth=a,this.FHeight=l,this.UpdateElement(),void this.MoveElementsAndFree(i,this.FContainer);this.FNew=!0,this.FElement=null,this.CreateControl(),""===t&&(this.CreateInitialize(),this.FWidth=a,this.FHeight=l),null!=this.FParentElement?this.FParentElement.appendChild(this.GetContainer()):document.body.appendChild(this.GetContainer()),null!=(s=pas["WEBLib.Forms"].GetParentForm(this))&&(this.SetParent(s),this.SetElementPosition(0),this.SetLeft(0),this.SetTop(0)),null!=i&&this.MoveElementsAndFree(i,this.FContainer),this.UpdateElement(),this.UpdateElementSize()}this.FID=t,null!=this.FContainer&&this.FContainer.setAttribute("id",t)},this.SetMargins=function(t){this.FMargins.Assign(t)},this.SetAnchors=function(t){rtl.neSet(this.FAnchors,t)&&(this.FAnchors=rtl.refSet(t),0 in this.FComponentState||this.UpdateAnchoring())},this.GetElementEvent=function(){return this.FElementEvent},this.GetClientOrigin=function(){var t=pas.Types.TPoint.$new(),e=null;return t.$assign(pas.Types.Point(0,0)),null!=this.GetElementHandle()&&(e=this.GetElementHandle().getBoundingClientRect(),t.$assign(pas.Types.Point(Math.round(e.left),Math.round(e.top)))),t},this.SetHeightStyle=function(t){this.FHeightStyle!==t&&(this.FHeightStyle=t,2===this.FHeightStyle&&null!=this.GetElementHandle()&&this.GetElementStyle().removeProperty("height"),this.UpdateElementSize(),this.ResetAnchoring(),this.DoBoundsChange())},this.SetWidthStyle=function(t){this.FWidthStyle!==t&&(this.FWidthStyle=t,2===this.FWidthStyle&&null!=this.GetElementHandle()&&this.GetElementStyle().removeProperty("width"),this.UpdateElementSize(),this.ResetAnchoring(),this.DoBoundsChange())},this.SetHeightPercent=function(t){this.FHeightPercent!==t&&(this.FHeightPercent=t,this.UpdateElementSize(),this.ResetAnchoring(),this.DoBoundsChange())},this.SetWidthPercent=function(t){this.FWidthPercent!==t&&(this.FWidthPercent=t,this.UpdateElementSize(),this.ResetAnchoring(),this.DoBoundsChange())},this.SetShowFocus=function(t){this.FShowFocus!==t&&(this.FShowFocus=t,this.UpdateElement())},this.GetIsLinked=function(){return!this.FNew},this.SetElementFont=function(t){this.FElementFont!==t&&(this.FElementFont=t,this.UpdateElementVisual())},this.SetElementPosition=function(t){this.FElementPosition!==t&&(this.FElementPosition=t,null!=this.GetElementHandle()&&(this.UpdateElementSize(),this.RecreateCanvas(),this.InternalResize()))},this.SetClipChildren=function(t){this.FClipChildren=t,this.UpdateElement()},this.SetChildOrderEx=function(t){this.FChildOrder=t},this.GetRole=function(){var t="";return t=this.FRole,null!=this.GetElementHandle()&&(t=this.GetElementHandle().getAttribute("role")),t},this.SetRole=function(t){this.FRole=t,null!=this.GetElementHandle()&&(""===t?this.GetElementHandle().removeAttribute("role"):this.GetElementHandle().setAttribute("role",t))},this.GetContainer=function(){return this.FContainer},this.GetChildContainer=function(){return this.FContainer},this.SetParentFont=function(t){t!==this.FParentFont&&t&&null!=this.FParent&&(this.BeginUpdate(),this.FFont.Assign(this.FParent.FFont),this.EndUpdate(),this.UpdateElement()),this.FParentFont=t},this.SetParentColor=function(t){this.FParentColor!==t&&t&&null!=this.FParent&&this.SetColor(this.FParent.FColor),this.FParentColor=t},this.SetDragMode=function(t){this.FDragMode=t,1===t?this.BeginDrag():this.DisableDrag()},this.SetWidth=function(t){this.FWidth!==t&&(this.FWidth=t,this.ResetAnchoring(),this.DoBoundsChange(),this.GetIsLinked()&&!this.IsUpdating()&&null!=this.GetElementHandle()&&(t>=0?this.GetElementStyle().setProperty("width",pas.SysUtils.IntToStr(t)+"px"):this.GetElementStyle().removeProperty("width")))},this.SetHeight=function(t){var e=null;this.FHeight!==t&&(this.FAlign in rtl.createSet(3,4,5)&&null!=this.GetElementHandle()&&(e=this.GetElementHandle().getBoundingClientRect()).top+t>=pas["WEBLib.Forms"].WinHeight()&&(t=Math.round(pas["WEBLib.Forms"].WinHeight()-e.top)),this.FHeight=t,this.ResetAnchoring(),this.DoBoundsChange(),this.GetIsLinked()&&!this.IsUpdating()&&null!=this.GetElementHandle()&&(t>=0?this.GetElementStyle().setProperty("height",pas.SysUtils.IntToStr(t)+"px"):this.GetElementStyle().removeProperty("height")))},this.SetWidthInt=function(t){this.FWidth=t},this.SetHeightInt=function(t){this.FHeight=t},this.SetEnabled=function(t){this.FEnabled!==t&&(this.FEnabled=t,this.UpdateElementData())},this.RecreateCanvas=function(){},this.VisibleChanging=function(){},this.VisibleChanged=function(){for(var t=0,e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).VisibleChanged()},this.ColorChanging=function(){},this.GetWidth=function(){var t=0,e=null;return t=this.FWidth,null==this.GetElementHandle()||0 in this.FComponentState||(-1===t&&(t=Math.round(pas.System.Int(this.GetElementHandle().offsetWidth))),1!==this.FWidthStyle&&(e=this.GetElementHandle().getBoundingClientRect(),t=Math.round(pas.System.Int(e.right-e.left)))),t},this.GetHeight=function(){var t=0,e=null;return t=this.FHeight,null==this.GetElementHandle()||0 in this.FComponentState||(-1===t&&(t=Math.round(pas.System.Int(this.GetElementHandle().offsetHeight))),1!==this.FHeightStyle&&(e=this.GetElementHandle().getBoundingClientRect(),t=Math.round(pas.System.Int(e.bottom-e.top)))),t},this.GetOuterWidth=function(){return this.FWidth-this.FBorderWidth},this.GetOuterHeight=function(){return this.FHeight-this.FBorderWidth},this.GetDesignWidth=function(){return this.FWidth},this.GetDesignHeight=function(){return this.FHeight},this.GetDesignLeft=function(){return this.FLeft},this.GetDesignTop=function(){return this.FTop},this.GetLeft=function(){var t=0;return-1!==(t=this.FLeft)||null==this.GetElementHandle()||0 in this.FComponentState||(t=Math.round(this.GetElementHandle().offsetLeft)),t},this.GetTop=function(){var t=0;return-1!==(t=this.FTop)||null==this.GetElementHandle()||0 in this.FComponentState||(t=Math.round(this.GetElementHandle().offsetTop)),t},this.CreateElement=function(){return null,null},this.CreateChildElements=function(t){},this.ContainerElement=function(){return document.body},this.IsStructuralElement=function(){return!1,!1},this.IsEnabled=function(){return this.FEnabled},this.GetNewName=function(){var e,i="",s="";return i=this.$classname,pas.System.Delete({get:function(){return i},set:function(t){i=t}},1,1),s="",null!=(e=pas["WEBLib.Forms"].GetParentForm(this))&&(s=e.$classname),s+"_"+t.FindUniqueName(i)},this.IsInputControl=function(){return!1,!1},this.RecreateElement=function(){null!=this.GetContainer()&&(this.UnbindEvents(),this.GetContainer().parentNode.removeChild(this.GetContainer()),this.FElement=null,this.CreateControl(),null!=this.FParent&&null!=this.FParent.GetContainer()&&this.FParent.GetChildContainer().appendChild(this.GetContainer()))},this.BindElement=function(){},this.CreateInitialize=function(){this.FRequiredScripts=pas.Classes.TStringList.$create("Create$1"),this.FOrigRect.$assign(pas.Types.Rect(-1,-1,-1,-1)),this.FClipChildren=!0},this.DestroyControls=function(){for(var t=0,e=null,i=this.GetControlsCount()-1;i>=0;i--)t=i,e=this.GetControls(t),e=rtl.freeLoc(e)},this.ClearControls=function(){this.FControls=rtl.arraySetLength(this.FControls,null,0)},this.GetElementStyle=function(){return this.GetElementHandle().style},this.SetControlCursor=function(t){this.FCursor=t,""===this.FElementClassName&&null!=this.GetElementHandle()&&this.SetElementPointer(this.GetElementHandle(),t)},this.SetBiDiMode=function(t){null!=this.GetElementHandle()&&(0===t?this.GetElementHandle().removeAttribute("dir"):this.GetElementHandle().setAttribute("dir","rtl"))},this.GetMouseEventButton=function(t){var e=0;e=0;var i=t.button;return 0===i?e=0:1===i?e=2:2===i&&(e=1),e},this.GetMouseEventShiftState=function(t){var e={};return e={},t.shiftKey&&(e=rtl.unionSet(e,rtl.createSet(0))),t.ctrlKey&&(e=rtl.unionSet(e,rtl.createSet(2))),t.altKey&&(e=rtl.unionSet(e,rtl.createSet(1))),1==(1&t.buttons)&&(e=rtl.unionSet(e,rtl.createSet(3))),2==(2&t.buttons)&&(e=rtl.unionSet(e,rtl.createSet(4))),4==(4&t.buttons)&&(e=rtl.unionSet(e,rtl.createSet(5))),e},this.GetKeyBoardEventShiftState=function(t){var e={};return e={},t.shiftKey&&(e=rtl.unionSet(e,rtl.createSet(0))),t.ctrlKey&&(e=rtl.unionSet(e,rtl.createSet(2))),t.altKey&&(e=rtl.unionSet(e,rtl.createSet(1))),e},this.GetMouseWheelEventShiftState=function(t){var e={};return e={},t.shiftKey&&(e=rtl.unionSet(e,rtl.createSet(0))),t.ctrlKey&&(e=rtl.unionSet(e,rtl.createSet(2))),t.altKey&&(e=rtl.unionSet(e,rtl.createSet(1))),e},this.GetTouchEventShiftState=function(t){var e={};return e={},t.shiftKey&&(e=rtl.unionSet(e,rtl.createSet(0))),t.ctrlKey&&(e=rtl.unionSet(e,rtl.createSet(2))),t.altKey&&(e=rtl.unionSet(e,rtl.createSet(1))),e},this.HandleDoClick=function(t){return this.FElementEvent=t,0 in this.FEventStopPropagation&&this.StopPropagation(),this.FEnabled&&this.Click(),!0,this.FElementEvent=null,!0},this.HandleDoWheel=function(t){var e,i=!1,s=0,n=0;return this.FElementEvent=t,this.StopPropagation(),this.XYToClient(t.clientX,t.clientY,{get:function(){return s},set:function(t){s=t}},{get:function(){return n},set:function(t){n=t}}),this.FWheelMousePos.x=Math.round(s),this.FWheelMousePos.y=Math.round(n),e=rtl.refSet(this.GetMouseWheelEventShiftState(t)),i=!1,this.MouseWheel(rtl.refSet(e),pas.System.Trunc(-t.deltaY),{get:function(){return i},set:function(t){i=t}}),!0,this.FElementEvent=null,!0},this.HandleDoDblClick=function(t){return this.FElementEvent=t,4 in this.FEventStopPropagation&&this.StopPropagation(),this.FEnabled&&this.DblClick(),!0,this.FElementEvent=null,!0},this.HandleDoMouseDown=function(i){var s,n,o=!1,r=0,a=0;return this.FElementEvent=i,1 in this.FEventStopPropagation&&this.StopPropagation(),this.CanFocus()||this.PreventDefault(),e.FMouseX=Math.round(i.clientX),e.FMouseY=Math.round(i.clientY),this.XYToClient(i.clientX,i.clientY,{get:function(){return r},set:function(t){r=t}},{get:function(){return a},set:function(t){a=t}}),this.HasVertScrollBar()&&r>this.GetWidth()-t.GetScrollBarWidth()||this.HasHorzScrollBar()&&a>this.GetHeight()-t.GetScrollBarHeight()||(s=rtl.refSet(this.GetMouseEventShiftState(i)),n=this.GetMouseEventButton(i),this.MouseDown(n,rtl.refSet(s),pas.System.Trunc(r),pas.System.Trunc(a)),o=!0,this.FElementEvent=null),o},this.HandleDoMouseUp=function(e){var i,s,n=!1,o=0,r=0;return this.FElementEvent=e,2 in this.FEventStopPropagation&&this.StopPropagation(),this.XYToClient(e.clientX,e.clientY,{get:function(){return o},set:function(t){o=t}},{get:function(){return r},set:function(t){r=t}}),this.HasVertScrollBar()&&o>this.GetWidth()-t.GetScrollBarWidth()||this.HasHorzScrollBar()&&r>this.GetHeight()-t.GetScrollBarHeight()?(this.FElementEvent=null,n):(i=rtl.refSet(this.GetMouseEventShiftState(e)),s=this.GetMouseEventButton(e),0===this.FDragMode&&this.DisableDrag(),this.MouseUp(s,rtl.refSet(i),pas.System.Trunc(o),pas.System.Trunc(r)),n=!0,this.FElementEvent=null,n)},this.HandleDoMouseMove=function(t){var i,s=0,n=0;return this.FElementEvent=t,e.FCursorX=Math.round(t.clientX),e.FCursorY=Math.round(t.clientY),3 in this.FEventStopPropagation&&this.StopPropagation(),this.XYToClient(t.clientX,t.clientY,{get:function(){return s},set:function(t){s=t}},{get:function(){return n},set:function(t){n=t}}),i=rtl.refSet(this.GetMouseEventShiftState(t)),this.MouseMove(rtl.refSet(i),pas.System.Trunc(s),pas.System.Trunc(n)),!0,this.FElementEvent=null,!0},this.HandleDoMouseLeave=function(t){var e=!1;return this.Captured()?e:(t.stopPropagation(),this.DoMouseLeave(),e=!0)},this.HandleDoContextMenu=function(t){return!0,!0},this.LayerHandleDoMouseEnter=function(t){return 0===t.buttons&&this.Captured()&&!this.FMouseInsideLayer&&(this.ReleaseCapture(),this.HandleDoMouseUp(t),this.HandleDoMouseLeave(t)),this.FMouseInsideLayer=!0,!0,!0},this.LayerHandleDoMouseLeave=function(t){return this.FMouseInsideLayer=!1,!0,!0},this.HandleDoMouseEnter=function(t){var e=!1;return this.Captured()?e:(t.stopPropagation(),this.DoMouseEnter(),e=!0)},this.HandleDoKeyDown=function(t){var e=0,i={};return this.FElementEvent=t,6 in this.FEventStopPropagation&&this.StopPropagation(),null==t.key||(e=this.GetKeyCode(t.key,!0),i=rtl.refSet(this.GetKeyBoardEventShiftState(t)),this.KeyDown({get:function(){return e},set:function(t){e=t}},rtl.refSet(i))),!0,0===e&&this.PreventDefault(),this.FElementEvent=null,!0},this.HandleDoKeyUp=function(t){var e=0,i={},s="";return this.FElementEvent=t,7 in this.FEventStopPropagation&&this.StopPropagation(),null==t.key||(e=this.GetKeyCode(t.key,!0),i=rtl.refSet(this.GetKeyBoardEventShiftState(t)),27===e&&(s="",this.KeyPress({get:function(){return s},set:function(t){s=t}})),this.KeyUp({get:function(){return e},set:function(t){e=t}},rtl.refSet(i))),!0,0===e&&this.PreventDefault(),this.FElementEvent=null,!0},this.HandleDoKeyPress=function(t){var e="";return this.FElementEvent=t,5 in this.FEventStopPropagation&&this.StopPropagation(),this.IsKeyCharacter(t.key)&&(e=this.GetKeyChar(t.key),this.KeyPress({get:function(){return e},set:function(t){e=t}})),!0,"\0"===e&&this.PreventDefault(),this.FElementEvent=null,!0},this.HandleDoInput=function(e){var i=!1,s="",n="";return t.IsAndroid()&&(this.FElementEvent=e,5 in this.FEventStopPropagation&&this.StopPropagation(),s="\0",""!==e.data&&(n=e.data,s=pas.System.Assigned(n)?n.charAt(n.length-1):"\b",this.KeyPress({get:function(){return s},set:function(t){s=t}})),i=!0,"\0"===s&&this.PreventDefault(),this.FElementEvent=null),i},this.HandleDoExit=function(t){return this.DoExit(),!0,!0},this.HandleDoEnter=function(t){return this.FElementEvent=t,this.StopPropagation(),this.DoEnter(),!0,this.FElementEvent=null,this.FGotFocus=!0,!0},this.HandleDoTouchStart=function(t){var e=0,i=0,s=null,n={};return this.FElementEvent=t,this.FLastElementEvent=t,this.StopPropagation(),this.FAllowTouch||this.PreventDefault(),t.touches.length>0&&(s=t.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),n=rtl.refSet(this.GetTouchEventShiftState(t)),this.FLinkTouchEvents&&this.MouseDown(0,rtl.refSet(n),pas.System.Trunc(e),pas.System.Trunc(i)),this.TouchStart(pas.System.Trunc(e),pas.System.Trunc(i))),!0,this.FElementEvent=null,!0},this.HandleDoTouchMove=function(t){var e=0,i=0,s=null,n={};return this.FElementEvent=t,this.FLastElementEvent=t,this.StopPropagation(),this.FAllowTouch||this.PreventDefault(),this.Captured()&&this.PreventDefault(),t.touches.length>0&&(s=t.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),n=rtl.refSet(this.GetTouchEventShiftState(t)),this.FLinkTouchEvents&&this.MouseMove(rtl.refSet(n),pas.System.Trunc(e),pas.System.Trunc(i)),this.TouchMove(pas.System.Trunc(e),pas.System.Trunc(i))),this.FElementEvent=null,!0,!0},this.HandleDoTouchEnd=function(t){var e=0,i=0,s=null,n={};return this.FElementEvent=t,this.FAllowTouch||this.PreventDefault(),this.ReleaseCapture(),this.StopPropagation(),null!=this.FLastElementEvent&&this.FLastElementEvent.touches.length>0&&(s=this.FLastElementEvent.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),n=rtl.refSet(this.GetTouchEventShiftState(t)),this.FLinkTouchEvents&&this.MouseUp(0,rtl.refSet(n),pas.System.Trunc(e),pas.System.Trunc(i)),this.TouchEnd(pas.System.Trunc(e),pas.System.Trunc(i))),this.FElementEvent=null,!0,!0},this.HandleDoTouchCancel=function(t){var e=0,i=0,s=null,n={};return this.FElementEvent=t,this.ReleaseCapture(),this.StopPropagation(),t.touches.length>0&&(s=t.touches.item(0),this.XYToClient(s.clientX,s.clientY,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),n=rtl.refSet(this.GetTouchEventShiftState(t)),this.FLinkTouchEvents&&this.MouseUp(0,rtl.refSet(n),pas.System.Trunc(e),pas.System.Trunc(i)),this.TouchCancel(pas.System.Trunc(e),pas.System.Trunc(i))),this.FElementEvent=null,!0,!0},this.HandleDoDragStart=function(t){var i=null;return this.FElementEvent=t,t.stopPropagation(),i=null,this.DoStartDrag({get:function(){return i},set:function(t){i=t}}),e.DragObject=null!=i?i:this,!0,!0},this.HandleDoDragOver=function(t){var i;return this.FElementEvent=t,t.stopPropagation(),this.DragOver(e.DragObject,t.clientX,t.clientY,2,{p:this,get:function(){return this.p.FAcceptDrag},set:function(t){this.p.FAcceptDrag=t}}),!this.FAcceptDrag||this.IsInputControl()&&0!==t.dataTransfer.items.length||t.preventDefault(),i=!this.FAcceptDrag,this.FElementEvent=null,i},this.HandleDoDragEnter=function(t){var i;return this.FElementEvent=t,t.stopPropagation(),this.FAcceptDrag=this.IsInputControl(),this.DragOver(e.DragObject,t.clientX,t.clientY,0,{p:this,get:function(){return this.p.FAcceptDrag},set:function(t){this.p.FAcceptDrag=t}}),this.FAcceptDrag&&t.preventDefault(),i=!this.FAcceptDrag,this.FElementEvent=null,i},this.HandledoDragLeave=function(t){return this.FElementEvent=t,t.stopPropagation(),this.DragOver(e.DragObject,t.clientX,t.clientY,1,{p:this,get:function(){return this.p.FAcceptDrag},set:function(t){this.p.FAcceptDrag=t}}),!0,this.FElementEvent=null,!0},this.HandleDoDragEnd=function(t){return this.FElementEvent=t,t.stopPropagation(),this.DoEndDrag(e.DragObject,t.clientX,t.clientY),!0,0===this.FDragMode&&this.DisableDrag(),this.FElementEvent=null,!0},this.HandleDoDragDrop=function(t){var i;return this.FElementEvent=t,t.stopPropagation(),this.FAcceptDrag?(this.IsInputControl()||t.preventDefault(),this.DragDrop(e.DragObject,t.clientX,t.clientY)):t.preventDefault(),i=this.FAcceptDrag,this.FElementEvent=null,i},this.HandleFontChanged=function(t){0===this.FUpdateCount&&(this.SetParentFont(!1),this.ParentFontChanged()),this.FontChanged()},this.ParentFontChanged=function(){for(var t=0,e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).FParentFont&&(this.GetControls(t).FFont.Assign(this.FFont),this.GetControls(t).FontChanged(),this.GetControls(t).FParentFont=!0,this.GetControls(t).ParentFontChanged())},this.DoExit=function(){null!=this.FOnExit&&this.FOnExit(this)},this.DoEnter=function(){null!=this.FOnEnter&&this.FOnEnter(this)},this.Click=function(){null!=this.FOnClick&&this.IsEnabled()&&this.FOnClick(this)},this.UpdateElement=function(){this.FBlockUpdateElement||this.FUpdateCount>0||null==this.GetElementHandle()||this.GetElementHandle()===this.ContainerElement()||this.IsUpdating()||(this.UpdateElementData(),this.GetIsLinked()||this.UpdateElementVisual())},this.UpdateElementSize=function(){var t=null,e=0,i=0,s=0,n=null,o=null;if(!(this.FBlockUpdateElement||this.FUpdateCount>0||this.GetIsLinked()||null==this.GetElementHandle()||this.GetElementHandle()===this.ContainerElement())){for(t=this.GetElementStyle(),e=0,i=0,n=this.FParent;null!=n&&0===this.FElementPosition&&0!==n.FElementPosition&&!pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(n);){if(n.GetIsLinked()&&null!=n.GetElementHandle()&&"absolute"!==n.GetElementHandle().getAttribute("position")){o=n.GetElementHandle().getBoundingClientRect(),e=Math.round(o.left),i=Math.round(o.top);break}n=n.FParent}null!=this.FParent&&this.FParent.IsStructuralElement()&&(e=this.FParent.GetLeft(),i=this.FParent.GetTop()),0===this.FElementPosition?(-1!==this.FTop?t.setProperty("top",pas.SysUtils.IntToStr(this.FTop+i)+"px"):t.setProperty("top",""),-1!==this.FLeft?t.setProperty("left",pas.SysUtils.IntToStr(this.FLeft+e)+"px"):t.setProperty("left","")):(t.removeProperty("top"),t.removeProperty("left")),1===this.FWidthStyle&&(s=this.GetOuterWidth(),-1!==this.FWidth?t.setProperty("width",pas.SysUtils.IntToStr(s)+"px"):t.removeProperty("width")),2===this.FWidthStyle&&t.removeProperty("width"),1===this.FHeightStyle&&(-1!==this.FHeight?t.setProperty("height",pas.SysUtils.IntToStr(this.GetOuterHeight())+"px"):t.removeProperty("height")),2===this.FHeightStyle&&t.removeProperty("height"),0===this.FWidthStyle&&(-1!==this.FWidth?t.setProperty("width",pas["WEBLib.Utils"].FormatProp("%.2f%%",pas.System.VarRecs(3,this.FWidthPercent))):t.removeProperty("width")),0===this.FHeightStyle&&(-1!==this.FHeight?t.setProperty("height",pas["WEBLib.Utils"].FormatProp("%.2f%%",pas.System.VarRecs(3,this.FHeightPercent))):t.removeProperty("height")),0===this.FElementPosition?t.setProperty("position","absolute"):1===this.FElementPosition?t.setProperty("position","relative"):t.removeProperty("position"),t.setProperty("box-sizing","border-box")}},this.UpdateElementVisual=function(){var e,i,s=null;if(null!=(e=this.GetElementHandle())&&!this.IsUpdating()){s=this.GetElementStyle(),this.FParentFont&&null!=this.FParent&&(this.FFont.FOnChange=null,this.FFont.Assign(this.FParent.FFont),this.FFont.FOnChange=rtl.createCallback(this,"HandleFontChanged")),""===this.FElementClassName&&(this.FClipChildren&&pas.SysUtils.LowerCase(e.tagName)!==pas["WEBLib.WebTools"].cBodyTag?s.setProperty("overflow","hidden"):s.setProperty("overflow",""),this.SetElementPointer(e,this.FCursor)),this.Captured()&&this.FLayer.style.setProperty("cursor",s.getPropertyValue("cursor")),""!==this.FElementClassName||this.CanShowFocus()?s.setProperty("outline",""):s.setProperty("outline","none"),this.UpdateElementSize();var n=this.FTextDirection;0===n?s.removeProperty("direction"):2===n?s.setProperty("direction","rtl"):1===n?s.setProperty("direction","ltr"):3===n&&s.setProperty("direction","inherit"),""===this.FElementClassName&&this.FNoUserSelect&&(s.setProperty("webkit-user-select","none"),s.setProperty("moz-user-select","none"),s.setProperty("khtml-user-select","none"),s.setProperty("ms-user-select","none"),s.setProperty("user-select","none"),s.setProperty("-webkit-tap-highlight-color","transparent")),this.SetElementColor(e,this.FColor),i=!(""===this.FElementClassName&&0===this.FElementFont&&!this.GetIsLinked()),t.SetHTMLElementFont(e,this.FFont,i),i?s.removeProperty("color"):this.IsEnabled()&&s.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(this.FFont.FColor))}},this.UpdateElementData=function(){var t=null,e=null,i="",s="",n="",o=0,r=0;if(null!=this.GetElementHandle()){if(4 in this.FComponentState||(this.FVisible?this.GetElementStyle().setProperty("display",""):this.GetElementStyle().setProperty("display","none")),this.EnableTab(),this.IsEnabled()?this.FContainer.removeAttribute("disabled"):this.FContainer.setAttribute("disabled",""),this.GetIsLinked()&&""===this.FHint)return;if(""!==this.GetRole()&&this.FContainer.setAttribute("role",this.FRole),null!=(t=pas["WEBLib.Forms"].GetParentForm(this))&&1===t.FCSSLibrary&&this.FShowHint&&""!==this.FHint){e=this.GetElementHandle(),i=this.FHint;var a=pas["WEBLib.Forms"].Application.FHintPosition;0===a?n="left":2===a?n="right":1===a?n="top":3===a&&(n="bottom"),s=pas["WEBLib.Forms"].Application.FHintClassName,o=pas["WEBLib.Forms"].Application.FHintPause,r=pas["WEBLib.Forms"].Application.FHintHidePause,this.FTooltip=new bootstrap.Tooltip(e,{title:i,placement:n,customClass:s,delay:{show:o,hide:r}})}else this.FShowHint&&""!==this.FHint?this.FContainer.setAttribute("title",this.FHint):this.FContainer.removeAttribute("title");this.IsEnabled()?1!==this.FElementFont&&this.GetElementStyle().setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(this.FFont.FColor)):this.GetElementStyle().removeProperty("color")}},this.UpdateParent=function(){this.InternalUpdateParent(),this.UpdateChildren(this.FPrevParent),this.UpdateChildren(this.FParent)},this.UpdateControlSize=function(t,e){this.FWidth=t,this.FHeight=e},this.InternalUpdateParent=function(){var t=null;t=this.FPrevParent,this.FNew&&(this.CreateControl(),null!=this.GetContainer()&&(null!=this.FParent&&null==this.FParent.GetContainer()&&this.FParent.CreateControl(),this.FParent!==t&&null!=t&&null!=t.GetContainer()&&this.GetContainer().parentNode===t.GetChildContainer()&&t.GetChildContainer().removeChild(this.GetContainer()),null!=this.FParent&&null!=this.FParent.GetContainer()&&this.FParent.GetChildContainer().appendChild(this.GetContainer())))},this.UpdateChildren=function(e){var i=0,s=null;if(null!=e&&!(3 in this.FComponentState)){0!==e.FAlign&&e.DoRealign(),t.TCustomControl.isPrototypeOf(e)&&(rtl.as(e,t.TCustomControl).RecreateCanvas(),rtl.as(e,t.TCustomControl).Invalidate());for(var n=0,o=e.GetControlsCount()-1;n<=o;n++)i=n,s=e.GetControls(i),this.UpdateChildren(s)}},this.DisableTab=function(){var t=0;this.FTabStop&&this.CanFocus()||null!=this.GetContainer()&&this.GetContainer().setAttribute("tabindex","-1");for(var e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).DisableTab()},this.EnableTab=function(){var t=0;null==this.FContainer||this.GetIsLinked()||(this.FTabStop&&this.CanFocus()?this.FContainer.setAttribute("tabindex",pas.SysUtils.IntToStr(this.FTabOrder+1)):this.FContainer.setAttribute("tabindex","-1"));for(var e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).EnableTab()},this.SetElementClassName=function(t){this.FElementClassName!==t&&(this.FElementClassName=t,null!=this.FContainer&&this.FContainer.setAttribute("class",t),this.UpdateElement())},this.SetColor=function(t){this.FColor=t,this.UpdateElementVisual(),this.ColorChanging()},this.SetFont=function(t){this.FFont.SetName(t.FName),this.FFont.SetSize(t.FSize),this.FFont.SetStyle(rtl.refSet(t.FStyle)),this.FFont.SetColor(t.FColor)},this.SetParent=function(t){var e;null!=t&&(t=t.CanAcceptChild(this)),e=this.FNew,this.FParent!==t&&(null!=this.FParent&&this.FParent.UnRegisterParent(this),this.FPrevParent=this.FParent,this.FParent=t,this.FGotFocus=!1,this.UpdateParent(),3 in this.FComponentState||(e||this.UpdateElement(),this.InitScript()),null!=this.FParent&&this.FParent.RegisterParent(this),0 in this.FComponentState&&null!=this.FParent&&!(0 in this.FParent.FComponentState)&&this.Loaded(),null==t||null==this.FParent||this.FParent.IsUpdating()||this.Realign(),this.Invalidate())},this.RegisterParent=function(t){this.FControls=rtl.arraySetLength(this.FControls,null,rtl.length(this.FControls)+1),this.FControls[rtl.length(this.FControls)-1]=t},this.UnRegisterParent=function(t){var e=0,i=!1;i=!1;for(var s=0,n=rtl.length(this.FControls)-1;s<=n;s++)e=s,this.FControls[e]===t&&(i=!0),i&&e<rtl.length(this.FControls)-1&&(this.FControls[e]=this.FControls[e+1]);i&&(this.FControls=rtl.arraySetLength(this.FControls,null,rtl.length(this.FControls)-1))},this.CanAcceptChild=function(t){return this,this},this.SetLeft=function(t){this.FLeft!==t&&(this.FLeft=t,this.ResetAnchoring(),this.FUpdateTopLeft||(this.FOrigLeft=t),this.UpdateElementSize(),this.RecreateCanvas(),this.InternalResize(),0 in this.FComponentState||0===this.FAlign||null==this.FParent||this.DoRealign())},this.SetTop=function(t){this.FTop!==t&&(this.FTop=t,this.ResetAnchoring(),this.FUpdateTopLeft||(this.FOrigTop=t),this.UpdateElementSize(),this.RecreateCanvas(),this.InternalResize(),0 in this.FComponentState||0===this.FAlign||null==this.FParent||this.DoRealign())},this.MouseUp=function(t,e,i,s){this.FEnabled&&null!=this.FOnMouseUp&&this.FOnMouseUp(this,t,rtl.refSet(e),i,s)},this.MouseDown=function(t,e,i,s){this.FEnabled&&null!=this.FOnMouseDown&&this.FOnMouseDown(this,t,rtl.refSet(e),i,s)},this.MouseMove=function(t,e,i){this.FEnabled&&null!=this.FOnMouseMove&&this.FOnMouseMove(this,rtl.refSet(t),e,i)},this.TouchStart=function(t,e){null!=this.FOnTouchStart&&this.FOnTouchStart(this,t,e)},this.TouchMove=function(t,e){null!=this.FOnTouchMove&&this.FOnTouchMove(this,t,e)},this.TouchEnd=function(t,e){null!=this.FOnTouchEnd&&this.FOnTouchEnd(this,t,e)},this.TouchCancel=function(t,e){null!=this.FOnTouchCancel&&this.FOnTouchCancel(this,t,e)},this.DoMouseEnter=function(){null!=this.FOnMouseEnter&&this.FOnMouseEnter(this)},this.DoMouseLeave=function(){null!=this.FOnMouseLeave&&this.FOnMouseLeave(this)},this.MouseWheel=function(t,e,i){var s=!1;for(null!=this.FOnMouseWheel&&this.FOnMouseWheel(this,rtl.refSet(t),e,pas.Types.TPoint.$clone(pas.Types.Point(0,0)),i),this.FWheelAccumulator+=e;Math.abs(this.FWheelAccumulator)>=120;)s=this.FWheelAccumulator<0,this.FWheelAccumulator=Math.abs(this.FWheelAccumulator)-120,s?(0!==this.FWheelAccumulator&&(this.FWheelAccumulator=-this.FWheelAccumulator),this.DoMouseWheelDown(rtl.refSet(t),pas.Types.TPoint.$clone(this.FWheelMousePos))):this.DoMouseWheelUp(rtl.refSet(t),pas.Types.TPoint.$clone(this.FWheelMousePos))},this.DoMouseWheelDown=function(t,e){var i=!1;return i=!1,null!=this.FOnMouseWheelDown&&this.FOnMouseWheelDown(this,rtl.refSet(t),pas.Types.TPoint.$clone(e),{get:function(){return i},set:function(t){i=t}}),i},this.DoMouseWheelUp=function(t,e){var i=!1;return i=!1,null!=this.FOnMouseWheelUp&&this.FOnMouseWheelUp(this,rtl.refSet(t),pas.Types.TPoint.$clone(e),{get:function(){return i},set:function(t){i=t}}),i},this.DblClick=function(){null!=this.FOnDblClick&&this.FOnDblClick(this)},this.KeyDown=function(t,e){null!=this.FOnKeyDown&&this.FOnKeyDown(this,t,rtl.refSet(e))},this.KeyPress=function(t){null!=this.FOnKeyPress&&this.FOnKeyPress(this,t)},this.KeyUp=function(t,e){null!=this.FOnKeyUp&&this.FOnKeyUp(this,t,rtl.refSet(e))},this.SetFocus=function(){var t=null;this.CanFocus()&&null!=this.GetElementHandle()&&(t=this.GetElementHandle(),this.FGotFocus?t.focus():setTimeout((function(){t.focus()}),1))},this.DoMarginsChanged=function(t){this.DoRealign()},this.DoRealign=function(){null==this.FParent||this.FParent.IsUpdating()||this.FParent.AlignControl(this.FParent)},this.DoBoundsChange=function(){var t,e=!1;this.UpdateElementSize(),this.RecreateCanvas(),this.FIsResizing||(this.FIsResizing=!0,this.InternalResize(),this.DoRealign(),e=!1,null!=(t=pas["WEBLib.Forms"].GetParentForm(this))&&(e=(e=t.FIsResizing$1)||t.FUpdateCount>0),(e=(e=e||this.FUpdateCount>0)||this.FIsAligning)||this.UpdateChildAnchoring(),this.FIsResizing=!1)},this.DoEndDrag=function(t,e,i){null!=this.FonEndDrag&&this.FonEndDrag(this,t,e,i)},this.DoStartDrag=function(t){null!=this.FOnStartDrag&&this.FOnStartDrag(this,t)},this.DragOver=function(t,e,i,s,n){null!=this.FOnDragOver&&this.FOnDragOver(this,t,e,i,s,n)},this.GetID=function(){return this.FID},this.GetElementHandle=function(){var t=null;return t=null,null!=this.FContainer&&this.FControlCreated&&(t=this.FContainer),t},this.GetElementBindHandle=function(){return this.GetElementHandle()},this.GetKeyCode=function(t,e){var i=0;i=-1;var s=t;return"Up"===s?i=38:"Down"===s?i=40:"Left"===s?i=37:"Right"===s?i=39:"!"===s?i=56:'"'===s||"#"===s?i=51:"$"===s?i=186:"%"===s?i=192:"'"===s?i=52:"("===s?i=53:")"===s?i=219:"*"===s?i=106:"+"===s?i=107:"-"===s?i=109:","===s?i=44:"."===s?i=46:"/"===s?i=111:"\\"===s?i=226:"="===s?i=187:"<"===s||">"===s?i=226:s===pas.Web.TJSKeyNames.BackSpace?i=8:s===pas.Web.TJSKeyNames.Tab?i=9:s===pas.Web.TJSKeyNames.Enter?i=13:s===pas.Web.TJSKeyNames.Shift?i=16:s===pas.Web.TJSKeyNames.Control?i=17:s===pas.Web.TJSKeyNames.Alt?i=18:s===pas.Web.TJSKeyNames.Pause?i=19:s===pas.Web.TJSKeyNames.CapsLock?i=20:s===pas.Web.TJSKeyNames.Escape?i=27:s===pas.Web.TJSKeyNames.PageUp?i=33:s===pas.Web.TJSKeyNames.PageDown?i=34:s===pas.Web.TJSKeyNames._End?i=35:s===pas.Web.TJSKeyNames.Home?i=36:s===pas.Web.TJSKeyNames.ArrowLeft?i=37:s===pas.Web.TJSKeyNames.ArrowUp?i=38:s===pas.Web.TJSKeyNames.ArrowRight?i=39:s===pas.Web.TJSKeyNames.ArrowDown?i=40:s===pas.Web.TJSKeyNames.Insert?i=45:s===pas.Web.TJSKeyNames.Delete?i=46:s===pas.Web.TJSKeyNames.F1?i=112:s===pas.Web.TJSKeyNames.F2?i=113:s===pas.Web.TJSKeyNames.F3?i=114:s===pas.Web.TJSKeyNames.F4?i=115:s===pas.Web.TJSKeyNames.F5?i=116:s===pas.Web.TJSKeyNames.F6?i=117:s===pas.Web.TJSKeyNames.F7?i=118:s===pas.Web.TJSKeyNames.F8?i=119:s===pas.Web.TJSKeyNames.F9?i=120:s===pas.Web.TJSKeyNames.F10?i=121:s===pas.Web.TJSKeyNames.F11?i=122:s===pas.Web.TJSKeyNames.F12?i=123:s===pas.Web.TJSKeyNames.F13?i=124:s===pas.Web.TJSKeyNames.F14?i=125:s===pas.Web.TJSKeyNames.F15?i=126:s===pas.Web.TJSKeyNames.F16?i=127:s===pas.Web.TJSKeyNames.F17?i=128:s===pas.Web.TJSKeyNames.F18?i=129:s===pas.Web.TJSKeyNames.F19?i=130:s===pas.Web.TJSKeyNames.F20?i=131:pas.System.Assigned(t)&&t.length>0&&(i=t.charCodeAt(0),e&&i>=97&&i<=122?i&=223:i>=65&&i<=90?i|=64:i>122&&(i|=128)),i},this.GetKeyChar=function(t){var e="",i=0;i=-1,e="\0";var s=t;return s===pas.Web.TJSKeyNames.BackSpace?i=8:s===pas.Web.TJSKeyNames.Tab?i=9:s===pas.Web.TJSKeyNames.Enter?i=13:s===pas.Web.TJSKeyNames.Shift?i=16:s===pas.Web.TJSKeyNames.Control?i=17:s===pas.Web.TJSKeyNames.Alt?i=18:s===pas.Web.TJSKeyNames.Pause?i=19:s===pas.Web.TJSKeyNames.CapsLock?i=20:s===pas.Web.TJSKeyNames.Escape?i=27:s===pas.Web.TJSKeyNames.PageUp?i=33:s===pas.Web.TJSKeyNames.PageDown?i=34:s===pas.Web.TJSKeyNames._End?i=35:s===pas.Web.TJSKeyNames.Home?i=36:s===pas.Web.TJSKeyNames.ArrowLeft?i=37:s===pas.Web.TJSKeyNames.ArrowUp?i=38:s===pas.Web.TJSKeyNames.ArrowRight?i=39:s===pas.Web.TJSKeyNames.ArrowDown?i=40:s===pas.Web.TJSKeyNames.Insert?i=45:s===pas.Web.TJSKeyNames.Delete?i=46:s===pas.Web.TJSKeyNames.F1?i=112:s===pas.Web.TJSKeyNames.F2?i=113:s===pas.Web.TJSKeyNames.F3?i=114:s===pas.Web.TJSKeyNames.F4?i=115:s===pas.Web.TJSKeyNames.F5?i=116:s===pas.Web.TJSKeyNames.F6?i=117:s===pas.Web.TJSKeyNames.F7?i=118:s===pas.Web.TJSKeyNames.F8?i=119:s===pas.Web.TJSKeyNames.F9?i=120:s===pas.Web.TJSKeyNames.F10?i=121:s===pas.Web.TJSKeyNames.F11?i=122:s===pas.Web.TJSKeyNames.F12?i=123:s===pas.Web.TJSKeyNames.F13?i=124:s===pas.Web.TJSKeyNames.F14?i=125:s===pas.Web.TJSKeyNames.F15?i=126:s===pas.Web.TJSKeyNames.F16?i=127:s===pas.Web.TJSKeyNames.F17?i=128:s===pas.Web.TJSKeyNames.F18?i=129:s===pas.Web.TJSKeyNames.F19?i=130:s===pas.Web.TJSKeyNames.F20?i=131:e=t.charAt(0),-1!==i&&(e=String.fromCharCode(i)),e},this.IsKeyCharacter=function(t){var e=t;return"Up"!==e&&"Down"!==e&&"Left"!==e&&"Right"!==e&&e!==pas.Web.TJSKeyNames.Shift&&e!==pas.Web.TJSKeyNames.Control&&e!==pas.Web.TJSKeyNames.Alt&&e!==pas.Web.TJSKeyNames.Pause&&e!==pas.Web.TJSKeyNames.CapsLock&&e!==pas.Web.TJSKeyNames.PageUp&&e!==pas.Web.TJSKeyNames.PageDown&&e!==pas.Web.TJSKeyNames._End&&e!==pas.Web.TJSKeyNames.Home&&e!==pas.Web.TJSKeyNames.ArrowLeft&&e!==pas.Web.TJSKeyNames.ArrowUp&&e!==pas.Web.TJSKeyNames.ArrowRight&&e!==pas.Web.TJSKeyNames.ArrowDown&&e!==pas.Web.TJSKeyNames.Insert&&e!==pas.Web.TJSKeyNames.Delete&&e!==pas.Web.TJSKeyNames.F1&&e!==pas.Web.TJSKeyNames.F2&&e!==pas.Web.TJSKeyNames.F3&&e!==pas.Web.TJSKeyNames.F4&&e!==pas.Web.TJSKeyNames.F5&&e!==pas.Web.TJSKeyNames.F6&&e!==pas.Web.TJSKeyNames.F7&&e!==pas.Web.TJSKeyNames.F8&&e!==pas.Web.TJSKeyNames.F9&&e!==pas.Web.TJSKeyNames.F10&&e!==pas.Web.TJSKeyNames.F11&&e!==pas.Web.TJSKeyNames.F12&&e!==pas.Web.TJSKeyNames.F13&&e!==pas.Web.TJSKeyNames.F14&&e!==pas.Web.TJSKeyNames.F15&&e!==pas.Web.TJSKeyNames.F16&&e!==pas.Web.TJSKeyNames.F17&&e!==pas.Web.TJSKeyNames.F18&&e!==pas.Web.TJSKeyNames.F19&&e!==pas.Web.TJSKeyNames.F20},this.GetClientRect=function(){var t=pas.Types.TRect.$new(),e="",i=0,s=0;return e=pas.SysUtils.UpperCase(this.GetStyle("border-width")),s=0,(i=pas.System.Pos("PX",e))>0&&(pas.System.Delete({get:function(){return e},set:function(t){e=t}},i,2),pas.System.val$6(e,{get:function(){return s},set:function(t){s=t}},{get:function(){return i},set:function(t){i=t}})),t.$assign(pas.Types.Rect(0,0,this.GetWidth()-2*s,this.GetHeight()-2*s)),t},this.CreateControl=function(){null==this.FElement&&(this.FElement=this.CreateElement(),null!=this.FElement&&(this.FControlCreated=!0,this.FContainer=this.FElement,"body"!==this.GetID()&&this.GetContainer().setAttribute("id",this.GetID()),this.GetContainer().setAttribute("zindex","0"),""!==this.FElementClassName&&this.GetContainer().setAttribute("class",this.FElementClassName),this.CreateChildElements(this.FElement),this.BindEvents(),this.UpdateElement()))},this.ClearMethodPointers=function(){this.FWheelPtr=null,this.FClickPtr=null,this.FDblClickPtr=null,this.FMouseDownPtr=null,this.FMouseUpPtr=null,this.FMouseMovePtr=null,this.FMouseLeavePtr=null,this.FMouseEnterPtr=null,this.FKeyDownPtr=null,this.FKeyUpPtr=null,this.FKeyPressPtr=null,this.FInputPtr=null,this.FEnterPtr=null,this.FExitPtr=null,this.FTouchStartPtr=null,this.FTouchEndPtr=null,this.FTouchMovePtr=null,this.FTouchCancelPtr=null,this.FLayerMouseLeavePtr=null,this.FLayerMouseEnterPtr=null,this.FScriptLoadedPtr=null,this.FContextMenuPtr=null},this.GetMethodPointers=function(){null===this.FWheelPtr&&(this.FWheelPtr=rtl.createCallback(this,"HandleDoWheel"),this.FClickPtr=rtl.createCallback(this,"HandleDoClick"),this.FDblClickPtr=rtl.createCallback(this,"HandleDoDblClick"),this.FMouseDownPtr=rtl.createCallback(this,"HandleDoMouseDown"),this.FMouseUpPtr=rtl.createCallback(this,"HandleDoMouseUp"),this.FMouseMovePtr=rtl.createCallback(this,"HandleDoMouseMove"),this.FMouseLeavePtr=rtl.createCallback(this,"HandleDoMouseLeave"),this.FMouseEnterPtr=rtl.createCallback(this,"HandleDoMouseEnter"),this.FKeyDownPtr=rtl.createCallback(this,"HandleDoKeyDown"),this.FKeyUpPtr=rtl.createCallback(this,"HandleDoKeyUp"),this.FKeyPressPtr=rtl.createCallback(this,"HandleDoKeyPress"),this.FInputPtr=rtl.createCallback(this,"HandleDoInput"),this.FEnterPtr=rtl.createCallback(this,"HandleDoEnter"),this.FExitPtr=rtl.createCallback(this,"HandleDoExit"),this.FTouchStartPtr=rtl.createCallback(this,"HandleDoTouchStart"),this.FTouchEndPtr=rtl.createCallback(this,"HandleDoTouchEnd"),this.FTouchMovePtr=rtl.createCallback(this,"HandleDoTouchMove"),this.FTouchCancelPtr=rtl.createCallback(this,"HandleDoTouchCancel"),this.FLayerMouseLeavePtr=rtl.createCallback(this,"LayerHandleDoMouseLeave"),this.FLayerMouseEnterPtr=rtl.createCallback(this,"LayerHandleDoMouseEnter"),this.FScriptLoadedPtr=rtl.createCallback(this,"RequiredScriptLoaded"),this.FDragStartPtr=rtl.createCallback(this,"HandleDoDragStart"),this.FDragOverPtr=rtl.createCallback(this,"HandleDoDragOver"),this.FDragEnterPtr=rtl.createCallback(this,"HandleDoDragEnter"),this.FDragLeavePtr=rtl.createCallback(this,"HandledoDragLeave"),this.FDragEndPtr=rtl.createCallback(this,"HandleDoDragEnd"),this.FDragDropPtr=rtl.createCallback(this,"HandleDoDragDrop"),this.FContextMenuPtr=rtl.createCallback(this,"HandleDoContextMenu"))},this.EventsBound=function(){return this.FEventsBound},this.BindEvents=function(){var t=null;null!=this.GetElementBindHandle()&&(this.GetMethodPointers(),this.FEventsBound=!0,(t=this.GetElementBindHandle()).addEventListener("wheel",this.FWheelPtr),t.addEventListener("click",this.FClickPtr),t.addEventListener("dblclick",this.FDblClickPtr),t.addEventListener("mousedown",this.FMouseDownPtr),t.addEventListener("mouseup",this.FMouseUpPtr),t.addEventListener("mousemove",this.FMouseMovePtr),t.addEventListener("mouseleave",this.FMouseLeavePtr),t.addEventListener("mouseenter",this.FMouseEnterPtr),t.addEventListener("keydown",this.FKeyDownPtr),t.addEventListener("keyup",this.FKeyUpPtr),t.addEventListener("keypress",this.FKeyPressPtr),t.addEventListener("input",this.FInputPtr),t.addEventListener("focus",this.FEnterPtr),t.addEventListener("blur",this.FExitPtr),t.addEventListener("touchstart",this.FTouchStartPtr),t.addEventListener("touchmove",this.FTouchMovePtr),t.addEventListener("touchend",this.FTouchEndPtr),t.addEventListener("touchcancel",this.FTouchCancelPtr),t.addEventListener("contextmenu",this.FContextMenuPtr),t.addEventListener("dragstart",this.FDragStartPtr),t.addEventListener("dragover",this.FDragOverPtr),t.addEventListener("dragenter",this.FDragEnterPtr),t.addEventListener("dragleave",this.FDragLeavePtr),t.addEventListener("dragend",this.FDragEndPtr),t.addEventListener("drop",this.FDragDropPtr))},this.UnbindEvents=function(){var t=null;null!=this.GetElementBindHandle()&&((t=this.GetElementBindHandle()).removeEventListener("wheel",this.FWheelPtr),t.removeEventListener("click",this.FClickPtr),t.removeEventListener("dblclick",this.FDblClickPtr),t.removeEventListener("mousedown",this.FMouseDownPtr),t.removeEventListener("mouseup",this.FMouseUpPtr),t.removeEventListener("mousemove",this.FMouseMovePtr),t.removeEventListener("mouseleave",this.FMouseLeavePtr),t.removeEventListener("mouseenter",this.FMouseEnterPtr),t.removeEventListener("keydown",this.FKeyDownPtr),t.removeEventListener("keyup",this.FKeyUpPtr),t.removeEventListener("keypress",this.FKeyPressPtr),t.removeEventListener("focus",this.FEnterPtr),t.removeEventListener("blur",this.FExitPtr),t.removeEventListener("input",this.FInputPtr),t.removeEventListener("touchstart",this.FTouchStartPtr),t.removeEventListener("touchmove",this.FTouchMovePtr),t.removeEventListener("touchend",this.FTouchEndPtr),t.removeEventListener("touchcancel",this.FTouchEndPtr),t.removeEventListener("contextmenu",this.FContextMenuPtr))},this.AlignControls=function(t,e){var i=this,s=0;function n(t,s){var n=0,o=0,r=0,a=0;t.AnchoringInitialized()||i.InitAnchoring(),t.FUpdateTopLeft=!0,t.FAlignWithMargins?(n=t.FMargins.FLeft,o=t.FMargins.FTop,a=t.FMargins.FBottom,r=t.FMargins.FRight):(n=0,o=0,a=0,r=0);var l=s;1===l?(t.SetBoundsInt(e.Left+n,e.Top+o,e.Right-e.Left-n-r,t.GetHeight()),e.Top=e.Top+t.GetHeight()+o+a):2===l?(t.SetBoundsInt(e.Left+n,e.Bottom-t.GetHeight()-a-1,e.Right-e.Left-n-r-1,t.GetHeight()),e.Bottom=e.Bottom-t.GetHeight()-o-a):3===l?(t.SetBoundsInt(e.Left+n,e.Top+o,t.GetWidth(),e.Bottom-e.Top-o-a),e.Left=e.Left+t.GetWidth()+n+r):4===l?(t.SetBoundsInt(e.Right-t.GetWidth()-r,e.Top+o,t.GetWidth(),e.Bottom-e.Top-a-o),e.Right=e.Right-t.GetWidth()-r-n):5===l&&t.SetBoundsInt(e.Left+n,e.Top+o,e.Right-e.Left-n-r,e.Bottom-e.Top-a-o),t.FUpdateTopLeft=!1}function o(t){var e=0,s=0,o=0,r=null;r=pas.Classes.TList.$create("Create$1");for(var a=0,l=i.GetControlsCount()-1;a<=l;a++)if(e=a,i.GetControls(e).FAlign===t&&(i.GetControls(e).FVisible||4 in i.FComponentState)){o=r.GetCount();for(var h=r.GetCount()-1;h>=0;h--){s=h;var d=t;1===d?i.GetControls(e).FOrigTop<rtl.getObject(r.Get(s)).FOrigTop&&(o=s):3===d?i.GetControls(e).FOrigLeft<rtl.getObject(r.Get(s)).FOrigLeft&&(o=s):4===d?i.GetControls(e).FOrigLeft+i.GetControls(e).GetWidth()>rtl.getObject(r.Get(s)).FOrigLeft+rtl.getObject(r.Get(s)).GetWidth()&&(o=s):2===d&&i.GetControls(e).FOrigTop+i.GetControls(e).GetHeight()>rtl.getObject(r.Get(s)).FOrigTop+rtl.getObject(r.Get(s)).GetHeight()&&(o=s)}r.Insert(o,i.GetControls(e))}for(var u=0,c=r.GetCount()-1;u<=c;u++)e=u,n(rtl.getObject(r.Get(e)),t);r=rtl.freeLoc(r)}o(1),o(2),o(3),o(4),o(5),o(6);for(var r=0,a=this.GetControlsCount()-1;r<=a;r++)s=r,this.GetControls(s).AlignControl(this.GetControls(s))},this.AlignControl=function(t){var e,i=pas.Types.TRect.$new(),s=null,n="",o="",r="",a=null,l=null,h=0,d=0;this.FIsAligning||this.IsUpdating()||0 in this.FComponentState||(null==this.FParent||this.FParent.FVisible)&&(null!=(l=pas["WEBLib.Forms"].GetParentForm(this))&&l.IsUpdating()||(h=0,null!=l&&""!==l.FFormContainer&&pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(t)&&null!=(a=document.getElementById(l.FFormContainer))&&(s=a.getBoundingClientRect(),h=Math.round(s.top+1)),this.FIsAligning=!0,null!=t&&(null!=(e=t.GetElementHandle())&&(n=t.GetElementStyle().getPropertyValue("overflow"),o=t.GetElementStyle().getPropertyValue("overflow-x"),r=t.GetElementStyle().getPropertyValue("overflow-y"),this.FClipChildren&&pas.SysUtils.LowerCase(e.tagName)!==pas["WEBLib.WebTools"].cBodyTag?t.GetElementStyle().setProperty("overflow","hidden"):t.GetElementStyle().setProperty("overflow","")),i.$assign(this.GetClientRect()),this.GetIsLinked()&&(s=this.GetElementHandle().getBoundingClientRect(),i.$assign(pas.Types.Rect(0,0,Math.round(s.right-s.left),Math.round(s.bottom-s.top)))),i.Bottom+h>pas["WEBLib.Forms"].WinHeight()&&1!==this.FHeightStyle&&0!==this.FElementPosition&&!this.GetIsLinked()&&null==pas["WEBLib.Forms"].VSIDE&&(null!=this.FParent&&pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(this.FParent)||pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(this))&&(i.Bottom=pas["WEBLib.Forms"].WinHeight()-h),null!=e&&"BODY"===e.tagName&&(d=0,document.body.scrollHeight>document.body.clientHeight&&!(4 in this.FComponentState)&&(d=16),""!==l.FFormContainer?(i.Bottom=Math.round(Math.min(i.Bottom,pas["WEBLib.Forms"].WinHeight())),i.Right=Math.round(Math.min(i.Right-d,pas["WEBLib.Forms"].WinWidth()))):(i.Bottom=l.GetHeight(),i.Right=l.GetWidth())),pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(t)&&null==pas["WEBLib.Forms"].VSIDE&&(i.Bottom>pas["WEBLib.Forms"].WinHeight()&&(i.Bottom=pas["WEBLib.Forms"].WinHeight()),i.Right>pas["WEBLib.Forms"].WinWidth()&&(i.Right=pas["WEBLib.Forms"].WinWidth())),t.IsStructuralElement()&&i.$assign(this.FParent.GetClientRect()),this.AlignControls(t,i),null!=e&&(t.GetElementStyle().setProperty("overflow",n),t.GetElementStyle().setProperty("overflow-x",o),t.GetElementStyle().setProperty("overflow-y",r)),this.FIsAligning=!1)))},this.InitAnchoring=function(){var t=0,e=0,i=0;function s(e,i,s){var n;i.set(0),s.set(0),null!=(n=pas.TypInfo.GetPropInfo(e.$class.ClassInfo(),"BorderStyle"))&&((t=pas.TypInfo.GetOrdProp$1(e,n))in rtl.createSet(1,4,5)&&(i.set(4),s.set(4)),t in rtl.createSet(2,3)&&(i.set(16),s.set(16)))}if(!this.AnchoringInitialized()){e=0,i=0,pas["WEBLib.Forms"].TForm.isPrototypeOf(this)?(rtl.as(this,pas["WEBLib.Forms"].TForm).IsMiletus()&&s(this,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),this.FOrigRect.$assign(pas.Types.Rect(0,0,this.GetDesignWidth()-e,this.GetDesignHeight()-i))):this.FOrigRect.$assign(pas.Types.Rect(this.GetDesignLeft(),this.GetDesignTop(),this.GetDesignLeft()+this.GetDesignWidth(),this.GetDesignTop()+this.GetDesignHeight())),null!=this.FParent&&(pas["WEBLib.Forms"].TForm.isPrototypeOf(this.FParent)?(rtl.as(this.FParent,pas["WEBLib.Forms"].TForm).IsMiletus()&&s(this.FParent,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),this.FOrigParentRect.$assign(pas.Types.Rect(0,0,this.FParent.GetDesignWidth()-e,this.FParent.GetDesignHeight()-i))):(this.FParent.AnchoringInitialized()||this.FParent.InitAnchoring(),this.FOrigParentRect.$assign(pas.Types.Rect(this.FParent.GetDesignLeft(),this.FParent.GetDesignTop(),this.FParent.GetDesignLeft()+this.FParent.GetDesignWidth(),this.FParent.GetDesignTop()+this.FParent.GetDesignHeight()))));for(var n=0,o=this.GetControlsCount()-1;n<=o;n++)t=n,this.GetControls(t).InitAnchoring()}},this.AnchoringInitialized=function(){return-1!==this.FOrigRect.Left||-1!==this.FOrigRect.Top},this.InitScript=function(){},this.Realign=function(){this.AlignControl(this)},this.Loaded=function(){var t=0;if(0 in this.FComponentState){pas.Classes.TComponent.Loaded.call(this);for(var e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).FElementPosition in rtl.createSet(1,2)&&!this.GetControls(t).GetIsLinked()&&this.GetControls(t).FChildOrder>=0&&this.GetControls(t).FChildOrder<this.GetChildContainer().childNodes.length&&this.GetChildContainer().insertBefore(this.GetControls(t).GetContainer(),this.GetChildContainer().childNodes.item(this.GetControls(t).FChildOrder)),this.GetControls(t).Loaded();for(var s=0,n=this.GetComponentCount()-1;s<=n;s++)t=s,0 in this.GetComponent(t).FComponentState&&this.GetComponent(t).Loaded();5===this.FAlign&&null!=this.FParent&&this.SetBoundsInt(0,0,this.FParent.FWidth,this.FParent.FHeight),this.Resize(),this.UpdateElement()}},this.InternalResize=function(){0 in this.FComponentState||this.Resize()},this.FontChanged=function(){this.UpdateElementVisual()},this.ClearChildElements=function(){var t=null;if(null!=this.GetElementHandle())for(;this.GetElementHandle().childElementCount>0;)t=this.GetElementHandle().firstChild,this.GetElementHandle().removeChild(t)},this.SetElementColor=function(e,i){var s;s=!(pas["WEBLib.Forms"].Application.FThemed||""!==this.FElementClassName),this.GetIsLinked()||t.SetHTMLElementColor(e,i,!s)},this.MoveElements=function(t,e){if(t&&e)for(;t.childNodes.length;)e.appendChild(t.firstChild)},this.MoveElementsAndFree=function(t,e){if(t&&e){for(;t.childNodes.length;)e.appendChild(t.firstChild);t.remove()}},this.CreateWithID=function(e){var i;this.ClearMethodPointers(),this.FUpdateCount=0,this.FControlCreated=!1,this.FLinkTouchEvents=!0,this.FIsResizing=!1,(null!=this.FOwner&&0 in this.FOwner.FComponentState||null==this.FOwner)&&(null!=this.FOwner&&4 in this.FOwner.FComponentState||this.Loading()),this.FElementPosition=0,this.FWidthStyle=1,this.FHeightStyle=1,i=document.getElementById(e),this.FNew=!(null!=i),this.FFont=pas["WEBLib.Graphics"].TFont.$create("Create$1"),this.FFont.FOnChange=rtl.createCallback(this,"HandleFontChanged"),this.FNew?this.FContainer=null:(this.FContainer=i,this.FControlCreated=!0,this.FElementPosition=1,this.CreateChildElements(i),this.BindElement(),this.BindEvents()),this.FID=e,this.FEnabled=!0,this.FVisible=!0,this.FLeft=0,this.FTop=0,this.FAlign=0,this.FAlignWithMargins=!1,this.FIsAligning=!1,this.FParentFont=!0,this.FParentBiDiMode=!0,this.FParentColor=!1,this.FAnchors=rtl.createSet(0,1),this.FShowFocus=!1,this.FBorderWidth=0,this.FEnablePropagation=!1,this.FToolTip=null,this.FColor=16711422,this.FMargins=t.TMargins.$create("Create$1"),this.FMargins.FOnChange=rtl.createCallback(this,"DoMarginsChanged"),this.FParent=null,this.FPrevParent=null,0 in this.FControlStyle||this.ClearControls(),this.CreateInitialize()},this.AddInstanceStyle=function(t){var e;e=this.FName+"_style",this.$class.AddInstanceStyle$1(e,t)},this.AddInstanceStyle$1=function(t,e){var i,s,n;i=t,s=e,(n=document.getElementById(i))?n.innerHTML=s:((n=document.createElement("style")).type="text/css",n.id=i,n.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(n))},this.AddControlLink=function(t,e){var i,s,n;i=t,s=e,(n=document.getElementById(i))||((n=document.createElement("link")).id=i,n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",s),document.getElementsByTagName("head")[0].appendChild(n))},this.ResetAnchoring=function(){this.FOrigRect.$assign(pas.Types.Rect(-1,-1,-1,-1)),this.InitAnchoring()},this.UpdateSize=function(){var t=0;this.UpdateElementSize();for(var e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).UpdateSize()},this.UpdateAnchoring=function(){var t=0,e=0,i=0,s=0,n=0,o=0,r=pas.Types.TRect.$new(),a=pas.Types.TRect.$new();0 in this.FComponentState||this.FControlCreated&&(-1===this.FOrigRect.Left&&-1===this.FOrigRect.Top&&this.InitAnchoring(),(null==this.FParent||this.FParent.AnchoringInitialized())&&(5!==this.FAlign&&(null==this.FParent||pas["WEBLib.Forms"].TForm.isPrototypeOf(this)||(a.$assign(this.FParent.GetBoundsRect()),t=a.Right-a.Left-(this.FOrigParentRect.Right-this.FOrigParentRect.Left),e=a.Bottom-a.Top-(this.FOrigParentRect.Bottom-this.FOrigParentRect.Top),r.$assign(this.FOrigRect),i=0,s=0,n=0,o=0,2 in this.FAnchors&&(0 in this.FAnchors?n=t:i=t),3 in this.FAnchors&&(1 in this.FAnchors?o=e:s=e),(3 in this.FAnchors||2 in this.FAnchors)&&this.SetBoundsInt(r.Left+i,r.Top+s,r.Right-r.Left+n,r.Bottom-r.Top+o))),this.UpdateChildAnchoring()))},this.UpdateChildAnchoring=function(){for(var t=0,e=0,i=this.GetControlsCount()-1;e<=i;e++)t=e,this.GetControls(t).UpdateAnchoring()},this.SetElementPointer=function(e,i){0!==i?e.style.setProperty("cursor",t.GetHTMLCursorName(i)):e.style.removeProperty("cursor")},this.IsUpdating=function(){return this.FUpdateCount>0},this.CanShowFocus=function(){return this.FShowFocus},this.RequiredScriptLoaded=function(t){rtl.asExt(t.target,HTMLScriptElement).title="tmswebloaded",this.FControlScriptCountLoaded+=1},this.GetStyle=function(t){var e,i="",s="";return s="",null==(e=this.GetElementHandle())?i:(window.getComputedStyle&&(s=getComputedStyle(e,"")[t]),e.currentStyle&&(s=e.currentStyle[t]),i=s)},this.SetBoundsInt=function(t,e,i,s){(t!==this.GetLeft()||e!==this.GetTop()||i!==this.GetWidth()&&1===this.FWidthStyle||s!==this.GetHeight()&&1===this.FHeightStyle||null!=this.FParent&&this.FParent.GetIsLinked())&&(this.FBlockUpdateElement=!0,this.FLeft=t,this.FTop=e,this.FWidth=i,this.FHeight=s,this.FBlockUpdateElement=!1,this.UpdateElementSize(),0!==this.FAlign?this.DoRealign():this.Realign(),this.RecreateCanvas(),this.DoBoundsChange(),this.Invalidate(),this.UpdateChildAnchoring())},this.EnableDrag=function(){null!=this.GetContainer()&&this.GetContainer().setAttribute("draggable","true")},this.DisableDrag=function(){null!=this.GetContainer()&&"true"===this.GetContainer().getAttribute("draggable")&&this.GetContainer().setAttribute("draggable","false")},this.Create$2=function(t){return this.FGotFocus=!1,this.FTabStop=!0,this.FAllowTouch=!0,this.CreateWithID(t),this},this.Create$1=function(t){var e,i,s=!1;return this.FGotFocus=!1,this.FEventsBound=!1,this.FTabStop=!0,this.FAllowTouch=!0,this.FNoUserSelect=!0,this.ClearMethodPointers(),pas.Classes.TComponent.Create$1.call(this,t),this.FEventStopPropagation=rtl.createSet(0,4,2,3,1,5,6,7),this.FScriptLoaded=!1,this.FElementFont=0,this.FElementPosition=0,this.FParentElement=null,this.FTextDirection=0,s=!1,null!=(i=pas["WEBLib.Forms"].GetParentForm(this))&&(s=4 in i.FComponentState),e=this.GetNewName(),s?this.CreateWithID(""):this.CreateWithID(e),null==t||4 in t.FComponentState||this.SetName(e),this},this.Destroy=function(){this.UnbindEvents(),this.DestroyControls(),null!=this.GetContainer()&&null!=this.FParent&&null!=this.FParent.GetChildContainer()&&(this.FParent.GetChildContainer()===this.GetContainer().parentNode&&this.FParent.GetChildContainer().removeChild(this.GetContainer()),this.FContainer=null,this.SetParent(null),this.FControlCreated=!1),rtl.free(this,"FRequiredScripts"),rtl.free(this,"FMargins"),rtl.free(this,"FFont"),pas.System.Assigned(this.FToolTip)&&(FToolTip.dispose(),this.FToolTip=null),pas.Classes.TComponent.Destroy.call(this)},this.Assign=function(t){},this.DragDrop=function(t,e,i){null!=this.FOnDragDrop&&this.FOnDragDrop(this,t,e,i)},this.Resize=function(){null!=this.FOnResize&&this.FOnResize(this)},this.ReleaseCapture=function(){var t=null;this.FCaptureDown=!1,this.FCaptured&&null!=this.FLayer&&((t=this.FLayer).removeEventListener("mouseenter",this.FLayerMouseEnterPtr),t.removeEventListener("mouseleave",this.FLayerMouseLeavePtr),t.removeEventListener("mousedown",this.FMouseDownPtr),t.removeEventListener("mouseup",this.FMouseUpPtr),t.removeEventListener("mousemove",this.FMouseMovePtr),t.removeEventListener("touchstart",this.FTouchStartPtr),t.removeEventListener("touchmove",this.FTouchMovePtr),t.removeEventListener("touchend",this.FTouchEndPtr),t.removeEventListener("touchcancel",this.FTouchEndPtr),document.body.removeChild(t),this.FCaptured=!1,this.FLayer=null,this.UpdateElement())},this.PreventDefault=function(){null!=this.GetElementEvent()&&this.GetElementEvent().preventDefault()},this.StopPropagation=function(){null==this.GetElementEvent()||this.FEnablePropagation||this.GetElementEvent().stopPropagation()},this.BeginDrag=function(){this.EnableDrag()},this.BeginUpdate=function(){this.FUpdateCount+=1},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1,0===this.FUpdateCount&&this.UpdateElement())},this.Invalidate=function(){},this.SetParentComponent=function(e){this.FParent!==e&&t.TControl.isPrototypeOf(e)&&this.SetParent(e)},this.XYToClient=function(t,e,i,s){var n=null,o=null,r=null,a=0,l=0,h=!1,d=!1,u=pas.Types.TRect.$new(),c=null,p=0,C=0,S=0,F=0;if(h=!0,d=!1,S=0,F=0,0!==this.FElementPosition)return h=!1,a=t-(o=this.GetElementHandle().getBoundingClientRect()).left,l=e-o.top,i.set(a),void s.set(l);for(S=document.body.scrollLeft+document.documentElement.scrollLeft,F=document.body.scrollTop+document.documentElement.scrollTop,a=t-this.GetLeft(),l=e-this.GetTop(),i.set(a),s.set(l),n=this.FParent,pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(this)&&null==n&&null!=this.GetContainer()&&(o=this.GetContainer().getBoundingClientRect(),i.set(i.get()-o.left),s.set(s.get()-o.top));null!=n;)n.GetIsLinked()?(o=pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(n)?n.GetContainer().getBoundingClientRect():n.GetElementHandle().getBoundingClientRect(),i.set(i.get()-o.left),s.set(s.get()-o.top),S=0,F=0):pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(n)?(""!==rtl.as(n,pas["WEBLib.Forms"].TCustomForm).FFormContainer&&null!=(r=document.getElementById(rtl.as(n,pas["WEBLib.Forms"].TCustomForm).FFormContainer))&&(d=!0,o=r.getBoundingClientRect(),i.set(i.get()-o.left),s.set(s.get()-o.top)),null!=rtl.as(n,pas["WEBLib.Forms"].TCustomForm).GetContainer()&&""===rtl.as(n,pas["WEBLib.Forms"].TCustomForm).FFormContainer&&rtl.as(n,pas["WEBLib.Forms"].TCustomForm).FPopup&&(o=rtl.as(n,pas["WEBLib.Forms"].TCustomForm).GetContainer().getBoundingClientRect(),i.set(i.get()-o.left),s.set(s.get()-o.top),u.$assign(rtl.as(n,pas["WEBLib.Forms"].TCustomForm).GetClientRect()),s.set(s.get()+u.Top),S=0,F=0)):n.FElementPosition in rtl.createSet(1,2)?null!=n.GetElementHandle()&&(o=n.GetElementHandle().getBoundingClientRect(),i.set(a-o.left),s.set(l-o.top),S=0,F=0,h&&(c=window.getComputedStyle(document.documentElement),p=parseInt(c.marginLeft,10),C=parseInt(c.marginTop,10),i.set(i.get()+p),s.set(s.get()+C)),h=!1):0===n.FElementPosition&&h&&(i.set(i.get()-n.GetLeft()),s.set(s.get()-n.GetTop()),a=i.get(),l=s.get()),n=n.FParent;0!==this.FElementPosition||d||(i.set(i.get()+S),s.set(s.get()+F))},this.Captured=function(){return this.FCaptured&&null!=this.FLayer},this.ScreenToClient=function(t){var e=pas.Types.TPoint.$new(),i=pas.Types.TPoint.$new();return i.$assign(this.GetClientOrigin()),e.x=t.x-i.x,e.y=t.y-i.y,e},this.CanFocus=function(){return!0,!0},this.HasHorzScrollBar=function(){var t=!1;return t=!1,null!=this.GetElementHandle()&&(t=this.GetElementHandle().clientWidth<this.GetElementHandle().scrollWidth),t},this.HasVertScrollBar=function(){var t=!1;return t=!1,null!=this.GetElementHandle()&&(t=this.GetElementHandle().clientHeight<this.GetElementHandle().scrollHeight),t},rtl.addIntf(this,pas.System.IUnknown)})),this.TScrollBarKind={0:"sbHorizontal",sbHorizontal:0,1:"sbVertical",sbVertical:1},rtl.createClass(this,"TControlScrollBar",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FKind=0,this.FControl=null},this.$final=function(){this.FControl=void 0,pas.Classes.TPersistent.$final.call(this)},this.Create$1=function(t,e){return this.FControl=t,this.FKind=e,this}})),rtl.createClass(this,"TWinControl",this.TControl,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Cursor",2,t.$rtti.TCursor,"FCursor","SetControlCursor",{Default:0}),e.addProperty("ElementClassName",2,t.$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("Tag",0,rtl.longint,"FTag$1","FTag$1",{Default:0}),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("OnMouseDown",0,t.$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,t.$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,t.$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseEnter",0,t.$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnMouseLeave",0,t.$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnKeyUp",0,t.$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnKeyDown",0,t.$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,t.$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnEnter",0,t.$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,t.$rtti.TNotifyEvent,"FOnExit","FOnExit")})),rtl.createClass(this,"TCustomControl",this.TWinControl,(function(){this.$init=function(){t.TWinControl.$init.call(this),this.FCaption="",this.FPixelRatio=0,this.FPainting=!1,this.FCanvas=null,this.FElementCanvas=null,this.FBorderStyle=0,this.FBorderColor=0,this.FCustomBorder=!1},this.$final=function(){this.FCanvas=void 0,this.FElementCanvas=void 0,t.TWinControl.$final.call(this)},this.GetCanvas=function(){return null==this.FCanvas&&(this.GetIsLinked()?(null==this.FElementCanvas&&(this.FElementCanvas=document.getElementById(this.GetID())),this.RecreateCanvas()):this.CreateControl()),this.FCanvas},this.RenderDesigning=function(t,e,i,s,n){var o,r=null,a=null,l=null;if(o=null!=(a=(r=e).firstChild)&&"DIV"===a.tagName&&"1"===a.getAttribute("data-design"),4 in i.FComponentState&&s&&""===this.FElementClassName){if(r.style.setProperty("border","1px solid gray"),""===n?r.style.setProperty("background-color","#F0F0F0"):r.style.setProperty("background-color","white"),o)return;r.innerHTML="",""!==n&&((l=document.createElement("DIV")).style.setProperty("background-color","white"),l.style.setProperty("background-repeat","no-repeat"),l.style.setProperty("background-position-y","center"),l.style.setProperty("background-image","url("+n+")"),l.style.setProperty("background-position-x","center"),l.style.setProperty("background-size","128px"),l.style.setProperty("top","50%"),l.style.setProperty("left","50%"),l.style.setProperty("height","70%"),r.appendChild(l)),(a=document.createElement("DIV")).setAttribute("data-design","1"),a.innerHTML=t,a.style.setProperty("position","relative"),a.style.setProperty("top","50%"),a.style.setProperty("left","50%"),a.style.setProperty("display","inline-block"),a.style.setProperty("transform","translateX(-50%)"),this.FCustomBorder=!0,r.appendChild(a)}else if(o){for(;null!=r.firstChild;)r.removeChild(r.firstChild);r.style.removeProperty("border"),r.style.removeProperty("background-color")}},this.GetPixelRatio=function(){var t=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},this.RecreateCanvas=function(){var t=0,e=null,i=0,s=0;null!=this.FElementCanvas&&(this.FPainting||(null!=(e=this.GetIsLinked()?this.GetElementHandle():document.getElementById(this.GetID()+"_Canvas"))&&(this.FElementCanvas=e,rtl.free(this,"FCanvas"),this.FCanvas=null),t=this.GetPixelRatio(),i=this.GetHeight()-this.GetCanvasHeightOffset(),s=this.GetWidth()-this.GetCanvasWidthOffset(),1===this.FElementPosition?this.FElementCanvas.style.setProperty("position","relative"):this.FElementCanvas.style.setProperty("position","absolute"),this.FElementCanvas.style.setProperty("height",pas.SysUtils.IntToStr(i)+"px"),this.FElementCanvas.style.setProperty("width",pas.SysUtils.IntToStr(s)+"px"),this.FElementCanvas.height=Math.round(i*t),this.FElementCanvas.width=Math.round(s*t)),null==this.FCanvas&&(this.FCanvas=pas["WEBLib.Graphics"].TCanvas.$create("Create$1",[this.FElementCanvas])),this.FCanvas.FApplyPixelRatio=!0,this.FCanvas.SetTransform(1,0,0,1,0,0))},this.SetBorderStyle=function(t){this.FBorderStyle!==t&&(this.FBorderStyle=t,this.UpdateElement())},this.SetBorderColor=function(t){this.FBorderColor!==t&&(this.FBorderColor=t,this.UpdateElement())},this.SetName=function(e){var i={},s="";if(s="",null!=pas["WEBLib.Forms"].VSIDE&&4 in this.FComponentState||pas["WEBLib.Forms"].TFrame.isPrototypeOf(this)&&(s="F"+t.FindUniqueName(this.FName)+"_"),pas.Classes.TComponent.SetName.call(this,s+e),1 in this.FControlStyle&&4 in this.FComponentState&&!(0 in this.FComponentState)){if(null!=this.FOwner&&0 in this.FOwner.FComponentState)return;i=rtl.refSet(this.FControlStyle),this.SetCaption(e),this.FControlStyle=rtl.refSet(i)}},this.SetCaption=function(t){this.FCaption=t,this.FControlStyle=rtl.diffSet(this.FControlStyle,rtl.createSet(1))},this.CreateControl=function(){t.TControl.CreateControl.call(this),this.RecreateCanvas()},this.Loaded=function(){t.TControl.Loaded.call(this),this.Invalidate()},this.UpdateElementVisual=function(){t.TControl.UpdateElementVisual.call(this),null!=this.GetElementHandle()&&(this.GetIsLinked()||""!==this.FElementClassName||(1===this.FBorderStyle?this.FCustomBorder?(this.GetElementStyle().setProperty("border-style","solid"),this.GetElementStyle().setProperty("border-width","1px"),this.GetElementStyle().setProperty("border-color",pas["WEBLib.Graphics"].ColorToHTML(this.FBorderColor))):this.GetElementStyle().setProperty("border-style",""):this.GetElementStyle().setProperty("border-style","none")),""!==this.FElementClassName&&(this.GetElementStyle().removeProperty("border-style"),this.GetElementStyle().removeProperty("border-width"),this.GetElementStyle().removeProperty("border-color")))},this.CreateElement=function(){var t=null;return this.FElementCanvas=document.createElement("CANVAS"),0 in this.FControlStyle?((t=document.createElement("SPAN")).appendChild(this.FElementCanvas),""!==this.GetID()&&this.FElementCanvas.setAttribute("id",this.GetID()+"_Canvas"),this.FElementCanvas.setAttribute("zindex","-1")):t=this.FElementCanvas,t},this.GetCanvasHeightOffset=function(){return 0,0},this.GetCanvasWidthOffset=function(){return 0,0},this.BindElement=function(){"CANVAS"===this.GetContainer().tagName||this.FControlCreated||(this.FElementCanvas=document.createElement("CANVAS"),this.GetContainer().appendChild(this.FElementCanvas))},this.BindEvents=function(){t.TControl.BindEvents.call(this)},this.Paint=function(){},this.CreateInitialize=function(){t.TControl.CreateInitialize.call(this),this.FControlStyle=rtl.unionSet(this.FControlStyle,rtl.createSet(1)),this.FBorderStyle=1,this.FBorderColor=12632256,this.FPainting=!1,this.FWidth=100,this.FHeight=25,this.FWidthPercent=100,this.FHeightPercent=100,this.FCustomBorder=!1},this.Destroy=function(){null!=this.FCanvas&&rtl.free(this,"FCanvas"),t.TControl.Destroy.call(this)},this.Resize=function(){t.TControl.Resize.call(this),this.Invalidate()},this.Invalidate=function(){var e=null;t.TControl.Invalidate.call(this),null===this.FParent||3 in this.FComponentState||this.FVisible&&(this.FUpdateCount>0||null!=(e=pas["WEBLib.Forms"].GetParentForm(this))&&e.IsUpdating()||(this.GetPixelRatio()!==this.FPixelRatio&&this.RecreateCanvas(),this.FPixelRatio=this.GetPixelRatio(),this.FPainting=!0,null!=this.FCanvas&&this.FCanvas.Clear(),this.Paint(),this.FPainting=!1))},this.SetFocus=function(){t.TControl.SetFocus.call(this)},this.EndUpdate=function(){t.TControl.EndUpdate.call(this),0===this.FUpdateCount&&this.Invalidate()},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TCustomHTMLDiv",this.TCustomControl,(function(){this.CreateElement=function(){return document.createElement("DIV")},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TControlManager",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FInstanceCount=0},this.Create$1=function(t){return pas.Classes.TComponent.Create$1.apply(this,arguments),this.FInstanceCount=0,this},this.GetInstanceNumber=function(){return this.FInstanceCount+=1,this.FInstanceCount},rtl.addIntf(this,pas.System.IUnknown)})),this.GetMousePos=function(){var t=pas.Types.TPoint.$new();return t.$assign(pas.Types.Point(e.FMouseX,e.FMouseY)),t},this.FindUniqueName=function(t){return t+pas.SysUtils.IntToStr(e.ControlManager.GetInstanceNumber())},this.GetScrollBarHeight=function(){var t=0;if(0===(t=e.ScrollBH)){var i=document.createElement("div");i.style.visibility="hidden",i.style.height="100px",i.style.msOverflowStyle="scrollbar",document.body.appendChild(i);var s=i.offsetHeight;i.style.overflow="scroll";var n=document.createElement("div");n.style.height="100%",i.appendChild(n);var o=n.offsetHeight;i.parentNode.removeChild(i),t=s-o,t=0,e.ScrollBH=t}return t},this.GetScrollBarWidth=function(){var t=0;if(0===(t=e.ScrollBW)){var i=document.createElement("div");i.style.visibility="hidden",i.style.width="100px",i.style.msOverflowStyle="scrollbar",document.body.appendChild(i);var s=i.offsetWidth;i.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",i.appendChild(n);var o=n.offsetWidth;i.parentNode.removeChild(i),t=s-o,e.ScrollBW=t}return t},this.SetHTMLElementFont=function(t,e,i){var s="";i?(t.style.removeProperty("font-family"),t.style.removeProperty("font-style"),t.style.removeProperty("font-weight"),t.style.removeProperty("font-size"),t.style.removeProperty("text-decoration")):(t.style.setProperty("font-family",e.FName),t.style.setProperty("font-style","normal"),0 in e.FStyle?t.style.setProperty("font-weight","bold"):t.style.setProperty("font-weight",""),1 in e.FStyle&&t.style.setProperty("font-style","italic"),s="",3 in e.FStyle&&(s="underline"),2 in e.FStyle&&(""!==s&&(s+=" "),s+="line-through"),""!==s?t.style.setProperty("text-decoration",s):t.style.removeProperty("text-decoration"),t.style.setProperty("font-size",pas.SysUtils.IntToStr(e.FSize)+"pt"))},this.SetHTMLElementColor=function(t,i,s){s||-1===i||16711422===i?t.style.removeProperty(e.cStyleBkgColor):t.style.setProperty(e.cStyleBkgColor,pas["WEBLib.Graphics"].ColorToHTML(i))},this.GetHTMLCursorName=function(t){var e="";e="default";return 0===t?e="default":2===t?e="auto":1===t?e="none":3===t?e="crosshair":4===t?e="text":6===t?e="nesw-resize":7===t?e="ns-resize":8===t?e="nwse-resize":9===t?e="ew-resize":10===t?e="n-resize":11===t?e="wait":12===t?e="copy":13===t?e="no-drop":14===t?e="col-resize":15===t?e="row-resize":16===t?e="copy":17===t?e="progress":18===t?e="not-allowed":19===t?e="progress":20===t?e="help":21===t?e="pointer":22!==t&&5!==t||(e="move"),e},this.GetHTMLElementAbsoluteRect=function(t){var e=pas.Types.TRect.$new(),i="";function s(t){var e=0,i=0;return t=pas.SysUtils.StringReplace(t,"px","",rtl.createSet(0)),pas.System.val$6(t,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),e}return i=t.style.getPropertyValue("left"),e.Left=s(i),i=t.style.getPropertyValue("top"),e.Top=s(i),i=t.style.getPropertyValue("width"),e.Right=e.Left+s(i),i=t.style.getPropertyValue("height"),e.Bottom=e.Top+s(i),e},this.IsAndroid=function(){var t;return t=navigator.userAgent,pas.System.Pos("Android",t)>0},this.GetMaterialClass=function(t){var e="";e="material-icons";return 1===t?e="material-icons-outlined":2===t?e="material-icons-two-tone":3===t?e="material-icons-round":4===t&&(e="material-icons-sharp"),e},t.$implcode=function(){e.ControlManager=null,e.FMouseX=0,e.FMouseY=0,e.FCursorX=0,e.FCursorY=0,e.ScrollBW=0,e.ScrollBH=0,e.DragObject=null,e.cStyleBkgColor="background-color"},t.$init=function(){e.ScrollBW=0,e.ScrollBH=0,e.DragObject=null,e.ControlManager=t.TControlManager.$create("Create$1",[null])}}),["WEBLib.Dialogs","WEBLib.Forms","Math","TypInfo","WEBLib.WebTools","WEBLib.Utils"]),rtl.module("WEBLib.WebTools",["System","Classes","Web","JS","WEBLib.Controls","WEBLib.Graphics"],(function(){"use strict";var t=this;this.cBodyTag="body",this.cHTMLExt=".html",this.DoubleToHTML=function(t){return pas.SysUtils.Format$1("%g",pas.System.VarRecs(3,t),pas.SysUtils.TFormatSettings.Invariant())},this.GetQueryParam=function(e){var i="";return t.HasQueryParam(e,{get:function(){return i},set:function(t){i=t}}),i},this.HasQueryParam=function(t,e){var i,s=!1;var n="";s=!1;for(var o=window.location.search.substring(1).split("&"),r=0;r<o.length;r++){var a=o[r].split("=");decodeURIComponent(a[0])==t&&(n=decodeURIComponent(a[1]),s=!0)}return i=n,e.set(i),s},this.GetLocaleShortDateFormat=function(t){return pas.SysUtils.TFormatSettings.Create$1(t).ShortDateFormat},this.GetLocaleLongDayName=function(t,e){var i=new Date(2017,0,1);i.setDate(i.getDate()+t-1);var s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{weekday:"long"})},this.GetLocaleShortDayName=function(t,e){var i=new Date(2017,0,1);i.setDate(i.getDate()+t-1);var s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{weekday:"short"})},this.GetLocaleLongMonthName=function(t,e){var i=new Date(2017,t-1,1),s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{month:"long"})},this.GetLocaleShortMonthName=function(t,e){var i=new Date(2017,t-1,1),s="";return s=""==e?navigator.language:e,i.toLocaleDateString(s,{month:"short"})},this.GetLocaleDecimalSeparator=function(t){var e=1.1,i="";return i=""==t?navigator.language:t,e=e.toLocaleString(i).substring(1,2)},this.GetBrowserLocale=function(){return navigator.language},this.ProcessAccelerator=function(t,e){var i,s=0,n="";for(i=t.length,e.set(""),n="",s=1;s<=i;)"&"===t.charAt(s-1)?(s+1<=i&&"&"!==t.charAt(s+1-1)?(n=n+"<u>"+t.charAt(s+1-1)+"</u>",e.set(t.charAt(s+1-1))):s+1<=i&&"&"===t.charAt(s+1-1)&&(n+="&"),s+=2):(n+=t.charAt(s-1),s+=1);return n},this.HexImageDecode=function(t){var e,i=0,s=0,n=null,o=0,r=0,a=0;e=rtl.trunc(t.length/2),s=0,(o=t.charCodeAt(0)-48)>=10&&(o-=7),(r=t.charCodeAt(1)-48)>=10&&(r-=7),a=1+(r+(o<<4)),(i=pas.System.Pos("4A5045474",t))>1&&i<10&&(a+=4),(i=pas.System.Pos("4269746D6",t))>1&&i<10&&(a+=4),n=new Uint8Array(e-a);for(var l=a+1,h=e;l<=h;l++)i=l,(o=t.charCodeAt(2*i-1-1)-48)>=10&&(o-=7),(r=t.charCodeAt(2*i-1)-48)>=10&&(r-=7),r+=o<<4,n[s]=r,s+=1;return n},this.HexImageEncodeFromBase64=function(e){var i;return e=e.replace(/^data:image\/\S+;base64,/,""),i=Uint8Array.from(atob(e),(function(t){return t.charCodeAt(0)})),t.HexImageEncode(i)},this.HexImageEncode=function(t){var e="",i=0,s=0,n=0,o="",r="";if(e="",0===(s=t.length))return e;s=((255&s)<<24)+((65280&s)<<8)+((16711680&s)>>>8)+((4278190080&s)>>>24),r="",137===t[0]&&80===t[1]&&(n=(o="TPngImage").length),255===t[0]&&216===t[1]&&(n=(o="TJPEGImage").length,r=pas.SysUtils.IntToHex(s,8)),66===t[0]&&77===t[1]&&(n=(o="TBitmap").length,r=pas.SysUtils.IntToHex(s,8)),71===t[0]&&73===t[1]&&(n=(o="TGIFImage").length),e=pas.SysUtils.IntToHex(n,2);for(var a=1,l=o.length;a<=l;a++)i=a,n=o.charCodeAt(i-1),e+=pas.SysUtils.IntToHex(n,2);e+=r;for(var h=0,d=t.length-1;h<=d;h++)n=t[i=h],e+=pas.SysUtils.IntToHex(n,2);return e},this.HexImageDecodeAsBase64=function(e){var i;return i=t.HexImageDecode(e),e=btoa(new Uint8Array(i).reduce((function(t,e){return t+String.fromCharCode(e)}),""))},this.HTMLToString=function(t){return t=pas.SysUtils.StringReplace(t,"<","&lt;",rtl.createSet(0)),pas.SysUtils.StringReplace(t,">","&gt;",rtl.createSet(0))},this.ElementVisible=function(e){var i=!1,s=null;for(i=!1,s=e;null!=s;)pas.SysUtils.LowerCase(s.tagName)===t.cBodyTag&&(i=!0),s=s.parentElement;if(!i)return i;for(;null!=e;){if("none"===e.style.getPropertyValue("display"))return i=!1;if(s=e.parentElement,!rtl.isExt(s,HTMLElement))return i;e=s}return i}}),["SysUtils","WEBLib.Utils"]),rtl.module("contnrs",["System","SysUtils","Classes"],(function(){"use strict";rtl.createClass(this,"TObjectList",pas.Classes.TList,(function(){this.$init=function(){pas.Classes.TList.$init.call(this),this.FFreeObjects=!1},this.Notify=function(t,e){var i=null;this.FFreeObjects&&2===e&&(i=rtl.getObject(t),i=rtl.freeLoc(i)),pas.Classes.TList.Notify.call(this,t,e)},this.GetItem=function(t){return rtl.getObject(pas.Classes.TList.Get.call(this,t))},this.Create$2=function(){return pas.Classes.TList.Create$1.call(this),this.FFreeObjects=!0,this},this.Create$3=function(t){return pas.Classes.TList.Create$1.call(this),this.FFreeObjects=t,this},this.Add$1=function(t){return pas.Classes.TList.Add.call(this,t)},this.IndexOf$1=function(t){return pas.Classes.TList.IndexOf.call(this,t)}}))}),["JS"]),rtl.module("WEBLib.Graphics",["System","Classes","Types","Web","JS"],(function(){"use strict";var t=this,e=t.$impl;this.WEBDEFAULTFONT="Arial",this.SysDefault=536870912,this.clNone=-1,this.clBlack=0,this.clMaroon=128,this.clGray=8421504,this.clSilver=12632256,this.clWhite=16777215,this.clDefault=536870912,this.clBtnFace=15790320,this.clWindowText=65793,this.clWindow=16711422,this.clHighlight=14120960,this.clHighlightText=197379,this.DEFAULT_CHARSET=1,this.$rtti.$inherited("TColor",rtl.nativeint,{}),this.TVerticalAlignment={0:"taAlignTop",taAlignTop:0,1:"taAlignBottom",taAlignBottom:1,2:"taVerticalCenter",taVerticalCenter:2},this.TPenStyle={0:"psSolid",psSolid:0,1:"psDash",psDash:1,2:"psDot",psDot:2,3:"psDashDot",psDashDot:3,4:"psDashDotDot",psDashDotDot:4,5:"psClear",psClear:5,6:"psInsideFrame",psInsideFrame:6,7:"psUserStyle",psUserStyle:7,8:"psAlternate",psAlternate:8},this.$rtti.$Enum("TPenStyle",{minvalue:0,maxvalue:8,ordtype:1,enumtype:this.TPenStyle}),this.TPenMode={0:"pmBlack",pmBlack:0,1:"pmWhite",pmWhite:1,2:"pmNop",pmNop:2,3:"pmNot",pmNot:3,4:"pmCopy",pmCopy:4,5:"pmNotCopy",pmNotCopy:5,6:"pmMergePenNot",pmMergePenNot:6,7:"pmMaskPenNot",pmMaskPenNot:7,8:"pmMergeNotPen",pmMergeNotPen:8,9:"pmMaskNotPen",pmMaskNotPen:9,10:"pmMerge",pmMerge:10,11:"pmNotMerge",pmNotMerge:11,12:"pmMask",pmMask:12,13:"pmNotMask",pmNotMask:13,14:"pmXor",pmXor:14,15:"pmNotXor",pmNotXor:15},this.$rtti.$Enum("TPenMode",{minvalue:0,maxvalue:15,ordtype:1,enumtype:this.TPenMode}),this.TBrushStyle={0:"bsSolid",bsSolid:0,1:"bsClear",bsClear:1,2:"bsHorizontal",bsHorizontal:2,3:"bsVertical",bsVertical:3,4:"bsFDiagonal",bsFDiagonal:4,5:"bsBDiagonal",bsBDiagonal:5,6:"bsCross",bsCross:6,7:"bsDiagCross",bsDiagCross:7},this.$rtti.$Enum("TBrushStyle",{minvalue:0,maxvalue:7,ordtype:1,enumtype:this.TBrushStyle}),this.TBrushGradient={0:"bgNone",bgNone:0,1:"bgLinearVert",bgLinearVert:1,2:"bgLinearHorz",bgLinearHorz:2,3:"bgRadial",bgRadial:3},this.$rtti.$Enum("TBrushGradient",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TBrushGradient}),this.TFontStyle={0:"fsBold",fsBold:0,1:"fsItalic",fsItalic:1,2:"fsStrikeOut",fsStrikeOut:2,3:"fsUnderline",fsUnderline:3},this.$rtti.$Enum("TFontStyle",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TFontStyle}),this.$rtti.$Set("TFontStyles",{comptype:this.$rtti.TFontStyle}),this.$rtti.$Int("TFontCharset",{minvalue:0,maxvalue:255,ordtype:3}),this.$rtti.$inherited("TBinaryString",rtl.string,{}),rtl.recNewT(this,"TCanvasRectF",(function(){this.Left=0,this.Top=0,this.Right=0,this.Bottom=0,this.$eq=function(t){return this.Left===t.Left&&this.Top===t.Top&&this.Right===t.Right&&this.Bottom===t.Bottom},this.$assign=function(t){return this.Left=t.Left,this.Top=t.Top,this.Right=t.Right,this.Bottom=t.Bottom,this}})),rtl.createClass(this,"TPen",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FWidth=0,this.FColor=0,this.FStyle=0,this.FMode=0},this.SetColor=function(t){this.FColor=t},this.Create$1=function(){return this.FColor=0,this.FWidth=1,this.FStyle=0,this.FMode=4,this},this.Assign=function(e){t.TPen.isPrototypeOf(e)?(this.FColor=rtl.as(e,t.TPen).FColor,this.FStyle=rtl.as(e,t.TPen).FStyle,this.FWidth=rtl.as(e,t.TPen).FWidth):pas.Classes.TPersistent.Assign.apply(this,arguments)};var e=this.$rtti;e.addProperty("Color",2,t.$rtti.TColor,"FColor","SetColor"),e.addProperty("Mode",0,t.$rtti.TPenMode,"FMode","FMode",{Default:t.TPenMode.pmCopy}),e.addProperty("Width",0,rtl.longint,"FWidth","FWidth",{Default:1}),e.addProperty("Style",0,t.$rtti.TPenStyle,"FStyle","FStyle",{Default:t.TPenStyle.psSolid})})),rtl.createClass(this,"TGradientColor",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FColor=0,this.FStop=0},this.Assign=function(e){t.TGradientColor.isPrototypeOf(e)&&(this.FColor=rtl.as(e,t.TGradientColor).FColor,this.FStop=rtl.as(e,t.TGradientColor).FStop)},this.Create$1=function(){return this.FColor=-1,this.FStop=0,this};var e=this.$rtti;e.addProperty("Stop",0,rtl.double,"FStop","FStop"),e.addProperty("Color",0,t.$rtti.TColor,"FColor","FColor",{Default:-1})})),rtl.createClass(this,"TBrush",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FColor=0,this.FStyle=0,this.FGradientColors=null,this.FGradient=0},this.$final=function(){this.FGradientColors=void 0,pas.Classes.TPersistent.$final.call(this)},this.Create$1=function(){return this.FColor=16777215,this.FStyle=0,this.FGradient=0,this.FGradientColors=pas.Classes.TList.$create("Create$1"),this},this.Destroy=function(){rtl.free(this,"FGradientColors"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TBrush.isPrototypeOf(e)?(this.FColor=rtl.as(e,t.TBrush).FColor,this.FStyle=rtl.as(e,t.TBrush).FStyle):pas.Classes.TPersistent.Assign.apply(this,arguments)},this.AddGradientColor=function(e,i){var s=null;(s=t.TGradientColor.$create("Create$1")).FColor=e,s.FStop=i,this.FGradientColors.Add(s)},this.GetGradientColor=function(t,e,i){if(!(t<this.FGradientColors.GetCount()))throw pas.SysUtils.Exception.$create("Create$1",["Invalid gradient color index"]);e.set(rtl.getObject(this.FGradientColors.Get(t)).FColor),i.set(rtl.getObject(this.FGradientColors.Get(t)).FStop)},this.GradientCount=function(){return this.FGradientColors.GetCount()},this.ClearGradient=function(){for(var t=0,e=null,i=this.FGradientColors.GetCount()-1;i>=0;i--)t=i,e=rtl.getObject(this.FGradientColors.Get(t)),e=rtl.freeLoc(e),this.FGradientColors.Delete(t)};var e=this.$rtti;e.addProperty("Gradient",0,t.$rtti.TBrushGradient,"FGradient","FGradient"),e.addProperty("Color",0,t.$rtti.TColor,"FColor","FColor"),e.addProperty("Style",0,t.$rtti.TBrushStyle,"FStyle","FStyle")})),rtl.createClass(this,"TFont",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FName="",this.FSize=0,this.FColor=0,this.FStyle={},this.FOnChange=null,this.FHeight=0,this.FCharset=0},this.$final=function(){this.FStyle=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetHeight=function(t){var e;e=72*-t/96,this.FSize=Math.round(e),this.FHeight!==t&&(this.FHeight=t,this.DoChange())},this.SetName=function(t){this.FName!==t&&(this.FName=t,this.DoChange())},this.SetSize=function(t){this.FSize!==t&&(this.FSize=t,this.DoChange())},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,this.DoChange())},this.SetStyle=function(t){rtl.neSet(this.FStyle,t)&&(this.FStyle=rtl.refSet(t),this.DoChange())},this.DoChange=function(){null!=this.FOnChange&&this.FOnChange(this)},this.Assign=function(e){t.TFont.isPrototypeOf(e)?(this.FName=rtl.as(e,t.TFont).FName,this.FColor=rtl.as(e,t.TFont).FColor,this.FSize=rtl.as(e,t.TFont).FSize,this.FStyle=rtl.refSet(rtl.as(e,t.TFont).FStyle),this.DoChange()):pas.Classes.TPersistent.Assign.apply(this,arguments)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FName=t.WEBDEFAULTFONT,this.FSize=8,this.FHeight=-11,this.FStyle={},this.FColor=0,this},this.ToString=function(){var e="";return e="",0 in this.FStyle&&1 in this.FStyle?e+="bold italic":0 in this.FStyle?e+="bold":1 in this.FStyle&&(e+="italic"),e+" "+t.FontSizeToHTML(t.FontSizeToPx(this.FSize))+" "+this.FName};var e=this.$rtti;e.addProperty("Charset",0,t.$rtti.TFontCharset,"FCharset","FCharset"),e.addProperty("Name",2,rtl.string,"FName","SetName"),e.addProperty("Height",2,rtl.longint,"FHeight","SetHeight"),e.addProperty("Style",2,t.$rtti.TFontStyles,"FStyle","SetStyle"),e.addProperty("Color",2,t.$rtti.TColor,"FColor","SetColor"),e.addProperty("Size",2,rtl.longint,"FSize","SetSize")})),rtl.createClass(this,"TGraphic",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FAddToQueue=!1,this.FCanvasElement=null,this.FEmpty=!1,this.FData="",this.FDataBin="",this.FCanvas=null,this.FOnChange=null,this.FImage=null,this.FURL="",this.FLoaded=null,this.FUsedCanvas=!1},this.$final=function(){this.FCanvasElement=void 0,this.FCanvas=void 0,this.FOnChange=void 0,this.FImage=void 0,this.FLoaded=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetHeight=function(t){this.FImage.height=t,this.RecreateCanvas(),this.DoChange()},this.SetWidth=function(t){this.FImage.width=t,this.RecreateCanvas(),this.DoChange()},this.GetCanvas=function(){var t;return null==this.FCanvas&&this.RecreateCanvas(),t=this.FCanvas,this.FUsedCanvas=!0,t},this.GetData=function(){return this.FDataBin},this.SetData=function(t){var e="";this.FDataBin!==t&&(this.FDataBin=t,e=pas["WEBLib.WebTools"].HexImageDecodeAsBase64(this.FDataBin),pas.System.Pos("PHN2ZyB",e)>0?this.LoadFromResource("data:image/svg+xml;base64,"+e):this.LoadFromResource("data:image/png;base64,"+e))},this.DoChange=function(){var t=0;this.FEmpty=0===this.GetWidth()&&0===this.GetHeight(),this.FEmpty||""===this.FData||e.FCache.Exists(this.FData)||(e.FCache.Add$1(e.TGraphicCache.$create("Create$1",[this.FImage,this.FData])),(t=e.FQueue.IndexOf(this.FData))>=0&&t<=e.FQueue.GetCount()-1&&e.FQueue.Delete(t),e.FCacheCount-=1,0===e.FCacheCount&&null!=pas["WEBLib.Forms"].Application.FOnImageCacheReady&&pas["WEBLib.Forms"].Application.FOnImageCacheReady(pas["WEBLib.Forms"].Application)),null!=this.FOnChange&&this.FOnChange(this),null!=this.FLoaded&&(this.FLoaded(),this.FLoaded=null)},this.SetURL=function(t){this.LoadFromURL(t,null)},this.GetWidth=function(){var t=0;return t=0,null!=this.FImage&&(t=this.FImage.width),t},this.GetHeight=function(){var t=0;return t=0,null!=this.FImage&&(t=this.FImage.height),t},this.RecreateCanvas=function(){null==this.FCanvasElement&&(this.FCanvasElement=document.createElement("CANVAS")),null!=this.FCanvasElement&&(this.FCanvasElement.height=this.GetHeight(),this.FCanvasElement.width=this.GetWidth(),null==this.FCanvas&&(this.FCanvas=t.TCanvas.$create("Create$1",[this.FCanvasElement]),this.FCanvas.FOnBeginScene=rtl.createCallback(this,"DoBeginScene"),this.FCanvas.FOnEndScene=rtl.createCallback(this,"DoEndScene")))},this.DoBeginScene=function(t){this.FCanvas.Clear()},this.DoEndScene=function(t){this.FAddToQueue=!1,this.CaptureCanvas(),this.FAddToQueue=!0},this.AssignEvents=function(){var t=this;this.FImage.onload=function(){t.DoChange()}},this.CreateImage=function(){this.FImage=new Image},this.LoadFromCache=function(t,i){var s="",n=null,o="",r=!1;this.FData=t,pas.System.Pos("DATA:",pas.SysUtils.UpperCase(t))>0&&(this.FDataBin=pas["WEBLib.WebTools"].HexImageEncodeFromBase64(t)),""!==(s=t)&&(this.FLoaded=i,this.FUsedCanvas=!1,e.FCache.Find(s,{get:function(){return n},set:function(t){n=t}})?(this.FImage=n,this.DoChange()):(!1,o="",(r=""!=(o=this.FImage.src)&&s!==o)&&(this.CreateImage(),this.AssignEvents()),!r&&-1===e.FQueue.IndexOf(s)||r?(this.FImage.src=s,s=this.FImage.src,this.FData=s,pas.System.Pos("DATA:",pas.SysUtils.UpperCase(s))>0&&(this.FDataBin=pas["WEBLib.WebTools"].HexImageEncodeFromBase64(s)),e.FCacheCount+=1,this.FAddToQueue&&e.FQueue.Add(s)):r||-1===e.FQueue.IndexOf(s)||(this.FImage.src=s)),this.FImage&&(this.FEmpty=""==this.FImage.src))},this.CreateFromResource=function(t){return this.CreateFromResource$1(t,0)},this.CreateFromResource$1=function(e,i){var s=null;return(s=t.TGraphic.$create("Create$3")).LoadFromResource(e),s},this.CreateFromURL=function(t){return this.CreateFromURL$1(t,0)},this.CreateFromURL$1=function(e,i){var s=null;return(s=t.TGraphic.$create("Create$3")).LoadFromURL(e,null),s},this.Image=function(){return this.FImage},this.Empty=function(){return this.FEmpty},this.Create$3=function(){return this.FAddToQueue=!0,this.FEmpty=!0,this.FData="",this.FDataBin="",this.FUsedCanvas=!1,this.CreateImage(),this.AssignEvents(),this},this.CaptureCanvas=function(){null!=this.FCanvas&&null!=this.FCanvas.FElementCanvas&&this.LoadFromResource(this.FCanvas.FElementCanvas.toDataURL())},this.LoadFromCanvas=function(t){null!=t&&null!=t.FElementCanvas&&this.LoadFromResource(t.FElementCanvas.toDataURL())},this.Assign=function(e){var i="";null!=e&&t.TGraphic.isPrototypeOf(e)&&null!=rtl.as(e,t.TGraphic).FCanvas?this.LoadFromCanvas(rtl.as(e,t.TGraphic).FCanvas):null!=e&&t.TGraphic.isPrototypeOf(e)&&null!=rtl.as(e,t.TGraphic).FImage&&!rtl.as(e,t.TGraphic).Empty()?(i=e.FImage.src,this.LoadFromURL(i,null)):null==e&&(this.CreateImage(),this.DoChange())},this.LoadFromURL=function(t,e){this.LoadFromURL$1(t,0,e)},this.LoadFromURL$1=function(t,e,i){this.FEmpty=!0,this.LoadFromCache(t,i)},this.LoadFromResource=function(t){this.LoadFromResource$1(t,0)},this.LoadFromResource$1=function(t,e){this.FEmpty=!0,this.LoadFromCache(t,null)};var i=this.$rtti;i.addProperty("OnChange",0,pas.Classes.$rtti.TNotifyEvent,"FOnChange","FOnChange"),i.addProperty("URL",2,rtl.string,"FURL","SetURL"),i.addProperty("Data",3,t.$rtti.TBinaryString,"GetData","SetData")})),rtl.createClass(this,"TBitmap",this.TGraphic,(function(){})),rtl.recNewT(this,"TMatrix",(function(){this.m11=0,this.m12=0,this.m13=0,this.m21=0,this.m22=0,this.m23=0,this.m31=0,this.m32=0,this.m33=0,this.$eq=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m13===t.m13&&this.m21===t.m21&&this.m22===t.m22&&this.m23===t.m23&&this.m31===t.m31&&this.m32===t.m32&&this.m33===t.m33},this.$assign=function(t){return this.m11=t.m11,this.m12=t.m12,this.m13=t.m13,this.m21=t.m21,this.m22=t.m22,this.m23=t.m23,this.m31=t.m31,this.m32=t.m32,this.m33=t.m33,this}})),rtl.createClass(this,"TCanvas",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FElementCanvas=null,this.FContext=null,this.FPen=null,this.FBrush=null,this.FFont=null,this.FPathOpen=!1,this.FPathX=0,this.FPathY=0,this.FClipRect=t.TCanvasRectF.$new(),this.FOnEndScene=null,this.FOnBeginScene=null,this.FApplyPixelRatio=!1},this.$final=function(){this.FElementCanvas=void 0,this.FContext=void 0,this.FPen=void 0,this.FBrush=void 0,this.FFont=void 0,this.FClipRect=void 0,this.FOnEndScene=void 0,this.FOnBeginScene=void 0,pas.System.TObject.$final.call(this)},this.SetClipRect=function(t){this.FClipRect.$assign(t),null!=this.FContext&&(this.FContext.beginPath(),this.FContext.rect(this.FClipRect.Left,this.FClipRect.Top,this.FClipRect.Right-this.FClipRect.Left,this.FClipRect.Bottom-this.FClipRect.Top),this.FContext.clip())},this.GetAccuOffset=function(t,e,i,s){i.set(0),s.set(0),1===this.FPen.FWidth&&5!==this.FPen.FStyle&&0===pas.System.Frac(t)&&i.set(.5),1===this.FPen.FWidth&&5!==this.FPen.FStyle&&0===pas.System.Frac(e)&&s.set(.5)},this.ApplyStroke=function(){if(null!=this.FContext){this.FContext.lineWidth=this.FPen.FWidth,this.FContext.strokeStyle=t.ColorToHTML(this.FPen.FColor);var e=this.FPen.FStyle;0===e?this.FContext.setLineDash([]):2===e?this.FContext.setLineDash([1,2]):1===e?this.FContext.setLineDash([8,2]):3===e?this.FContext.setLineDash([6,2,2,2]):4===e?this.FContext.setLineDash([6,2,2,2,2,2]):5===e&&this.FContext.setLineDash([0,65535])}},this.ApplyFill=function(){null!=this.FContext&&(this.FContext.fillStyle=t.ColorToHTML(this.FBrush.FColor))},this.ApplyBrush=function(e,i,s,n){var o=0,r=0,a=0,l=null,h=0,d="",u=0,c=0;if(this.GetAccuOffset(e,i,{get:function(){return o},set:function(t){o=t}},{get:function(){return r},set:function(t){r=t}}),this.FBrush.FStyle in rtl.createSet(2,6))for(a=i+r,this.FContext.lineWidth=1,this.FContext.strokeStyle=t.ColorToHTML(this.FBrush.FColor);a<n;)this.FContext.moveTo(e,a),this.FContext.lineTo(s,a),a+=8;if(this.FBrush.FStyle in rtl.createSet(3,6))for(a=e+o,this.FContext.lineWidth=1,this.FContext.strokeStyle=t.ColorToHTML(this.FBrush.FColor);a<s;)this.FContext.moveTo(a,i),this.FContext.lineTo(a,n),a+=8;if(this.FBrush.FStyle in rtl.createSet(4,7))for(a=e+o-(s-e),this.FContext.lineWidth=1,this.FContext.strokeStyle=t.ColorToHTML(this.FBrush.FColor);a<s;)this.FContext.moveTo(a,i),this.FContext.lineTo(a+(n-i),n),a+=8;if(this.FBrush.FStyle in rtl.createSet(5,7))for(a=e+o,this.FContext.lineWidth=1,this.FContext.strokeStyle=t.ColorToHTML(this.FBrush.FColor);a<s+(s-e);)this.FContext.moveTo(a,i),this.FContext.lineTo(a-(n-i),n),a+=8;if(0!==this.FBrush.FGradient){var p=this.FBrush.FGradient;2===p?l=this.FContext.createLinearGradient(e,i,s,i):1===p?l=this.FContext.createLinearGradient(e,i,e,n):3===p&&(l=this.FContext.createRadialGradient(e+(s-e)/2,i+(n-i)/2,0,e+(s-e)/2,i+(n-i)/2,(s-e)/2)),d=t.ColorToHTML(t.ColorToRGB(this.FBrush.FColor)),l.addColorStop(0,d);for(var C=0,S=this.FBrush.GradientCount()-1;C<=S;C++)h=C,this.FBrush.GetGradientColor(h,{get:function(){return u},set:function(t){u=t}},{get:function(){return c},set:function(t){c=t}}),d=t.ColorToHTML(t.ColorToRGB(u)),l.addColorStop(c,d);return this.FContext.fillStyle=l,void this.FContext.fillRect(e,i,s,n)}this.FContext.stroke()},this.Create$1=function(e){return this.FElementCanvas=e,this.FContext=e.getContext("2d"),this.FPen=t.TPen.$create("Create$1"),this.FBrush=t.TBrush.$create("Create$1"),this.FPathOpen=!1,this.FFont=t.TFont.$create("Create$1"),this.FApplyPixelRatio=!1,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.SetTransform=function(i,s,n,o,r,a){var l=t.TMatrix.$new(),h=0;null!=this.FContext&&(l.$assign(e.MatrixIdentity()),l.m11=i,l.m12=s,l.m21=n,l.m22=o,l.m31=r,l.m32=a,this.FApplyPixelRatio&&(h=e.GetPixelRatio(this),l.$assign(e.MatrixMultiply(l,e.MatrixCreateScaling(h,h)))),this.FContext.setTransform(l.m11,l.m12,l.m21,l.m22,l.m31,l.m32))},this.Transform=function(t,e,i,s,n,o){null!=this.FContext&&this.FContext.transform(t,e,i,s,n,o)},this.MoveTo$1=function(t,e){var i=0,s=0;null!=this.FContext&&(this.FPathOpen=!0,this.FContext.beginPath(),this.ApplyStroke(),i=0,s=0,this.GetAccuOffset(t,e,{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),this.FContext.moveTo(t+i,e+s))},this.LineTo$1=function(e,i){var s=0,n=0,o=0;if(null!=this.FContext){s=0,n=0,this.GetAccuOffset(e,i,{get:function(){return s},set:function(t){s=t}},{get:function(){return n},set:function(t){n=t}});var r=this.FPen.FMode;0===r?this.FContext.strokeStyle=t.ColorToHTML(0):1===r?this.FContext.strokeStyle=t.ColorToHTML(16777215):14===r?this.FContext.globalCompositeOperation="xor":12===r?this.FContext.globalCompositeOperation="source-atop":5===r?(o=4294967295^t.ColorToRGB(this.FPen.FColor),this.FContext.strokeStyle=t.ColorToHTML(o)):15===r&&(o=4294967295^t.ColorToRGB(this.FPen.FColor),this.FContext.strokeStyle=t.ColorToHTML(o),this.FContext.globalCompositeOperation="xor"),this.FPathOpen||(this.FContext.beginPath(),this.ApplyStroke(),this.FContext.moveTo(this.FPathX+s,this.FPathY+n)),this.FContext.lineTo(e+s,i+n),this.FContext.stroke(),this.FPathX=e,this.FPathY=i,this.FPathOpen=!1,this.FContext.globalCompositeOperation="source-over"}},this.Rectangle=function(t,e,i,s){var n=0,o=0;if(null!=this.FContext){this.FContext.save(),this.FContext.beginPath(),this.ApplyStroke(),this.ApplyFill(),this.GetAccuOffset(t,e,{get:function(){return n},set:function(t){n=t}},{get:function(){return o},set:function(t){o=t}});let r=new Path2D;r.rect(t,e,i-t+1,s-e+1),this.FContext.clip(r,"evenodd"),this.ApplyBrush(t,e,i,s),this.FBrush.FStyle in rtl.createSet(1,2,3,6,4,5,7)||(this.FContext.rect(t+n,e+o,i-t,s-e),this.FContext.fill()),5!==this.FPen.FStyle&&(this.ApplyStroke(),this.FContext.beginPath(),this.FContext.rect(t+n,e+o,i-t,s-e),this.FContext.stroke()),this.FContext.restore()}},this.Rectangle$1=function(t,e,i,s){this.Rectangle(t,e,i,s)},this.Rectangle$2=function(t){this.Rectangle$1(t.Left,t.Top,t.Right,t.Bottom)},this.Rectangle$3=function(t){this.Rectangle(t.Left,t.Top,t.Right,t.Bottom)},this.Ellipse$1=function(t,e,i,s){var n=0,o=0,r=0,a=0,l=0,h=0,d=0,u=0,c=0;if(null!=this.FContext){a=(n=i-t)/2*(r=.5522848),l=(o=s-e)/2*r,h=t+n,d=e+o,u=t+n/2,c=e+o/2,this.FContext.save();let p=new Path2D;p.moveTo(t,c),p.bezierCurveTo(t,c-l,u-a,e,u,e),p.bezierCurveTo(u+a,e,h,c-l,h,c),p.bezierCurveTo(h,c+l,u+a,d,u,d),p.bezierCurveTo(u-a,d,t,c+l,t,c),p.closePath(),this.FContext.clip(p,"evenodd"),this.ApplyBrush(t,e,i,s),this.FContext.restore(),this.FContext.beginPath(),this.ApplyStroke(),this.ApplyFill(),this.FContext.moveTo(t,c),this.FContext.bezierCurveTo(t,c-l,u-a,e,u,e),this.FContext.bezierCurveTo(u+a,e,h,c-l,h,c),this.FContext.bezierCurveTo(h,c+l,u+a,d,u,d),this.FContext.bezierCurveTo(u-a,d,t,c+l,t,c),this.FContext.closePath(),0===this.FBrush.FStyle&&0===this.FBrush.FGradient&&this.FContext.fill(),5!==this.FPen.FStyle&&this.FContext.stroke()}},this.Ellipse$3=function(t){this.Ellipse$1(t.Left,t.Top,t.Right,t.Bottom)},this.TextOut$1=function(e,i,s){var n=null;null!=this.FContext&&(this.FContext.fillStyle=t.ColorToHTML(this.FFont.FColor),this.FContext.font=this.FFont.ToString(),this.FContext.textBaseline="top",this.FContext.fillText(s,e,i),3 in this.FFont.FStyle&&(n=this.FContext.measureText(s),this.FContext.fillRect(e,i+1.4*this.FFont.FSize,n.width,1)),2 in this.FFont.FStyle&&(n=this.FContext.measureText(s),this.FContext.fillRect(e,i+.7*this.FFont.FSize,n.width,1)))},this.StretchDraw$1=function(t,e){var i=null;null!=this.FContext&&(i=e.Image(),this.FContext.drawImage(i,0,0,e.GetWidth(),e.GetHeight(),t.Left,t.Top,t.Right-t.Left,t.Bottom-t.Top))},this.BeginScene=function(){null!=this.FOnBeginScene&&this.FOnBeginScene(this)},this.EndScene=function(){null!=this.FOnEndScene&&this.FOnEndScene(this)},this.Save=function(){null!=this.FContext&&this.FContext.save()},this.Restore=function(){null!=this.FContext&&this.FContext.restore()},this.Refresh=function(){},this.Clear=function(){null!=this.FContext&&null!=this.FElementCanvas&&this.FContext.clearRect(0,0,this.FElementCanvas.width,this.FElementCanvas.height)},this.TextRect$1=function(e,i,s,n,o,r){var a,l=this,h=t.TCanvasRectF.$new(),d=0,u="",c="",p="",C=0,S=0,F=0,g=!1,m=0,f=0,T=0,b=0,y=t.TCanvasRectF.$new(),v=0,L=0,B=!1,M=!1;function E(t,i,s){if(B){var n=o;2===n?l.TextOut$1(e.Left+(e.Right-e.Left-i)/2,e.Top,t):0===n?l.TextOut$1(e.Left,e.Top,t):1===n&&l.TextOut$1(e.Right-i,e.Top,t)}else{var a=o;if(2===a){var h=r;0===h?l.TextOut$1(e.Left+(e.Right-e.Left-i)/2,e.Top,t):2===h?l.TextOut$1(e.Left+(e.Right-e.Left-i)/2,e.Top+(e.Bottom-e.Top-s)/2,t):1===h&&l.TextOut$1(e.Left+(e.Right-e.Left-i)/2,e.Bottom-s,t)}else if(0===a){var d=r;0===d?l.TextOut$1(e.Left,e.Top,t):2===d?l.TextOut$1(e.Left,e.Top+(e.Bottom-e.Top-s)/2,t):1===d&&l.TextOut$1(e.Left,e.Bottom-s,t)}else if(1===a){var u=r;0===u?l.TextOut$1(e.Right-i,e.Top,t):2===u?l.TextOut$1(e.Right-i,e.Top+(e.Bottom-e.Top-s)/2,t):1===u&&l.TextOut$1(e.Right-i,e.Bottom-s,t)}}}function P(t,e){var i,s="",n=0;if(s="",i=t.length,e.get()>i)return s;for(n=e.get();;){if("\n"===t.charAt(n-1)&&"\r"===t.charAt(n-1-1)||"\r"===t.charAt(n-1)&&"\n"===t.charAt(n-1-1)||" "===t.charAt(n-1)){s=" "===t.charAt(n-1)?pas.System.Copy(t,e.get(),n-(e.get()-1)):pas.System.Copy(t,e.get(),n-e.get());break}if("\n"===t.charAt(n-1)||"\r"===t.charAt(n-1)||" "===t.charAt(n-1)){s=pas.System.Copy(t,e.get(),n-(e.get()-1));break}if(n>=i){s=pas.System.Copy(t,e.get(),n-(e.get()-1));break}n+=1}return e.set(n+1),s}if(B=s||pas.System.Pos("\r",i)>0||pas.System.Pos("\n",i)>0,a=!s&&(pas.System.Pos("\r",i)>0||pas.System.Pos("\n",i)>0),B){for(y.$assign(e),F=0,d=1,L=.5*this.FFont.FSize,b=0,v=0,f=0,u=P(i,{get:function(){return d},set:function(t){d=t}}),S=this.TextWidth(u),T=this.TextHeight(u)+L,F+=S,u.length>0&&" "===u.charAt(u.length-1)&&(F+=v),M=!1;d<=i.length&&((C=u.length)>=2&&("\n"===u.charAt(C-1)&&"\r"===u.charAt(C-1-1)||"\r"===u.charAt(C-1)&&"\n"===u.charAt(C-1-1))?(u=pas.System.Copy(u,1,C-2),g=!0):C>=1&&("\n"===u.charAt(C-1)||"\r"===u.charAt(C-1))?(u=pas.System.Copy(u,1,C-1),g=!0):g=!1,c=P(i,{get:function(){return d},set:function(t){d=t}}),S=this.TextWidth(c),T=Math.max(T,this.TextHeight(c)+L),!((e.Left+F+S>e.Right||g)&&(""===u||M||(m=u.length,p=pas.System.Copy(u,1,m),b+=1,F>f&&(f=F),n||E(p,F,T),F=0),u="",M=!1,a&&g||!a?e.Top=e.Top+T:a&&!g&&(M=!0),pas.System.Trunc(e.Top)>pas.System.Trunc(e.Bottom-T+L)&&!n)));)F+=S,c.length>0&&" "===c.charAt(c.length-1)&&(F+=v),u+=c;""!==u&&(m=u.length,p=pas.System.Copy(u,1,m),b+=1,F>f&&(f=F),n||E(p,F,T)),h.$assign(t.CreateCanvasRectF(y.Left,y.Top,y.Left+f,y.Top+b*T))}else S=this.TextWidth(i),T=this.TextHeight(i),n||E(i,S,T),h.$assign(t.CreateCanvasRectF(e.Left,e.Top,e.Left+S,e.Top+T));return h},this.TextWidth=function(t){var e=0,i="";return null!=this.FContext&&(i=this.FFont.ToString(),this.FContext.font=i,e=this.FContext.measureText(t).width),e},this.TextHeight=function(e){return t.FontSizeToPx(this.FFont.FSize)}})),this.ColorToRGB=function(t){return t},this.ColorToHex=function(t){var e="";for(e=t.toString(16);e.length<6;)e="0"+e;return pas.System.Copy(e,5,2)+pas.System.Copy(e,3,2)+pas.System.Copy(e,1,2)},this.ColorToHTML=function(e){return"#"+t.ColorToHex(e)},this.FontSizeToHTML=function(t){var e="";return e=pas.SysUtils.FloatToStr(t)+"px",e=pas.SysUtils.StringReplace(e,",",".",rtl.createSet(0))},this.HexToColor=function(t){var e="",i=0;e="";for(var s=1,n=t.length;s<=n;s++)i=s,(t.charAt(i-1)>="0"&&t.charAt(i-1)<="9"||t.charAt(i-1)>="A"&&t.charAt(i-1)<="F"||t.charAt(i-1)>="a"&&t.charAt(i-1)<="f")&&(e+=t.charAt(i-1));return e="$"+pas.System.Copy(e,5,2)+pas.System.Copy(e,3,2)+pas.System.Copy(e,1,2),pas.SysUtils.StrToInt64(e)},this.FontSizeToPx=function(t){return 96*t/72},this.GetRValue=function(t){return 255&t},this.GetGValue=function(t){return 255&Math.floor(t/256)},this.GetBValue=function(t){return 255&Math.floor(t/65536)},this.CreateCanvasRectF=function(e,i,s,n){var o=t.TCanvasRectF.$new();return o.Left=e,o.Top=i,o.Right=s,o.Bottom=n,o},this.RGB=function(t,e,i){return t|e<<8|i<<16},t.$implcode=function(){rtl.createClass(e,"TGraphicCache",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FImage=null,this.FID=""},this.$final=function(){this.FImage=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t,e){return this.FImage=t,this.FID=e,this}})),rtl.createClass(e,"TGraphicCacheList",pas.contnrs.TObjectList,(function(){this.Find=function(t,i){var s=!1,n=0,o=null;s=!1;for(var r=0,a=this.GetCount()-1;r<=a;r++)if(n=r,(o=rtl.as(this.GetItem(n),e.TGraphicCache)).FID===t&&null!=o.FImage){i.set(o.FImage),s=!0;break}return s},this.Exists=function(t){var i=!1,s=0,n=null;i=!1;for(var o=0,r=this.GetCount()-1;o<=r;o++)if(s=o,(n=rtl.as(this.GetItem(s),e.TGraphicCache)).FID===t&&null!=n.FImage){i=!0;break}return i}})),e.FCache=null,e.FQueue=null,e.FCacheCount=0,e.MatrixIdentity=function(){var e=t.TMatrix.$new();return e.m11=1,e.m12=0,e.m13=0,e.m21=0,e.m22=1,e.m23=0,e.m31=0,e.m32=0,e.m33=1,e},e.GetPixelRatio=function(t){var e=t.FContext;return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},e.MatrixCreateScaling=function(i,s){var n=t.TMatrix.$new();return n.$assign(e.MatrixIdentity()),n.m11=i,n.m22=s,n},e.MatrixMultiply=function(e,i){var s=t.TMatrix.$new();return s.m11=e.m11*i.m11+e.m12*i.m21+e.m13*i.m31,s.m12=e.m11*i.m12+e.m12*i.m22+e.m13*i.m32,s.m13=e.m11*i.m13+e.m12*i.m23+e.m13*i.m33,s.m21=e.m21*i.m11+e.m22*i.m21+e.m23*i.m31,s.m22=e.m21*i.m12+e.m22*i.m22+e.m23*i.m32,s.m23=e.m21*i.m13+e.m22*i.m23+e.m23*i.m33,s.m31=e.m31*i.m11+e.m32*i.m21+e.m33*i.m31,s.m32=e.m31*i.m12+e.m32*i.m22+e.m33*i.m32,s.m33=e.m31*i.m13+e.m32*i.m23+e.m33*i.m33,s}},t.$init=function(){e.FCache=e.TGraphicCacheList.$create("Create$2"),e.FQueue=pas.Classes.TStringList.$create("Create$1")}}),["WEBLib.Forms","WEBLib.WebTools","Math","SysUtils","contnrs"]),rtl.module("WEBLib.Lang",["System"],(function(){"use strict";this.TUILanguage={0:"lNone",lNone:0,1:"lAfar",lAfar:1,2:"lAbkhazian",lAbkhazian:2,3:"lAvestan",lAvestan:3,4:"lAfrikaans",lAfrikaans:4,5:"lAkan",lAkan:5,6:"lAmharic",lAmharic:6,7:"lAragonese",lAragonese:7,8:"lArabic",lArabic:8,9:"lAssamese",lAssamese:9,10:"lAvaric",lAvaric:10,11:"lAymara",lAymara:11,12:"lAzerbaijani",lAzerbaijani:12,13:"lBashkir",lBashkir:13,14:"lBelarusian",lBelarusian:14,15:"lBulgarian",lBulgarian:15,16:"lBihari",lBihari:16,17:"lBislama",lBislama:17,18:"lBambara",lBambara:18,19:"lBengali",lBengali:19,20:"lTibetan",lTibetan:20,21:"lBreton",lBreton:21,22:"lBosnian",lBosnian:22,23:"lCatalan",lCatalan:23,24:"lChechen",lChechen:24,25:"lChamorro",lChamorro:25,26:"lCorsican",lCorsican:26,27:"lCree",lCree:27,28:"lCzech",lCzech:28,29:"lOldSlavic",lOldSlavic:29,30:"lChuvash",lChuvash:30,31:"lWelsh",lWelsh:31,32:"lDanish",lDanish:32,33:"lGerman",lGerman:33,34:"lDivehi",lDivehi:34,35:"lDzongkha",lDzongkha:35,36:"lEwe",lEwe:36,37:"lEnglish",lEnglish:37,38:"lEsperanto",lEsperanto:38,39:"lSpanish",lSpanish:39,40:"lEstonian",lEstonian:40,41:"lBasque",lBasque:41,42:"lPersian",lPersian:42,43:"lFulah",lFulah:43,44:"lFinnish",lFinnish:44,45:"lFijian",lFijian:45,46:"lFaroese",lFaroese:46,47:"lFrench",lFrench:47,48:"lWesternFrisian",lWesternFrisian:48,49:"lIrish",lIrish:49,50:"lGaelic",lGaelic:50,51:"lGalician",lGalician:51,52:"lGuarani",lGuarani:52,53:"lGujarati",lGujarati:53,54:"lManx",lManx:54,55:"lHausa",lHausa:55,56:"lHebrew",lHebrew:56,57:"lHindi",lHindi:57,58:"lHiriMotu",lHiriMotu:58,59:"lCroatian",lCroatian:59,60:"lHaitian",lHaitian:60,61:"lHungarian",lHungarian:61,62:"lArmenian",lArmenian:62,63:"lHerero",lHerero:63,64:"lInterlingua",lInterlingua:64,65:"lIndonesian",lIndonesian:65,66:"lInterlingue",lInterlingue:66,67:"lIgbo",lIgbo:67,68:"lSichuanYi",lSichuanYi:68,69:"lInupiaq",lInupiaq:69,70:"lIdo",lIdo:70,71:"lIcelandic",lIcelandic:71,72:"lItalian",lItalian:72,73:"lInuktitut",lInuktitut:73,74:"lJapanese",lJapanese:74,75:"lJavanese",lJavanese:75,76:"lGeorgian",lGeorgian:76,77:"lKongo",lKongo:77,78:"lKikuyu",lKikuyu:78,79:"lKuanyama",lKuanyama:79,80:"lKazakh",lKazakh:80,81:"lKalaallisut",lKalaallisut:81,82:"lCentralKhmer",lCentralKhmer:82,83:"lKannada",lKannada:83,84:"lKorean",lKorean:84,85:"lKanuri",lKanuri:85,86:"lKashmiri",lKashmiri:86,87:"lKurdish",lKurdish:87,88:"lKomi",lKomi:88,89:"lCornish",lCornish:89,90:"lKirghiz",lKirghiz:90,91:"lLatin",lLatin:91,92:"lLuxembourgish",lLuxembourgish:92,93:"lGanda",lGanda:93,94:"lLimburgan",lLimburgan:94,95:"lLingala",lLingala:95,96:"lLao",lLao:96,97:"lLithuanian",lLithuanian:97,98:"lLubaKatanga",lLubaKatanga:98,99:"lLatvian",lLatvian:99,100:"lMalagasy",lMalagasy:100,101:"lMarshallese",lMarshallese:101,102:"lMaori",lMaori:102,103:"lMacedonian",lMacedonian:103,104:"lMalayalam",lMalayalam:104,105:"lMongolian",lMongolian:105,106:"lMarathi",lMarathi:106,107:"lMalay",lMalay:107,108:"lMaltese",lMaltese:108,109:"lBurmese",lBurmese:109,110:"lNauru",lNauru:110,111:"lNdebele",lNdebele:111,112:"lNepali",lNepali:112,113:"lNdonga",lNdonga:113,114:"lDutch",lDutch:114,115:"lNorwegian",lNorwegian:115,116:"lNavajo",lNavajo:116,117:"lChichewa",lChichewa:117,118:"lOccitan",lOccitan:118,119:"lOjibwa",lOjibwa:119,120:"lOromo",lOromo:120,121:"lOriya",lOriya:121,122:"lOssetian",lOssetian:122,123:"lPanjabi",lPanjabi:123,124:"lPali",lPali:124,125:"lPolish",lPolish:125,126:"lPushto",lPushto:126,127:"lPortuguese",lPortuguese:127,128:"lQuechua",lQuechua:128,129:"lRomansh",lRomansh:129,130:"lRundi",lRundi:130,131:"lRomanian",lRomanian:131,132:"lRussian",lRussian:132,133:"lKinyarwanda",lKinyarwanda:133,134:"lSanskrit",lSanskrit:134,135:"lSardinian",lSardinian:135,136:"lSindhi",lSindhi:136,137:"lNorthernSami",lNorthernSami:137,138:"lSango",lSango:138,139:"lSinhala",lSinhala:139,140:"lSlovak",lSlovak:140,141:"lSlovenian",lSlovenian:141,142:"lSamoan",lSamoan:142,143:"lShona",lShona:143,144:"lSomali",lSomali:144,145:"lAlbanian",lAlbanian:145,146:"lSerbian",lSerbian:146,147:"lSwati",lSwati:147,148:"lSotho",lSotho:148,149:"lSundanese",lSundanese:149,150:"lSwedish",lSwedish:150,151:"lSwahili",lSwahili:151,152:"lTamil",lTamil:152,153:"lTelugu",lTelugu:153,154:"lTajik",lTajik:154,155:"lThai",lThai:155,156:"lTigrinya",lTigrinya:156,157:"lTurkmen",lTurkmen:157,158:"lTagalog",lTagalog:158,159:"lTswana",lTswana:159,160:"lTonga",lTonga:160,161:"lTurkish",lTurkish:161,162:"lTsonga",lTsonga:162,163:"lTatar",lTatar:163,164:"lTwi",lTwi:164,165:"lTahitian",lTahitian:165,166:"lUighur",lUighur:166,167:"lUkrainian",lUkrainian:167,168:"lUrdu",lUrdu:168,169:"lUzbek",lUzbek:169,170:"lVenda",lVenda:170,171:"lVietnamese",lVietnamese:171,172:"lWalloon",lWalloon:172,173:"lWolof",lWolof:173,174:"lXhosa",lXhosa:174,175:"lYiddish",lYiddish:175,176:"lYoruba",lYoruba:176,177:"lZhuang",lZhuang:177,178:"lChinese",lChinese:178,179:"lZulu",lZulu:179},this.GetLanguageISO639_1Code=function(t){var e="";return 0===t?e="":1===t?e="aa":2===t?e="ab":3===t?e="ae":4===t?e="af":5===t?e="ak":6===t?e="am":7===t?e="an":8===t?e="ar":9===t?e="as":10===t?e="av":11===t?e="ay":12===t?e="az":13===t?e="ba":14===t?e="be":15===t?e="bg":16===t?e="bh":17===t?e="bi":18===t?e="bm":19===t?e="bn":20===t?e="bo":21===t?e="br":22===t?e="bd":23===t?e="ca":24===t?e="ce":25===t?e="ch":26===t?e="co":27===t?e="cr":28===t?e="cs":29===t?e="cu":30===t?e="cv":31===t?e="cy":32===t?e="da":33===t?e="de":34===t?e="dv":35===t?e="dz":36===t?e="ee":37===t?e="en":38===t?e="eo":39===t?e="es":40===t?e="et":41===t?e="eu":42===t?e="fa":43===t?e="ff":44===t?e="fi":45===t?e="fj":46===t?e="fo":47===t?e="fr":48===t?e="fy":49===t?e="ga":50===t?e="gd":51===t?e="gl":52===t?e="gn":53===t?e="gu":54===t?e="gv":55===t?e="ha":56===t?e="he":57===t?e="hi":58===t?e="ho":59===t?e="hr":60===t?e="ht":61===t?e="hu":62===t?e="hy":63===t?e="hz":64===t?e="ia":65===t?e="id":66===t?e="ie":67===t?e="ig":68===t?e="ii":69===t?e="ik":70===t?e="id":71===t?e="is":72===t?e="it":73===t?e="iu":74===t?e="ja":75===t?e="jv":76===t?e="ka":77===t?e="kg":78===t?e="ki":79===t?e="kj":80===t?e="kk":81===t?e="kl":82===t?e="km":83===t?e="kn":84===t?e="ko":85===t?e="kr":86===t?e="ks":87===t?e="ku":88===t?e="kv":89===t?e="kw":90===t?e="ky":91===t?e="la":92===t?e="lb":93===t?e="lg":94===t?e="li":95===t?e="ln":96===t?e="lo":97===t?e="lt":98===t?e="lu":99===t?e="lv":100===t?e="mg":101===t?e="mh":102===t?e="mi":103===t?e="mk":104===t?e="ml":105===t?e="mn":106===t?e="mr":107===t?e="ms":108===t?e="mt":109===t?e="my":110===t?e="na":111===t?e="nb":112===t?e="nd":113===t?e="ng":114===t?e="nl":115===t?e="no":116===t?e="nv":117===t?e="ny":118===t?e="oc":119===t?e="oj":120===t?e="om":121===t?e="or":122===t?e="os":123===t?e="pa":124===t?e="pi":125===t?e="pl":126===t?e="ps":127===t?e="pt":128===t?e="qu":129===t?e="rm":130===t?e="rn":131===t?e="ro":132===t?e="ru":133===t?e="rw":134===t?e="sa":135===t?e="sc":136===t?e="sd":137===t?e="se":138===t?e="sg":139===t?e="si":140===t?e="sk":141===t?e="sl":142===t?e="sm":143===t?e="sn":144===t?e="so":145===t?e="sq":146===t?e="sr":147===t?e="ss":148===t?e="st":149===t?e="su":150===t?e="sv":151===t?e="sw":152===t?e="ta":153===t?e="te":154===t?e="tg":155===t?e="th":156===t?e="ti":157===t?e="tk":158===t?e="tl":159===t?e="tn":160===t?e="to":161===t?e="tr":162===t?e="ts":163===t?e="tt":164===t?e="tw":165===t?e="ty":166===t?e="ug":167===t?e="uk":168===t?e="ur":169===t?e="uz":170===t?e="ve":171===t?e="vi":172===t?e="wa":173===t?e="wo":174===t?e="xh":175===t?e="yi":176===t?e="yo":177===t?e="za":178===t?e="zh":179===t&&(e="zu"),e}})),rtl.module("Rtl.BrowserLoadHelper",["System","Classes","SysUtils","JS","Web"],(function(){"use strict";var t=this;rtl.createClass(this,"TBrowserLoadHelper",pas.Classes.TLoadHelper,(function(){})),t.$init=function(){pas.Classes.SetLoadHelperClass(t.TBrowserLoadHelper)}})),rtl.module("WEBLib.JSON",["System","Classes","Web","JS","SysUtils"],(function(){"use strict";var t=this;rtl.createClass(this,"TJSONAncestor",pas.System.TObject,(function(){this.GetStrValue=function(){return"",""},this.SetStrValue=function(t){}})),rtl.createClass(this,"TJSONValue",this.TJSONAncestor,(function(){this.$init=function(){t.TJSONAncestor.$init.call(this),this.fjv=void 0,this.fjo=void 0},this.GetStrValue=function(){return""+this.fjv},this.Create$1=function(t){return pas.System.TObject.Create.call(this),this.fjv=t,this},this.ToString=function(){return JSON.stringify(this.fjv)}})),rtl.createClass(this,"TJSONPair",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.fjo=void 0,this.fjv=null,this.fjs=null},this.$final=function(){this.fjv=void 0,this.fjs=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.fjs=t.TJSONString.$create("Create"),this},this.Create$2=function(e,i){return pas.System.TObject.Create.call(this),this.fjs=t.TJSONString.$create("Create$2",[e]),this.fjv=i,this},this.Create$3=function(e,i){return pas.System.TObject.Create.call(this),this.fjs=t.TJSONString.$create("Create$2",[e]),this.fjv=t.TJSONString.$create("Create$2",[i]),this},this.Destroy=function(){rtl.free(this,"fjs"),pas.System.TObject.Destroy.call(this)},this.ToString=function(){return t.TJSONObject.isPrototypeOf(this.fjv)?'"'+this.fjs.GetStrValue()+'":'+rtl.as(this.fjv,t.TJSONObject).ToJSON():null!==this.fjs&&null!==this.fjv?'"'+this.fjs.GetStrValue()+'":'+this.fjv.ToString():""}})),rtl.createClass(this,"TJSONPairList",pas.Classes.TList,(function(){})),rtl.createClass(this,"TJSONObject",this.TJSONValue,(function(){this.$init=function(){t.TJSONValue.$init.call(this),this.fjo$1=null,this.FMembers=null},this.$final=function(){this.fjo$1=void 0,this.FMembers=void 0,t.TJSONValue.$final.call(this)},this.GetPair=function(e){var i=null,s="";return 0===this.FMembers.GetCount()&&null!=this.fjo$1&&rtl.length(Object.keys(this.fjo$1))>0&&e<rtl.length(Object.keys(this.fjo$1))?(s=Object.keys(this.fjo$1)[e],i=t.TJSONValue.$create("Create$1",[this.fjo$1[s]]),t.TJSONPair.$create("Create$2",[s,i])):e>=0&&e<this.FMembers.GetCount()?rtl.getObject(this.FMembers.Get(e)):null},this.GetCount=function(){return null!=this.fjo$1?rtl.length(Object.keys(this.fjo$1)):null!=this.FMembers?this.FMembers.GetCount():0},this.AddDescendant=function(t){this.FMembers.Add(t)},this.JSONValueFromJS=function(e){var i=null,s=0;return i=null,rtl.isArray(e)?(i=t.TJSONArray.$create("Create$2"),rtl.as(i,t.TJSONArray).fja=e):rtl.isObject(e)?(i=t.TJSONObject.$create("Create$2"),rtl.as(i,t.TJSONObject).fjo$1=e):rtl.isString(e)?(i=t.TJSONString.$create("Create"),rtl.as(i,t.TJSONString).SetStrValue(""+e)):rtl.isNumber(e)?(i=t.TJSONNumber.$create("Create"),rtl.as(i,t.TJSONNumber).SetStrValue(""+e),s=rtl.getNumber(e),rtl.as(i,t.TJSONNumber).FDouble=s,0===pas.System.Frac(s)&&(rtl.as(i,t.TJSONNumber).FInt=rtl.trunc(e))):pas.JS.isNull(e)?i=t.TJSONNull.$create("Create"):pas.JS.isBoolean(e)&&(i=pas.JS.toBoolean(e)?t.TJSONTrue.$create("Create"):t.TJSONFalse.$create("Create")),null==i&&(i=t.TJSONNull.$create("Create")),i.fjv=e,i},this.Create$2=function(){return pas.System.TObject.Create.call(this),this.FMembers=t.TJSONPairList.$create("Create$1"),this.fjo$1=null,this},this.Destroy=function(){rtl.free(this,"FMembers"),pas.System.TObject.Destroy.call(this)},this.ParseJSONValue=function(t){var e;return e=JSON.parse(t),this.JSONValueFromJS(e)},this.Get=function(e){var i=null,s=void 0,n=null,o=0,r=null;if(i=null,null!=this.fjo$1)null!=(s=this.fjo$1[e])&&(i=t.TJSONPair.$create("Create$1"),n=this.$class.JSONValueFromJS(s),i.fjo=this.fjo$1,i.fjs.SetStrValue(e),i.fjv=n);else for(var a=0,l=this.FMembers.GetCount()-1;a<=l;a++)o=a,(r=rtl.getObject(this.FMembers.Get(o))).fjs.ToString()==='"'+e+'"'&&(i=r);return i},this.Get$1=function(t){return this.Get(Object.keys(this.fjo$1)[t])},this.GetValue$1=function(t){var e,i=null;return i=null,null!=(e=this.Get(t))&&((i=e.fjv).fjo=e.fjo),i},this.AddPair=function(t){var e=null;return null!=t&&(this.AddDescendant(t),null!=this.fjo$1&&(this.fjo$1[t.fjs.FValue]=t.fjv.fjv),e=this.$class.ParseJSONValue(this.ToJSON())),e},this.AddPair$2=function(e,i){return this.AddPair(t.TJSONPair.$create("Create$3",[e,i])),this,this},this.ToJSON=function(){var e="",i="",s=0,n=0,o=null;if(s=null!=this.fjo$1?this.GetCount():this.FMembers.GetCount(),t.TJSONArray.isPrototypeOf(this))e=rtl.as(this,t.TJSONArray).ToString();else{i="{",s>0&&(null!=this.fjo$1?null!=(o=this.Get$1(0))?i+=o.ToString():i=i+'"'+Object.keys(this.fjo$1)[0]+'":null':i+=rtl.getObject(this.FMembers.Get(0)).ToString());for(var r=1,a=s-1;r<=a;r++)n=r,i=null!=this.fjo$1?null!=(o=this.Get$1(n))?i+","+o.ToString():i+',"'+Object.keys(this.fjo$1)[n]+'":null':i+","+rtl.getObject(this.FMembers.Get(n)).ToString();e=i+="}"}return e},this.ToString=function(){return this.ToJSON()}})),rtl.createClass(this,"TJSONString",this.TJSONValue,(function(){this.$init=function(){t.TJSONValue.$init.call(this),this.FValue=""},this.GetStrValue=function(){return this.FValue},this.SetStrValue=function(t){if(this.FValue=t,this.fjv=t,pas.System.Assigned(this.fjo)){var e=Object.keys(this.fjo)[0];this.fjo[e]=t}},this.Create$2=function(t){return pas.System.TObject.Create.call(this),this.fjv=t,this.FValue=t,this}})),rtl.createClass(this,"TJSONNumber",this.TJSONString,(function(){this.$init=function(){t.TJSONString.$init.call(this),this.FInt=0,this.FDouble=0},this.GetStrValue=function(){return pas.SysUtils.FloatToStr(this.FDouble)},this.SetStrValue=function(t){this.FDouble=pas.SysUtils.StrToFloat(t),0===pas.System.Frac(this.FDouble)?(pas.SysUtils.TryStrToInt(t,{p:this,get:function(){return this.p.FInt},set:function(t){this.p.FInt=t}})||(this.FInt=0),this.fjv=this.FInt):this.fjv=this.FDouble}})),rtl.createClass(this,"TJSONTrue",this.TJSONValue,(function(){this.GetStrValue=function(){return"true","true"},this.ToString=function(){return this.GetStrValue()}})),rtl.createClass(this,"TJSONFalse",this.TJSONValue,(function(){this.GetStrValue=function(){return"false","false"},this.ToString=function(){return this.GetStrValue()}})),rtl.createClass(this,"TJSONNull",this.TJSONValue,(function(){this.GetStrValue=function(){return"null","null"},this.ToString=function(){return this.GetStrValue()}})),rtl.createClass(this,"TJSONArray",this.TJSONObject,(function(){this.$init=function(){t.TJSONObject.$init.call(this),this.fja=null},this.$final=function(){this.fja=void 0,t.TJSONObject.$final.call(this)},this.GetItem$1=function(e){var i;return i=this.GetJA()[e],rtl.isExt(i,t.TJSONObject,1)||rtl.isExt(i,t.TJSONArray,1)?rtl.getObject(i):this.$class.JSONValueFromJS(i)},this.GetCount$1=function(){return this.GetJA().length},this.GetJA=function(){return null==this.fja&&(this.fja=new Array),this.fja},this.ToString=function(){var e="",i=0,s=null,n="";e="[",n="";for(var o=0,r=this.GetCount$1()-1;o<=r;o++)i=o,null!=(s=this.GetItem$1(i))&&(e=t.TJSONObject.isPrototypeOf(s)?e+n+rtl.as(s,t.TJSONObject).ToString():e+n+s.ToString(),n=",");return e+="]"}}))})),rtl.module("WEBLib.Forms",["System","Classes","Types","SysUtils","WEBLib.Graphics","WEBLib.Controls","WEBLib.Lang","WEBLib.Menus","Web","JS","Rtl.BrowserLoadHelper"],(function(){"use strict";var t=this,e=t.$impl;this.WEBCOREVERSION="2.0.2.1 Pescara",this.idOK=1,this.idCancel=2,this.idAbort=3,this.idRetry=4,this.idIgnore=5,this.idYes=6,this.idNo=7,this.idClose=8,this.idHelp=9,this.idContinue=11,this.mrNone=0,this.mrOk=1,this.mrCancel=2,this.mrAbort=3,this.mrRetry=4,this.mrIgnore=5,this.mrYes=6,this.mrNo=7,this.mrClose=8,this.mrHelp=9,this.mrContinue=11,this.mrAll=12,this.mrNoToAll=13,this.mrYesToAll=14,this.rgiFirst=-1024,this.igiLast=511,this.clTMSBlue=14917120,this.$rtti.$Int("TConstraintSize",{minvalue:0,maxvalue:2147483647,ordtype:5}),this.TCloseAction={0:"caNone",caNone:0,1:"caHide",caHide:1,2:"caFree",caFree:2,3:"caMinimize",caMinimize:3},this.$rtti.$Enum("TCloseAction",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TCloseAction}),this.TFormStyle={0:"fsNormal",fsNormal:0,1:"fsStayOnTop",fsStayOnTop:1},this.$rtti.$Enum("TFormStyle",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TFormStyle}),this.$rtti.$Int("TGestureID",{minvalue:-1024,maxvalue:511,ordtype:2}),this.TInteractiveGestureFlag={0:"gfBegin",gfBegin:0,1:"gfInertia",gfInertia:1,2:"gfEnd",gfEnd:2},this.$rtti.$Enum("TInteractiveGestureFlag",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TInteractiveGestureFlag}),this.$rtti.$Set("TInteractiveGestureFlags",{comptype:this.$rtti.TInteractiveGestureFlag}),this.TMouseActivate={0:"maDefault",maDefault:0,1:"maActivate",maActivate:1,2:"maActivateAndEat",maActivateAndEat:2,3:"maNoActivate",maNoActivate:3,4:"maNoActivateAndEat",maNoActivateAndEat:4},this.$rtti.$Enum("TMouseActivate",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TMouseActivate}),this.TScreenOrientation={0:"soPortrait",soPortrait:0,1:"soLandscape",soLandscape:1},this.$rtti.$Enum("TScreenOrientation",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TScreenOrientation}),this.TApplicationColorScheme={0:"csNoScheme",csNoScheme:0,1:"csLight",csLight:1,2:"csDark",csDark:2},rtl.recNewT(this,"TSmallPoint",(function(){this.x=0,this.y=0,this.$eq=function(t){return this.x===t.x&&this.y===t.y},this.$assign=function(t){return this.x=t.x,this.y=t.y,this};var e=t.$rtti.$Record("TSmallPoint",{});e.addField("x",rtl.smallint),e.addField("y",rtl.smallint)})),rtl.recNewT(this,"TAlignInfo",(function(){this.AlignList=null,this.ControlIndex=0,this.Align=0,this.Scratch=0,this.$eq=function(t){return this.AlignList===t.AlignList&&this.ControlIndex===t.ControlIndex&&this.Align===t.Align&&this.Scratch===t.Scratch},this.$assign=function(t){return this.AlignList=t.AlignList,this.ControlIndex=t.ControlIndex,this.Align=t.Align,this.Scratch=t.Scratch,this};var e=t.$rtti.$Record("TAlignInfo",{});e.addField("AlignList",pas.Classes.$rtti.TList),e.addField("ControlIndex",rtl.longint),e.addField("Align",pas["WEBLib.Controls"].$rtti.TAlign),e.addField("Scratch",rtl.longint)})),rtl.recNewT(this,"TGestureEventInfo",(function(){this.GestureID=0,this.Angle=0,this.Distance=0,this.$new=function(){var e=Object.create(this);return e.Location=pas.Types.TPoint.$new(),e.Flags={},e.InertiaVector=t.TSmallPoint.$new(),e.TapLocation=t.TSmallPoint.$new(),e},this.$eq=function(t){return this.GestureID===t.GestureID&&this.Location.$eq(t.Location)&&rtl.eqSet(this.Flags,t.Flags)&&this.Angle===t.Angle&&this.InertiaVector.$eq(t.InertiaVector)&&this.Distance===t.Distance&&this.TapLocation.$eq(t.TapLocation)},this.$assign=function(t){return this.GestureID=t.GestureID,this.Location.$assign(t.Location),this.Flags=rtl.refSet(t.Flags),this.Angle=t.Angle,this.InertiaVector.$assign(t.InertiaVector),this.Distance=t.Distance,this.TapLocation.$assign(t.TapLocation),this};var e=t.$rtti.$Record("TGestureEventInfo",{});e.addField("GestureID",t.$rtti.TGestureID),e.addField("Location",pas.Types.$rtti.TPoint),e.addField("Flags",t.$rtti.TInteractiveGestureFlags),e.addField("Angle",rtl.double),e.addField("InertiaVector",t.$rtti.TSmallPoint),e.addField("Distance",rtl.longint),e.addField("TapLocation",t.$rtti.TSmallPoint)})),this.$rtti.$MethodVar("TCloseEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Action",this.$rtti.TCloseAction,1]]),methodkind:0}),this.$rtti.$MethodVar("TCloseQueryEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["CanClose",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TOrientationChangeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AOrientation",this.$rtti.TScreenOrientation]]),methodkind:0}),this.$rtti.$MethodVar("TBeforeUnloadEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AMessage",rtl.string,1]]),methodkind:0}),this.$rtti.$MethodVar("TAlignInsertBeforeEvent",{procsig:rtl.newTIProcSig([["Sender",pas["WEBLib.Controls"].$rtti.TWinControl],["C1",pas["WEBLib.Controls"].$rtti.TControl],["C2",pas["WEBLib.Controls"].$rtti.TControl]],rtl.boolean),methodkind:1}),this.$rtti.$MethodVar("TAlignPositionEvent",{procsig:rtl.newTIProcSig([["Sender",pas["WEBLib.Controls"].$rtti.TWinControl],["Control",pas["WEBLib.Controls"].$rtti.TControl],["NewLeft",rtl.longint,1],["NewTop",rtl.longint,1],["NewWidth",rtl.longint,1],["NewHeight",rtl.longint,1],["AlignRect",pas.Types.$rtti.TRect,1],["AlignInfo",this.$rtti.TAlignInfo]]),methodkind:0}),this.$rtti.$MethodVar("TCanResizeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["NewWidth",rtl.longint,1],["NewHeight",rtl.longint,1],["Resize",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TConstrainedResizeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["MinWidth",rtl.longint,1],["MinHeight",rtl.longint,1],["MaxWidth",rtl.longint,1],["MaxHeight",rtl.longint,1]]),methodkind:0}),this.$rtti.$MethodVar("TContextPopupEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TDockDropEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",this.$rtti.TDragDockObject],["X",rtl.longint],["Y",rtl.longint]]),methodkind:0}),this.$rtti.$MethodVar("TDockOverEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Source",this.$rtti.TDragDockObject],["X",rtl.longint],["Y",rtl.longint],["State",pas["WEBLib.Controls"].$rtti.TDragState],["Accept",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TGestureEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["EventInfo",this.$rtti.TGestureEventInfo,2],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TGetSiteInfoEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["DockClient",pas["WEBLib.Controls"].$rtti.TControl],["InfluenceRect",pas.Types.$rtti.TRect,1],["MousePos",pas.Types.$rtti.TPoint],["CanDock",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TMouseActivateEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Button",pas["WEBLib.Controls"].$rtti.TMouseButton],["Shift",pas.Classes.$rtti.TShiftState],["X",rtl.longint],["Y",rtl.longint],["HitTest",rtl.longint],["MouseActivate",this.$rtti.TMouseActivate,1]]),methodkind:0}),this.$rtti.$MethodVar("TMouseWheelUpDownEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Shift",pas.Classes.$rtti.TShiftState],["MousePos",pas.Types.$rtti.TPoint],["Handled",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TStartDockEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["DragObject",this.$rtti.TDragDockObject,1]]),methodkind:0}),this.$rtti.$MethodVar("TUnDockEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["Client",pas["WEBLib.Controls"].$rtti.TControl],["NewTarget",pas["WEBLib.Controls"].$rtti.TWinControl],["Allow",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("THashChangeEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["oldURL",rtl.string],["newURL",rtl.string]]),methodkind:0}),this.TPopupMode={0:"pmNone",pmNone:0,1:"pmAuto",pmAuto:1,2:"pmExplicit",pmExplicit:2},this.TPopupClose={0:"pcOnDeactivate",pcOnDeactivate:0,1:"pcNever",pcNever:1},this.TPosition={0:"poDesigned",poDesigned:0,1:"poDefault",poDefault:1,2:"poDefaultPosOnly",poDefaultPosOnly:2,3:"poDefaultSizeOnly",poDefaultSizeOnly:3,4:"poScreenCenter",poScreenCenter:4,5:"poDesktopCenter",poDesktopCenter:5,6:"poMainFormCenter",poMainFormCenter:6,7:"poOwnerFormCenter",poOwnerFormCenter:7},this.TApplicationErrorType={0:"aeSilent",aeSilent:0,1:"aeDialog",aeDialog:1,2:"aeAlert",aeAlert:2,3:"aeFooter",aeFooter:3},this.TFormBorderStyle={0:"fbNone",fbNone:0,1:"fbSingle",fbSingle:1,2:"fbSizeable",fbSizeable:2,3:"fbDialog",fbDialog:3,4:"fbDialogSizeable",fbDialogSizeable:4},this.TCSSLibrary={0:"cssNone",cssNone:0,1:"cssBootstrap",cssBootstrap:1},this.$rtti.$Enum("TCSSLibrary",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TCSSLibrary}),rtl.createClass(this,"TCustomSizeConstraints",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FControl=null,this.FMaxHeight=0,this.FMaxWidth=0,this.FMinHeight=0,this.FMinWidth=0,this.FOnChange=null},this.$final=function(){this.FControl=void 0,this.FOnChange=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetConstraints=function(t,e){var i=t;0===i?e!==this.FMaxHeight&&(this.FMaxHeight=e,e>0&&e<this.FMinHeight&&(this.FMinHeight=e),this.Change()):1===i?e!==this.FMaxWidth&&(this.FMaxWidth=e,e>0&&e<this.FMinWidth&&(this.FMinWidth=e),this.Change()):2===i?e!==this.FMinHeight&&(this.FMinHeight=e,this.FMaxHeight>0&&e>this.FMaxHeight&&(this.FMaxHeight=e),this.Change()):3===i&&e!==this.FMinWidth&&(this.FMinWidth=e,this.FMaxWidth>0&&e>this.FMaxWidth&&(this.FMaxWidth=e),this.Change())},this.Change=function(){null!=this.FOnChange&&this.FOnChange(this)},this.AssignTo=function(e){t.TCustomSizeConstraints.isPrototypeOf(e)?(e.FMinHeight=this.FMinHeight,e.FMaxHeight=this.FMaxHeight,e.FMinWidth=this.FMinWidth,e.FMaxWidth=this.FMaxWidth,e.Change()):pas.Classes.TPersistent.AssignTo.call(this,e)},this.Create$1=function(t){return pas.System.TObject.Create.call(this),this.FControl=t,this}})),rtl.createClass(this,"TSizeConstraints",this.TCustomSizeConstraints,(function(){var e=this.$rtti;e.addProperty("MaxHeight",18,t.$rtti.TConstraintSize,"FMaxHeight","SetConstraints",{index:0,Default:0}),e.addProperty("MaxWidth",18,t.$rtti.TConstraintSize,"FMaxWidth","SetConstraints",{index:1,Default:0}),e.addProperty("MinHeight",18,t.$rtti.TConstraintSize,"FMinHeight","SetConstraints",{index:2,Default:0}),e.addProperty("MinWidth",18,t.$rtti.TConstraintSize,"FMinWidth","SetConstraints",{index:3,Default:0})})),rtl.createClass(this,"TDragDockObject",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FBrush=null},this.$final=function(){this.FBrush=void 0,pas.System.TObject.$final.call(this)},this.Destroy=function(){rtl.free(this,"FBrush"),pas.System.TObject.Destroy.call(this)}})),rtl.createClass(this,"TCustomForm",pas["WEBLib.Controls"].TWinControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TWinControl.$init.call(this),this.FDesignContainer=null,this.FLayer$1=null,this.FPopup=!1,this.FPopupElement=null,this.FFormFileName="",this.FFormContainer="",this.FFormElement="",this.FFormStyle=0,this.FOnCreate=null,this.FOnShow=null,this.FModalResult=0,this.FOnPaint=null,this.FOnDeactivate=null,this.FOnCloseQuery=null,this.FOnClose=null,this.FModalProc=null,this.FCreatedProc=null,this.FCaption="",this.FIsResizing$1=!1,this.FOnScroll=null,this.FOnUnload=null,this.FOnBeforeUnload=null,this.FPopupMode=0,this.FPopupClose=0,this.FPosition=0,this.FMdx=0,this.FMdy=0,this.FDlgX=0,this.FDlgY=0,this.FCaptured$1=!1,this.FDown=!1,this.FHasCaption=!1,this.FMoveSpan=null,this.FCaptionElement=null,this.FCaptionCloseElement=null,this.FBorder=0,this.FShadow=!1,this.FTimerID=0,this.FOrigWidth=0,this.FOrigHeight=0,this.FOldWidth=0,this.FOldHeight=0,this.FOnDestroy=null,this.FPopupOpacity=0,this.FCreating=!1,this.FLoadedPtr=null,this.FDOMContentLoadedPtr=null,this.FUnloadPtr=null,this.FBeforeUnloadPtr=null,this.FResizePtr=null,this.FScrollPtr=null,this.FDocMouseUpPtr=null,this.FDocMouseMovePtr=null,this.FTitleDownPtr=null,this.FDoClickPtr=null,this.FKeyDownPtr$1=null,this.FOrientationChangePtr=null,this.FHashChangePtr=null,this.FCSSLibrary=0,this.FNoHTML=!1,this.FPrevActiveForm=null,this.FElementCaptionClassName="",this.FMenu=null,this.FResizeObserver=null,this.FOnOrientationChange=null,this.FOnDOMContentLoaded=null,this.FShowClose=!1,this.FOnHashChange=null},this.$final=function(){this.FDesignContainer=void 0,this.FLayer$1=void 0,this.FPopupElement=void 0,this.FOnCreate=void 0,this.FOnShow=void 0,this.FOnPaint=void 0,this.FOnDeactivate=void 0,this.FOnCloseQuery=void 0,this.FOnClose=void 0,this.FModalProc=void 0,this.FCreatedProc=void 0,this.FOnScroll=void 0,this.FOnUnload=void 0,this.FOnBeforeUnload=void 0,this.FMoveSpan=void 0,this.FCaptionElement=void 0,this.FCaptionCloseElement=void 0,this.FOnDestroy=void 0,this.FPrevActiveForm=void 0,this.FMenu=void 0,this.FResizeObserver=void 0,this.FOnOrientationChange=void 0,this.FOnDOMContentLoaded=void 0,this.FOnHashChange=void 0,pas["WEBLib.Controls"].TWinControl.$final.call(this)},this.SetModalResult=function(t){this.FModalResult=t,0!==this.FModalResult&&this.Close()},this.GetFormStyle=function(){return this.FFormStyle},this.SetFormStyle=function(t){this.FFormStyle=t},this.SetCaption=function(t){this.FCaption!==t&&(this.FCaption=t,this.UpdateElement())},this.SetShadow=function(t){this.FShadow!==t&&(this.FShadow=t,this.UpdateElement())},this.SetFormContainer=function(t){var e,i=null,s=0;if(e=this.GetContainer(),4 in this.FComponentState?this.FFormContainer=t:"BODY"===pas.SysUtils.UpperCase(t)?this.FFormContainer="":this.FFormContainer=t,(!(0 in this.FComponentState)||4 in this.FComponentState)&&(null!=this.FLayer$1?i=this.FLayer$1:(""===t||null==(i=document.getElementById(t)))&&(i=document.body),null!=i&&(this.FContainer=i,null!=e)))for(var n=0,o=this.GetControlsCount()-1;n<=o;n++)s=n,this.GetControls(s).FParentElement===e&&(this.GetControls(s).FParentElement=i),null!=this.GetControls(s).GetElementHandle()&&this.GetControls(s).GetElementHandle().parentElement===e&&i.appendChild(this.GetControls(s).GetElementHandle())},this.SetWidth=function(t){var e=null;0 in this.FComponentState&&""!==this.FFormContainer||!this.FPopup&&null==this.GetElementHandle()?this.SetWidthInt(t):(pas["WEBLib.Controls"].TControl.SetWidth.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("width",pas.SysUtils.IntToStr(t)+"px"))},this.SetHeight=function(t){var e=null;0 in this.FComponentState&&""!==this.FFormContainer||!this.FPopup&&null==this.GetElementHandle()?this.SetHeightInt(t):(pas["WEBLib.Controls"].TControl.SetHeight.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("height",pas.SysUtils.IntToStr(t)+"px"))},this.HandleHashChange=function(t){var e,i;return e=t.oldURL,i=t.newURL,null!=this.FOnHashChange&&this.FOnHashChange(this,e,i),!0,!0},this.HandleLoaded=function(t){return this.Resize$1(),this.InitAnchoring(),!0,!0},this.HandleDOMContentLoaded=function(t){return null!=this.FOnDOMContentLoaded&&this.FOnDOMContentLoaded(this),!0,!0},this.HandleScroll=function(t){return null!=this.FOnScroll&&this.FOnScroll(this),!0,!0},this.HandleUnload=function(t){return null!=this.FOnUnload&&this.FOnUnload(this),!0,!0},this.HandleBeforeUnload=function(t){var e="";return e="",null!=this.FOnBeforeUnload&&this.FOnBeforeUnload(this,{get:function(){return e},set:function(t){e=t}}),""!==e?(t.returnValue=e,e):(!0,!0)},this.HandleObserver=function(){return this.Resize$1(),!0,!0},this.HandleResize=function(t){return this.FVisible&&(null==this.GetContainer()&&this.CreateControl(),this.Resize$1()),!0,!0},this.HandleDocMouseMove=function(t){var e=0,i=0,s=null,n=0,o=0;return this.FDown&&(e=t.screenX-this.FMdx,i=t.screenY-this.FMdy,(s=this.FHasCaption&&""!==this.FFormFileName?this.GetContainer().parentNode:this.GetContainer()).style.setProperty("transform",""),s.style.setProperty("position","absolute"),n=Math.round(this.FDlgX+e),o=Math.round(this.FDlgY+i),s.style.setProperty("left",pas.SysUtils.IntToStr(n)+"px"),s.style.setProperty("top",pas.SysUtils.IntToStr(o)+"px"),this.FLeft=n,this.FTop=o),!0,!0},this.HandleDocMouseUp=function(t){return this.FDown&&(this.FCaptured$1=!1,this.FDown=!1,document.body.removeEventListener("mousemove",this.FDocMouseMovePtr),document.body.removeEventListener("mouseup",this.FDocMouseUpPtr),null!=this.FMoveSpan&&document.body.removeChild(this.FMoveSpan),this.FEventStopPropagation=rtl.unionSet(this.FEventStopPropagation,rtl.createSet(3,2)),this.FMoveSpan=null),!0,!0},this.HandleTitleDown=function(t){var e=null;return t.stopPropagation(),t.preventDefault(),this.FPopupClose=1,this.FMdx=Math.round(t.screenX),this.FMdy=Math.round(t.screenY),e=this.FHasCaption&&""!==this.FFormFileName?this.GetContainer().parentNode.getBoundingClientRect():this.GetContainer().getBoundingClientRect(),this.FDlgX=Math.round(pas.System.Int(e.left)),this.FDlgY=Math.round(pas.System.Int(e.top)),this.FDown=!0,this.FCaptured$1||(this.FCaptured$1=!0,this.FMoveSpan=document.createElement("SPAN"),this.FMoveSpan.style.setProperty("top","0"),this.FMoveSpan.style.setProperty("left","0"),this.FMoveSpan.style.setProperty("right","0"),this.FMoveSpan.style.setProperty("bottom","0"),this.FMoveSpan.style.setProperty("position","absolute"),document.body.appendChild(this.FMoveSpan),this.FEventStopPropagation=rtl.diffSet(this.FEventStopPropagation,rtl.createSet(3,2)),document.body.addEventListener("mousemove",this.FDocMouseMovePtr),document.body.addEventListener("mouseup",this.FDocMouseUpPtr)),!0,!0},this.HandleCloseClick=function(t){var e=!1;return e=!0,null!=this.FOnCloseQuery&&this.FOnCloseQuery(this,{get:function(){return e},set:function(t){e=t}}),e&&this.Close(),!0,!0},this.SetLeft=function(t){var e=null;pas["WEBLib.Controls"].TControl.SetLeft.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("left",pas.SysUtils.IntToStr(t)+"px")},this.SetTop=function(t){var e=null;pas["WEBLib.Controls"].TControl.SetTop.apply(this,arguments),this.FPopup&&null!=(e=this.FPopupElement)&&e.style.setProperty("top",pas.SysUtils.IntToStr(t)+"px")},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FLoadedPtr=null,this.FDOMContentLoadedPtr=null,this.FUnloadPtr=null,this.FBeforeUnloadPtr=null,this.FResizePtr=null,this.FScrollPtr=null,this.FDocMouseUpPtr=null,this.FDocMouseMovePtr=null,this.FTitleDownPtr=null,this.FDoClickPtr=null,this.FKeyDownPtr$1=null,this.FOrientationChangePtr=null,this.FHashChangePtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),null===this.FLoadedPtr&&(this.FLoadedPtr=rtl.createCallback(this,"HandleLoaded"),this.FDOMContentLoadedPtr=rtl.createCallback(this,"HandleDOMContentLoaded"),this.FUnloadPtr=rtl.createCallback(this,"HandleUnload"),this.FBeforeUnloadPtr=rtl.createCallback(this,"HandleBeforeUnload"),this.FResizePtr=rtl.createCallback(this,"HandleResize"),this.FScrollPtr=rtl.createCallback(this,"HandleScroll"),this.FDocMouseUpPtr=rtl.createCallback(this,"HandleDocMouseUp"),this.FDocMouseMovePtr=rtl.createCallback(this,"HandleDocMouseMove"),this.FTitleDownPtr=rtl.createCallback(this,"HandleTitleDown"),this.FDoClickPtr=rtl.createCallback(this,"HandleDoClick$1"),this.FKeyDownPtr$1=rtl.createCallback(this,"HandleKeyDown"),this.FOrientationChangePtr=rtl.createCallback(this,"HandleOrientationChange"),this.FHashChangePtr=rtl.createCallback(this,"HandleHashChange"))},this.VisibleChanged=function(){pas["WEBLib.Controls"].TControl.VisibleChanged.call(this),null!=this.FLayer$1?this.FVisible?this.FLayer$1.style.setProperty("display",""):this.FLayer$1.style.setProperty("display","none"):null!=this.GetContainer()&&""!==this.FFormContainer&&(this.FVisible?this.GetContainer().style.setProperty("display",""):this.GetContainer().style.setProperty("display","none"))},this.Resize$1=function(){var t=0,e=0,i=0,s=0,n=null;if(!(3 in this.FComponentState)&&(this.FIsResizing$1=!0,this.FPopup&&null!=this.FPopupElement?(n=this.FPopupElement.getBoundingClientRect(),i=Math.round(n.right-n.left-2),this.FBorder in rtl.createSet(3,4)?(e=this.GetCaptionHeight(),s=Math.round(n.bottom-n.top-e-2)):s=Math.round(n.bottom-n.top-2)):(i=window.innerWidth,s=window.innerHeight),this.UpdateControlSize(i,s),pas["WEBLib.Controls"].IsAndroid()&&"INPUT"===document.activeElement.tagName||this.AlignControl(this),this.DoResize(),this.FIsResizing$1=!1,!this.IsUpdating())){-1===this.FOrigRect.Left&&-1===this.FOrigRect.Top&&this.InitAnchoring();for(var o=0,r=this.GetControlsCount()-1;o<=r;o++)t=o,this.GetControls(t).UpdateAnchoring()}},this.CreateControl=function(){(this.FVisible||this.FPopup)&&(pas["WEBLib.Controls"].TControl.CreateControl.call(this),this.UpdateSize())},this.DoClose=function(t){null!=this.FModalProc&&0!==t.get()&&(this.FModalProc(this.FModalResult),this.FModalProc=null)},this.BindEvents=function(){pas["WEBLib.Controls"].TControl.BindEvents.call(this),"loading"!==document.readyState&&null!=this.FOnDOMContentLoaded&&this.FOnDOMContentLoaded(this),window.addEventListener("resize",this.FResizePtr),window.addEventListener("load",this.FLoadedPtr),window.addEventListener("DOMContentLoaded",this.FDOMContentLoadedPtr),document.addEventListener("scroll",this.FScrollPtr),window.addEventListener("unload",this.FUnloadPtr),window.addEventListener("beforeunload",this.FBeforeUnloadPtr),window.addEventListener("keydown",this.FKeyDownPtr$1),window.addEventListener("orientationchange",this.FOrientationChangePtr),window.addEventListener("hashchange",this.FHashChangePtr)},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.FLayer$1&&0===this.FPopupClose&&this.FLayer$1.removeEventListener("click",this.FDoClickPtr),null!=this.FResizeObserver&&this.FResizeObserver.disconnect(),window.removeEventListener("resize",this.FResizePtr),window.removeEventListener("load",this.FLoadedPtr),window.removeEventListener("DOMContentLoaded",this.FDOMContentLoadedPtr),document.removeEventListener("scroll",this.FScrollPtr),window.removeEventListener("unload",this.FUnloadPtr),window.removeEventListener("beforeunload",this.FBeforeUnloadPtr),window.removeEventListener("keydown",this.FKeyDownPtr$1),window.removeEventListener("orientationchange",this.FOrientationChangePtr),window.removeEventListener("hashchange",this.FHashChangePtr)},this.DoCreate=function(){this.BeginUpdate(),this.LoadDFMValues(),this.Loaded(),null!=this.FOnCreate&&this.FOnCreate(this),this.FCreating=!1,this.EndUpdate(),this.UpdateChildren(this),this.Realign(),this.DoResize()},this.Realign=function(){var t=null,e=null,i=pas.Types.TRect.$new();""!==this.FFormContainer&&0!==this.FAlign&&null!=(t=document.getElementById(this.FFormContainer))&&(0===(e=t.getBoundingClientRect()).width&&0===e.height&&"absolute"===t.style.getPropertyValue("position")?i.$assign(pas["WEBLib.Controls"].GetHTMLElementAbsoluteRect(t)):i.$assign(pas.Types.Rect(Math.round(e.left),Math.round(e.top),Math.round(e.right),Math.round(e.bottom))),this.SetBoundsInt(i.Left,i.Top,i.Right-i.Left,i.Bottom-i.Top)),pas["WEBLib.Controls"].TControl.Realign.call(this)},this.DoResize=function(){var t,e;t=this.GetWidth(),e=this.GetHeight(),t===this.FOldWidth&&e===this.FOldHeight||(this.FOldWidth=t,this.FOldHeight=e,null!=this.FOnResize&&this.FOnResize(this))},this.DoShow=function(){null!=this.FOnShow&&this.FOnShow(this)},this.HandleDoClick$1=function(t){return t.stopPropagation(),0===this.FPopupClose&&this.Close(),!0,!0},this.HandleKeyDown=function(t){var e,i=!1;return e=this.GetKeyCode(t.key,!0),pas.System.Assigned(e)?(27===e&&!(4 in this.FComponentState)&&this.FPopup&&this.Close(),i=!0):i},this.HandleOrientationChange=function(t){var e=0;(this.Resize$1(),this.Realign(),!0,null!=this.FOnOrientationChange)&&(e=window.matchMedia("(orientation: portrait)").matches?1:0,this.FOnOrientationChange(this,e));return null!=this.FOnResize&&this.FOnResize(this),!0},this.HandleDoResize=function(){var t,e,i=null;i=this.GetContainer().getBoundingClientRect(),t=Math.round(i.right-i.left),e=Math.round(i.bottom-i.top),t===this.FOrigWidth&&e===this.FOrigHeight||(this.SetWidth(t),this.SetHeight(e),i=this.GetContainer().getBoundingClientRect(),this.FOrigWidth=Math.round(i.right-i.left),this.FOrigHeight=Math.round(i.bottom-i.top),this.AlignControl(this))},this.GetWidth=function(){var t=0,e=null,i=null;return""!==this.FFormElement&&null!=(i=document.getElementById(this.FFormElement))?(e=i.getBoundingClientRect(),t=Math.round(e.right-e.left)):(this.GetElementHandle()===document.body?(t=window.innerWidth,e=document.documentElement.getBoundingClientRect(),(t=Math.round(e.width))>window.innerWidth&&(t=window.innerWidth)):this.FPopup?t=pas["WEBLib.Controls"].TControl.GetWidth.call(this):0===(t=Math.round(this.GetElementHandle().offsetWidth))&&(t=""!==this.FFormContainer?pas["WEBLib.Controls"].TControl.GetWidth.call(this):window.innerWidth),t)},this.GetHeight=function(){var t=0,e=0,i="",s=null,n=null;return""!==this.FFormElement&&null!=(s=document.getElementById(this.FFormElement))?(n=s.getBoundingClientRect(),t=Math.round(n.bottom-n.top)):(this.GetElementHandle()===document.body?(i=window.getComputedStyle(this.GetElementHandle()).getPropertyValue("margin-top"),i=pas.System.Copy(i,1,i.length-2),e=Math.round(pas.SysUtils.StrToFloat$1(i,pas.SysUtils.TFormatSettings.Invariant())-2),n=document.documentElement.getBoundingClientRect(),(t=Math.round(n.height))>window.innerHeight&&(t=window.innerHeight-Math.max(0,e))):this.FPopup?t=pas["WEBLib.Controls"].TControl.GetHeight.call(this):0===(t=Math.round(this.GetElementHandle().offsetHeight))&&(t=""!==this.FFormContainer?pas["WEBLib.Controls"].TControl.GetHeight.call(this):window.innerHeight),t)},this.GetLeft=function(){var t=0,e=null,i=null;return this.FPopup?t=pas["WEBLib.Controls"].TControl.GetLeft.call(this):""!==this.FFormElement?null!=(e=document.getElementById(this.FFormElement))&&(i=e.getBoundingClientRect(),t=Math.round(i.left)):(e=null,""!==this.FFormContainer&&(e=document.getElementById(this.FFormContainer)),null==e&&(e=this.GetElementHandle()),t=Math.round(e.offsetLeft)),t},this.GetTop=function(){var t=0,e=null,i=null;return this.FPopup?t=pas["WEBLib.Controls"].TControl.GetTop.call(this):""!==this.FFormElement?null!=(e=document.getElementById(this.FFormElement))&&(i=e.getBoundingClientRect(),t=Math.round(i.top)):(e=null,""!==this.FFormContainer&&(e=document.getElementById(this.FFormContainer)),null==e&&(e=this.GetElementHandle()),t=Math.round(e.offsetTop)),t},this.GetClientRect=function(){var t=pas.Types.TRect.$new();return t.$assign(pas["WEBLib.Controls"].TControl.GetClientRect.call(this)),t},this.CreateElement=function(){var e=null,i=null,s=null;return this.FPopup||null==this.FormContainerElement()?(e=document.createElement("DIV"),this.FLayer$1=this.CreateLayer(),document.body.appendChild(this.FLayer$1),i=this.FLayer$1,0===this.FPopupClose&&(this.GetMethodPointers(),i.addEventListener("click",this.FDoClickPtr)),i.style.setProperty(pas["WEBLib.Controls"].CSSZIndex,t.Application.MaxZIndexStr()),2===this.FBorder&&(e.style.setProperty("resize","both"),e.style.setProperty("overflow","auto")),this.FHasCaption=!1,this.FBorder in rtl.createSet(2,3,4)&&(s=this.CreateCaption(),e.appendChild(s)),e):e=this.FormContainerElement()},this.UpdateElement=function(){var t="",e=null;this.FCreating||(pas["WEBLib.Controls"].TControl.UpdateElement.call(this),this.IsUpdating()||(null==this.GetElementHandle()&&null==this.GetContainer()||""!==this.FCaption&&(this.FPopup?null!=this.FCaptionElement&&(null!=(e=this.FCaptionElement.childNodes.item(0))&&(e.nodeValue=this.FCaption),this.FShowClose&&null==this.FCaptionCloseElement&&(this.FCaptionCloseElement=document.createElement("SPAN"),this.FCaptionCloseElement.style.setProperty("float","right"),this.FCaptionCloseElement.style.setProperty("cursor","default"),this.FCaptionCloseElement.style.setProperty("margin-right","8px"),this.FCaptionCloseElement.innerHTML="&#x2716;",this.FCaptionElement.appendChild(this.FCaptionCloseElement),this.FCaptionCloseElement.addEventListener("click",rtl.createSafeCallback(this,"HandleCloseClick"))),pas["WEBLib.Controls"].SetHTMLElementFont(this.FCaptionElement,this.FFont,!(""===this.FElementCaptionClassName&&0===this.FElementFont))):window.document.title=this.FCaption),null!=this.GetContainer()&&(t=pas["WEBLib.Graphics"].ColorToHTML(this.FColor),null!=this.GetContainer()&&(-1===this.FColor||16777215===this.FColor||this.FPopup||""!==this.FElementClassName||this.GetContainer().style.setProperty(pas["WEBLib.Controls"].CSSBackground,t),(""!==this.FElementClassName||-1===this.FColor||16777215===this.FColor&&!this.FPopup)&&this.GetContainer().style.removeProperty(pas["WEBLib.Controls"].CSSBackground),""!==this.FElementClassName||this.FPopup||document.documentElement.style.setProperty("height","100%"),pas["WEBLib.Controls"].SetHTMLElementFont(this.GetContainer(),this.FFont,!(""===this.FElementClassName&&0===this.FElementFont))),this.FPopup?(null==this.FPopupElement&&(this.FPopupElement=this.GetContainer()),this.FShadow?this.FPopupElement.style.setProperty("box-shadow","3px 3px 3px silver"):this.FPopupElement.style.removeProperty("box-shadow"),this.FPopupElement.style.setProperty("border","1px solid gray")):this.GetContainer().style.removeProperty("box-shadow"))))},this.ContainerElement=function(){return this.FormContainerElement()},this.FormContainerElement=function(){var t=null;return 4 in this.FComponentState&&null!=this.FDesignContainer&&(t=this.FDesignContainer),""!==this.FFormContainer?null==(t=document.getElementById(this.FFormContainer))&&(t=document.body):t=document.body,t},this.GetElementBindHandle=function(){return 4 in this.FComponentState||""!==this.FFormContainer?window:this.FPopup?pas["WEBLib.Controls"].TControl.GetElementBindHandle.call(this):window},this.GetElementHandle=function(){return this.FPopup?pas["WEBLib.Controls"].TControl.GetElementHandle.call(this):this.FormContainerElement()},this.SetElementClassName=function(t){pas["WEBLib.Controls"].TControl.SetElementClassName.apply(this,arguments),this.FPopup&&null!=this.FPopupElement&&this.FPopupElement.setAttribute("class",t)},this.CloseQuery=function(){var t=!1;return t=!0,null!=this.FOnCloseQuery&&this.FOnCloseQuery(this,{get:function(){return t},set:function(e){t=e}}),t},this.LoadDFMValues=function(){},this.Init=function(){},this.CreateLayer=function(){var e=null;return(e=document.createElement("SPAN")).style.setProperty("top","0"),e.style.setProperty("left","0"),e.style.setProperty("right","0"),e.style.setProperty("bottom","0"),e.style.setProperty("webkit-user-select","none"),e.style.setProperty("moz-user-select","none"),e.style.setProperty("khtml-user-select","none"),e.style.setProperty("ms-user-select","none"),e.style.setProperty("user-select","none"),e.style.setProperty("position","absolute"),e.style.setProperty("z-index",t.Application.MaxZIndexStr()),e},this.CreateCaption=function(){var e;return e=pas.SysUtils.IntToStr(t.Application.FFormCaptionHeight),this.FCaptionElement=document.createElement("DIV"),this.FCaptionElement.innerHTML=this.FCaption,this.FCaptionElement.style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(t.Application.FThemeColor)),this.FCaptionElement.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(t.Application.FThemeTextColor)),this.FCaptionElement.style.setProperty("cursor","move"),this.FCaptionElement.style.setProperty("height",e+"px"),this.FCaptionElement.style.setProperty("line-height",e+"px"),this.FCaptionElement.style.setProperty("border-bottom","1px solid black"),this.FCaptionElement.style.setProperty("padding-left","4px"),this.FCaptionElement.style.setProperty("-moz-user-select","none"),this.FCaptionElement.style.setProperty("-webkit-user-select","none"),this.FCaptionElement.style.setProperty("-ms-user-select","none"),this.FCaptionElement.style.setProperty("user-select","none"),this.FCaptionElement.style.setProperty("-o-user-select","none"),""!==this.FElementCaptionClassName&&this.FCaptionElement.setAttribute("class",this.FElementCaptionClassName),pas["WEBLib.Controls"].SetHTMLElementFont(this.FCaptionElement,this.FFont,!(""===this.FElementCaptionClassName&&0===this.FElementFont)),null==this.FTitleDownPtr&&this.GetMethodPointers(),this.FCaptionElement.innerHTML=this.FCaption,this.FCaptionElement.addEventListener("mousedown",this.FTitleDownPtr),this.FHasCaption=!0,this.FCaptionElement},this.GetCaptionHeight=function(){var t=0,e=null;return t=0,null!=this.FCaptionElement&&this.FBorder in rtl.createSet(3,4)&&(e=this.FCaptionElement.getBoundingClientRect(),t=Math.round(e.bottom-e.top)),t},this.SetColorScheme=function(e){var i="";if(t.Application.FThemed){var s=e;2===s?(i="label,option,td,table,ul,li {background-color: #202124; color: #BEC1C6;}\r\nbody,input,textarea,select,fieldset {background-color: #202124; color: #BEC1C6; border: 1px solid gray;}\r\ninput:focus, textarea:focus, select:focus, span:focus { border: 1px solid silver; outline: none !important;}",this.AddCSS("appscheme",i)):1===s&&this.RemoveCSS("appscheme")}},this.SetFormPos=function(){null!=this.GetContainer()&&(4===this.FPosition&&(this.FLeft=Math.round((t.WinWidth()-this.GetWidth())/2)+window.scrollX,this.FTop=Math.round((t.WinHeight()-this.GetHeight())/2)+window.scrollY),this.GetContainer().style.setProperty("position","absolute"),this.GetContainer().style.setProperty("width",pas.SysUtils.IntToStr(this.GetWidth())+"px"),this.GetContainer().style.setProperty("height",pas.SysUtils.IntToStr(this.GetHeight())+"px"),this.GetContainer().style.setProperty("left",pas.SysUtils.IntToStr(this.GetLeft())+"px"),this.GetContainer().style.setProperty("top",pas.SysUtils.IntToStr(this.GetTop())+"px"))},this.GetHTMLFileName=function(){return this.$module.$name+t.Application.GetFormExtension()},this.LoadedDone=function(){t.Application.TriggerNotification()},this.Loaded=function(){pas["WEBLib.Controls"].TControl.Loaded.call(this),this.LoadedDone()},this.ColorChanging=function(){pas["WEBLib.Controls"].TControl.ColorChanging.call(this),null!=this.GetContainer()&&this.GetContainer().style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(this.FColor))},this.CreateInitialize=function(){pas["WEBLib.Controls"].TControl.CreateInitialize.call(this),this.FAllowTouch=!0,this.FModalResult=0,this.FFormStyle=0,this.FBorder=2,this.FShadow=!0,this.FShowClose=!0,this.FTimerID=-1,this.FCaptionElement=null,this.BeginUpdate(),this.SetColor(16777215),this.EndUpdate(),window.addEventListener("load",this.FLoadedPtr)},this.Create$2=function(t){return this.FNoHTML=!1,this.FCreating=!0,this.FFormContainer=t,""===t?pas["WEBLib.Controls"].TControl.Create$2.call(this,pas["WEBLib.WebTools"].cBodyTag):pas["WEBLib.Controls"].TControl.Create$2.call(this,t),this.FFormElement="",this.FModalResult=0,this.FFormStyle=0,this.DoCreate(),this},this.Create$5=function(t,e){return this.FCreating=!0,this.FFormContainer=t,pas["WEBLib.Controls"].TControl.Create$2.call(this,t),e.set(this),this.FFormElement="",this.FModalResult=0,this.FFormStyle=0,this.DoCreate(),this},this.Create$1=function(t){return this.FNoHTML=!1,this.FCreating=!0,this.FResizeObserver=null,pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),this.FBorder=1,this.FFormFileName="",this.FPopupMode=0,this.FPopupClose=0,this.FPopup=!0,this.FPosition=4,this.FPopupOpacity=1,this},this.Load=function(){var e=this;return this.FFormFileName=this.$class.GetHTMLFileName(),""===this.FFormFileName?new Promise((function(t,i){t(e)})):new Promise((function(i,s){t.Application.LoadForm$1(e,e.FFormFileName,(function(t){i(t)}))}))},this.Execute=function(){var t=this;return new Promise((function(e,i){t.ShowModal$1((function(t){e(t)}))}))},this.Destroy=function(){this.FVisible&&this.Close(),null!=this.FOnDestroy&&this.FOnDestroy(this),pas["WEBLib.Controls"].TControl.Destroy.call(this),null!=this.FLayer$1&&(this.FormContainerElement()===this.FLayer$1.parentNode&&this.FormContainerElement().removeChild(this.FLayer$1),this.FLayer$1=null)},this.Close=function(){var i=0,s=null;this.CloseQuery()&&(this.UnbindEvents(),i=1,-1!==this.FTimerID&&(window.clearInterval(this.FTimerID),this.FTimerID=-1),null!=this.FOnClose&&this.FOnClose(this,{get:function(){return i},set:function(t){i=t}}),0!==i&&(null!=this.FLayer$1&&(this.GetContainer().parentNode===this.FLayer$1?this.FLayer$1.removeChild(this.GetContainer()):this.GetContainer().parentNode.parentNode===this.FLayer$1&&this.FLayer$1.removeChild(this.GetContainer().parentNode),this.FContainer=null,this.FormContainerElement()===this.FLayer$1.parentNode&&(this.FormContainerElement().removeChild(this.FLayer$1),t.Application.ChangeMaxZIndex(-1)),this.FLayer$1=null),""===this.FFormFileName?""!==this.FFormElement&&null!=this.GetContainer()?(this.GetContainer().innerHTML="",this.FContainer=null):null!=this.GetContainer()&&(this.FormContainerElement()===this.GetContainer().parentNode&&this.FormContainerElement().removeChild(this.GetContainer()),this.FContainer=null):""!==this.FFormElement&&(this.GetContainer().innerHTML="",this.FContainer=null),this.FFormElement!==this.FFormContainer&&""!==this.FFormElement&&null!=(s=document.getElementById(this.FFormElement))&&(s.innerHTML=""),this.DoClose({get:function(){return i},set:function(t){i=t}}),2!==i||3 in this.FComponentState||(e.ReleaseForm(this),t.Application.FMainForm===this&&(t.Application.FMainForm=null)),t.Application.FActiveForm=this.FPrevActiveForm,this.SetVisible(!1)))},this.IsMiletus=function(){var t=!1,e=null;e=this.$class.ClassType(),t=!1;do{if(null!=(e=e.$ancestor)&&"TMiletusForm"===e.$classname){t=!0;break}}while(null!=e&&"TForm"!==e.$classname);return t},this.Show$1=function(){var e=0,i=null;this.FCreating&&this.FPopup&&(t.Application.ChangeMaxZIndex(1),this.FCreating=!1,this.UpdateElement()),""===this.FFormFileName&&(null==this.GetContainer()?this.FPopup?(this.FContainer=this.CreateElement(),this.FPopupElement=this.GetContainer(),this.SetFormPos(),this.UpdateElement(),this.FLayer$1.appendChild(this.GetContainer())):(this.FContainer=this.CreateLayer(),this.GetContainer().style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(this.FColor)),document.body.appendChild(this.GetContainer())):this.FPopup?(this.SetFormPos(),this.FLayer$1.appendChild(this.GetContainer())):null!=this.FLayer$1?this.FLayer$1.appendChild(this.GetContainer()):document.body.appendChild(this.GetContainer()),this.FPopup&&(2===this.FBorder?(i=this.GetContainer().getBoundingClientRect(),this.FOrigWidth=Math.round(i.right-i.left),this.FOrigHeight=Math.round(i.bottom-i.top),this.FTimerID=window.setInterval(rtl.createSafeCallback(this,"HandleDoResize"),100)):(this.GetContainer().style.setProperty("resize",""),this.GetContainer().style.setProperty("overflow","")))),this.SetVisible(!0);for(var s=0,n=this.GetControlsCount()-1;s<=n;s++)e=s,0===this.GetControls(e).FTabOrder&&this.GetControls(e).FTabStop&&this.GetControls(e).SetFocus()},this.ShowModal$1=function(e){return this.FNoHTML&&(this.FPrevActiveForm=t.Application.FActiveForm,t.Application.FActiveForm=this,t.Application.CreateNewForm(this,"")),0,this.FNoHTML=!1,this.FModalProc=e,this.SetModalResult(0),this.Show$1(),0},this.AddCSS=function(t,e){var i,s,n;i=t,s=e,(n=document.getElementById(i))?n.innerHTML=s:((n=document.createElement("style")).type="text/css",n.id=i,n.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(n))},this.RemoveCSS=function(t){var e;null!=(e=document.getElementById(t))&&document.head.removeChild(e)},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TForm",this.TCustomForm,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("CSSLibrary",0,t.$rtti.TCSSLibrary,"FCSSLibrary","FCSSLibrary",{Default:t.TCSSLibrary.cssNone}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("FormContainer",2,pas["WEBLib.Controls"].$rtti.TElementID,"FFormContainer","SetFormContainer"),e.addProperty("FormStyle",3,t.$rtti.TFormStyle,"GetFormStyle","SetFormStyle"),e.addProperty("Menu",0,pas["WEBLib.Controls"].$rtti.TCustomControl,"FMenu","FMenu"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("Shadow",2,rtl.boolean,"FShadow","SetShadow",{Default:!0}),e.addProperty("ShowClose",0,rtl.boolean,"FShowClose","FShowClose",{Default:!0}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("OnBeforeUnload",0,t.$rtti.TBeforeUnloadEvent,"FOnBeforeUnload","FOnBeforeUnload"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnClose",0,t.$rtti.TCloseEvent,"FOnClose","FOnClose"),e.addProperty("OnCloseQuery",0,t.$rtti.TCloseQueryEvent,"FOnCloseQuery","FOnCloseQuery"),e.addProperty("OnCreate",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnCreate","FOnCreate"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnDeactivate",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDeactivate","FOnDeactivate"),e.addProperty("OnDestroy",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDestroy","FOnDestroy"),e.addProperty("OnDOMContentLoaded",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDOMContentLoaded","FOnDOMContentLoaded"),e.addProperty("OnHashChange",0,t.$rtti.THashChangeEvent,"FOnHashChange","FOnHashChange"),e.addProperty("OnResize",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnResize","FOnResize"),e.addProperty("OnShow",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnShow","FOnShow"),e.addProperty("OnScroll",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnScroll","FOnScroll"),e.addProperty("OnOrientationChange",0,t.$rtti.TOrientationChangeEvent,"FOnOrientationChange","FOnOrientationChange"),e.addProperty("OnPaint",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnPaint","FOnPaint"),e.addProperty("OnTouchStart",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchStart","FOnTouchStart"),e.addProperty("OnTouchMove",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchMove","FOnTouchMove"),e.addProperty("OnTouchEnd",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchEnd","FOnTouchEnd"),e.addProperty("OnUnload",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnUnload","FOnUnload")})),rtl.createClass(this,"TCustomFrame",pas["WEBLib.Controls"].TCustomHTMLDiv,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomHTMLDiv.$init.call(this),this.FAutoScroll=!1,this.FAutoSize=!1,this.FBiDiMode$1=0,this.FConstraints=null,this.FCtl3D$1=!1,this.FDockSite=!1,this.FDragCursor=0,this.FDragKind=0,this.FDragMode$1=0,this.FOnAlignInsertBefore=null,this.FOnAlignPosition=null,this.FOnCanResize=null,this.FOnConstrainedResize=null,this.FOnContextPopup=null,this.FOnDockDrop=null,this.FOnDockOver=null,this.FOnEndDock=null,this.FOnGesture=null,this.FOnGetSiteInfo=null,this.FOnMouseActivate=null,this.FOnMouseWheelDown$1=null,this.FOnMouseWheelUp$1=null,this.FOnStartDock=null,this.FOnUnDock=null,this.FPadding=null,this.FParentBackground=!1,this.FParentCtl3D$1=!1,this.FPopupMenu=null},this.$final=function(){this.FConstraints=void 0,this.FOnAlignInsertBefore=void 0,this.FOnAlignPosition=void 0,this.FOnCanResize=void 0,this.FOnConstrainedResize=void 0,this.FOnContextPopup=void 0,this.FOnDockDrop=void 0,this.FOnDockOver=void 0,this.FOnEndDock=void 0,this.FOnGesture=void 0,this.FOnGetSiteInfo=void 0,this.FOnMouseActivate=void 0,this.FOnMouseWheelDown$1=void 0,this.FOnMouseWheelUp$1=void 0,this.FOnStartDock=void 0,this.FOnUnDock=void 0,this.FPadding=void 0,this.FPopupMenu=void 0,pas["WEBLib.Controls"].TCustomHTMLDiv.$final.call(this)},this.SetConstraints=function(t){this.FConstraints.Assign(t)},this.SetPopupMenu=function(t){this.FPopupMenu=t},this.UpdateElement=function(){var t;pas["WEBLib.Controls"].TControl.UpdateElement.call(this),t=this.FColor in rtl.createSet(15790320,-1,16777215,16711422),null!=this.GetElementHandle()&&!this.IsUpdating()&&4 in this.FComponentState&&t&&this.GetElementHandle().style.setProperty("background-color",pas["WEBLib.Graphics"].ColorToHTML(15790320))},this.Create$1=function(e){return pas["WEBLib.Controls"].TControl.Create$1.call(this,e),this.FConstraints=t.TSizeConstraints.$create("Create$1",[this]),this},this.Destroy=function(){rtl.free(this,"FConstraints"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TFrame",this.TCustomFrame,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoScroll",0,rtl.boolean,"FAutoScroll","FAutoScroll",{Default:!1}),e.addProperty("AutoSize",0,rtl.boolean,"FAutoSize","FAutoSize",{Default:!1}),e.addProperty("BiDiMode",4,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode$1","FBiDiMode$1"),e.addProperty("Constraints",2,t.$rtti.TSizeConstraints,"FConstraints","SetConstraints"),e.addProperty("DockSite",0,rtl.boolean,"FDockSite","FDockSite",{Default:!1}),e.addProperty("DoubleBuffered",0,rtl.boolean,"FDoubleBuffered","FDoubleBuffered",{Default:!1}),e.addProperty("DragCursor",0,pas["WEBLib.Controls"].$rtti.TCursor,"FDragCursor","FDragCursor",{Default:12}),e.addProperty("DragKind",0,pas["WEBLib.Controls"].$rtti.TDragKind,"FDragKind","FDragKind",{Default:pas["WEBLib.Controls"].TDragKind.dkDrag}),e.addProperty("DragMode",0,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode$1","FDragMode$1",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("Ctl3D",4,rtl.boolean,"FCtl3D$1","FCtl3D$1"),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Padding",0,pas["WEBLib.Controls"].$rtti.TPadding,"FPadding","FPadding"),e.addProperty("ParentBackground",0,rtl.boolean,"FParentBackground","FParentBackground",{Default:!0}),e.addProperty("ParentBiDiMode",0,rtl.boolean,"FParentBiDiMode","FParentBiDiMode",{Default:!0}),e.addProperty("ParentColor",2,rtl.boolean,"FParentColor","SetParentColor",{Default:!1}),e.addProperty("ParentCtl3D",0,rtl.boolean,"FParentCtl3D$1","FParentCtl3D$1",{Default:!0}),e.addProperty("ParentDoubleBuffered",0,rtl.boolean,"FParentDoubleBuffered","FParentDoubleBuffered",{Default:!0}),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("ParentShowHint",0,rtl.boolean,"FParentShowHint","FParentShowHint"),e.addProperty("PopupMenu",2,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","SetPopupMenu"),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("OnAlignInsertBefore",0,t.$rtti.TAlignInsertBeforeEvent,"FOnAlignInsertBefore","FOnAlignInsertBefore"),e.addProperty("OnAlignPosition",0,t.$rtti.TAlignPositionEvent,"FOnAlignPosition","FOnAlignPosition"),e.addProperty("OnCanResize",0,t.$rtti.TCanResizeEvent,"FOnCanResize","FOnCanResize"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnConstrainedResize",0,t.$rtti.TConstrainedResizeEvent,"FOnConstrainedResize","FOnConstrainedResize"),e.addProperty("OnContextPopup",0,t.$rtti.TContextPopupEvent,"FOnContextPopup","FOnContextPopup"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnDockDrop",0,t.$rtti.TDockDropEvent,"FOnDockDrop","FOnDockDrop"),e.addProperty("OnDockOver",0,t.$rtti.TDockOverEvent,"FOnDockOver","FOnDockOver"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDock",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FOnEndDock","FOnEndDock"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnGesture",0,t.$rtti.TGestureEvent,"FOnGesture","FOnGesture"),e.addProperty("OnGetSiteInfo",0,t.$rtti.TGetSiteInfoEvent,"FOnGetSiteInfo","FOnGetSiteInfo"),e.addProperty("OnMouseActivate",0,t.$rtti.TMouseActivateEvent,"FOnMouseActivate","FOnMouseActivate"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseWheel",0,pas["WEBLib.Controls"].$rtti.TMouseWheelEvent,"FOnMouseWheel","FOnMouseWheel"),e.addProperty("OnMouseWheelDown",0,t.$rtti.TMouseWheelUpDownEvent,"FOnMouseWheelDown$1","FOnMouseWheelDown$1"),e.addProperty("OnMouseWheelUp",0,t.$rtti.TMouseWheelUpDownEvent,"FOnMouseWheelUp$1","FOnMouseWheelUp$1"),e.addProperty("OnResize",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnResize","FOnResize"),e.addProperty("OnStartDock",0,t.$rtti.TStartDockEvent,"FOnStartDock","FOnStartDock"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag"),e.addProperty("OnUnDock",0,t.$rtti.TUnDockEvent,"FOnUnDock","FOnUnDock")})),rtl.recNewT(this,"TApplicationError",(function(){this.AMessage="",this.AFile="",this.ALineNumber=0,this.AColNumber=0,this.AStack="",this.AError=null,this.$eq=function(t){return this.AMessage===t.AMessage&&this.AFile===t.AFile&&this.ALineNumber===t.ALineNumber&&this.AColNumber===t.AColNumber&&this.AStack===t.AStack&&this.AError===t.AError},this.$assign=function(t){return this.AMessage=t.AMessage,this.AFile=t.AFile,this.ALineNumber=t.ALineNumber,this.AColNumber=t.AColNumber,this.AStack=t.AStack,this.AError=t.AError,this}})),this.THintPosition={0:"hpLeft",hpLeft:0,1:"hpTop",hpTop:1,2:"hpRight",hpRight:2,3:"hpBottom",hpBottom:3},this.TOnlineStatus={0:"osOnline",osOnline:0,1:"osOffline",osOffline:1},rtl.createClass(this,"TApplication",pas["WEBLib.Controls"].TControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TControl.$init.call(this),this.FAppContainer="",this.FMainFormOnTaskBar=!1,this.FCanCreateForm=!1,this.FAppInitializing=!1,this.FLastReq=null,this.FFormCaptionHeight=0,this.FActiveForm=null,this.FMainForm=null,this.FLoadForm=null,this.FInitFormClassName="",this.FFormStack=null,this.FParameters=null,this.FIsRedirect=!1,this.FLanguage=0,this.FOnImageCacheReady=null,this.FOnError=null,this.FOnHashChange=null,this.FAutoFormRoute=!1,this.FErrorType=0,this.FOnOnlineChange=null,this.FOnActivate=null,this.FThemeTextColor=0,this.FThemeColor=0,this.FThemed=!1,this.FThemeButtonClassName="",this.FOnOAuthToken=null,this.FOnOAuthCallBack=null,this.FMaxZIndex=0,this.FCreatedProc=null,this.FHintPause=0,this.FHintHidePause=0,this.FHintPosition=0,this.FHintClassName=""},this.$final=function(){this.FLastReq=void 0,this.FActiveForm=void 0,this.FMainForm=void 0,this.FLoadForm=void 0,this.FFormStack=void 0,this.FParameters=void 0,this.FOnImageCacheReady=void 0,this.FOnError=void 0,this.FOnHashChange=void 0,this.FOnOnlineChange=void 0,this.FOnActivate=void 0,this.FOnOAuthToken=void 0,this.FOnOAuthCallBack=void 0,this.FCreatedProc=void 0,pas["WEBLib.Controls"].TControl.$final.call(this)},this.DoFormLoad=function(t){var e;return e=t.target.responseText,this.CreateNewForm(this.FLoadForm,e),null!=this.FCreatedProc&&(this.FCreatedProc(this),this.FCreatedProc=null),!0,!0},this.DoFormAbort=function(t){return pas["WEBLib.Dialogs"].ShowMessage("Failed to load form HTML template file"),!0,!0},this.DoHandleError=function(e){var i,s=!1,n=t.TApplicationError.$new(),o=null,r=null,a=null,l="",h=!1;if(h=!0,null==e.message&&(h=!1),!h)return n.AMessage="Undefined JavaScript exception",n.AFile="",n.ALineNumber=0,n.AColNumber=0,n.AError=null,null!=this.FOnError&&this.FOnError(this,t.TApplicationError.$clone(n),{get:function(){return s},set:function(t){s=t}}),s;if(n.AMessage=e.message,n.AFile=e.filename,n.ALineNumber=e.lineno,n.AColNumber=e.colno,n.AError=e.error,n.AStack="",l="",null!=e.error){e.error.stack&&(n.AStack=e.error.stack),e.error.fMessage&&(n.AMessage=e.error.fMessage),l=function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=i+"::"+t[i]+"\n");return e}(e.error)}s=!1,i="ERROR<br>"+n.AMessage+" | "+l+n.AStack+"<BR> at "+n.AFile+" ["+pas.SysUtils.IntToStr(n.ALineNumber)+":"+pas.SysUtils.IntToStr(n.AColNumber)+"]";var d=this.FErrorType;return 3===d?null!=(o=document.getElementById("tmserrormessage"))?rtl.asExt(o.firstChild,HTMLElement).innerHTML=i:((o=document.createElement("DIV")).setAttribute("id","tmserrormessage"),o.style.setProperty("position","absolute"),o.style.setProperty("font-family","Courier"),o.style.setProperty("font-size","8pt"),o.style.setProperty("bottom","0"),o.style.setProperty("width","100%"),o.style.setProperty("height","100px"),o.style.setProperty("background","#ff0000"),o.style.setProperty("color","#ffffff"),document.body.style.setProperty("padding","0"),document.body.style.setProperty("margin","0"),(r=document.createElement("SPAN")).style.setProperty("margin-left","4px"),r.style.setProperty("float","left"),r.style.setProperty("overflow","hidden"),r.style.setProperty("display","block"),r.innerHTML=i,o.appendChild(r),(a=document.createElement("SPAN")).style.setProperty("font-family","Courier"),a.style.setProperty("font-size","8pt"),a.style.setProperty("font-weight","bold"),a.style.setProperty("position","absolute"),a.style.setProperty("width","20px"),a.style.setProperty("vertical-align","top"),a.style.setProperty("cursor","pointer"),a.style.setProperty("text-align","right"),a.style.setProperty("right","4px"),a.style.setProperty("display","block"),a.innerHTML="X",a.onclick=rtl.createSafeCallback(this,"DoErrorClose"),o.appendChild(a),document.body.appendChild(o)):2===d?window.alert(i):1===d&&(this.AddControlLink("googlematerial","https://fonts.googleapis.com/icon?family=Material+Icons"),pas["WEBLib.Dialogs"].MessageDlg(i,1,rtl.createSet(2),null)),null!=this.FOnError&&this.FOnError(this,t.TApplicationError.$clone(n),{get:function(){return s},set:function(t){s=t}}),s},this.DoHashChange=function(t){var e="",i=null,s=null,n=null,o=!1;return!0,!this.FAutoFormRoute||(e=location.hash,pas.System.Delete({get:function(){return e},set:function(t){e=t}},1,1),o=!1,null!=this.FOnHashChange&&this.FOnHashChange(this,e,{get:function(){return o},set:function(t){o=t}}),o||(""===e&&(e=this.FInitFormClassName),""!==e&&(""===this.FInitFormClassName&&(this.FInitFormClassName=this.FActiveForm.$classname),null!=(i=pas.Classes.GetClass(e))&&(n=document.body,this.CreateForm$6(i,n,{get:function(){return s},set:function(t){s=t}})))),!0)},this.DoErrorClose=function(t){return document.body.removeChild(t.target.parentElement),!0,!0},this.DoUpdateOnlineStatus=function(t){return!0,null!=this.FOnOnlineChange&&(window.navigator.onLine?this.FOnOnlineChange(this,0):this.FOnOnlineChange(this,1)),!0},this.DoVisibilityChange=function(t){var e;return!0,e="visible"===document.visibilityState,null!=this.FOnActivate&&this.FOnActivate(this,e),!0},this.CreateNewForm=function(e,i){var s=null,n=null,o=null,r=null,a=null,l=0,h=0,d=0,u=0,c=null,p=null,C=0,S=null;if(null===this.FMainForm&&(this.FMainForm=e),o=null,a=null,C=0,e.FPopup||""===e.FFormElement){if(e.ClearControls(),e.FLayer$1=e.CreateLayer(),document.body.appendChild(e.FLayer$1),s=e.FLayer$1,e.FPopup&&e.FPopupOpacity<1&&((n=e.CreateLayer()).style.setProperty(pas["WEBLib.Controls"].CSSBackground,"black"),n.style.setProperty("opacity",pas["WEBLib.WebTools"].DoubleToHTML(e.FPopupOpacity)),n.style.setProperty(pas["WEBLib.Controls"].CSSZIndex,t.Application.MaxZIndexStr()),s.appendChild(n)),t.Application.ChangeMaxZIndex(1),(o=document.createElement("DIV")).style.setProperty(pas["WEBLib.Controls"].CSSZIndex,t.Application.MaxZIndexStr()),e.FPopupElement=o,4===e.FBorder){o.style.setProperty("resize","both"),o.style.setProperty("overflow","auto"),S=null;try{var F=e;(S=new ResizeObserver((function(t){window.requestAnimationFrame(()=>{Array.isArray(t)&&t.length&&t.forEach((function(t){F.HandleObserver()}))})}))).observe(o)}catch(t){o.style.removeProperty("resize"),o.style.removeProperty("overflow")}e.FResizeObserver=S}""!==e.FElementClassName&&o.setAttribute("class",e.FElementClassName),e.FShadow&&e.FPopup&&o.style.setProperty("box-shadow","3px 3px 3px silver"),s.appendChild(o),e.FBorder in rtl.createSet(3,4)?(e.GetMethodPointers(),p=e.CreateCaption(),o.appendChild(p),(r=document.createElement("DIV")).style.setProperty("position","absolute"),r.style.setProperty("width","100%"),r.setAttribute("id","childspan"),o.appendChild(r),a=r,C=t.Application.FFormCaptionHeight):a=o,a.innerHTML=i,e.FContainer=a}else e.FLayer$1=null,null!=(s=document.getElementById(e.FFormElement))&&(s.innerHTML=i,""===e.FElementClassName&&s.style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(e.FColor)));e.Init(),e.LoadDFMValues(),e.FBorder in rtl.createSet(3,4)&&""!==e.FElementCaptionClassName&&(p.classList.add(e.FElementCaptionClassName),p.style.removeProperty("background-color"),p.style.removeProperty("color")),null!=e.FLayer$1&&(e.FPopup||(""===e.FElementClassName?-1!==e.FColor?s.style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(e.FColor)):s.style.setProperty(pas["WEBLib.Controls"].CSSBackground,"white"):s.setAttribute("class",e.FElementClassName))),null!=o&&""===e.FFormContainer&&e.FPopup&&(o.style.setProperty("position","absolute"),l=Math.max(0,Math.round((t.WinWidth()-e.GetWidth())/2))+window.scrollX,h=Math.max(0,Math.round((t.WinHeight()-e.GetHeight())/2))+window.scrollY,d=e.GetWidth(),u=e.GetHeight()+C,""===e.FElementClassName&&(o.style.setProperty(pas["WEBLib.Controls"].CSSBackground,pas["WEBLib.Graphics"].ColorToHTML(e.FColor)),o.style.setProperty("border","1px Black solid")),o.style.setProperty("top",pas.SysUtils.IntToStr(h)+"px"),o.style.setProperty("left",pas.SysUtils.IntToStr(l)+"px"),o.style.setProperty("width",pas.SysUtils.IntToStr(d)+"px"),o.style.setProperty("height",pas.SysUtils.IntToStr(u)+"px")),null!=a&&this.ActivateChildScripts(a),null!=e.FCreatedProc&&(c=e.FCreatedProc,e.FCreatedProc=null,c(e)),null!=e.FOnCreate&&e.FOnCreate(e),e.Loaded(),e.InitAnchoring(),e.UpdateChildAnchoring(),e.FCreating=!1,e.UpdateElement(),e.EventsBound()||e.BindEvents(),e.Resize$1(),e.DoShow()},this.GetFormExtension=function(){return 0!==this.FLanguage?"_"+pas["WEBLib.Lang"].GetLanguageISO639_1Code(this.FLanguage)+pas["WEBLib.WebTools"].cHTMLExt:pas["WEBLib.WebTools"].cHTMLExt};this.GetAuthorizationPageHTML=function(t){function e(t,e){var i=0,s="";s='<!doctype html>\r\n<html lang="en">\r\n<head>\r\n  <title>Authentication Result</title>\r\n  <meta name="viewport" content="width=device-width, initial-scale=1">\r\n</head>\r\n<body>\r\n<style>\r\n  hr\r\n  {\r\n    border: none;\r\n    height: 1px;\r\n    background-color: rgb(171, 171, 171);\r\n  }\r\n  div.container\r\n  {\r\n    position: fixed;\r\n    font-family: Arial;\r\n    font-size: 12pt;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n  div.section\r\n  {\r\n    display: inline-block;\r\n    margin: 15px;\r\n    padding: 5px;\r\n    float: left;\r\n  }\r\n  div.image img\r\n  {\r\n    height: 100%;\r\n  }\r\n  div.text\r\n  {\r\n    padding-top: 15px;\r\n  }\r\n  div.text2\r\n  {\r\n    font-size: 18pt;\r\n    color: #PLACEHOLDERCOLOR#;\r\n  }\r\n  span.title\r\n  {\r\n    font-size: 26px;\r\n  }\r\n</style>\r\n  <div class="container">\r\n  <div class="section image">\r\n    <img src="#PLACEHOLDERIMAGE#">\r\n  </div>\r\n  <div class="section text">\r\n  #PLACEHOLDERTEXT#\r\n  </div>\r\n  </div>\r\n </body>\r\n</html>';for(var n=0,o=rtl.length(t)-1;n<=o;n++)i=n,s=pas.SysUtils.StringReplace(s,t[i],e[i],rtl.createSet(0));return s}return e(["#PLACEHOLDERIMAGE#","#PLACEHOLDERTEXT#","#PLACEHOLDERCOLOR#"],t?["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACC0lEQVR4nO2Zv3GDMBSHv+QyQEbICM4EOW+Q9BS4o2QTU9LZBQNkg6zgETyCR0iRkOMIAv3Xk0+/zsiI931nI3iCkpKSkpKSkpKSkpJ7SDN0x2bo3nW//xCymNhphu4E1MAN2PdVe9k6524ETODHXIHXvmpva+c9BqwpWhbgAV6Ar61zsxeggB+z+x1XJmsBG/Bj6mboWtVgtvcATfhpPvqq/ZwfzFKABTwoVobsBFjCj7kyWxmyugc4wsPCypCNAA/wY/L7C3iEP/dVe5geEC8gJDwIFxAaHgQLiAEPQgXEggeBAmLCgzABseFBkIAU8CBEQCp4ECAgJTwYChibCzYXWpmv9jCVFTwYCJgVa31BxXwucapFS4CiWOsLS4EHDQEbxRoXIAkeNgRoFqtdiDR4WBFgWOxmQRLhQdEQsSi2bobuqBqUCg8LvwDHYg991Z49zjeNd3iYCfBU7J8E6fAAT7PPOw9znpqhA3hDODz8F7Dnp2vqKmJ1O8ogQeFh+R7wjB8JrgkOD4plUICEKPCw/hyQSkI0eNh+EowtISo86L0LxJIQHR703wZDS0gCD2b9gFASksGDeUfIt4Sk8GDRE/QoITk8WDZFPUgQAQ8OXWEHCWLgwbEtbiFBFDx42BcwkCAOHjxtjGhIEAkPHneGViSIhQfPW2MLEkTDQ4C9wYmEi3T4kpKSkm+5ax+YhPsUTQAAAABJRU5ErkJggg==",'<div class="text2">Application succesfully authorized</div>You can close this browser window',"rgb(104, 164, 144)"]:["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABtElEQVR4nO2bUY7CMAxEhz0NB+EgrDjXCg6yB+E4+9NKCAiN7XHcjf1+ED+Z6ahNHScFiqIoBNwvp+v9crpG+3hG6+sgFQFwXv7ejj+/31JBDyy+ugN4ElkJD8HqqyuAhohYjA3D12YAGyIiMSYsXx8D6BTpFmPB9NUMQCjSJcaA7ettAEqRTTErHr5eAjCKfBSz4OXryzhgizOzWCJd/Fs8HoFHzHeCtxf2JNgt3MMID8zXoMpAtDarEDIbidJklMJUQ6MDty6GNDSNRdxtluWwhReDUfONKADAx2jkZCsOAOAaXn4pY2let6oAAN/qTIG61lAHAOwmBFO1aQoACA/BXGqbAwDCQqCsOCkBAMNDoC23aQEAw0Kg9hqoAQDuIdAbLfQAALcQXFptLgEA9BDc+oxeLbF/Qz0C7AFTT4KpX4OpC6HUpXDqxVDq5fBOLn5lbEMkdUssdVM0dVs89cZI6q2x1JujqbfHUx+Q2MPFj/LidUqsKajB05NXS4y6Zl/GurHGe6QOSpLF5jgqqxSb67C0UGzO4/KdYnN/MLEhluOTmYZY+MWvDPU122dzRVHk5g+X6Lw5aVkK9AAAAABJRU5ErkJggg==",'<div class="text2">Application authorization failed</div><br/>Please try again.',"rgb(216, 99, 68)"])},this.GetColorScheme=function(){var t=0;return t=0,"not all"!==window.matchMedia("(prefers-color-scheme)").media&&(t=window.matchMedia("(prefers-color-scheme: dark)").matches?2:1),t},this.ActivateChildScripts=function(t){!function t(e){if(!0===function(t){return"SCRIPT"===t.tagName}(e))e.parentNode.replaceChild(function(t){var e=document.createElement("script");e.async=!1,e.text=t.innerHTML;for(var i=t.attributes.length-1;i>=0;i--)e.setAttribute(t.attributes[i].name,t.attributes[i].value);return e}(e),e);else for(var i=0,s=e.childNodes;i<s.length;)t(s[i++]);return e}(t)},this.ChangeMaxZIndex=function(t){this.FMaxZIndex=this.FMaxZIndex+t},this.TriggerNotification=function(){},this.LockForm=function(t){for(var e=0,i=0,s=t.GetControlsCount()-1;i<=s;i++)e=i,t.GetControls(e).DisableTab()},this.UnLockForm=function(t){for(var e=0,i=0,s=t.GetControlsCount()-1;i<=s;i++)e=i,t.GetControls(e).EnableTab()},this.Create$1=function(t){return this.FFormStack=pas.Classes.TList.$create("Create$1"),this.FParameters=pas.Classes.TStringList.$create("Create$1"),this.FAppContainer=pas["WEBLib.WebTools"].cBodyTag,this.FMainForm=null,this.FActiveForm=null,this.FInitFormClassName="",this.FIsRedirect=!1,this.FAutoFormRoute=!1,this.FThemed=!1,this.FThemeColor=14917120,this.FThemeTextColor=16777215,this.FFormCaptionHeight=22,this.FMaxZIndex=999998,this.FHintPause=200,this.FHintHidePause=250,this.FHintPosition=1,this.FHintClassName="",window.addEventListener("error",rtl.createCallback(this,"DoHandleError")),window.addEventListener("unhandledrejection",rtl.createCallback(this,"DoHandleError")),this.FErrorType=0,this},this.Destroy=function(){rtl.free(this,"FFormStack"),rtl.free(this,"FParameters"),pas["WEBLib.Controls"].TControl.Destroy.call(this)},this.MaxZIndexStr=function(){return pas.SysUtils.IntToStr(this.FMaxZIndex)},this.CreateForm=function(t,e){this.CreateForm$2(t,this.FAppContainer,e,null)},this.CreateForm$2=function(t,e,i,s){this.CreateForm$3(t,e,i,s,!0)},this.CreateForm$3=function(e,i,s,n,o){var r=this,a="";function l(o){var l,h=null,d=null,u="",c=!1;return(l=null!=o)?(u=o.target.responseText,(h=(c=pas.SysUtils.LowerCase(i)===pas["WEBLib.WebTools"].cBodyTag)?document.body:document.getElementById(i)).innerHTML=u):h=document.body,(d=e.$create("Create$5",[i,s])).FFormFileName=a,""===d.FFormContainer&&d.SetFormContainer(i),c||(d.FFormElement=i,d.FContainer=h),d.CreateControl(),d.Init(),d.SetColorScheme(t.Application.GetColorScheme()),d.FPrevActiveForm=r.FActiveForm,r.FActiveForm=d,null===r.FMainForm&&(r.FMainForm=d),null!=n&&n(d),!0,l&&r.ActivateChildScripts(h),r.FActiveForm.DoShow(),r.FActiveForm.Resize$1(),!0}if(!this.FIsRedirect){if(this.FAppInitializing){if(!this.FCanCreateForm)return;this.FCanCreateForm=!1}""!==(a=e.GetHTMLFileName())&&o?(this.FLastReq=new XMLHttpRequest,this.FLastReq.addEventListener("load",rtl.createSafeCallback(null,l)),this.FLastReq.open("GET",a),this.FLastReq.send()):l(null)}},this.CreateForm$6=function(t,e,i){this.CreateForm$2(t,e.id,i,null)},this.LoadForm=function(t,e){t.FPrevActiveForm=this.FActiveForm,this.FActiveForm=t,this.FLoadForm=t,null===this.FMainForm&&(this.FMainForm=t),this.FLastReq=new XMLHttpRequest,this.FLastReq.addEventListener("load",rtl.createSafeCallback(this,"DoFormLoad")),this.FLastReq.addEventListener("abort",rtl.createSafeCallback(this,"DoFormAbort")),this.FLastReq.open("GET",e),this.FLastReq.send()},this.LoadForm$1=function(t,e,i){this.FCreatedProc=i,this.LoadForm(t,e)},this.HasCSS=function(t){var e=!1,i=null,s=0,n="";e=!1;for(var o=0,r=(i=document.querySelectorAll("head > link")).length-1;o<=r;o++)if(s=o,n=i.item(s).href,0===pas.SysUtils.CompareText(n,t)){e=!0;break}return e},this.Initialize=function(){var t,e,i="",s="";if(this.FCanCreateForm=!0,this.FAppInitializing=!0,this.FParameters.Clear(),i=window.location.href,this.InitFormatSettings(pas["WEBLib.WebTools"].GetBrowserLocale()),this.FParameters.SetDelimiter("&"),this.FParameters.FStrictDelimiter=!0,(t=pas.System.Pos("?",i))>0&&(i=pas.System.Copy(i,t+1,i.length)),this.FParameters.SetDelimitedText(i),e="Authentication"==window.name,null!=this.FOnOAuthCallBack&&(-1!==this.FParameters.IndexOfName("oauthcallback")||e))return this.FOnOAuthCallBack(this,i),this.FIsRedirect=!0,void(document.body.innerHTML=this.GetAuthorizationPageHTML(!0));null!=this.FOnOAuthToken&&-1!==this.FParameters.IndexOfName("code")&&(this.FOnOAuthToken(this,i),this.FIsRedirect=!0,s=this.FParameters.GetValue("code"),window.opener&&window.opener.processAuthData&&(window.opener.processAuthData(s),window.close())),window.addEventListener("hashchange",rtl.createSafeCallback(this,"DoHashChange")),window.addEventListener("online",rtl.createSafeCallback(this,"DoUpdateOnlineStatus")),window.addEventListener("offline",rtl.createSafeCallback(this,"DoUpdateOnlineStatus")),document.addEventListener("visibilitychange",rtl.createSafeCallback(this,"DoVisibilityChange")),null!==window.opener&&-1!==this.FParameters.IndexOfName("access_token")&&(this.FIsRedirect=!0,s=this.FParameters.GetValue("access_token"),window.opener&&window.opener.processAuthData&&(window.opener.processAuthData(s),window.close()))},this.InitFormatSettings=function(t){var e,i,s=0;i=t,pas.SysUtils.FormatSettings.ShortDateFormat=pas["WEBLib.WebTools"].GetLocaleShortDateFormat(i),pas.System.Pos("/",pas.SysUtils.FormatSettings.ShortDateFormat)>0&&(pas.SysUtils.FormatSettings.DateSeparator="/"),pas.System.Pos(".",pas.SysUtils.FormatSettings.ShortDateFormat)>0&&(pas.SysUtils.FormatSettings.DateSeparator="."),pas.System.Pos("-",pas.SysUtils.FormatSettings.ShortDateFormat)>0&&(pas.SysUtils.FormatSettings.DateSeparator="-");var n=new Date("Jan 1, 1980 06:07:08 GMT+00:00"),o="";for(o=""==i?navigator.language:i,e=n.toLocaleTimeString(o),pas.System.Pos(":",e)>0&&(pas.SysUtils.FormatSettings.TimeSeparator=":"),pas.System.Pos(".",e)>0&&(pas.SysUtils.FormatSettings.TimeSeparator="."),pas.System.Pos("-",e)>0&&(pas.SysUtils.FormatSettings.TimeSeparator="-"),s=1;s<=7;s++)pas.SysUtils.FormatSettings.ShortDayNames[s-1]=pas["WEBLib.WebTools"].GetLocaleShortDayName(s,i),pas.SysUtils.FormatSettings.LongDayNames[s-1]=pas["WEBLib.WebTools"].GetLocaleLongDayName(s,i);for(s=1;s<=12;s++)pas.SysUtils.FormatSettings.ShortMonthNames[s-1]=pas["WEBLib.WebTools"].GetLocaleShortMonthName(s,i),pas.SysUtils.FormatSettings.LongMonthNames[s-1]=pas["WEBLib.WebTools"].GetLocaleLongMonthName(s,i);pas.SysUtils.FormatSettings.DecimalSeparator=pas["WEBLib.WebTools"].GetLocaleDecimalSeparator(""),"."===pas.SysUtils.FormatSettings.DecimalSeparator?pas.SysUtils.FormatSettings.ThousandSeparator=",":pas.SysUtils.FormatSettings.ThousandSeparator="."},this.Run=function(){this.FCanCreateForm=!0,this.FAppInitializing=!1},this.Version=function(){return t.WEBCOREVERSION},rtl.addIntf(this,pas.System.IUnknown)})),this.GetParentForm=function(e){var i=null,s=null;for(i=null,s=e;null!=s&&!t.TCustomForm.isPrototypeOf(s);)s=s.FOwner;return null!=s&&t.TCustomForm.isPrototypeOf(s)&&(i=rtl.as(s,t.TCustomForm)),i},this.WinWidth=function(){return null!=t.VSIDE?pas["WEBLib.Forms"].VSIDE.clientWidth():window.innerWidth},this.WinHeight=function(){return null!=t.VSIDE?pas["WEBLib.Forms"].VSIDE.clientHeight():window.innerHeight},this.Application=null,this.HandShakeScript=null,this.VSIDE=null,t.$implcode=function(){e.ReleaseForm=function(t){t=rtl.freeLoc(t),t=null}},t.$init=function(){t.HandShakeScript=document.createElement("script"),t.HandShakeScript.id="HandShakeScript",t.HandShakeScript.type="text/javascript",t.HandShakeScript.innerHTML='var IDE = null;\r\nvar TMSWEBCoreClientIdentifier = "unknown";\r\nvar TMSWEBCoreOAuthCallback = "unknown";\r\nfunction HandShake(cid){\r\n  TMSWEBCoreClientIdentifier = cid;\r\n}',document.body.appendChild(t.HandShakeScript),t.Application=t.TApplication.$create("Create$1",[null])}}),["WEBLib.Dialogs","WEBLib.WebTools","WEBLib.JSON","WEBLib.Utils","Math"]),rtl.module("DateUtils",["System","SysUtils","Math"],(function(){"use strict";var t=this.$impl;this.OneMillisecond=1/864e5,this.DateOf=function(t){return pas.System.Trunc(t)},this.MilliSecondsBetween=function(e,i){return pas.System.Trunc(864e5*(Math.abs(t.DateTimeDiff(e,i))+5.787037037037037e-9))},this.DecodeDateTime=function(t,e,i,s,n,o,r,a){pas.SysUtils.DecodeTime(t,n,o,r,a),24===n.get()?(n.set(0),pas.SysUtils.DecodeDate(Math.round(t),e,i,s)):pas.SysUtils.DecodeDate(t,e,i,s)},this.$implcode=function(){t.HalfMilliSecond=5.787037037037037e-9,t.DateTimeDiff=function(t,e){var i=0;return i=t-e,t>0&&e<0?i-=.5:t<-1&&e>-1&&(i+=.5),i}}}),["JS","RTLConsts"]),rtl.module("Bcl.Rtti.Common",["System","SysUtils","JS"],(function(){"use strict";var t=this;rtl.createClass(this,"EInvalidJSCast",pas.SysUtils.Exception,(function(){this.Create$2=function(e,i){return pas.SysUtils.Exception.CreateFmt.call(this,"Cannot cast value %s to type %s",pas.System.VarRecs(18,t.TValue_ToString(e),18,i)),this}})),this.TValue_AsString=function(e){if(!rtl.isString(e))throw t.EInvalidJSCast.$create("Create$2",[e,"String"]);return""+e},this.TValue_AsInteger=function(e){var i;if(0,(i=Math.floor(e))!=e||"number"!=typeof e)throw t.EInvalidJSCast.$create("Create$2",[e,"Integer"]);return i},this.TValue_AsOrdinal=function(e){return t.TValue_AsInteger(e)},this.TValue_AsBoolean=function(e){if(!1,!pas.JS.isBoolean(e))throw t.EInvalidJSCast.$create("Create$2",[e,"Boolean"]);return!(0==e)},this.TValue_AsExtended=function(e){if(0,!rtl.isNumber(e))throw t.EInvalidJSCast.$create("Create$2",[e,"Number"]);return rtl.getNumber(e)},this.TValue_AsDouble=function(e){return t.TValue_AsExtended(e)},this.TValue_AsBytes=function(t){return t},this.TValue_ToString=function(t){Result=""+t}})),rtl.module("Bcl.Json.Common",["System","Types","JS"],(function(){"use strict";this.JToInt=function(t){return rtl.trunc(t)},this.JToStr=function(t){return""+t},this.JToBool=function(t){return!(0==t)},this.AsJObject=function(t){return t},this.AsJArray=function(t){return t},this.JObjectKeys=function(t){return Object.keys(t)}})),rtl.module("StrUtils",["System","SysUtils","Types"],(function(){"use strict";var t=this,e=t.$impl;this.AnsiStartsStr=function(t,e){return e.length>=t.length&&""!==t&&t===pas.System.Copy(e,1,t.length)},this.AnsiReplaceStr=function(t,e,i){return pas.SysUtils.StringReplace(t,e,i,rtl.createSet(0))},this.IndexStr=function(t,e){var i=0;if(-1,rtl.length(e)-1==-1||rtl.length(e)-1>2147483647)return-1;for(var s=0,n=rtl.length(e)-1;s<=n;s++)if(e[i=s]===t)return i;return-1},this.ReplaceStr=function(e,i,s){return t.AnsiReplaceStr(e,i,s)},this.Soundex=function(t,i){var s="",n="",o="",r=0,a=0;if(s="",o="\0",t.length>0)for(s=pas.System.upcase(t.charAt(0)),r=2,a=t.length;r<=a&&s.length<i;)(n=e.SScore.charAt(t.charCodeAt(r-1)-1)).charCodeAt()in rtl.createSet(48,105,o.charCodeAt())||(s+=n),"i"!==n&&(o=n),r+=1;return(a=s.length)<i&&(s+=pas.System.StringOfChar("0",i-a)),s},this.SoundexSimilar=function(e,i,s){return t.Soundex(e,s)===t.Soundex(i,s)},this.SoundexSimilar$1=function(e,i){return t.SoundexSimilar(e,i,4)},this.SoundexProc=function(e,i){return t.SoundexSimilar$1(e,i)},this.AnsiResemblesProc=null,this.ResemblesProc=null,t.$implcode=function(){e.SScore="00000000000000000000000000000000000000000000000000000000000000000123012i02245501262301i2i20000000123012i02245501262301i2i20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},t.$init=function(){t.AnsiResemblesProc=t.SoundexProc,t.ResemblesProc=t.SoundexProc}}),["JS"]),rtl.module("Generics.Strings",["System"],(function(){"use strict";this.$resourcestrings={SArgumentOutOfRange:{org:"Argument out of range"}}})),rtl.module("Generics.Defaults",["System"],(function(){"use strict";rtl.createInterface(this,"IComparer$G19","{505778ED-F783-4456-9691-32F419CC5E18}",["Compare"],pas.System.IUnknown,"IComparer<System.String>")})),rtl.module("Generics.Collections",["System","Classes","SysUtils","RTLConsts","Types","JS","Generics.Strings","Generics.Defaults"],(function(){"use strict";var t=this;t.$impl;this.TCollectionNotification={0:"cnAdded",cnAdded:0,1:"cnRemoved",cnRemoved:1,2:"cnExtracted",cnExtracted:2},rtl.createClass(this,"EDictionary",pas.SysUtils.Exception,(function(){})),rtl.createClass(this,"TEnumerable$G19",pas.System.TObject,(function(){}),"TEnumerable<System.Longint>"),rtl.createClass(this,"TEnumerator$G21",pas.System.TObject,(function(){}),"TEnumerator<System.String>"),rtl.createClass(this,"TEnumerable$G20",pas.System.TObject,(function(){}),"TEnumerable<System.String>"),rtl.createClass(this,"TCustomList$G10",this.TEnumerable$G20,(function(){this.$init=function(){t.TEnumerable$G20.$init.call(this),this.FOnNotify=null,this.FLength=0,this.FItems=[]},this.$final=function(){this.FOnNotify=void 0,this.FItems=void 0,t.TEnumerable$G20.$final.call(this)},this.GetCapacity=function(){return rtl.length(this.FItems)},this.PrepareAddingItem=function(){var t;return this.FLength===rtl.length(this.FItems)&&this.FItems.push(""),t=this.FLength,this.FLength+=1,t},this.Notify=function(t,e){null!=this.FOnNotify&&this.FOnNotify(this,t,e)}}),"TCustomList<System.String>"),rtl.createClass(this,"TList$G3",this.TCustomList$G10,(function(){this.SetCapacity=function(t){t<this.FLength&&this.SetCount(t),this.FItems=rtl.arraySetLength(this.FItems,"",t)},this.SetCount=function(t){if(t<0)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);t>this.GetCapacity()?this.SetCapacity(t):t<this.FLength&&this.DeleteRange(t,this.FLength-t),this.FLength=t},this.GetItem=function(t){if(t<0||t>=this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);return this.FItems[t]},this.Destroy=function(){this.SetCapacity(0)},this.Add=function(t){var e;return e=this.PrepareAddingItem(),this.FItems[e]=t,this.Notify(t,0),e},this.DeleteRange=function(t,e){var i,s=0;if(0!==e){if(e<0||t<0||t+e>this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);i=this.FItems.splice(t,this.FLength),this.FLength-=e;for(var n=0,o=rtl.length(i)-1;n<=o;n++)s=n,this.Notify(i[s],1)}},this.Clear=function(){this.SetCount(0),this.SetCapacity(0)}}),"TList<System.String>"),rtl.createClass(this,"TEnumerable$G21",pas.System.TObject,(function(){}),"TEnumerable<XData.Model.Types.TXDataPrimitiveType>"),rtl.createClass(this,"TCustomList$G11",this.TEnumerable$G21,(function(){this.$init=function(){t.TEnumerable$G21.$init.call(this),this.FOnNotify=null,this.FLength=0,this.FItems=[]},this.$final=function(){this.FOnNotify=void 0,this.FItems=void 0,t.TEnumerable$G21.$final.call(this)},this.GetCapacity=function(){return rtl.length(this.FItems)},this.PrepareAddingItem=function(){var t;return this.FLength===rtl.length(this.FItems)&&this.FItems.push(null),t=this.FLength,this.FLength+=1,t},this.Notify=function(t,e){null!=this.FOnNotify&&this.FOnNotify(this,t,e)}}),"TCustomList<XData.Model.Types.TXDataPrimitiveType>"),rtl.createClass(this,"TList$G4",this.TCustomList$G11,(function(){this.SetCapacity=function(t){t<this.FLength&&this.SetCount(t),this.FItems=rtl.arraySetLength(this.FItems,null,t)},this.SetCount=function(t){if(t<0)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);t>this.GetCapacity()?this.SetCapacity(t):t<this.FLength&&this.DeleteRange(t,this.FLength-t),this.FLength=t},this.InitializeList=function(){},this.GetItem=function(t){if(t<0||t>=this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);return this.FItems[t]},this.Create$1=function(){return this.InitializeList(),this},this.Destroy=function(){this.SetCapacity(0)},this.Add=function(t){var e;return e=this.PrepareAddingItem(),this.FItems[e]=t,this.Notify(t,0),e},this.DeleteRange=function(t,e){var i,s=0;if(0!==e){if(e<0||t<0||t+e>this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);i=this.FItems.splice(t,this.FLength),this.FLength-=e;for(var n=0,o=rtl.length(i)-1;n<=o;n++)s=n,this.Notify(i[s],1)}}}),"TList<XData.Model.Types.TXDataPrimitiveType>"),rtl.recNewT(this,"TPair$G5",(function(){this.$eq=function(t){return!0},this.$assign=function(t){return this}})),rtl.createClass(this,"TEnumerable$G22",pas.System.TObject,(function(){}),"TEnumerable<Generics.Collections.TPair<System.String,System.TObject>>"),rtl.createClass(this,"TEnumerable$G23",pas.System.TObject,(function(){}),"TEnumerable<System.TObject>"),rtl.createClass(this,"TDictionary$G3",this.TEnumerable$G22,(function(){rtl.createClass(this,"TKeyEnumerator",t.TEnumerator$G21,(function(){this.$init=function(){t.TEnumerator$G21.$init.call(this),this.FIter=null,this.FVal=null},this.$final=function(){this.FIter=void 0,this.FVal=void 0,t.TEnumerator$G21.$final.call(this)},this.GetCurrent=function(){return this.DoGetCurrent()},this.DoGetCurrent=function(){return""+this.FVal.value},this.DoMoveNext=function(){return this.FVal=this.FIter.next(),!this.FVal.done},this.Create$1=function(t){return this.FIter=t,this},this.MoveNext$1=function(){return this.DoMoveNext()}}),"TDictionary<System.String,System.TObject>.TKeyEnumerator"),rtl.createClass(this,"TValueCollection",t.TEnumerable$G23,(function(){}),"TDictionary<System.String,System.TObject>.TValueCollection"),rtl.createClass(this,"TKeyCollection",t.TEnumerable$G20,(function(){this.$init=function(){t.TEnumerable$G20.$init.call(this),this.FMap=null},this.$final=function(){this.FMap=void 0,t.TEnumerable$G20.$final.call(this)},this.Create$1=function(t){return this.FMap=t.FMap,this},this.GetEnumerator$1=function(){return t.TDictionary$G3.TKeyEnumerator.$create("Create$1",[this.FMap.keys()])}}),"TDictionary<System.String,System.TObject>.TKeyCollection"),this.$init=function(){t.TEnumerable$G22.$init.call(this),this.FMap=null,this.FComparer=null,this.FOnKeyNotify=null,this.FOnValueNotify=null,this.FKeyCollection=null,this.FValueCollection=null},this.$final=function(){this.FMap=void 0,rtl.setIntfP(this,"FComparer",null),this.FOnKeyNotify=void 0,this.FOnValueNotify=void 0,this.FKeyCollection=void 0,this.FValueCollection=void 0,t.TEnumerable$G22.$final.call(this)},this.GetEffectiveKey=function(t){var e="",i=null,s=null;if(null==this.FComparer)return t;for(s=(i=this.FMap.keys()).next();!s.done;){if(e=""+s.value,0===this.FComparer.Compare(e,t))return e;s=i.next()}return e=t},this.GetItem=function(e){var i;if(i=this.FMap.get(this.GetEffectiveKey(e)),pas.JS.isUndefined(i))throw t.EDictionary.$create("Create$1",[rtl.getResStr(t,"SErrDictKeyNotFound")]);return rtl.getObject(i)},this.DoAdd=function(t,e){this.FMap.set(this.GetEffectiveKey(t),e),this.KeyNotify(t,0),this.ValueNotify(e,0)},this.CanClearMap=function(){return null===this.FOnKeyNotify&&null===this.FOnValueNotify},this.PairNotify=function(t,e,i){this.KeyNotify(t,i),this.ValueNotify(e,i)},this.KeyNotify=function(t,e){null!=this.FOnKeyNotify&&this.FOnKeyNotify(this,t,e)},this.ValueNotify=function(t,e){null!=this.FOnValueNotify&&this.FOnValueNotify(this,t,e)},this.Destroy=function(){pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FKeyCollection},set:function(t){this.p.FKeyCollection=t}}),pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FValueCollection},set:function(t){this.p.FValueCollection=t}}),this.Clear(),this.FMap=null,pas.System.TObject.Destroy.call(this)},this.Add=function(e,i){if(this.FMap.has(this.GetEffectiveKey(e)))throw t.EDictionary.$create("Create$1",[rtl.getResStr(t,"SErrDictDuplicateKey")]);this.DoAdd(e,i)},this.Clear=function(){var t=null,e=null,i=[],s="",n=null;if(this.CanClearMap())this.FMap.clear();else{t=this.FMap.entries();do{(e=t.next()).done||(s=""+(i=e.value)[0],n=rtl.getObject(i[1]),this.FMap.delete(s),this.PairNotify(s,n,1))}while(!e.done)}},this.GetKeys=function(){return null===this.FKeyCollection&&(this.FKeyCollection=this.TKeyCollection.$create("Create$1",[this])),this.FKeyCollection}}),"TDictionary<System.String,System.TObject>"),rtl.createClass(this,"TCustomList$G12",this.TEnumerable$G23,(function(){this.$init=function(){t.TEnumerable$G23.$init.call(this),this.FOnNotify=null,this.FLength=0,this.FItems=[]},this.$final=function(){this.FOnNotify=void 0,this.FItems=void 0,t.TEnumerable$G23.$final.call(this)},this.GetCapacity=function(){return rtl.length(this.FItems)},this.PrepareAddingItem=function(){var t;return this.FLength===rtl.length(this.FItems)&&this.FItems.push(null),t=this.FLength,this.FLength+=1,t},this.Notify=function(t,e){null!=this.FOnNotify&&this.FOnNotify(this,t,e)}}),"TCustomList<System.TObject>"),rtl.createClass(this,"TList$G5",this.TCustomList$G12,(function(){this.SetCapacity=function(t){t<this.FLength&&this.SetCount(t),this.FItems=rtl.arraySetLength(this.FItems,null,t)},this.SetCount=function(t){if(t<0)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);t>this.GetCapacity()?this.SetCapacity(t):t<this.FLength&&this.DeleteRange(t,this.FLength-t),this.FLength=t},this.GetItem=function(t){if(t<0||t>=this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);return this.FItems[t]},this.Destroy=function(){this.SetCapacity(0)},this.Add=function(t){var e;return e=this.PrepareAddingItem(),this.FItems[e]=t,this.Notify(t,0),e},this.DeleteRange=function(t,e){var i,s=0;if(0!==e){if(e<0||t<0||t+e>this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);i=this.FItems.splice(t,this.FLength),this.FLength-=e;for(var n=0,o=rtl.length(i)-1;n<=o;n++)s=n,this.Notify(i[s],1)}},this.Clear=function(){this.SetCount(0),this.SetCapacity(0)}}),"TList<System.TObject>"),rtl.createClass(this,"TObjectList$G1",this.TList$G5,(function(){this.$init=function(){t.TList$G5.$init.call(this),this.FObjectsOwner=!1},this.Notify=function(e,i){t.TCustomList$G12.Notify.call(this,e,i),this.FObjectsOwner&&1===i&&(e=rtl.freeLoc(e))}}),"TObjectList<System.TObject>"),rtl.createClass(this,"TCustomList$G13",this.TEnumerable$G19,(function(){this.$init=function(){t.TEnumerable$G19.$init.call(this),this.FOnNotify=null,this.FLength=0,this.FItems=[]},this.$final=function(){this.FOnNotify=void 0,this.FItems=void 0,t.TEnumerable$G19.$final.call(this)},this.GetCapacity=function(){return rtl.length(this.FItems)},this.PrepareAddingItem=function(){var t;return this.FLength===rtl.length(this.FItems)&&this.FItems.push(-2147483648),t=this.FLength,this.FLength+=1,t},this.Notify=function(t,e){null!=this.FOnNotify&&this.FOnNotify(this,t,e)}}),"TCustomList<System.Longint>"),rtl.createClass(this,"TList$G6",this.TCustomList$G13,(function(){this.SetCapacity=function(t){t<this.FLength&&this.SetCount(t),this.FItems=rtl.arraySetLength(this.FItems,0,t)},this.SetCount=function(t){if(t<0)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);t>this.GetCapacity()?this.SetCapacity(t):t<this.FLength&&this.DeleteRange(t,this.FLength-t),this.FLength=t},this.GetItem=function(t){if(t<0||t>=this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);return this.FItems[t]},this.Destroy=function(){this.SetCapacity(0)},this.Add=function(t){var e;return e=this.PrepareAddingItem(),this.FItems[e]=t,this.Notify(t,0),e},this.DeleteRange=function(t,e){var i,s=0;if(0!==e){if(e<0||t<0||t+e>this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);i=this.FItems.splice(t,this.FLength),this.FLength-=e;for(var n=0,o=rtl.length(i)-1;n<=o;n++)s=n,this.Notify(i[s],1)}},this.Clear=function(){this.SetCount(0),this.SetCapacity(0)}}),"TList<System.Longint>"),rtl.createClass(this,"TEnumerable$G24",pas.System.TObject,(function(){}),"TEnumerable<System.Double>"),rtl.createClass(this,"TCustomList$G14",this.TEnumerable$G24,(function(){this.$init=function(){t.TEnumerable$G24.$init.call(this),this.FOnNotify=null,this.FLength=0,this.FItems=[]},this.$final=function(){this.FOnNotify=void 0,this.FItems=void 0,t.TEnumerable$G24.$final.call(this)},this.GetCapacity=function(){return rtl.length(this.FItems)},this.PrepareAddingItem=function(){var t;return this.FLength===rtl.length(this.FItems)&&this.FItems.push(0),t=this.FLength,this.FLength+=1,t},this.Notify=function(t,e){null!=this.FOnNotify&&this.FOnNotify(this,t,e)}}),"TCustomList<System.Double>"),rtl.createClass(this,"TList$G7",this.TCustomList$G14,(function(){this.SetCapacity=function(t){t<this.FLength&&this.SetCount(t),this.FItems=rtl.arraySetLength(this.FItems,0,t)},this.SetCount=function(t){if(t<0)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);t>this.GetCapacity()?this.SetCapacity(t):t<this.FLength&&this.DeleteRange(t,this.FLength-t),this.FLength=t},this.GetItem=function(t){if(t<0||t>=this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);return this.FItems[t]},this.Destroy=function(){this.SetCapacity(0)},this.Add=function(t){var e;return e=this.PrepareAddingItem(),this.FItems[e]=t,this.Notify(t,0),e},this.DeleteRange=function(t,e){var i,s=0;if(0!==e){if(e<0||t<0||t+e>this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);i=this.FItems.splice(t,this.FLength),this.FLength-=e;for(var n=0,o=rtl.length(i)-1;n<=o;n++)s=n,this.Notify(i[s],1)}},this.Clear=function(){this.SetCount(0),this.SetCapacity(0)}}),"TList<System.Double>"),rtl.createClass(this,"TEnumerable$G25",pas.System.TObject,(function(){}),"TEnumerable<WEBLib.TMSFNCPersistence.TTMSFNCObjectReference>"),rtl.createClass(this,"TCustomList$G15",this.TEnumerable$G25,(function(){this.$init=function(){t.TEnumerable$G25.$init.call(this),this.FOnNotify=null,this.FLength=0,this.FItems=[]},this.$final=function(){this.FOnNotify=void 0,this.FItems=void 0,t.TEnumerable$G25.$final.call(this)},this.GetCapacity=function(){return rtl.length(this.FItems)},this.PrepareAddingItem=function(){var t;return this.FLength===rtl.length(this.FItems)&&this.FItems.push(null),t=this.FLength,this.FLength+=1,t},this.Notify=function(t,e){null!=this.FOnNotify&&this.FOnNotify(this,t,e)}}),"TCustomList<WEBLib.TMSFNCPersistence.TTMSFNCObjectReference>"),rtl.createClass(this,"TList$G8",this.TCustomList$G15,(function(){this.SetCapacity=function(t){t<this.FLength&&this.SetCount(t),this.FItems=rtl.arraySetLength(this.FItems,null,t)},this.SetCount=function(t){if(t<0)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);t>this.GetCapacity()?this.SetCapacity(t):t<this.FLength&&this.DeleteRange(t,this.FLength-t),this.FLength=t},this.InitializeList=function(){},this.Create$1=function(){return this.InitializeList(),this},this.Destroy=function(){this.SetCapacity(0)},this.Add=function(t){var e;return e=this.PrepareAddingItem(),this.FItems[e]=t,this.Notify(t,0),e},this.DeleteRange=function(t,e){var i,s=0;if(0!==e){if(e<0||t<0||t+e>this.FLength)throw pas.SysUtils.EArgumentOutOfRangeException.$create("Create$1",[rtl.getResStr(pas["Generics.Strings"],"SArgumentOutOfRange")]);i=this.FItems.splice(t,this.FLength),this.FLength-=e;for(var n=0,o=rtl.length(i)-1;n<=o;n++)s=n,this.Notify(i[s],1)}}}),"TList<WEBLib.TMSFNCPersistence.TTMSFNCObjectReference>"),rtl.createClass(this,"TObjectList$G2",this.TList$G8,(function(){this.$init=function(){t.TList$G8.$init.call(this),this.FObjectsOwner=!1},this.Notify=function(e,i){t.TCustomList$G15.Notify.call(this,e,i),this.FObjectsOwner&&1===i&&(e=rtl.freeLoc(e))},this.Create$4=function(e){return t.TList$G8.Create$1.call(this),this.FObjectsOwner=e,this}}),"TObjectList<WEBLib.TMSFNCPersistence.TTMSFNCObjectReference>"),t.$implcode=function(){t.$resourcestrings={SErrDictKeyNotFound:{org:"Key value not found"},SErrDictDuplicateKey:{org:"Duplicate key value"}}}}),[]),rtl.module("Bcl.Json.Attributes",["System","Generics.Collections","Classes"],(function(){"use strict";this.TInclusionMode={0:"Always",Always:0,1:"NonDefault",NonDefault:1},rtl.createClass(this,"JsonIncludeAttribute",pas.System.TCustomAttribute,(function(){this.$init=function(){pas.System.TCustomAttribute.$init.call(this),this.FInclusionMode=0},this.Create$1=function(t){return this.FInclusionMode=t,this}}))})),rtl.module("Bcl.Collections.Common",["System","Types","Bcl.Json.Common","JS","SysUtils"],(function(){"use strict";rtl.createClass(this,"TStringMap",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FMap=null},this.$final=function(){this.FMap=void 0,pas.System.TObject.$final.call(this)},this.GetItem=function(t){return rtl.getObject(this.FMap[t])},this.GetKeys=function(){return Object.keys(this.FMap)},this.Create$1=function(t){return this.FMap=new Object,this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.Clear=function(){for(var t=0,e=rtl.length(this.GetKeys())-1;e>=0;e--)t=e,this.Remove(this.GetKeys()[t])},this.Add=function(t,e){this.FMap[t]=e},this.AddOrSetValue=function(t,e){this.FMap[t]=e},this.ContainsKey=function(t){return this.FMap.hasOwnProperty(t)},this.Remove=function(t){delete this.FMap[t]}}))})),rtl.module("Bcl.SysUtils",["System"],(function(){"use strict";this.NumberToStr=function(t){return t.toString()}}),["JS"]),rtl.module("Bcl.Utils",["System","SysUtils","Classes","JS","WEBLib.Utils"],(function(){"use strict";var t=this,e=t.$impl;this.TTimeZoneMode={0:"Error",Error:0,1:"Ignore",Ignore:1,2:"AsUTC",AsUTC:2,3:"AsLocal",AsLocal:3},rtl.createClass(this,"TBclUtils",pas.System.TObject,(function(){this.DateTimeToISO=function(t,e){var i="",s=0,n=0,o=0,r=0,a=0,l=0,h=0;return e||t!==pas.DateUtils.DateOf(t)?(pas.DateUtils.DecodeDateTime(t,{get:function(){return s},set:function(t){s=t}},{get:function(){return n},set:function(t){n=t}},{get:function(){return o},set:function(t){o=t}},{get:function(){return r},set:function(t){r=t}},{get:function(){return a},set:function(t){a=t}},{get:function(){return l},set:function(t){l=t}},{get:function(){return h},set:function(t){h=t}}),i=e||0!==pas.DateUtils.DateOf(t)?pas.SysUtils.Format("%sT%s",pas.System.VarRecs(18,this.DateToISO(t),18,this.TimeToISO(t))):pas.SysUtils.Format("%s",pas.System.VarRecs(18,this.TimeToISO(t)))):i=this.DateToISO(t),i},this.TimeToISO=function(e){var i=0,s=0,n=0,o=0,r=0,a=0,l=0;return pas.DateUtils.DecodeDateTime(e,{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}},{get:function(){return n},set:function(t){n=t}},{get:function(){return o},set:function(t){o=t}},{get:function(){return r},set:function(t){r=t}},{get:function(){return a},set:function(t){a=t}},{get:function(){return l},set:function(t){l=t}}),0!==l||t.FullISOTimeNotation?pas.SysUtils.Format("%.2d:%.2d:%.2d.%.3d",pas.System.VarRecs(0,o,0,r,0,a,0,l)):0!==a?pas.SysUtils.Format("%.2d:%.2d:%.2d",pas.System.VarRecs(0,o,0,r,0,a)):pas.SysUtils.Format("%.2d:%.2d",pas.System.VarRecs(0,o,0,r))},this.DateToISO=function(t){var e=0,i=0,s=0;return pas.SysUtils.DecodeDate(t,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}},{get:function(){return s},set:function(t){s=t}}),pas.SysUtils.Format("%.4d-%.2d-%.2d",pas.System.VarRecs(0,e,0,i,0,s))};var i=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];this.EncodeBase64=function(t){return this.InternalEncodeBase64(t,i.slice(0),!0)},this.CombineUrlFast=function(t,e){var i="";return(i=t).length>0&&"/"!==i.charAt(i.length-1)&&(i+="/"),i+=e},this.InternalEncodeBase64=function(t,i,s){var n="";function o(t,e,s){n=rtl.setCharAt(n,s+0-1,i[t.a[0]>>>2]),n=rtl.setCharAt(n,s+1-1,i[63&(t.a[0]<<4|t.a[1]>>>4)]),n=e<2?rtl.setCharAt(n,s+2-1,"="):rtl.setCharAt(n,s+2-1,i[63&(t.a[1]<<2|t.a[2]>>>6)]),n=e<3?rtl.setCharAt(n,s+3-1,"="):rtl.setCharAt(n,s+3-1,i[63&t.a[2]])}var r=0,a=0,l=0,h=e.TPacket.$new();n="",r=4*rtl.trunc(rtl.length(t)/3),rtl.length(t)%3>0&&(r+=4),n=rtl.strSetLength(n,r),l=1;for(var d=1,u=rtl.trunc(rtl.length(t)/3);d<=u;d++)r=d,h.a[0]=t[3*(r-1)],h.a[1]=t[3*(r-1)+1],h.a[2]=t[3*(r-1)+2],h.a[3]=0,o(h,3,l),l+=4;a=0,h.a[0]=0,h.a[1]=0,h.a[2]=0,h.a[3]=0;for(var c=rtl.length(t)-rtl.length(t)%3+1,p=rtl.length(t);c<=p;c++)r=c,h.a[a]=t[r-1],a+=1,r===rtl.length(t)&&o(h,rtl.length(t)%3,l);return!s&&n.length>=2&&("="===n.charAt(n.length-1-1)?n=rtl.strSetLength(n,n.length-2):"="===n.charAt(n.length-1)&&(n=rtl.strSetLength(n,n.length-1))),n},this.PercentEncode=function(t){return encodeURIComponent(t)}})),this.DefaultTimeZoneMode=0,this.FullISOTimeNotation=!1,t.$implcode=function(){rtl.recNewT(e,"TPacket",(function(){this.$new=function(){var t=Object.create(this);return t.a=rtl.arraySetLength(null,0,4),t},this.$eq=function(t){return rtl.arrayEq(this.a,t.a)},this.$assign=function(t){return this.a=t.a.slice(0),this}}))},t.$init=function(){t.DefaultTimeZoneMode=0,t.FullISOTimeNotation=!1}}),["DateUtils"]),rtl.module("XData.Model.Types",["System","Generics.Collections","SysUtils","Bcl.SysUtils","Bcl.Collections.Common","XData.Model.Classes"],(function(){"use strict";var t=this;rtl.createClass(this,"TXDataPrimitiveType",pas["XData.Model.Classes"].TXDataScalarType,(function(){this.Destroy=function(){pas["XData.Model.Classes"].TXDataScalarType.Destroy.call(this)}})),rtl.createClass(this,"TXDataBinaryType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Binary","Binary"},this.GetTypeKind=function(){return 12,12},this.ValueToLiteral=function(t,e){return e.set(pas["Bcl.Utils"].TBclUtils.EncodeBase64(t)),!0,!0}})),rtl.createClass(this,"TXDataBooleanType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Boolean","Boolean"},this.GetTypeKind=function(){return 5,5},this.ValueToLiteral=function(t,e){return t?e.set("true"):e.set("false"),!0,!0}})),rtl.createClass(this,"TXDataByteType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Byte","Byte"},this.GetTypeKind=function(){return 15,15}})),rtl.createClass(this,"TXDataDateTimeType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"DateTime","DateTime"},this.GetTypeKind=function(){return 6,6},this.ValueToLiteral=function(t,e){return!0,e.set(pas["Bcl.Utils"].TBclUtils.DateTimeToISO(t,!1)),!0}})),rtl.createClass(this,"TXDataDateType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Date","Date"},this.GetTypeKind=function(){return 7,7},this.ValueToLiteral=function(t,e){return!0,e.set(pas["Bcl.Utils"].TBclUtils.DateToISO(t)),!0}})),rtl.createClass(this,"TXDataCurrencyType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Currency","Currency"},this.GetTypeKind=function(){return 9,9}})),rtl.createClass(this,"TXDataDoubleType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Double","Double"},this.GetTypeKind=function(){return 4,4},this.ValueToLiteral=function(t,e){return e.set(pas["Bcl.SysUtils"].NumberToStr(t)),!0,!0}})),rtl.createClass(this,"TXDataGuidType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Guid","Guid"},this.GetTypeKind=function(){return 10,10},this.ValueToLiteral=function(t,e){var i=!1;i=!0;var s=t.length;return 36===s?e.set(t):38===s?e.set(pas.System.Copy(t,2,36)):i=!1,i}})),rtl.createClass(this,"TXDataVariantType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Variant","Variant"},this.GetTypeKind=function(){return 11,11},this.ValueToLiteral=function(e,i){var s=!1,n=null;n=t.TXDataPrimitiveTypes.Instance(),s=!0;var o=pas.JS.GetValueType(e);return 0===o?i.set("null"):1===o?s=n.FBooleanType.ValueToLiteral(!(0==e),i):2===o?s=n.FInt32Type.ValueToLiteral(rtl.trunc(e),i):3===o?s=n.FDoubleType.ValueToLiteral(rtl.getNumber(e),i):4===o?(s=n.FStringType.ValueToLiteral(""+e,i),i.set(t.LiteralQuote(i.get()))):s=!1,s}})),rtl.createClass(this,"TXDataInt16Type",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Int16","Int16"},this.GetTypeKind=function(){return 14,14},this.ValueToLiteral=function(t,e){return e.set(pas.SysUtils.IntToStr(t)),!0,!0}})),rtl.createClass(this,"TXDataInt32Type",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Int32","Int32"},this.GetTypeKind=function(){return 2,2},this.ValueToLiteral=function(t,e){return e.set(pas.SysUtils.IntToStr(t)),!0,!0}})),rtl.createClass(this,"TXDataInt64Type",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Int64","Int64"},this.GetTypeKind=function(){return 3,3}})),rtl.createClass(this,"TXDataSByteType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"SByte","SByte"},this.GetTypeKind=function(){return 16,16}})),rtl.createClass(this,"TXDataStringType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"String","String"},this.GetTypeKind=function(){return 1,1},this.ValueToLiteral=function(t,e){return e.set(t),!0,!0}})),rtl.createClass(this,"TXDataTimeType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Time","Time"},this.GetTypeKind=function(){return 8,8},this.ValueToLiteral=function(t,e){return!0,e.set(pas["Bcl.Utils"].TBclUtils.TimeToISO(t)),!0}})),rtl.createClass(this,"TXDataStreamType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Stream","Stream"},this.GetTypeKind=function(){return 13,13}})),rtl.createClass(this,"TXDataRawType",this.TXDataPrimitiveType,(function(){this.GetName=function(){return"Raw","Raw"},this.GetTypeKind=function(){return 21,21}})),rtl.createClass(this,"TXDataPrimitiveTypes",pas.System.TObject,(function(){this.FInstance=null,this.$init=function(){pas.System.TObject.$init.call(this),this.FTypes=null,this.FTypeList=null,this.FBinaryType=null,this.FBooleanType=null,this.FByteType=null,this.FDateTimeType=null,this.FDateType=null,this.FDoubleType=null,this.FInt16Type=null,this.FInt32Type=null,this.FInt64Type=null,this.FSByteType=null,this.FStringType=null,this.FTimeType=null,this.FStreamType=null,this.FRawType=null,this.FGuidType=null,this.FCurrencyType=null,this.FVariantType=null},this.$final=function(){this.FTypes=void 0,this.FTypeList=void 0,this.FBinaryType=void 0,this.FBooleanType=void 0,this.FByteType=void 0,this.FDateTimeType=void 0,this.FDateType=void 0,this.FDoubleType=void 0,this.FInt16Type=void 0,this.FInt32Type=void 0,this.FInt64Type=void 0,this.FSByteType=void 0,this.FStringType=void 0,this.FTimeType=void 0,this.FStreamType=void 0,this.FRawType=void 0,this.FGuidType=void 0,this.FCurrencyType=void 0,this.FVariantType=void 0,pas.System.TObject.$final.call(this)},this.PrivateCreate=function(){this.FTypes=pas["Bcl.Collections.Common"].TStringMap.$create("Create$1",[!1]),this.FTypeList=pas["Generics.Collections"].TList$G4.$create("Create$1"),this.FBinaryType=t.TXDataBinaryType.$create("Create"),this.FBooleanType=t.TXDataBooleanType.$create("Create"),this.FByteType=t.TXDataByteType.$create("Create"),this.FDateTimeType=t.TXDataDateTimeType.$create("Create"),this.FDateType=t.TXDataDateType.$create("Create"),this.FDoubleType=t.TXDataDoubleType.$create("Create"),this.FInt16Type=t.TXDataInt16Type.$create("Create"),this.FInt32Type=t.TXDataInt32Type.$create("Create"),this.FInt64Type=t.TXDataInt64Type.$create("Create"),this.FSByteType=t.TXDataSByteType.$create("Create"),this.FStringType=t.TXDataStringType.$create("Create"),this.FTimeType=t.TXDataTimeType.$create("Create"),this.FStreamType=t.TXDataStreamType.$create("Create"),this.FRawType=t.TXDataRawType.$create("Create"),this.FGuidType=t.TXDataGuidType.$create("Create"),this.FCurrencyType=t.TXDataCurrencyType.$create("Create"),this.FVariantType=t.TXDataVariantType.$create("Create"),this.AddType(pas.SysUtils.LowerCase(this.FBinaryType.GetName()),this.FBinaryType),this.AddType(pas.SysUtils.LowerCase(this.FBooleanType.GetName()),this.FBooleanType),this.AddType(pas.SysUtils.LowerCase(this.FByteType.GetName()),this.FByteType),this.AddType(pas.SysUtils.LowerCase(this.FDateTimeType.GetName()),this.FDateTimeType),this.AddType(pas.SysUtils.LowerCase(this.FDateType.GetName()),this.FDateType),this.AddType(pas.SysUtils.LowerCase(this.FDoubleType.GetName()),this.FDoubleType),this.AddType(pas.SysUtils.LowerCase(this.FInt16Type.GetName()),this.FInt16Type),this.AddType(pas.SysUtils.LowerCase(this.FInt32Type.GetName()),this.FInt32Type),this.AddType(pas.SysUtils.LowerCase(this.FInt64Type.GetName()),this.FInt64Type),this.AddType(pas.SysUtils.LowerCase(this.FSByteType.GetName()),this.FSByteType),this.AddType(pas.SysUtils.LowerCase(this.FStringType.GetName()),this.FStringType),this.AddType(pas.SysUtils.LowerCase(this.FTimeType.GetName()),this.FTimeType),this.AddType(pas.SysUtils.LowerCase(this.FStreamType.GetName()),this.FStreamType),this.AddType(pas.SysUtils.LowerCase(this.FRawType.GetName()),this.FRawType),this.AddType(pas.SysUtils.LowerCase(this.FGuidType.GetName()),this.FGuidType),this.AddType(pas.SysUtils.LowerCase(this.FCurrencyType.GetName()),this.FCurrencyType),this.AddType(pas.SysUtils.LowerCase(this.FVariantType.GetName()),this.FVariantType)},this.PrivateDestroy=function(){rtl.free(this,"FTypeList"),rtl.free(this,"FTypes"),rtl.free(this,"FVariantType"),rtl.free(this,"FCurrencyType"),rtl.free(this,"FGuidType"),rtl.free(this,"FBinaryType"),rtl.free(this,"FBooleanType"),rtl.free(this,"FByteType"),rtl.free(this,"FDateTimeType"),rtl.free(this,"FDateType"),rtl.free(this,"FDoubleType"),rtl.free(this,"FInt16Type"),rtl.free(this,"FInt32Type"),rtl.free(this,"FInt64Type"),rtl.free(this,"FSByteType"),rtl.free(this,"FStringType"),rtl.free(this,"FTimeType"),rtl.free(this,"FStreamType"),rtl.free(this,"FRawType")},this.AddType=function(t,e){this.FTypes.Add(t,e),this.FTypeList.Add(e)},this.GetTypes=function(){return this.FTypeList},this.Instance=function(){return null===this.FInstance&&(t.TXDataPrimitiveTypes.FInstance=t.TXDataPrimitiveTypes.$create("Create"),this.FInstance.PrivateCreate()),this.FInstance},this.Find=function(t){return this.FTypes.ContainsKey(pas.SysUtils.LowerCase(t))?this.FTypes.GetItem(pas.SysUtils.LowerCase(t)):null},this.Destroy=function(){this.PrivateDestroy(),pas.System.TObject.Destroy.call(this)}})),this.LiteralQuote=function(t){return"'"+pas.SysUtils.StringReplace(t,"'","''",rtl.createSet(0))+"'"}}),["JS","Bcl.Utils"]),rtl.module("XData.Types.Converters",["System","SysUtils","Bcl.Rtti.Common","JS","XData.Model.Classes"],(function(){"use strict";var t=this,e=t.$impl;rtl.createClass(this,"TXDataTypeBaseConverter",pas["XData.Model.Classes"].TXDataTypeConverter,(function(){})),rtl.createClass(this,"TXDataInt32Converter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){return pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FInt32Type.ValueToLiteral(pas["Bcl.Rtti.Common"].TValue_AsInteger(t),e)}})),rtl.createClass(this,"TXDataInt16Converter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){return pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FInt16Type.ValueToLiteral(pas["Bcl.Rtti.Common"].TValue_AsInteger(t),e)}})),rtl.createClass(this,"TXDataBooleanConverter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){return pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FBooleanType.ValueToLiteral(pas["Bcl.Rtti.Common"].TValue_AsBoolean(t),e)}})),rtl.createClass(this,"TXDataDoubleConverter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){return pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FDoubleType.ValueToLiteral(pas["Bcl.Rtti.Common"].TValue_AsExtended(t),e)}})),rtl.createClass(this,"TXDataDateTimeConverter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){var s=!1;return rtl.isString(t)?(s=!0,e.set(""+t)):s=pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FDateTimeType.ValueToLiteral(pas["Bcl.Rtti.Common"].TValue_AsDouble(t),e),s}})),rtl.createClass(this,"TXDataDateConverter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){var s=!1;return rtl.isString(t)?(s=!0,e.set(""+t)):s=pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FDateType.ValueToLiteral(pas["Bcl.Rtti.Common"].TValue_AsDouble(t),e),s}})),rtl.createClass(this,"TXDataTimeConverter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){var s=!1;return rtl.isString(t)?(s=!0,e.set(""+t)):s=pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FTimeType.ValueToLiteral(pas["Bcl.Rtti.Common"].TValue_AsDouble(t),e),s}})),rtl.createClass(this,"TXDataBinaryConverter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){var s,n;return n=pas["Bcl.Rtti.Common"].TValue_AsBytes(t),s=pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FBinaryType.ValueToLiteral(rtl.arrayRef(n),e),e.set(pas["XData.Model.Types"].LiteralQuote(e.get())),s}})),rtl.createClass(this,"TXDataStringConverter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){return pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FStringType.ValueToLiteral(pas["XData.Model.Types"].LiteralQuote(pas["Bcl.Rtti.Common"].TValue_AsString(t)),e)}})),rtl.createClass(this,"TXDataGuidConverter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){return pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FGuidType.ValueToLiteral(pas["Bcl.Rtti.Common"].TValue_AsString(t),e)}})),rtl.createClass(this,"TXDataVariantConverter",this.TXDataTypeBaseConverter,(function(){this.TryValueToUrl=function(t,e,i){return pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FVariantType.ValueToLiteral(t,e)}})),rtl.createClass(this,"TXDataEnumConverter",pas["XData.Model.Classes"].TXDataTypeConverter,(function(){this.$init=function(){pas["XData.Model.Classes"].TXDataTypeConverter.$init.call(this),this.FEnumType=null},this.$final=function(){this.FEnumType=void 0,pas["XData.Model.Classes"].TXDataTypeConverter.$final.call(this)},this.TryValueToUrl=function(t,e,i){var s,n=!1,o=0;s=pas["Bcl.Rtti.Common"].TValue_AsOrdinal(t),n=!1;for(var r=0,a=this.FEnumType.FMembers.GetCount()-1;r<=a;r++)if(o=r,s===this.FEnumType.FMembers.GetItem$1(o).FValue)return n=pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().FStringType.ValueToLiteral(this.FEnumType.FMembers.GetItem$1(o).FName,e);return n},this.Create$1=function(t){return this.FEnumType=t,this}})),t.$implcode=function(){e.AddDefaultUrlConverters=function(){var e=null;(e=pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance()).FInt32Type.FUrlConverter=t.TXDataInt32Converter.$create("Create"),e.FInt16Type.FUrlConverter=t.TXDataInt16Converter.$create("Create"),e.FInt64Type.FUrlConverter=t.TXDataInt32Converter.$create("Create"),e.FBooleanType.FUrlConverter=t.TXDataBooleanConverter.$create("Create"),e.FDoubleType.FUrlConverter=t.TXDataDoubleConverter.$create("Create"),e.FCurrencyType.FUrlConverter=t.TXDataDoubleConverter.$create("Create"),e.FDateTimeType.FUrlConverter=t.TXDataDateTimeConverter.$create("Create"),e.FDateType.FUrlConverter=t.TXDataDateConverter.$create("Create"),e.FTimeType.FUrlConverter=t.TXDataTimeConverter.$create("Create"),e.FBinaryType.FUrlConverter=t.TXDataBinaryConverter.$create("Create"),e.FStreamType.FUrlConverter=t.TXDataBinaryConverter.$create("Create"),e.FStringType.FUrlConverter=t.TXDataStringConverter.$create("Create"),e.FGuidType.FUrlConverter=t.TXDataGuidConverter.$create("Create"),e.FVariantType.FUrlConverter=t.TXDataVariantConverter.$create("Create")}},t.$init=function(){e.AddDefaultUrlConverters()}}),["XData.Model.Types"]),rtl.module("XData.Utils",["System","SysUtils"],(function(){"use strict";rtl.createClass(this,"TXDataUtils",pas.System.TObject,(function(){this.GetNameAndKey=function(t,e,i){var s,n,o,r;return n=pas.System.Pos("(",t),r=(o=t.length)-n-1,(s=n>1&&o>=4&&")"===t.charAt(o-1)&&r>0)&&(e.set(pas.System.Copy(t,1,n-1)),i.set(pas.System.Copy(t,n+1,r))),s},this.CombineUrlFast=function(t,e){var i="";return(i=t).length>0&&"/"!==i.charAt(i.length-1)&&(i+="/"),i+=e}}))})),rtl.module("XData.Model.Classes",["System","Classes","SysUtils","Types","StrUtils","TypInfo","contnrs","Bcl.Json.Attributes","Bcl.Collections.Common","Bcl.Rtti.Common"],(function(){"use strict";var t=this,e=t.$impl;this.$rtti.$Class("TXDataEntityType"),this.$rtti.$Class("TXDataInstanceType"),this.TXTypeKind={0:"xtUndefined",xtUndefined:0,1:"xtText",xtText:1,2:"xtInt32",xtInt32:2,3:"xtInt64",xtInt64:3,4:"xtDouble",xtDouble:4,5:"xtBoolean",xtBoolean:5,6:"xtDateTime",xtDateTime:6,7:"xtDate",xtDate:7,8:"xtTime",xtTime:8,9:"xtCurrency",xtCurrency:9,10:"xtGuid",xtGuid:10,11:"xtVariant",xtVariant:11,12:"xtBinary",xtBinary:12,13:"xtStream",xtStream:13,14:"xtInt16",xtInt16:14,15:"xtByte",xtByte:15,16:"xtSByte",xtSByte:16,17:"xtEntity",xtEntity:17,18:"xtEntityCollection",xtEntityCollection:18,19:"xtEnum",xtEnum:19,20:"xtScalarCollection",xtScalarCollection:20,21:"xtRaw",xtRaw:21,22:"xtInstance",xtInstance:22,23:"xtInstanceCollection",xtInstanceCollection:23},this.$rtti.$Class("TXDataSchema"),this.$rtti.$Class("TXDataModel"),rtl.createClass(this,"TXDataModelObject",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FDescription="",this.FParent=null},this.$final=function(){this.FParent=void 0,pas.System.TObject.$final.call(this)},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataOwnedList",pas.contnrs.TObjectList,(function(){this.$init=function(){pas.contnrs.TObjectList.$init.call(this),this.FOwner=null},this.$final=function(){this.FOwner=void 0,pas.contnrs.TObjectList.$final.call(this)},this.Notify=function(t,e){null!==this.FOwner&&(rtl.getObject(t).FParent=0===e?this.FOwner:null,pas.contnrs.TObjectList.Notify.apply(this,arguments))},this.Create$4=function(t){return pas.contnrs.TObjectList.Create$3.call(this,null!==t),this.FOwner=t,this},this.Create$5=function(){return this.Create$4(null),this}})),rtl.createClass(this,"TXDataType",this.TXDataModelObject,(function(){this.$init=function(){t.TXDataModelObject.$init.call(this),this.FName="",this.FUrlConverter=null},this.$final=function(){this.FUrlConverter=void 0,t.TXDataModelObject.$final.call(this)},this.GetName=function(){return this.FName},this.GetTypeKind=function(){return 0,0}})),rtl.createClass(this,"TXDataScalarType",this.TXDataType,(function(){this.$init=function(){t.TXDataType.$init.call(this),this.FCollection=null},this.$final=function(){this.FCollection=void 0,t.TXDataType.$final.call(this)},this.GetCollection=function(){return null===this.FCollection&&(this.FCollection=t.TXDataScalarCollectionType.$create("Create"),this.FCollection.FItemType=this),this.FCollection},this.Destroy=function(){rtl.free(this,"FCollection"),t.TXDataModelObject.Destroy.call(this)}})),rtl.createClass(this,"TXDataEnumMember",this.TXDataModelObject,(function(){this.$init=function(){t.TXDataModelObject.$init.call(this),this.FName="",this.FValue=0}})),rtl.createClass(this,"TXDataEnumMemberList",pas.contnrs.TObjectList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataEnumType",this.TXDataScalarType,(function(){this.$init=function(){t.TXDataScalarType.$init.call(this),this.FMembers=null},this.$final=function(){this.FMembers=void 0,t.TXDataScalarType.$final.call(this)},this.GetTypeKind=function(){return 19,19},this.Create$1=function(){return this.FMembers=t.TXDataEnumMemberList.$create("Create$2"),this},this.Destroy=function(){rtl.free(this,"FMembers"),t.TXDataScalarType.Destroy.call(this)},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataEnumTypeList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataScalarCollectionType",this.TXDataScalarType,(function(){this.$init=function(){t.TXDataScalarType.$init.call(this),this.FItemType=null},this.$final=function(){this.FItemType=void 0,t.TXDataScalarType.$final.call(this)},this.GetName=function(){return null!==this.FItemType?pas.SysUtils.Format("Collection(%s)",pas.System.VarRecs(18,this.FItemType.GetName())):"Collection()"},this.GetTypeKind=function(){return 20,20}})),rtl.createClass(this,"TXDataProperty",this.TXDataModelObject,(function(){this.$init=function(){t.TXDataModelObject.$init.call(this),this.FName="",this.FRequired=!1},this.GetParent=function(){return this.FParent},this.Create$1=function(){return pas.System.TObject.Create.call(this),this},this.Destroy=function(){t.TXDataModelObject.Destroy.call(this)},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataPropertyList",pas.contnrs.TObjectList,(function(){})),rtl.createClass(this,"TXDataScalarProperty",this.TXDataProperty,(function(){this.$init=function(){t.TXDataProperty.$init.call(this),this.FType=null,this.FLength=0,this.FPrecision=0,this.FScale=0,this.FTypeRef=""},this.$final=function(){this.FType=void 0,t.TXDataProperty.$final.call(this)},this.SetType=function(t){this.FType=t},this.GetUrlConverter=function(){return null!==this.FType?this.FType.FUrlConverter:null},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataSimpleProperty",this.TXDataScalarProperty,(function(){this.GetParent$1=function(){return this.GetParent()},this.Prepare=function(){if(""!==this.FTypeRef){if(this.SetType(this.GetParent$1().GetSchema().FindScalarType(this.FTypeRef)),null===this.FType)throw t.EModelReferenceNotFound.$create("CreateFmt",["Property type %s not found for property %s.%s",pas.System.VarRecs(18,this.FTypeRef,18,this.GetParent$1().GetName(),18,this.FName)]);this.FTypeRef=""}if(null===this.FType.FUrlConverter)throw t.EUrlConverterNotFound.$create("Create$2",[this.FType])}})),rtl.createClass(this,"TXDataInstanceSimpleProperty",this.TXDataScalarProperty,(function(){this.GetParent$1=function(){return this.GetParent()},this.Prepare=function(){""!==this.FTypeRef&&(this.SetType(this.GetParent$1().GetSchema().FindScalarType(this.FTypeRef)),this.FTypeRef="")}})),rtl.createClass(this,"TXDataSimplePropertyList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataInstanceScalarPropertyList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataStructuredProperty",this.TXDataProperty,(function(){this.$init=function(){t.TXDataProperty.$init.call(this),this.FTargetRef=""},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataInstanceNavigationProperty",this.TXDataStructuredProperty,(function(){this.$init=function(){t.TXDataStructuredProperty.$init.call(this),this.FTarget=null},this.$final=function(){this.FTarget=void 0,t.TXDataStructuredProperty.$final.call(this)},this.GetParent$1=function(){return this.GetParent()},this.Prepare=function(){""!==this.FTargetRef&&(this.FTarget=this.GetParent$1().GetSchema().FindEntityType(this.FTargetRef),null===this.FTarget&&(this.FTarget=this.GetParent$1().GetSchema().FindInstanceType(this.FTargetRef)),this.FTargetRef="")},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataNavigationProperty",this.TXDataStructuredProperty,(function(){this.$init=function(){t.TXDataStructuredProperty.$init.call(this),this.FTarget=null},this.$final=function(){this.FTarget=void 0,t.TXDataStructuredProperty.$final.call(this)},this.GetParent$1=function(){return this.GetParent()},this.Prepare=function(){if(""!==this.FTargetRef){if(this.FTarget=this.GetParent$1().GetSchema().FindEntityType(this.FTargetRef),null===this.FTarget)throw t.EModelReferenceNotFound.$create("CreateFmt",["Target %s not found for navigation property %s.%s",pas.System.VarRecs(18,this.FTargetRef,18,this.GetParent$1().GetName(),18,this.FName)]);this.FTargetRef=""}},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataNavigationPropertyList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataInstanceNavigationPropertyList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataStructuredType",this.TXDataType,(function(){this.GetSchema=function(){return this.FParent},this.FindScalarProperty=function(t){for(var e=null,i=0,s=0,n=this.ScalarPropertyCount()-1;s<=n;s++)if(i=s,e=this.GetScalarProperty(i),pas.SysUtils.SameText(t,e.FName))return e;return null,null},this.FindStructuredProperty=function(t){for(var e=null,i=0,s=0,n=this.StructuredPropertyCount()-1;s<=n;s++)if(i=s,e=this.GetStructuredProperty(i),pas.SysUtils.SameText(t,e.FName))return e;return null,null}})),rtl.createClass(this,"TXDataInstanceType",this.TXDataStructuredType,(function(){this.$init=function(){t.TXDataStructuredType.$init.call(this),this.FBaseType=null,this.FProperties=null,this.FNavigationProperties=null,this.FCollection=null,this.FBaseTypeRef=""},this.$final=function(){this.FBaseType=void 0,this.FProperties=void 0,this.FNavigationProperties=void 0,this.FCollection=void 0,t.TXDataStructuredType.$final.call(this)},this.Prepare=function(){var e=0;if(""!==this.FBaseTypeRef){if(this.FBaseType=this.GetSchema().FindInstanceType(this.FBaseTypeRef),null===this.FBaseType)throw t.EModelReferenceNotFound.$create("CreateFmt",["BaseType %s not found for instance type %s",pas.System.VarRecs(18,this.FBaseTypeRef,18,this.GetName())]);this.FBaseTypeRef=""}null!==this.FBaseType&&this.FBaseType.Prepare();for(var i=0,s=this.FProperties.GetCount()-1;i<=s;i++)e=i,this.FProperties.GetItem$1(e).Prepare();for(var n=0,o=this.FNavigationProperties.GetCount()-1;n<=o;n++)e=n,this.FNavigationProperties.GetItem$1(e).Prepare()},this.GetCollection=function(){return null===this.FCollection&&(this.FCollection=t.TXDataInstanceCollectionType.$create("Create$1"),this.FCollection.FItemType=this,this.FCollection.FParent=this.FParent),this.FCollection},this.GetTypeKind=function(){return 22,22},this.ScalarPropertyCount=function(){return this.FProperties.GetCount()},this.GetScalarProperty=function(t){return this.FProperties.GetItem$1(t)},this.StructuredPropertyCount=function(){return this.FNavigationProperties.GetCount()},this.GetStructuredProperty=function(t){return this.FNavigationProperties.GetItem$1(t)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FProperties=t.TXDataInstanceScalarPropertyList.$create("Create$4",[this]),this.FNavigationProperties=t.TXDataInstanceNavigationPropertyList.$create("Create$4",[this]),this},this.Destroy=function(){rtl.free(this,"FNavigationProperties"),rtl.free(this,"FProperties"),rtl.free(this,"FCollection"),t.TXDataModelObject.Destroy.call(this)},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataInstanceCollectionType",this.TXDataInstanceType,(function(){this.$init=function(){t.TXDataInstanceType.$init.call(this),this.FItemType=null},this.$final=function(){this.FItemType=void 0,t.TXDataInstanceType.$final.call(this)},this.GetName=function(){return null!==this.FItemType?pas.SysUtils.Format("Collection(%s)",pas.System.VarRecs(18,this.FItemType.GetName())):"Collection()"},this.GetTypeKind=function(){return 23,23}})),rtl.createClass(this,"TXDataEntityType",this.TXDataStructuredType,(function(){this.$init=function(){t.TXDataStructuredType.$init.call(this),this.FKey=null,this.FBaseType=null,this.FProperties=null,this.FNavigationProperties=null,this.FCollection=null,this.FBaseTypeRef="",this.FKeyRef=[]},this.$final=function(){this.FKey=void 0,this.FBaseType=void 0,this.FProperties=void 0,this.FNavigationProperties=void 0,this.FCollection=void 0,this.FKeyRef=void 0,t.TXDataStructuredType.$final.call(this)},this.Prepare=function(){var e="",i=null,s=0;if(""!==this.FBaseTypeRef){if(this.FBaseType=this.GetSchema().FindEntityType(this.FBaseTypeRef),null===this.FBaseType)throw t.EModelReferenceNotFound.$create("CreateFmt",["BaseType %s not found for entity type %s",pas.System.VarRecs(18,this.FBaseTypeRef,18,this.GetName())]);this.FBaseTypeRef=""}if(null!==this.FBaseType&&this.FBaseType.Prepare(),rtl.length(this.FKeyRef)>0){this.FKey.Clear();for(var n=0,o=rtl.length(this.FKeyRef)-1;n<=o;n++){if(s=n,e=this.FKeyRef[s],null===(i=this.FindProperty(e))&&(i=this.FindNavigationProperty(e)),null===i)throw t.EModelReferenceNotFound.$create("CreateFmt",["Key property %s not found on entity type %s",pas.System.VarRecs(18,e,18,this.GetName())]);this.FKey.Add$1(i)}this.FKeyRef=rtl.arraySetLength(this.FKeyRef,"",0)}for(var r=0,a=this.FProperties.GetCount()-1;r<=a;r++)s=r,this.FProperties.GetItem$1(s).Prepare();for(var l=0,h=this.FNavigationProperties.GetCount()-1;l<=h;l++)s=l,this.FNavigationProperties.GetItem$1(s).Prepare()},this.GetCollection=function(){return null===this.FCollection&&(this.FCollection=t.TXDataEntityCollectionType.$create("Create$1"),this.FCollection.FItemType=this,this.FCollection.FParent=this.FParent),this.FCollection},this.GetTypeKind=function(){return 17,17},this.ScalarPropertyCount=function(){return this.FProperties.GetCount()},this.GetScalarProperty=function(t){return this.FProperties.GetItem$1(t)},this.StructuredPropertyCount=function(){return this.FNavigationProperties.GetCount()},this.GetStructuredProperty=function(t){return this.FNavigationProperties.GetItem$1(t)},this.FindScalarProperty=function(e){var i=null;return null===(i=t.TXDataStructuredType.FindScalarProperty.call(this,e))&&null!==this.FBaseType&&(i=this.FBaseType.FindScalarProperty(e)),i},this.FindStructuredProperty=function(e){var i=null;return null===(i=t.TXDataStructuredType.FindStructuredProperty.call(this,e))&&null!==this.FBaseType&&(i=this.FBaseType.FindStructuredProperty(e)),i},this.FindProperty=function(t){return this.FindScalarProperty(t)},this.FindNavigationProperty=function(t){return this.FindStructuredProperty(t)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FKey=t.TXDataPropertyList.$create("Create$3",[!1]),this.FProperties=t.TXDataSimplePropertyList.$create("Create$4",[this]),this.FNavigationProperties=t.TXDataNavigationPropertyList.$create("Create$4",[this]),this},this.Destroy=function(){rtl.free(this,"FKey"),rtl.free(this,"FNavigationProperties"),rtl.free(this,"FProperties"),rtl.free(this,"FCollection"),t.TXDataModelObject.Destroy.call(this)},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataEntityCollectionType",this.TXDataEntityType,(function(){this.$init=function(){t.TXDataEntityType.$init.call(this),this.FItemType=null},this.$final=function(){this.FItemType=void 0,t.TXDataEntityType.$final.call(this)},this.GetName=function(){return null!==this.FItemType?pas.SysUtils.Format("Collection(%s)",pas.System.VarRecs(18,this.FItemType.GetName())):"Collection()"},this.GetTypeKind=function(){return 18,18}})),this.$rtti.$Class("TXDataEntityContainer"),rtl.createClass(this,"TXDataEntitySet",this.TXDataModelObject,(function(){this.$init=function(){t.TXDataModelObject.$init.call(this),this.FName="",this.FEntityType=null,this.FEntityTypeRef=""},this.$final=function(){this.FEntityType=void 0,t.TXDataModelObject.$final.call(this)},this.GetContainer=function(){return this.FParent},this.Prepare=function(){if(""!==this.FEntityTypeRef){if(this.FEntityType=this.GetContainer().GetSchema().FindEntityType(this.FEntityTypeRef),null===this.FEntityType)throw t.EModelReferenceNotFound.$create("CreateFmt",["EntityType not found: %s",pas.System.VarRecs(18,this.FEntityTypeRef)]);this.FEntityTypeRef=""}},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataEntitySetList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataEntityContainer",this.TXDataModelObject,(function(){this.$init=function(){t.TXDataModelObject.$init.call(this),this.FName="",this.FEntitySets=null},this.$final=function(){this.FEntitySets=void 0,t.TXDataModelObject.$final.call(this)},this.GetSchema=function(){return this.FParent},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FEntitySets=t.TXDataEntitySetList.$create("Create$4",[this]),this},this.Destroy=function(){rtl.free(this,"FEntitySets"),t.TXDataModelObject.Destroy.call(this)},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataEntityContainerList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),this.$rtti.$Class("TXDataAction"),this.TBindingMode={0:"FromBody",FromBody:0,1:"FromURI",FromURI:1,2:"FromPath",FromPath:2},this.$rtti.$Enum("TBindingMode",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TBindingMode}),rtl.createClass(this,"TXDataParamDef",this.TXDataModelObject,(function(){this.$init=function(){t.TXDataModelObject.$init.call(this),this.FName="",this.FTypeRef="",this.FTypeNameRef="",this.FType=null,this.FBindingMode=0,this.FOutput=!1,this.FInput=!1},this.$final=function(){this.FType=void 0,t.TXDataModelObject.$final.call(this)},this.GetUrlConverter=function(){return null!==this.FType?this.FType.FUrlConverter:null},this.Prepare=function(){if(""!==this.FTypeRef){if(this.FType=this.GetParent().GetController().GetSchema().FindType(this.FTypeRef),null===this.FType)throw t.EModelReferenceNotFound.$create("CreateFmt",["Param type %s not found for property %s.%s",pas.System.VarRecs(18,this.FTypeRef,18,this.GetParent().FName,18,this.FName)]);this.FTypeRef=""}""!==this.FTypeNameRef&&(this.FType=this.GetParent().GetController().GetSchema().FindType(this.FTypeNameRef),this.FTypeNameRef="")},this.GetParent=function(){return this.FParent},this.Index=function(){return this.GetParent().IndexOf(this)},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataParamDefList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),this.$rtti.$Class("TXDataController"),rtl.createClass(this,"TXDataRouteSegment",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FParamName="",this.FValue="",this.FParamIndex=0,this.FIsParam=!1},this.Create$1=function(t){return this.FValue=t,this.FValue.length>=3&&"{"===this.FValue.charAt(0)&&"}"===this.FValue.charAt(this.FValue.length-1)&&(this.FIsParam=!0,this.FParamName=pas.System.Copy(this.FValue,2,this.FValue.length-2)),this}})),rtl.createClass(this,"TXDataRouteSegmentList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataRouteInfo",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FSegments=null,this.FParamCount=0,this.FPriority=0},this.$final=function(){this.FSegments=void 0,pas.System.TObject.$final.call(this)},this.GetSegment=function(t){return this.FSegments.GetItem$1(t)},this.GetSegmentCount=function(){return this.FSegments.GetCount()},this.Create$1=function(){return this.FSegments=t.TXDataRouteSegmentList.$create("Create$5"),this},this.Destroy=function(){rtl.free(this,"FSegments"),pas.System.TObject.Destroy.call(this)},this.Process=function(i){var s,n=0;s=e.SplitString(i,"/");for(var o=0,r=rtl.length(s)-1;o<=r;o++)""!==s[n=o]&&this.FSegments.Add$1(t.TXDataRouteSegment.$create("Create$1",[s[n]]));this.FPriority=0,this.FParamCount=0;for(var a=0,l=this.GetSegmentCount()-1;a<=l;a++)n=a,this.GetSegment(n).FIsParam?this.FParamCount+=1:this.FPriority=this.FPriority|1<<16-n}})),rtl.createClass(this,"TXDataAction",this.TXDataModelObject,(function(){this.$init=function(){t.TXDataModelObject.$init.call(this),this.FName="",this.FParameters=null,this.FHttpMethod="",this.FIsParamStream=!1,this.FIsResultStream=!1,this.FIsResultCriteria=!1,this.FIsResultSingleObject=!1,this.FOperationId="",this.FConsumes="",this.FRouteInfo=null,this.FReturnType=null,this.FReturnTypeRef=""},this.$final=function(){this.FParameters=void 0,this.FRouteInfo=void 0,this.FReturnType=void 0,t.TXDataModelObject.$final.call(this)},this.ParamCount=function(t){var e=0,i=0;e=0;for(var s=0,n=this.FParameters.GetCount()-1;s<=n;s++)i=s,this.FParameters.GetItem$1(i).FBindingMode===t&&(e+=1);return e},this.GetParam=function(t,i){var s=null,n=0,o=0;s=null,o=-1;for(var r=0,a=this.FParameters.GetCount()-1;r<=a;r++)if(n=r,this.FParameters.GetItem$1(n).FBindingMode===t&&i===(o+=1))return s=this.FParameters.GetItem$1(n);return e.ErrorOutOfRange(),s},this.Prepare=function(){for(var e=0,i=null,s=0,n=0,o=this.FParameters.GetCount()-1;n<=o;n++)e=n,this.FParameters.GetItem$1(e).Prepare();if(""!==this.FReturnTypeRef){if(this.FReturnType=this.GetController().GetSchema().FindType(this.FReturnTypeRef),null===this.FReturnType)throw t.EModelReferenceNotFound.$create("CreateFmt",["Return type %s not found for action %s.%s",pas.System.VarRecs(18,this.FReturnTypeRef,18,this.GetController().FName,18,this.FName)]);this.FReturnTypeRef=""}pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FRouteInfo},set:function(t){this.p.FRouteInfo=t}}),this.FRouteInfo=t.TXDataRouteInfo.$create("Create$1"),this.FRouteInfo.Process(this.GetController().FName+"/"+this.FName);for(var r=0,a=this.FRouteInfo.GetSegmentCount()-1;r<=a;r++)if(s=r,(i=this.FRouteInfo.GetSegment(s)).FIsParam){i.FParamIndex=-1;for(var l=0,h=this.PathParamCount()-1;l<=h;l++)if(e=l,pas.SysUtils.SameText(this.GetPathParam(e).FName,i.FParamName)){i.FParamIndex=e;break}if(-1===i.FParamIndex)throw t.EXDataInvalidRouteParam.$create("Create$2",[this,i.FValue])}},this.GetBodyParam=function(t){return this.GetParam(0,t)},this.GetPathParam=function(t){return this.GetParam(2,t)},this.GetController=function(){return this.FParent},this.IsFormContent=function(){return pas.SysUtils.SameText(this.FConsumes,"application/x-www-form-urlencoded")},this.Create$1=function(){return this.FHttpMethod="POST",this.FParameters=t.TXDataParamDefList.$create("Create$4",[this]),this},this.Destroy=function(){rtl.free(this,"FParameters"),rtl.free(this,"FRouteInfo"),t.TXDataModelObject.Destroy.call(this)},this.IndexOf=function(t){return this.FParameters.IndexOf$1(t)},this.ParamStreamIndex=function(){for(var t=0,e=0,i=this.FParameters.GetCount()-1;e<=i;e++)if(t=e,null!=this.FParameters.GetItem$1(t).FType&&21===this.FParameters.GetItem$1(t).FType.GetTypeKind())return t;return this.FIsParamStream?0:-1},this.BodyParamCount=function(){return this.ParamCount(0)},this.PathParamCount=function(){return this.ParamCount(2)},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataActionList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataController",this.TXDataModelObject,(function(){this.$init=function(){t.TXDataModelObject.$init.call(this),this.FName="",this.FActions=null,this.FRouteInfo=null},this.$final=function(){this.FActions=void 0,this.FRouteInfo=void 0,t.TXDataModelObject.$final.call(this)},this.GetSchema=function(){return this.FParent},this.Prepare=function(){var e=0;pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FRouteInfo},set:function(t){this.p.FRouteInfo=t}}),this.FRouteInfo=t.TXDataRouteInfo.$create("Create$1"),this.FRouteInfo.Process(this.FName);for(var i=0,s=this.FActions.GetCount()-1;i<=s;i++)e=i,this.FActions.GetItem$1(e).Prepare()},this.Create$1=function(){return this.FActions=t.TXDataActionList.$create("Create$4",[this]),this},this.Destroy=function(){rtl.free(this,"FActions"),rtl.free(this,"FRouteInfo"),t.TXDataModelObject.Destroy.call(this)},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataEntityTypeList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataInstanceTypeList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataControllerList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataSchema",this.TXDataModelObject,(function(){this.$init=function(){t.TXDataModelObject.$init.call(this),this.FNamespace="",this.FAlias="",this.FEntityTypes=null,this.FEntityContainers=null,this.FEnumTypes=null,this.FInstanceTypes=null,this.FControllers=null},this.$final=function(){this.FEntityTypes=void 0,this.FEntityContainers=void 0,this.FEnumTypes=void 0,this.FInstanceTypes=void 0,this.FControllers=void 0,t.TXDataModelObject.$final.call(this)},this.GetModel=function(){return this.FParent},this.IsCollectionName=function(t,e){var i="";return pas["XData.Utils"].TXDataUtils.GetNameAndKey(t,{get:function(){return i},set:function(t){i=t}},e)&&"Collection"===i},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FEntityTypes=t.TXDataEntityTypeList.$create("Create$4",[this]),this.FInstanceTypes=t.TXDataInstanceTypeList.$create("Create$4",[this]),this.FEnumTypes=t.TXDataEnumTypeList.$create("Create$4",[this]),this.FEntityContainers=t.TXDataEntityContainerList.$create("Create$4",[this]),this.FControllers=t.TXDataControllerList.$create("Create$4",[this]),this},this.Destroy=function(){rtl.free(this,"FEntityTypes"),rtl.free(this,"FInstanceTypes"),rtl.free(this,"FEnumTypes"),rtl.free(this,"FEntityContainers"),rtl.free(this,"FControllers"),t.TXDataModelObject.Destroy.call(this)},this.FindOrDefineConverter=function(e){var i=null;return null===e?null:null!==e.FUrlConverter?e.FUrlConverter:(null===(i=this.GetModel().FUrlConverters.Find(e.GetName()))&&t.TXDataEnumType.isPrototypeOf(e)&&(i=pas["XData.Types.Converters"].TXDataEnumConverter.$create("Create$1",[e]),this.GetModel().FUrlConverters.RegisterConverter(e.GetName(),i)),i)},this.FindEntityType=function(t){var e=null,i=null,s="",n=0;if(this.IsCollectionName(t,{get:function(){return s},set:function(t){s=t}}))e=null!==(i=this.FindEntityType(s))?i.GetCollection():null;else{for(var o=0,r=this.FEntityTypes.GetCount()-1;o<=r;o++)if(n=o,i=this.FEntityTypes.GetItem$1(n),pas.SysUtils.SameText(i.GetName(),t))return i;e=null}return e},this.FindInstanceType=function(t){var e=null,i=null,s="",n=0;if(this.IsCollectionName(t,{get:function(){return s},set:function(t){s=t}}))e=null!==(i=this.FindInstanceType(s))?i.GetCollection():null;else{for(var o=0,r=this.FInstanceTypes.GetCount()-1;o<=r;o++)if(n=o,i=this.FInstanceTypes.GetItem$1(n),pas.SysUtils.SameText(i.GetName(),t))return i;e=null}return e},this.FindEnumType=function(t){for(var e=null,i=0,s=0,n=this.FEnumTypes.GetCount()-1;s<=n;s++)if(i=s,e=this.FEnumTypes.GetItem$1(i),pas.SysUtils.SameText(e.GetName(),t))return e;return null,null},this.FindScalarType=function(t){var e=null,i="";return null===(e=this.FindEnumType(t))&&(this.IsCollectionName(t,{get:function(){return i},set:function(t){i=t}})?null!==(e=pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().Find(i))&&(e=e.GetCollection()):e=pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().Find(t)),e},this.FindType=function(t){var e=null;return null===(e=this.FindScalarType(t))&&(e=this.FindEntityType(t)),null===e&&(e=this.FindInstanceType(t)),e},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataSchemaList",this.TXDataOwnedList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TXDataUrlConverters",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FConverterMap=null},this.$final=function(){this.FConverterMap=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FConverterMap=pas["Bcl.Collections.Common"].TStringMap.$create("Create$1",[!0]),this},this.Destroy=function(){rtl.free(this,"FConverterMap"),pas.System.TObject.Destroy.call(this)},this.Find=function(t){return this.FConverterMap.ContainsKey(t)?this.FConverterMap.GetItem(t):null},this.RegisterConverter=function(t,e){this.FConverterMap.AddOrSetValue(t,e)}})),rtl.createClass(this,"TXDataBaseModel",this.TXDataModelObject,(function(){this.$init=function(){t.TXDataModelObject.$init.call(this),this.FTitle="",this.FVersion="",this.FSchemas=null,this.FUrlConverters=null},this.$final=function(){this.FSchemas=void 0,this.FUrlConverters=void 0,t.TXDataModelObject.$final.call(this)},this.Prepare=function(){for(var t=null,e=null,i=null,s=null,n=0,o=0,r=0,a=0,l=0,h=0,d=0,u=null,c=0,p=this.FSchemas.GetCount()-1;c<=p;c++){n=c,t=this.FSchemas.GetItem$1(n);for(var C=0,S=pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().GetTypes().FLength-1;C<=S;C++)d=C,(u=pas["XData.Model.Types"].TXDataPrimitiveTypes.Instance().GetTypes().GetItem(d)).FUrlConverter=t.FindOrDefineConverter(u),u.GetCollection().FUrlConverter=t.FindOrDefineConverter(u.GetCollection());for(var F=0,g=t.FEnumTypes.GetCount()-1;F<=g;F++)d=F,(u=t.FEnumTypes.GetItem$1(d)).FUrlConverter=t.FindOrDefineConverter(u);for(var m=0,f=t.FEntityTypes.GetCount()-1;m<=f;m++)a=m,(i=t.FEntityTypes.GetItem$1(a)).FUrlConverter=t.FindOrDefineConverter(i),i.GetCollection().FUrlConverter=t.FindOrDefineConverter(i.GetCollection());for(var T=0,b=t.FInstanceTypes.GetCount()-1;T<=b;T++)l=T,(s=t.FInstanceTypes.GetItem$1(l)).FUrlConverter=t.FindOrDefineConverter(s),s.GetCollection().FUrlConverter=t.FindOrDefineConverter(s.GetCollection());for(var y=0,v=t.FEntityContainers.GetCount()-1;y<=v;y++){o=y;for(var L=0,B=(e=t.FEntityContainers.GetItem$1(o)).FEntitySets.GetCount()-1;L<=B;L++)r=L,e.FEntitySets.GetItem$1(r).Prepare()}for(var M=0,E=t.FEntityTypes.GetCount()-1;M<=E;M++)a=M,(i=t.FEntityTypes.GetItem$1(a)).Prepare();for(var P=0,D=t.FInstanceTypes.GetCount()-1;P<=D;P++)l=P,(s=t.FInstanceTypes.GetItem$1(l)).Prepare();for(var A=0,N=t.FControllers.GetCount()-1;A<=N;A++)h=A,t.FControllers.GetItem$1(h).Prepare()}},this.Create$1=function(){return this.FTitle="Server API",this.FVersion="3",this.FSchemas=t.TXDataSchemaList.$create("Create$4",[this]),this.FUrlConverters=t.TXDataUrlConverters.$create("Create$1"),this},this.Destroy=function(){rtl.free(this,"FSchemas"),rtl.free(this,"FUrlConverters"),t.TXDataModelObject.Destroy.call(this)},this.FindActionByOperationId=function(t){var e=null,i=null,s=null,n=0,o=0,r=0;for(var a=0,l=this.FSchemas.GetCount()-1;a<=l;a++){n=a;for(var h=0,d=(e=this.FSchemas.GetItem$1(n)).FControllers.GetCount()-1;h<=d;h++){o=h;for(var u=0,c=(i=e.FControllers.GetItem$1(o)).FActions.GetCount()-1;u<=c;u++)if(r=u,s=i.FActions.GetItem$1(r),pas.SysUtils.SameText(s.FOperationId,t))return s}}return null},this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataModel",this.TXDataBaseModel,(function(){this.$rtti.attr=[pas["Bcl.Json.Attributes"].JsonIncludeAttribute,"Create$1",[pas["Bcl.Json.Attributes"].TInclusionMode.NonDefault]]})),rtl.createClass(this,"TXDataTypeConverter",pas.System.TObject,(function(){this.TryValueToUrl=function(t,e,i){return!1,!1},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.ValueToUrl=function(e,i){var s="";if(null==e)return"null";if(!this.TryValueToUrl(e,{get:function(){return s},set:function(t){s=t}},i))throw t.EConvertToUrlError.$create("Create$2",[i,e]);return s}})),rtl.createClass(this,"EConvertToUrlError",pas.SysUtils.Exception,(function(){this.Create$2=function(t,e){return pas.SysUtils.Exception.CreateFmt.call(this,'Cannot serialize value "%s" to Url format',pas.System.VarRecs(18,pas["Bcl.Rtti.Common"].TValue_ToString(e))),this}})),rtl.createClass(this,"EModelReferenceNotFound",pas.SysUtils.Exception,(function(){})),rtl.createClass(this,"EUrlConverterNotFound",pas.SysUtils.Exception,(function(){this.Create$2=function(t){var e="";return e=null===t?"(null)":t.GetName(),pas.SysUtils.Exception.CreateFmt.call(this,'Could not find URL converter for type "%s"',pas.System.VarRecs(18,e)),this}})),rtl.createClass(this,"EIndexOutOfRange",pas.SysUtils.Exception,(function(){})),rtl.createClass(this,"EXDataInvalidRouteParam",pas.SysUtils.Exception,(function(){this.Create$2=function(t,e){return pas.SysUtils.Exception.CreateFmt.call(this,'Invalid param "%s" in route of action "%s"',pas.System.VarRecs(18,e,18,t.FOperationId)),this}})),t.$implcode=function(){e.ErrorOutOfRange=function(){throw t.EIndexOutOfRange.$create("Create$1",["Index out of range"])},e.FindDelimiter=function(t,e){var i,s=0,n=!1;for(s=0,i=t.length,n=!1;!n&&e<=i;)"/"===t.charAt(e-1)?(s=e,n=!0):e+=1;return s},e.SplitString=function(t,i){var s=[],n=0,o=0,r=0,a=0,l=0;if(s=[],""!==t){r=0;for(var h=1,d=t.length;h<=d;h++)l=h,"/"===t.charAt(l-1)&&(r+=1);s=rtl.arraySetLength(s,"",r+1),n=1,a=0;do{0!==(o=e.FindDelimiter(t,n))&&(s[a]=pas.System.Copy(t,n,o-n),a+=1,n=o+1)}while(a!==r);s[r]=pas.System.Copy(t,n,t.length-n+1)}return s}}}),["XData.Model.Types","XData.Types.Converters","XData.Utils"]),rtl.module("XData.Web.Headers",["System","Types","SysUtils","Bcl.Collections.Common"],(function(){"use strict";var t=this;rtl.createClass(this,"THttpHeaderInfo",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FName="",this.FValue=""},this.Create$1=function(t,e){return this.FName=t,this.FValue=e,this}})),rtl.createClass(this,"THttpHeaders",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FHeaders=null},this.$final=function(){this.FHeaders=void 0,pas.System.TObject.$final.call(this)},this.GetHeaderNames=function(){return this.FHeaders.GetKeys()},this.Create$1=function(){return this.FHeaders=pas["Bcl.Collections.Common"].TStringMap.$create("Create$1",[!0]),this},this.Destroy=function(){rtl.free(this,"FHeaders"),pas.System.TObject.Destroy.call(this)},this.SetValue=function(e,i){""!==e&&this.FHeaders.AddOrSetValue(pas.SysUtils.LowerCase(e),t.THttpHeaderInfo.$create("Create$1",[pas.SysUtils.LowerCase(e),pas.SysUtils.Trim(i)]))},this.Get=function(t){return this.FHeaders.ContainsKey(pas.SysUtils.LowerCase(t))?this.FHeaders.GetItem(pas.SysUtils.LowerCase(t)).FValue:""},this.Clear=function(){this.FHeaders.Clear()}}))})),rtl.module("XData.Web.Request",["System","XData.Web.Headers"],(function(){"use strict";var t=this;rtl.createInterface(this,"IHttpRequest","{782AF543-EFEB-4DA5-AC25-842DF76723A0}",["GetMethod","SetMethod","GetUri","SetUri","GetTimeout","GetHeaders","GetContent","SetContent","GetResponseType","SetResponseType"],pas.System.IUnknown),rtl.createClass(this,"THttpRequest",pas.System.TInterfacedObject,(function(){this.$init=function(){pas.System.TInterfacedObject.$init.call(this),this.FMethod="",this.FUri="",this.FHeaders=null,this.FContent=void 0,this.FTimeout=0,this.FResponseType=""},this.$final=function(){this.FHeaders=void 0,pas.System.TInterfacedObject.$final.call(this)},this.GetMethod=function(){return this.FMethod},this.SetMethod=function(t){this.FMethod=pas.SysUtils.UpperCase(t)},this.GetUri=function(){return this.FUri},this.SetUri=function(t){this.FUri=t},this.GetTimeout=function(){return this.FTimeout},this.GetHeaders=function(){return this.FHeaders},this.GetContent=function(){return this.FContent},this.SetContent=function(t){this.FContent=t},this.GetResponseType=function(){return this.FResponseType},this.SetResponseType=function(t){this.FResponseType=t},this.Create$1=function(){return this.Create$3("","GET"),this},this.Create$2=function(t){return this.Create$3(t,"GET"),this},this.Create$3=function(t,e){return this.FHeaders=pas["XData.Web.Headers"].THttpHeaders.$create("Create$1"),this.FUri=t,this.FMethod=e,this.FTimeout=0,this},this.Destroy=function(){rtl.free(this,"FHeaders"),pas.System.TObject.Destroy.call(this)},rtl.addIntf(this,t.IHttpRequest),rtl.addIntf(this,pas.System.IUnknown)}))}),["SysUtils"]),rtl.module("XData.Web.Response",["System","XData.Web.Headers","Web"],(function(){"use strict";var t=this;rtl.createInterface(this,"IHttpResponse","{4F5FBBEB-2D03-446F-AD75-FFF8DB09B0B0}",["GetStatusCode","GetStatusReason","GetHeaders","GetContentAsText","GetContent"],pas.System.IUnknown),rtl.createClass(this,"THttpResponse",pas.System.TInterfacedObject,(function(){this.$init=function(){pas.System.TInterfacedObject.$init.call(this),this.FPrepared=!1,this.FHeaders=null},this.$final=function(){this.FHeaders=void 0,pas.System.TInterfacedObject.$final.call(this)},this.GetHeaders=function(){return this.PrepareResponse(),this.FHeaders},this.PrepareResponse=function(){this.FPrepared||(this.FPrepared=!0,this.UpdateHeaders(this.FHeaders))},this.Create$1=function(){return this.FHeaders=pas["XData.Web.Headers"].THttpHeaders.$create("Create$1"),this},this.Destroy=function(){rtl.free(this,"FHeaders"),pas.System.TObject.Destroy.call(this)},rtl.addIntf(this,t.IHttpResponse),rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TXhrHttpResponse",this.THttpResponse,(function(){this.$init=function(){t.THttpResponse.$init.call(this),this.FXhr=null},this.$final=function(){this.FXhr=void 0,t.THttpResponse.$final.call(this)},this.GetStatusCode=function(){return this.FXhr.status},this.GetStatusReason=function(){return this.FXhr.statusText},this.UpdateHeaders=function(t){var e=[],i=[];e=pas.SysUtils.Trim(this.FXhr.getAllResponseHeaders()).split("\r\n"),this.FHeaders.Clear();for(var s=0,n=rtl.length(e)-1;s<=n;s++)i=e[s].split(":"),this.FHeaders.SetValue(pas.SysUtils.Trim(i[0]),pas.SysUtils.Trim(i[1]))},this.GetContentAsText=function(){return this.FXhr.responseText},this.GetContent=function(){return this.FXhr.response},this.Create$2=function(e){return t.THttpResponse.Create$1.call(this),this.FXhr=e,this},rtl.addIntf(this,t.IHttpResponse),rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TDummyHttpResponse",this.THttpResponse,(function(){this.GetStatusCode=function(){return 0,0},this.GetStatusReason=function(){return"",""},this.UpdateHeaders=function(t){},this.GetContentAsText=function(){return"",""},this.GetContent=function(){},rtl.addIntf(this,t.IHttpResponse),rtl.addIntf(this,pas.System.IUnknown)}))}),["Types","SysUtils","JS"]),rtl.module("Bcl.TypInfo.Common",["System","TypInfo"],(function(){"use strict";this.GetEnumValue_=function(t,e){return t.enumtype[e]}})),rtl.module("XData.Model.Deserializer",["System","SysUtils","Types","TypInfo","JS","Bcl.Json.Common","Bcl.TypInfo.Common","XData.Model.Classes"],(function(){"use strict";var t=this;rtl.createClass(this,"TXDataModelDeserializer",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FModel=null,this.FRoot=null},this.$final=function(){this.FModel=void 0,this.FRoot=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t,e){return this.FModel=t,this.FRoot=JSON.parse(e),this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.Read=function(){this.ReadModel(this.FModel,this.FRoot),this.FModel.Prepare()},this.ReadBase=function(t,e){var i,s="";i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var n=0,o=rtl.length(i)-1;n<=o;n++)"Description"===(s=i[n])&&(t.FDescription=pas["Bcl.Json.Common"].JToStr(e[s]))},this.ReadType=function(t,e){var i,s="";this.ReadBase(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var n=0,o=rtl.length(i)-1;n<=o;n++)"Name"===(s=i[n])&&(t.FName=pas["Bcl.Json.Common"].JToStr(e[s]))},this.ReadStructuredType=function(t,e){this.ReadType(t,e)},this.ReadScalarType=function(t,e){this.ReadType(t,e)},this.ReadModel=function(t,e){var i,s="",n=0,o=null;this.ReadBase(t,e),t.FSchemas.Clear(),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var r=0,a=rtl.length(i)-1;r<=a;r++)if("Title"===(s=i[r]))t.FTitle=pas["Bcl.Json.Common"].JToStr(e[s]);else if("Version"===s)t.FVersion=pas["Bcl.Json.Common"].JToStr(e[s]);else if("Schemas"===s)for(var l=0,h=(o=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;l<=h;l++)n=l,this.ReadSchema(t.FSchemas.GetItem$1(t.FSchemas.Add$1(pas["XData.Model.Classes"].TXDataSchema.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(o[n]))},this.ReadSchema=function(t,e){var i,s="",n=0,o=null,r=null,a=null,l=null,h=null;this.ReadBase(t,e),t.FEntityTypes.Clear(),t.FInstanceTypes.Clear(),t.FEntityContainers.Clear(),t.FEnumTypes.Clear(),t.FControllers.Clear(),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var d=0,u=rtl.length(i)-1;d<=u;d++)if("Namespace"===(s=i[d]))t.FNamespace=pas["Bcl.Json.Common"].JToStr(e[s]);else if("Alias"===s)t.FAlias=pas["Bcl.Json.Common"].JToStr(e[s]);else if("EntityTypes"===s)for(var c=0,p=(o=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;c<=p;c++)n=c,this.ReadEntityType(t.FEntityTypes.GetItem$1(t.FEntityTypes.Add$1(pas["XData.Model.Classes"].TXDataEntityType.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(o[n]));else if("InstanceTypes"===s)for(var C=0,S=(r=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;C<=S;C++)n=C,this.ReadInstanceType(t.FInstanceTypes.GetItem$1(t.FInstanceTypes.Add$1(pas["XData.Model.Classes"].TXDataInstanceType.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(r[n]));else if("EntityContainers"===s)for(var F=0,g=(a=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;F<=g;F++)n=F,this.ReadEntityContainer(t.FEntityContainers.GetItem$1(t.FEntityContainers.Add$1(pas["XData.Model.Classes"].TXDataEntityContainer.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(a[n]));else if("EnumTypes"===s)for(var m=0,f=(l=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;m<=f;m++)n=m,this.ReadEnumType(t.FEnumTypes.GetItem$1(t.FEnumTypes.Add$1(pas["XData.Model.Classes"].TXDataEnumType.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(l[n]));else if("Controllers"===s)for(var T=0,b=(h=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;T<=b;T++)n=T,this.ReadController(t.FControllers.GetItem$1(t.FControllers.Add$1(pas["XData.Model.Classes"].TXDataController.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(h[n]))},this.ReadEntityType=function(t,e){var i,s="",n=0,o=null,r=null,a=null,l=[];this.ReadStructuredType(t,e),l=rtl.arraySetLength(l,"",0),t.FProperties.Clear(),t.FNavigationProperties.Clear(),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var h=0,d=rtl.length(i)-1;h<=d;h++)if("Properties"===(s=i[h]))for(var u=0,c=(o=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;u<=c;u++)n=u,this.ReadSimpleProperty(t.FProperties.GetItem$1(t.FProperties.Add$1(pas["XData.Model.Classes"].TXDataSimpleProperty.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(o[n]));else if("NavigationProperties"===s)for(var p=0,C=(r=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;p<=C;p++)n=p,this.ReadNavigationProperty(t.FNavigationProperties.GetItem$1(t.FNavigationProperties.Add$1(pas["XData.Model.Classes"].TXDataNavigationProperty.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(r[n]));else if("BaseType"===s)t.FBaseTypeRef=pas["Bcl.Json.Common"].JToStr(e[s]);else if("Key"===s){a=pas["Bcl.Json.Common"].AsJArray(e[s]),l=rtl.arraySetLength(l,"",a.length);for(var S=0,F=a.length-1;S<=F;S++)l[n=S]=pas["Bcl.Json.Common"].JToStr(a[n]);t.FKeyRef=rtl.arrayRef(l)}},this.ReadInstanceType=function(t,e){var i,s="",n=0,o=null,r=null;this.ReadStructuredType(t,e),t.FProperties.Clear(),t.FNavigationProperties.Clear(),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var a=0,l=rtl.length(i)-1;a<=l;a++)if("Properties"===(s=i[a]))for(var h=0,d=(o=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;h<=d;h++)n=h,this.ReadInstanceSimpleProperty(t.FProperties.GetItem$1(t.FProperties.Add$1(pas["XData.Model.Classes"].TXDataInstanceSimpleProperty.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(o[n]));else if("NavigationProperties"===s)for(var u=0,c=(r=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;u<=c;u++)n=u,this.ReadInstanceNavigationProperty(t.FNavigationProperties.GetItem$1(t.FNavigationProperties.Add$1(pas["XData.Model.Classes"].TXDataInstanceNavigationProperty.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(r[n]));else"BaseType"===s&&(t.FBaseTypeRef=pas["Bcl.Json.Common"].JToStr(e[s]))},this.ReadScalarProperty=function(t,e){var i,s="";this.ReadProperty(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var n=0,o=rtl.length(i)-1;n<=o;n++)"Length"===(s=i[n])?t.FLength=pas["Bcl.Json.Common"].JToInt(e[s]):"Precision"===s?t.FPrecision=pas["Bcl.Json.Common"].JToInt(e[s]):"Scale"===s?t.FScale=pas["Bcl.Json.Common"].JToInt(e[s]):"Type"===s&&(t.FTypeRef=pas["Bcl.Json.Common"].JToStr(e[s]))},this.ReadSimpleProperty=function(t,e){this.ReadScalarProperty(t,e)},this.ReadInstanceSimpleProperty=function(t,e){this.ReadScalarProperty(t,e)},this.ReadStructuredProperty=function(t,e){var i,s="";this.ReadProperty(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var n=0,o=rtl.length(i)-1;n<=o;n++)"Target"===(s=i[n])&&(t.FTargetRef=pas["Bcl.Json.Common"].JToStr(e[s]))},this.ReadNavigationProperty=function(t,e){this.ReadStructuredProperty(t,e)},this.ReadInstanceNavigationProperty=function(t,e){this.ReadStructuredProperty(t,e)},this.ReadProperty=function(t,e){var i,s="";this.ReadBase(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var n=0,o=rtl.length(i)-1;n<=o;n++)"Name"===(s=i[n])?t.FName=pas["Bcl.Json.Common"].JToStr(e[s]):"Required"===s&&(t.FRequired=pas["Bcl.Json.Common"].JToBool(e[s]))},this.ReadEntityContainer=function(t,e){var i,s="",n=0,o=null;this.ReadBase(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var r=0,a=rtl.length(i)-1;r<=a;r++)if("Name"===(s=i[r]))t.FName=pas["Bcl.Json.Common"].JToStr(e[s]);else if("EntitySets"===s)for(var l=0,h=(o=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;l<=h;l++)n=l,this.ReadEntitySet(t.FEntitySets.GetItem$1(t.FEntitySets.Add$1(pas["XData.Model.Classes"].TXDataEntitySet.$create("Create"))),pas["Bcl.Json.Common"].AsJObject(o[n]))},this.ReadEntitySet=function(t,e){var i,s="";this.ReadBase(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var n=0,o=rtl.length(i)-1;n<=o;n++)"Name"===(s=i[n])?t.FName=pas["Bcl.Json.Common"].JToStr(e[s]):"EntityType"===s&&(t.FEntityTypeRef=pas["Bcl.Json.Common"].JToStr(e[s]))},this.ReadEnumType=function(t,e){var i,s="",n=0,o=null;this.ReadScalarType(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var r=0,a=rtl.length(i)-1;r<=a;r++)if("Members"===(s=i[r]))for(var l=0,h=(o=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;l<=h;l++)n=l,this.ReadEnumMember(t.FMembers.GetItem$1(t.FMembers.Add$1(pas["XData.Model.Classes"].TXDataEnumMember.$create("Create"))),pas["Bcl.Json.Common"].AsJObject(o[n]))},this.ReadEnumMember=function(t,e){var i,s="";this.ReadBase(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var n=0,o=rtl.length(i)-1;n<=o;n++)"Name"===(s=i[n])?t.FName=pas["Bcl.Json.Common"].JToStr(e[s]):"Value"===s&&(t.FValue=pas["Bcl.Json.Common"].JToInt(e[s]))},this.ReadController=function(t,e){var i,s="",n=0,o=null;this.ReadBase(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var r=0,a=rtl.length(i)-1;r<=a;r++)if("Name"===(s=i[r]))t.FName=pas["Bcl.Json.Common"].JToStr(e[s]);else if("Actions"===s)for(var l=0,h=(o=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;l<=h;l++)n=l,this.ReadAction(t.FActions.GetItem$1(t.FActions.Add$1(pas["XData.Model.Classes"].TXDataAction.$create("Create$1"))),pas["Bcl.Json.Common"].AsJObject(o[n]))},this.ReadAction=function(t,e){var i,s="",n=0,o=null;this.ReadBase(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var r=0,a=rtl.length(i)-1;r<=a;r++)if("Name"===(s=i[r]))t.FName=pas["Bcl.Json.Common"].JToStr(e[s]);else if("Parameters"===s)for(var l=0,h=(o=pas["Bcl.Json.Common"].AsJArray(e[s])).length-1;l<=h;l++)n=l,this.ReadParamDef(t.FParameters.GetItem$1(t.FParameters.Add$1(pas["XData.Model.Classes"].TXDataParamDef.$create("Create"))),pas["Bcl.Json.Common"].AsJObject(o[n]));else"HttpMethod"===s?t.FHttpMethod=pas["Bcl.Json.Common"].JToStr(e[s]):"IsParamStream"===s?t.FIsParamStream=pas["Bcl.Json.Common"].JToBool(e[s]):"IsResultStream"===s?t.FIsResultStream=pas["Bcl.Json.Common"].JToBool(e[s]):"IsResultCriteria"===s?t.FIsResultCriteria=pas["Bcl.Json.Common"].JToBool(e[s]):"IsResultSingleObject"===s?t.FIsResultSingleObject=pas["Bcl.Json.Common"].JToBool(e[s]):"OperationId"===s?t.FOperationId=pas["Bcl.Json.Common"].JToStr(e[s]):"ReturnType"===s?t.FReturnTypeRef=pas["Bcl.Json.Common"].JToStr(e[s]):"Consumes"===s&&(t.FConsumes=pas["Bcl.Json.Common"].JToStr(e[s]))},this.ReadParamDef=function(t,e){var i,s="";this.ReadBase(t,e),i=pas["Bcl.Json.Common"].JObjectKeys(e);for(var n=0,o=rtl.length(i)-1;n<=o;n++)"Name"===(s=i[n])?t.FName=pas["Bcl.Json.Common"].JToStr(e[s]):"BindingMode"===s?t.FBindingMode=pas["Bcl.TypInfo.Common"].GetEnumValue_(pas["XData.Model.Classes"].$rtti.TBindingMode,pas["Bcl.Json.Common"].JToStr(e[s])):"Output"===s?t.FOutput=pas["Bcl.Json.Common"].JToBool(e[s]):"Input"===s?t.FInput=pas["Bcl.Json.Common"].JToBool(e[s]):"Type"===s?t.FTypeRef=pas["Bcl.Json.Common"].JToStr(e[s]):"TypeName"===s&&(t.FTypeNameRef=pas["Bcl.Json.Common"].JToStr(e[s]))},this.Deserialize=function(e,i){var s=null;s=t.TXDataModelDeserializer.$create("Create$1",[e,i]);try{s.Read()}finally{s=rtl.freeLoc(s)}}}))})),rtl.module("XData.Web.Connection",["System","Types","Classes","SysUtils","Web","JS","XData.Web.Request","XData.Web.Response","XData.Model.Classes"],(function(){"use strict";var t=this;this.$rtti.$Class("TXDataWebConnection"),this.$rtti.$Class("TXDataWebConnectionDesignData"),rtl.createClass(this,"TXDataWebConnectionRequest",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FRequest=null,this.FConnection=null,this.FRequestProc=null,this.FAsync=!1},this.$final=function(){rtl.setIntfP(this,"FRequest",null),this.FConnection=void 0,this.FRequestProc=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t,e){return this.FConnection=t,rtl.setIntfP(this,"FRequest",e),this}})),rtl.createClass(this,"TXDataWebConnectionResponse",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FRequest=null,this.FResponse=null,this.FConnection=null,this.FSuccessProc=null,this.FAsync=!1},this.$final=function(){rtl.setIntfP(this,"FRequest",null),rtl.setIntfP(this,"FResponse",null),this.FConnection=void 0,this.FSuccessProc=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t,e,i){return this.FConnection=t,rtl.setIntfP(this,"FRequest",e),rtl.setIntfP(this,"FResponse",i),this}})),rtl.createClass(this,"TXDataWebConnectionError",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FResponse=null,this.FConnection=null,this.FErrorMessage="",this.FRequestUrl=""},this.$final=function(){rtl.setIntfP(this,"FResponse",null),this.FConnection=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t,e,i,s){return this.FConnection=t,rtl.setIntfP(this,"FResponse",e),this.FErrorMessage=s,this.FRequestUrl=i,this}})),rtl.createClass(this,"EXDataWebConnectionException",pas.SysUtils.Exception,(function(){this.$init=function(){pas.SysUtils.Exception.$init.call(this),this.FError=null},this.$final=function(){this.FError=void 0,pas.SysUtils.Exception.$final.call(this)},this.Create$2=function(t){return this.FError=t,pas.SysUtils.Exception.CreateFmt.call(this,"Error connecting to %s",pas.System.VarRecs(18,t.FRequestUrl)),this}})),this.$rtti.$MethodVar("TXDataWebConnectionRequestEvent",{procsig:rtl.newTIProcSig([["Args",this.$rtti.TXDataWebConnectionRequest]]),methodkind:0}),this.$rtti.$MethodVar("TXDataWebConnectionResponseEvent",{procsig:rtl.newTIProcSig([["Args",this.$rtti.TXDataWebConnectionResponse]]),methodkind:0}),this.$rtti.$MethodVar("TXDataWebConnectionErrorEvent",{procsig:rtl.newTIProcSig([["error",this.$rtti.TXDataWebConnectionError]]),methodkind:0}),rtl.createClass(this,"TXDataWebConnection",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FURL="",this.FModel=null,this.FOnConnect=null,this.FStreamedConnected=!1,this.FOnRequest=null,this.FOnResponse=null,this.FOnError=null,this.FDesignData=null},this.$final=function(){this.FModel=void 0,this.FOnConnect=void 0,this.FOnRequest=void 0,this.FOnResponse=void 0,this.FOnError=void 0,this.FDesignData=void 0,pas.Classes.TComponent.$final.call(this)},this.GetConnected=function(){return null!=this.FModel},this.SetConnected=function(t){if(0 in this.FComponentState&&t)this.FStreamedConnected=!0;else{if(t===this.GetConnected())return;t?this.DoConnect(null,null):this.DoDisconnect()}},this.IsDesignDataStored=function(){return this.FDesignData.FPersist},this.SetDesignData=function(t){this.FDesignData.Assign(t)},this.DoError=function(e,i,s,n){var o;if(o=t.TXDataWebConnectionError.$create("Create$1",[this,e,i,s]),null!=n)n(o);else{if(null==this.FOnError)throw pas.SysUtils.Exception.$create("Create$1",["XDataConnectionError: "+s]);this.FOnError(o)}},this.SetURL=function(t){this.FURL!==t&&(this.FURL=t,this.DoDisconnect())},this.DoConnect=function(t,e){var i=this,s="";var n=null,o=0;try{rtl.free(this,"FModel"),this.FModel=null,s=pas["Bcl.Utils"].TBclUtils.CombineUrlFast(i.FURL,"$model"),n=rtl.setIntfL(n,rtl.queryIntfT(pas["XData.Web.Request"].THttpRequest.$create("Create$2",[s]),pas["XData.Web.Request"].IHttpRequest),!0);for(var r=0,a=this.FDesignData.FHeaders.GetCount()-1;r<=a;r++)o=r,""!==this.FDesignData.FHeaders.GetName(o)&&n.GetHeaders().SetValue(this.FDesignData.FHeaders.GetName(o),this.FDesignData.FHeaders.GetValueFromIndex(o));this.SendRequest(n,(function(n){var o=null;if(200===n.GetStatusCode()){o=pas["XData.Model.Classes"].TXDataModel.$create("Create$1");try{pas["XData.Model.Deserializer"].TXDataModelDeserializer.Deserialize(o,n.GetContentAsText()),i.FModel=o}catch(t){throw o=rtl.freeLoc(o),t}null!=t?t():null!=i.FOnConnect&&i.FOnConnect(i)}else i.DoError(n,s,pas.SysUtils.Format("Error %d. Could not connect retrieve XData model from %s",pas.System.VarRecs(0,n.GetStatusCode(),18,s)),e)}),(function(){var t=null;try{t=rtl.setIntfL(t,rtl.queryIntfT(pas["XData.Web.Response"].TDummyHttpResponse.$create("Create$1"),pas["XData.Web.Response"].IHttpResponse),!0),i.DoError(t,s,"Error connecting to XData server",e)}finally{rtl._Release(t)}}))}finally{rtl._Release(n)}},this.DoDisconnect=function(){rtl.free(this,"FModel"),this.FModel=null},this.SendRequest=function(e,i,s){var n=this;function o(s){var o=null,r=!1;rtl._AddRef(s);try{if(r=!1,null!=n.FOnResponse){o=t.TXDataWebConnectionResponse.$create("Create$1",[n,e,s]);try{o.FSuccessProc=function(t){i(t)},n.FOnResponse(o),(r=o.FAsync)||(s=rtl.setIntfL(s,o.FResponse))}finally{r||(o=rtl.freeLoc(o))}}r||i(s)}finally{rtl._Release(s)}}var r=null,a=!1;if(a=!1,null!=this.FOnRequest){r=t.TXDataWebConnectionRequest.$create("Create$1",[n,e]);try{r.FRequestProc=function(e){t.InternalSendRequest(e,o,(function(t){s()}))},this.FOnRequest(r),a=r.FAsync}finally{a||(r=rtl.freeLoc(r))}}a||t.InternalSendRequest(e,o,(function(t){s()}))},this.Create$1=function(e){return pas.Classes.TComponent.Create$1.call(this,e),this.FDesignData=t.TXDataWebConnectionDesignData.$create("Create$1"),this},this.Destroy=function(){rtl.free(this,"FDesignData"),rtl.free(this,"FModel"),pas.Classes.TComponent.Destroy.call(this)},this.OpenAsync=async function(){var e=this;return new Promise((function(i,s){e.DoConnect((function(){null!=e.FOnConnect&&e.FOnConnect(e),i(null)}),(function(e){s(t.EXDataWebConnectionException.$create("Create$2",[e]))}))}))},this.Loaded=function(){pas.Classes.TComponent.Loaded.call(this),this.FStreamedConnected&&this.SetConnected(!0)},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("URL",2,rtl.string,"FURL","SetURL"),e.addProperty("DesignData",14,t.$rtti.TXDataWebConnectionDesignData,"FDesignData","SetDesignData",{stored:"IsDesignDataStored"}),e.addProperty("Connected",3,rtl.boolean,"GetConnected","SetConnected",{Default:!1}),e.addProperty("OnConnect",0,pas.Classes.$rtti.TNotifyEvent,"FOnConnect","FOnConnect"),e.addProperty("OnError",0,t.$rtti.TXDataWebConnectionErrorEvent,"FOnError","FOnError"),e.addProperty("OnRequest",0,t.$rtti.TXDataWebConnectionRequestEvent,"FOnRequest","FOnRequest"),e.addProperty("OnResponse",0,t.$rtti.TXDataWebConnectionResponseEvent,"FOnResponse","FOnResponse")})),rtl.createClass(this,"TXDataWebConnectionDesignData",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FHeaders=null,this.FPersist=!1},this.$final=function(){this.FHeaders=void 0,pas.Classes.TPersistent.$final.call(this)},this.IsStored=function(){return this.FPersist},this.SetHeaders=function(t){this.FHeaders.Assign(t)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FHeaders=pas.Classes.TStringList.$create("Create$1"),this},this.Destroy=function(){rtl.free(this,"FHeaders"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TXDataWebConnectionDesignData.isPrototypeOf(e)?(this.FPersist=e.FPersist,this.SetHeaders(e.FHeaders)):pas.Classes.TPersistent.Assign.call(this,e)};var e=this.$rtti;e.addProperty("Headers",14,pas.Classes.$rtti.TStrings,"FHeaders","SetHeaders",{stored:"IsStored"}),e.addProperty("Persist",12,rtl.boolean,"FPersist","FPersist",{stored:"IsStored"})})),this.InternalSendRequest=function(t,e,i){var s=null;function n(t){null!=i&&i(t)}var o,r=0;(s=new XMLHttpRequest).open(t.GetMethod(),t.GetUri(),!0),o=t.GetHeaders().GetHeaderNames();for(var a=0,l=rtl.length(o)-1;a<=l;a++)r=a,s.setRequestHeader(o[r],t.GetHeaders().Get(o[r]));s.addEventListener("load",(function(){var t=null;try{t=rtl.setIntfL(t,rtl.queryIntfT(pas["XData.Web.Response"].TXhrHttpResponse.$create("Create$2",[s]),pas["XData.Web.Response"].IHttpResponse),!0),null!=e&&e(t)}finally{rtl._Release(t)}})),s.addEventListener("error",n),s.addEventListener("timeout",n),t.GetTimeout()>0&&(s.timeout=t.GetTimeout()),""!==t.GetResponseType()&&(s.responseType=t.GetResponseType()),pas.JS.isNull(t.GetContent())?s.send():s.send(t.GetContent())}}),["Bcl.Utils","XData.Model.Deserializer"]),rtl.module("XData.Bind.Converter",["System","TypInfo","SysUtils","XData.Model.Classes"],(function(){"use strict";this.BindValueToUrl=function(t,e,i){return i.ValueToUrl(t,null)}})),rtl.module("XData.Web.Client",["System","JS","SysUtils","Classes","Types","Bcl.Rtti.Common","Bcl.Json.Common","XData.Model.Classes","XData.Web.Connection","XData.Web.Request","XData.Web.Response"],(function(){"use strict";var t=this;this.$rtti.$Class("TXDataWebClient"),this.TXDataClientRequestType={0:"rtGet",rtGet:0,1:"rtList",rtList:1,2:"rtPut",rtPut:2,3:"rtPost",rtPost:3,4:"rtDelete",rtDelete:4,5:"rtRawInvoke",rtRawInvoke:5},rtl.createClass(this,"TXDataClientResponse",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FResponse=null,this.FRequestType=0,this.FResult=void 0,this.FRequestId="",this.FCount=0,this.FClient=null},this.$final=function(){rtl.setIntfP(this,"FResponse",null),this.FClient=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t,e,i,s,n,o){return rtl.setIntfP(this,"FResponse",e),this.FResult=i,this.FRequestType=s,this.FRequestId=n,this.FCount=o,this.FClient=t,this}})),rtl.createClass(this,"TXDataClientRequest",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FRequest=null,this.FRequestType=0,this.FRequestId="",this.FClient=null},this.$final=function(){rtl.setIntfP(this,"FRequest",null),this.FClient=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t,e,i,s){return rtl.setIntfP(this,"FRequest",e),this.FRequestType=i,this.FRequestId=s,this.FClient=t,this}})),rtl.createClass(this,"TXDataClientError",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FResponse=null,this.FRequestId="",this.FErrorCode="",this.FErrorMessage="",this.FRequestUrl="",this.FClient=null},this.$final=function(){rtl.setIntfP(this,"FResponse",null),this.FClient=void 0,pas.System.TObject.$final.call(this)},this.GetStatusCode=function(){return this.FResponse.GetStatusCode()},this.Create$1=function(t,e,i,s,n,o){return rtl.setIntfP(this,"FResponse",e),this.FErrorCode=s,this.FErrorMessage=n,this.FRequestId=o,this.FRequestUrl=i,this.FClient=t,this}})),this.$rtti.$MethodVar("TXDataClientLoadEvent",{procsig:rtl.newTIProcSig([["Response",this.$rtti.TXDataClientResponse]]),methodkind:0}),this.$rtti.$MethodVar("TXDataClientErrorEvent",{procsig:rtl.newTIProcSig([["error",this.$rtti.TXDataClientError]]),methodkind:0}),this.$rtti.$MethodVar("TXDataClientRequestEvent",{procsig:rtl.newTIProcSig([["Request",this.$rtti.TXDataClientRequest]]),methodkind:0}),this.TReferenceSolvingMode={0:"rsAll",rsAll:0,1:"rsNone",rsNone:1},this.$rtti.$Enum("TReferenceSolvingMode",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TReferenceSolvingMode}),rtl.createClass(this,"TXDataWebClient",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FOnLoad=null,this.FOnError=null,this.FOnRequest=null,this.FConnection=null,this.FReferenceSolvingMode=0},this.$final=function(){this.FOnLoad=void 0,this.FOnError=void 0,this.FOnRequest=void 0,this.FConnection=void 0,pas.Classes.TComponent.$final.call(this)},this.SetConnection=function(t){t!==this.FConnection&&(null!==this.FConnection&&this.FConnection.RemoveFreeNotification(this),this.FConnection=t,null!==this.FConnection&&this.FConnection.FreeNotification(this))},this.Model=function(){if(this.CheckConnection(),null==this.FConnection.FModel)throw t.EXDataClientException.$create("Create$1",["TXDataWebConnection is not connected"]);return this.FConnection.FModel},this.Url=function(){return this.CheckConnection(),this.FConnection.FURL},this.CheckConnection=function(){if(null==this.FConnection)throw t.EXDataClientException.$create("Create$1",["Missing XData Connection"])},this.ParseError=function(t,e,i){var s=void 0,n=null;if(e.set(""),i.set(t.GetStatusReason()),pas.SysUtils.SameText(t.GetHeaders().Get("content-type"),"application/json")){s=null;try{s=JSON.parse(t.GetContentAsText())}catch(t){}rtl.isObject(s)&&rtl.isObject(s.error)&&(n=s.error,e.set(pas.JS.ToString(n.code)),i.set(pas.JS.ToString(n.message)))}},this.SolveReferences=function(t){var e={},i=[];t=function t(s,n,o){if("object"!=typeof s||!s)return s;if("[object Array]"===Object.prototype.toString.call(s)){for(var r=0;r<s.length;r++){if("object"!=typeof s[r]||!s[r])continue;"$ref"in s[r]?s[r]=t(s[r],r,s):s[r]=t(s[r],n,s)}return s}if("$ref"in s){var a=s.$ref;return a in e?e[a]:void i.push([o,n,a])}if("$id"in s){var l=s.$id;if(delete s.$id,"$values"in s)s=s.$values.map(t);else for(var h in s)s[h]=t(s[h],h,s);e[l]=s}return s}(t);for(var s=0;s<i.length;s++){var n=i[s];n[0][n[1]]=e[n[2]]}},this.DoLoad=function(t,e,i){try{if(0===this.FReferenceSolvingMode&&this.SolveReferences(t.FResult),i)null!=this.FOnLoad&&this.FOnLoad(t),null!=e&&e(t);else{if(null!=e)return void e(t);null!=this.FOnLoad&&this.FOnLoad(t)}}finally{i||(t=rtl.freeLoc(t))}},this.DoError=function(e,i,s,n,o,r){var a="",l=null;rtl._AddRef(e);try{if(null===e&&(e=rtl.setIntfL(e,rtl.queryIntfT(pas["XData.Web.Response"].TDummyHttpResponse.$create("Create$1"),pas["XData.Web.Response"].IHttpResponse),!0)),a="",""===n&&this.ParseError(e,{get:function(){return a},set:function(t){a=t}},{get:function(){return n},set:function(t){n=t}}),l=t.TXDataClientError.$create("Create$1",[this,e,i,a,n,s]),r){if(null!=this.FOnError&&this.FOnError(l),null==o)throw t.EXDataClientRequestException.$create("Create$2",[l]);o(l)}else{if(null!=o)return void o(l);if(null==this.FOnError)throw t.EXDataClientRequestException.$create("Create$2",[l]);this.FOnError(l)}}finally{rtl._Release(e)}},this.RequestUrl=function(t){return pas["XData.Utils"].TXDataUtils.CombineUrlFast(this.Url(),t)},this.InternalRawInvoke=function(e,i,s,n,o,r){var a,l=null;if(""===s&&(s=e),null===(a=this.Model().FindActionByOperationId(e)))throw t.EXDataClientException.$create("CreateFmt",['Operation "%s" not found',pas.System.VarRecs(18,e)]);(l=t.TXDataWebInvoker.$create("Create$1",[this,a,n,o,r])).FRequestId=s,l.Execute(i)},this.DoRequest=function(t){try{null!=this.FOnRequest&&this.FOnRequest(t)}finally{t=rtl.freeLoc(t)}},this.Send=function(t,e,i){this.FConnection.SendRequest(t,e,i)},this.Notification=function(t,e){pas.Classes.TComponent.Notification.apply(this,arguments),1===e&&t===this.FConnection&&this.SetConnection(null)},this.RawInvokeAsync=async function(e,i){var s=this;return new Promise((function(n,o){s.InternalRawInvoke(e,i,"",(function(t){n(t)}),(function(e){o(t.EXDataClientRequestException.$create("Create$2",[e]))}),!0)}))},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Connection",2,pas["XData.Web.Connection"].$rtti.TXDataWebConnection,"FConnection","SetConnection"),e.addProperty("OnLoad",0,t.$rtti.TXDataClientLoadEvent,"FOnLoad","FOnLoad"),e.addProperty("OnError",0,t.$rtti.TXDataClientErrorEvent,"FOnError","FOnError"),e.addProperty("OnRequest",0,t.$rtti.TXDataClientRequestEvent,"FOnRequest","FOnRequest"),e.addProperty("ReferenceSolvingMode",0,t.$rtti.TReferenceSolvingMode,"FReferenceSolvingMode","FReferenceSolvingMode",{Default:t.TReferenceSolvingMode.rsAll})})),rtl.createClass(this,"TXDataWebInvoker",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FClient=null,this.FAction=null,this.FRequestId="",this.FSuccessProc=null,this.FErrorProc=null,this.FAsyncMode=!1},this.$final=function(){this.FClient=void 0,this.FAction=void 0,this.FSuccessProc=void 0,this.FErrorProc=void 0,pas.System.TObject.$final.call(this)},this.DoLoad=function(t){this.FClient.DoLoad(t,this.FSuccessProc,this.FAsyncMode)},this.DoError=function(t,e,i,s){this.FClient.DoError(t,e,i,s,this.FErrorProc,this.FAsyncMode)},this.CreateHttpRequest=function(){var t=null,e=!1;try{t=rtl.setIntfL(t,rtl.queryIntfT(pas["XData.Web.Request"].THttpRequest.$create("Create$1"),pas["XData.Web.Request"].IHttpRequest),!0),e=!0}finally{e||rtl._Release(t)}return t},this.RequestUrl=function(t){return this.FClient.RequestUrl(t)},this.BuildQueryString=function(t,e){var i="";function s(t,e){""!==i&&(i+="&"),i=i+pas["Bcl.Utils"].TBclUtils.PercentEncode(t)+"="+pas["Bcl.Utils"].TBclUtils.PercentEncode(e)}function n(t,e){var i=0,n=null,o=void 0;if(null!==t)for(var r=0,a=e.ScalarPropertyCount()-1;r<=a;r++)i=r,o=t[(n=e.GetScalarProperty(i)).FName],pas.JS.isUndefined(o)||s(n.FName,pas["XData.Bind.Converter"].BindValueToUrl(o,null,n.GetUrlConverter()))}var o=0,r=null;i="";for(var a=0,l=this.FAction.FParameters.GetCount()-1;a<=l;a++)o=a,this.FAction.FParameters.GetItem$1(o).FBindingMode===e&&(r=this.FAction.FParameters.GetItem$1(o)).FInput&&o<=rtl.length(t)&&(pas["XData.Model.Classes"].TXDataStructuredType.isPrototypeOf(r.FType)?n(pas.JS.toObject(t[o]),r.FType):s(r.FName,pas["XData.Bind.Converter"].BindValueToUrl(t[o],null,r.GetUrlConverter())));return i},this.GetPathParamValues=function(t){var e=[],i=0,s=null,n=0;n=0,e=rtl.arraySetLength(e,"",this.FAction.FParameters.GetCount());for(var o=0,r=this.FAction.FParameters.GetCount()-1;o<=r;o++)i=o,2===this.FAction.FParameters.GetItem$1(i).FBindingMode&&(s=this.FAction.FParameters.GetItem$1(i)).FInput&&i<=rtl.length(t)&&(e[n]=pas["Bcl.Utils"].TBclUtils.PercentEncode(pas["XData.Bind.Converter"].BindValueToUrl(t[i],null,s.GetUrlConverter())),n+=1);return e=rtl.arrayCopy(0,e,0,n)},this.BuildUrlRoute=function(e){var i=this,s="",n=[],o=[];var r=0;n=this.GetPathParamValues(e),o=rtl.arraySetLength(o,!1,rtl.length(n)),s="",function(e){for(var r=0,a=0,l=e.GetSegmentCount()-1;a<=l;a++){if(r=a,e.GetSegment(r).FIsParam){if(!(e.GetSegment(r).FParamIndex<rtl.length(n)))throw t.EXDataWrongRouteParams.$create("Create$2",[i.FAction]);s+=n[e.GetSegment(r).FParamIndex],o[e.GetSegment(r).FParamIndex]=!0}else s+=e.GetSegment(r).FValue;s+="/"}}(this.FAction.FRouteInfo);for(var a=0,l=rtl.length(o)-1;a<=l;a++)o[r=a]||(s=s+n[r]+"/");return s},this.SetParamStreamBody=function(e,i,s){if(s>=rtl.length(i))throw t.EXDataWrongParameterCount.$create("Create$2",[this.FAction,s+1]);e.SetContent(i[s])},this.SetJsonParamsBody=function(t,e){var i=0,s=null,n=null,o=void 0;n=new Object;for(var r=0,a=this.FAction.FParameters.GetCount()-1;r<=a;r++)i=r,0===this.FAction.FParameters.GetItem$1(i).FBindingMode&&(s=this.FAction.FParameters.GetItem$1(i)).FInput&&i<rtl.length(e)&&(o=e[i],this.TransformParam(s,{get:function(){return o},set:function(t){o=t}}),n[s.FName]=o);t.SetContent(JSON.stringify(n))},this.SetJsonObjectBody=function(e,i){var s;if(s=this.FAction.GetBodyParam(0).Index(),rtl.length(i)<=s)throw t.EXDataWrongParameterCount.$create("Create$2",[this.FAction,s+1]);e.SetContent(JSON.stringify(i[s]))},this.SetFormBody=function(t,e){t.SetContent(this.BuildQueryString(e,0))},this.TransformParam=function(t,e){},this.Create$1=function(t,e,i,s,n){return this.FClient=t,this.FAction=e,this.FSuccessProc=i,this.FErrorProc=s,this.FAsyncMode=n,this},this.Execute=function(e){var i=this,s="";var n=null,o="",r=0;try{n=rtl.setIntfL(n,this.CreateHttpRequest(),!0),o=this.BuildQueryString(e,1),s=this.BuildUrlRoute(e),""!==o&&(s=s+"?"+o),s=i.RequestUrl(s),n.SetUri(s),n.SetMethod(this.FAction.FHttpMethod),this.FAction.FIsResultStream&&n.SetResponseType("blob"),this.FAction.FIsParamStream?this.SetParamStreamBody(n,e,this.FAction.ParamStreamIndex()):this.FAction.BodyParamCount()>0&&(this.FAction.IsFormContent()?this.SetFormBody(n,e):(r=this.FAction.GetBodyParam(0).Index(),1===this.FAction.BodyParamCount()&&rtl.length(e)>r&&rtl.isObject(e[r])?this.SetJsonObjectBody(n,e):this.SetJsonParamsBody(n,e)),""!==this.FAction.FConsumes?n.GetHeaders().SetValue("content-type",this.FAction.FConsumes):n.GetHeaders().SetValue("content-type","application/json")),this.FClient.DoRequest(t.TXDataClientRequest.$create("Create$1",[this.FClient,n,5,this.FRequestId])),this.FClient.Send(n,(function(e){var n=void 0,o=void 0;200===e.GetStatusCode()||204===e.GetStatusCode()||404===e.GetStatusCode()?i.FAction.FIsResultStream?404===e.GetStatusCode()?i.DoError(e,s,i.FRequestId,""):(n=e.GetContent(),i.DoLoad(t.TXDataClientResponse.$create("Create$1",[i.FClient,e,n,5,i.FRequestId,0]))):i.FAction.FIsResultCriteria?i.DoError(e,s,i.FRequestId,"TCriteria result yet not supported in TXDataClient"):(o=204!==e.GetStatusCode()?JSON.parse(e.GetContentAsText()):null,i.DoLoad(t.TXDataClientResponse.$create("Create$1",[i.FClient,e,o,5,i.FRequestId,0]))):i.DoError(e,s,i.FRequestId,"")}),(function(){i.DoError(null,s,i.FRequestId,"")}))}finally{rtl._Release(n)}}})),rtl.createClass(this,"EXDataClientException",pas.SysUtils.Exception,(function(){})),rtl.createClass(this,"EXDataClientRequestException",this.EXDataClientException,(function(){this.$init=function(){t.EXDataClientException.$init.call(this),this.FErrorResult=null},this.$final=function(){this.FErrorResult=void 0,t.EXDataClientException.$final.call(this)},this.Create$2=function(t){var e="";return this.FErrorResult=t,e=(e="XData server request error."+pas.System.sLineBreak+"Uri: "+t.FRequestUrl)+pas.System.sLineBreak+"Status code: "+pas.SysUtils.IntToStr(t.GetStatusCode()),""!==t.FErrorCode&&(e=e+pas.System.sLineBreak+"Error Code: "+t.FErrorCode),""!==t.FErrorMessage&&(e=e+pas.System.sLineBreak+t.FErrorMessage),pas.SysUtils.Exception.Create$1.call(this,e),this}})),rtl.createClass(this,"EXDataWrongParameterCount",this.EXDataClientException,(function(){this.Create$2=function(t,e){return pas.SysUtils.Exception.CreateFmt.call(this,'Incorrect parameter count for Operation "%s". Expected at least: %d, actual: %d',pas.System.VarRecs(18,t.FOperationId,0,t.FParameters.GetCount(),0,e)),this}})),rtl.createClass(this,"EXDataWrongRouteParams",this.EXDataClientException,(function(){this.Create$2=function(t){return pas.SysUtils.Exception.CreateFmt.call(this,'Invalid number of route params for Operation "%s". Route params: %d, Path params: %d',pas.System.VarRecs(18,t.FOperationId,0,t.FRouteInfo.FParamCount,0,t.PathParamCount())),this}}))}),["Bcl.Utils","XData.Bind.Converter","XData.Utils"]),rtl.module("WEBLib.StdCtrls",["System","Classes","WEBLib.Controls","SysUtils","Web","WEBLib.Graphics","Types","WEBLib.WebTools","WEBLib.Forms","WEBLib.Menus"],(function(){"use strict";var t=this;this.TEditCharCase={0:"wecLowerCase",wecLowerCase:0,1:"wecNormal",wecNormal:1,2:"wecMixedCase",wecMixedCase:2,3:"wecUpperCase",wecUpperCase:3},this.$rtti.$Enum("TEditCharCase",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TEditCharCase}),this.TEllipsisPosition={0:"epEndEllipsis",epEndEllipsis:0,1:"epNone",epNone:1,2:"epPathEllipsis",epPathEllipsis:2,3:"epWordEllipsis",epWordEllipsis:3},this.$rtti.$Enum("TEllipsisPosition",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TEllipsisPosition}),this.TTextLayout={0:"tlTop",tlTop:0,1:"tlCenter",tlCenter:1,2:"tlBottom",tlBottom:2},this.$rtti.$Enum("TTextLayout",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTextLayout}),this.TAutoCompletion={0:"acOff",acOff:0,1:"acHonorificPrefix",acHonorificPrefix:1,2:"acGivenName",acGivenName:2,3:"acAdditionalName",acAdditionalName:3,4:"acFamilyName",acFamilyName:4,5:"acHonorificSuffix",acHonorificSuffix:5,6:"acNickName",acNickName:6,7:"acEmail",acEmail:7,8:"acUserName",acUserName:8,9:"acNewPassword",acNewPassword:9,10:"acCurrentPassword",acCurrentPassword:10,11:"acOrganizationTitle",acOrganizationTitle:11,12:"acOrganization",acOrganization:12,13:"acStreetAddress",acStreetAddress:13,14:"acAddressLine1",acAddressLine1:14,15:"acAddressLine2",acAddressLine2:15,16:"acAddressLine3",acAddressLine3:16,17:"acAddressLevel1",acAddressLevel1:17,18:"acAddressLevel2",acAddressLevel2:18,19:"acAddressLevel3",acAddressLevel3:19,20:"acAddressLevel4",acAddressLevel4:20,21:"acCountry",acCountry:21,22:"acCountryName",acCountryName:22,23:"acPostalCode",acPostalCode:23,24:"acCCName",acCCName:24,25:"acCCGivenName",acCCGivenName:25,26:"acCCAdditionalName",acCCAdditionalName:26,27:"acCCFamilyName",acCCFamilyName:27,28:"acCCNumber",acCCNumber:28,29:"acExpiry",acExpiry:29,30:"acExpiryMonth",acExpiryMonth:30,31:"acExpiryYear",acExpiryYear:31,32:"acCSC",acCSC:32,33:"acType",acType:33,34:"acTransactionCurrency",acTransactionCurrency:34,35:"acTransactionAmount",acTransactionAmount:35,36:"acLanguage",acLanguage:36,37:"acBirthday",acBirthday:37,38:"acBirthdayDay",acBirthdayDay:38,39:"acBirthDayMonth",acBirthDayMonth:39,40:"acBirthDayYear",acBirthDayYear:40,41:"acSex",acSex:41,42:"acTelephone",acTelephone:42,43:"acTelephoneCountryCode",acTelephoneCountryCode:43,44:"acTelephoneNational",acTelephoneNational:44,45:"acTelephoneAreaCode",acTelephoneAreaCode:45,46:"acTelephoneLocal",acTelephoneLocal:46,47:"acTelephoneExtension",acTelephoneExtension:47,48:"acIMPP",acIMPP:48,49:"acURL",acURL:49,50:"acPhoto",acPhoto:50,51:"acNone",acNone:51,52:"acNope",acNope:52},this.$rtti.$Enum("TAutoCompletion",{minvalue:0,maxvalue:52,ordtype:1,enumtype:this.TAutoCompletion}),this.TEditType={0:"weString",weString:0,1:"weFloat",weFloat:1,2:"weHex",weHex:2,3:"weNumeric",weNumeric:3,4:"weSignedFloat",weSignedFloat:4,5:"weSignedNumeric",weSignedNumeric:5,6:"weSearch",weSearch:6},this.$rtti.$Enum("TEditType",{minvalue:0,maxvalue:6,ordtype:1,enumtype:this.TEditType}),this.THTMLType={0:"tLABELTAG",tLABELTAG:0,1:"tSPAN",tSPAN:1,2:"tDIV",tDIV:2,3:"tH1",tH1:3,4:"tH2",tH2:4,5:"tH3",tH3:5,6:"tH4",tH4:6,7:"tH5",tH5:7,8:"tH6",tH6:8,9:"tP",tP:9},this.$rtti.$Enum("THTMLType",{minvalue:0,maxvalue:9,ordtype:1,enumtype:this.THTMLType}),rtl.createClass(this,"TCustomLabel",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FContent=null,this.FAutoSize=!1,this.FEllipsisPosition=0,this.FWordWrap=!1,this.FAlignment=0,this.FLayout=0,this.FTransparent=!1,this.FHTMLType=0,this.FFocusControl=null,this.FShowAccelChar=!1,this.FColor$1=0,this.FHasAccel=!1,this.FHasHTML=!1,this.FElementLabelClassName="",this.FOrigWidth=0,this.FOldWidth=0,this.FOldHeight=0,this.FHTML=""},this.$final=function(){this.FContent=void 0,this.FFocusControl=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.SetLayout=function(t){this.FLayout!==t&&(this.FLayout=t,this.UpdateElementVisual())},this.SetAlignment=function(t){this.FAlignment!==t&&(this.FAlignment=t,this.UpdateElementVisual())},this.GetContentHandle=function(){return this.FContent},this.SetTransparent=function(t){this.FTransparent!==t&&(this.FTransparent=t,this.UpdateElementVisual())},this.SetHTMLType=function(t){var e=null;this.FHTMLType!==t&&(this.FHTMLType=t,this.FHTMLType in rtl.createSet(null,3,8)&&this.SetElementFont(1),null!=this.GetElementHandle()&&null!=this.FContent&&null!=(e=this.GetElementHandle().firstChild)&&"lbl"===e.getAttribute("data-lbl")&&(this.GetElementHandle().removeChild(this.FContent),this.FContent=this.CreateLabelElement(),this.GetElementHandle().appendChild(this.FContent),this.UpdateElement()))},this.SetColorEx=function(t){this.FColor$1=t,4 in this.FComponentState&&16777215!==this.FColor$1&&this.SetTransparent(!1),this.UpdateElement()},this.SetElementLabelClassName=function(t){this.FElementLabelClassName!==t&&(this.FElementLabelClassName=t,this.UpdateElement())},this.SetHTML=function(t){this.FHTML!==t&&(this.FHTML=t,this.UpdateElementData())},this.SetWidth=function(t){-1!==t&&0 in this.FComponentState&&(this.FOrigWidth=t),pas["WEBLib.Controls"].TControl.SetWidth.apply(this,arguments)},this.CreateElement=function(){var t=null;return t=document.createElement("DIV"),this.FContent=this.CreateLabelElement(),t.appendChild(this.FContent),t},this.CreateLabelElement=function(){var t=null;t=null;var e=this.FHTMLType;return 1===e?t=document.createElement("SPAN"):2===e?t=document.createElement("DIV"):3===e?t=document.createElement("H1"):4===e?t=document.createElement("H2"):5===e?t=document.createElement("H3"):6===e?t=document.createElement("H4"):7===e?t=document.createElement("H5"):8===e?t=document.createElement("H6"):0===e?t=document.createElement("LABEL"):9===e&&(t=document.createElement("P")),t.setAttribute("data-lbl","lbl"),t},this.GetDisplayText=function(){return this.FCaption},this.CanShowFocus=function(){return!1,!1},this.SetParent=function(t){pas["WEBLib.Controls"].TControl.SetParent.apply(this,arguments),this.FAutoSize&&0!==this.FAlignment&&-1!==this.FOrigWidth&&(this.SetLeft(this.GetLeft()+this.FOrigWidth-this.GetWidth()),this.FOrigWidth=-1)},this.BindElement=function(){this.FContent=this.GetContainer().firstElementChild},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.FShowAccelChar&&null!=this.FFocusControl&&this.UpdateElementData()},this.UpdateAutoSize=function(){this.FAutoSize&&0===this.FAlign&&(null!=this.GetElementHandle()&&pas["WEBLib.WebTools"].ElementVisible(this.GetElementHandle())&&(this.SetWidth(-1),this.SetHeight(-1)),this.FEllipsisPosition=1)},this.UpdateElementData=function(){var t="",e="",i=null;pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),e="",t=this.FShowAccelChar?pas["WEBLib.WebTools"].ProcessAccelerator(this.GetDisplayText(),{get:function(){return e},set:function(t){e=t}}):this.GetDisplayText(),t=""===this.FHTML?pas["WEBLib.WebTools"].HTMLToString(t):this.FHTML,this.GetIsLinked()&&""===t&&0 in this.FComponentState||(null!=this.GetContentHandle()?this.GetIsLinked()?(i=this.GetContentHandle(),""!==this.GetID()&&(i=document.getElementById(this.GetID())),null!=i&&(pas.System.Assigned(this.GetContentHandle().nodeValue)?i.nodeValue=t:0===i.childElementCount&&(i.innerHTML=t))):this.GetContentHandle().childElementCount>0&&!this.FHasAccel&&!this.FHasHTML?this.GetContentHandle().nodeValue=t:this.GetContentHandle().innerHTML=t:this.GetElementHandle().innerHTML=t,this.FHasHTML=pas.System.Pos("</",t)>0,this.FHasAccel=""!==e,""!==e&&null!=this.FFocusControl&&(this.GetContentHandle().setAttribute("accesskey",e),this.GetContentHandle().setAttribute("for",this.FFocusControl.GetID())))},this.UpdateElementVisual=function(){var t=0,e=0;if(pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),!this.IsUpdating()&&(null!=this.GetElementHandle()&&(e=Math.round(this.GetElementHandle().offsetHeight),t=Math.round(this.GetElementHandle().offsetWidth),e>0&&(this.FOldHeight=e),t>0&&(this.FOldWidth=t),!this.FVisible||this.FAutoSize&&0===this.FAlign||0===this.FAlignment||this.GetElementHandle().style.setProperty("display","table"),this.GetElementHandle().setAttribute("zindex","1"),this.FAutoSize&&0===this.FAlign&&!(4 in this.FComponentState)?this.GetElementHandle().style.setProperty("overflow",""):this.GetElementHandle().style.setProperty("overflow","hidden")),null!=this.GetContentHandle())){var i=this.FLayout;0===i?this.GetContentHandle().style.setProperty("vertical-align","top"):1===i?this.GetContentHandle().style.setProperty("vertical-align","middle"):2===i&&this.GetContentHandle().style.setProperty("vertical-align","bottom");var s=this.FAlignment;0===s?this.GetContentHandle().style.removeProperty("text-align"):2===s?this.GetContentHandle().style.setProperty("text-align","center"):1===s&&this.GetContentHandle().style.setProperty("text-align","right"),pas["WEBLib.Controls"].SetHTMLElementColor(this.GetElementHandle(),this.FColor$1,this.FTransparent||-1===this.FColor$1||16711422===this.FColor$1),pas["WEBLib.Controls"].SetHTMLElementColor(this.GetContentHandle(),this.FColor$1,this.FTransparent||-1===this.FColor$1||16711422===this.FColor$1),this.GetContentHandle().style.setProperty("display","table-cell"),""===this.FElementClassName?(this.FEnabled&&0===this.FElementFont&&!this.GetIsLinked()?this.GetContentHandle().style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(this.FFont.FColor)):this.GetContentHandle().style.removeProperty("color"),this.SetElementPointer(this.GetContentHandle(),this.FCursor),pas["WEBLib.Controls"].SetHTMLElementFont(this.GetContentHandle(),this.FFont,!(0===this.FElementFont&&!this.GetIsLinked()))):(this.GetContentHandle().style.removeProperty("color"),pas["WEBLib.Controls"].SetHTMLElementFont(this.GetContentHandle(),this.FFont,!0)),""!==this.FElementLabelClassName?this.GetContentHandle().setAttribute("class",this.FElementLabelClassName):this.GetContentHandle().removeAttribute("class"),0===this.FElementPosition||1===this.FWidthStyle?1===this.FEllipsisPosition?this.GetContentHandle().style.setProperty("text-overflow","clip"):this.GetContentHandle().style.setProperty("text-overflow","ellipsis"):this.GetContentHandle().style.removeProperty("text-overflow"),this.FWordWrap?this.GetContentHandle().style.setProperty("white-space","normal"):this.GetContentHandle().style.setProperty("white-space","nowrap"),this.GetElementHandle().style.setProperty("user-select",""),0===this.FCursor&&this.GetElementHandle().style.setProperty("cursor",""),this.FAutoSize&&0===this.FAlign&&!(4 in this.FComponentState)&&(this.GetElementHandle().style.removeProperty("width"),this.GetElementHandle().style.removeProperty("height"))}},this.UpdateElementSize=function(){pas["WEBLib.Controls"].TControl.UpdateElementSize.call(this),this.FAutoSize&&0===this.FAlign&&null!=this.GetElementHandle()&&(4 in this.FComponentState||(this.GetElementHandle().style.removeProperty("width"),this.GetElementHandle().style.removeProperty("height"))),null!=this.GetContentHandle()&&this.FAlign in rtl.createSet(3,4,5)&&!this.FAutoSize&&this.FLayout in rtl.createSet(1,2)&&this.GetContentHandle().style.setProperty("height",pas.SysUtils.TIntegerHelper.ToString$1.call({p:this.GetHeight(),get:function(){return this.p},set:function(t){this.p=t}})+"px")},this.SetAutoSize=function(t){this.FAutoSize!==t&&(this.FAutoSize=t,this.UpdateAutoSize(),this.UpdateElement())},this.SetCaption=function(t){var e=0;this.FCaption!==t&&(e=this.GetWidth(),pas["WEBLib.Controls"].TCustomControl.SetCaption.call(this,t),this.UpdateAutoSize(),this.UpdateElement(),e-=this.GetWidth(),this.FAutoSize&&0!==this.FAlignment&&0!==e&&2 in this.FAnchors&&!this.IsUpdating()&&this.SetLeft(this.GetLeft()+e))},this.SetControlCursor=function(t){pas["WEBLib.Controls"].TControl.SetControlCursor.apply(this,arguments),""===this.FElementClassName&&null!=this.GetContentHandle()&&this.SetElementPointer(this.GetContentHandle(),this.FCursor)},this.SetEllipsisPosition=function(t){this.FEllipsisPosition!==t&&(this.FEllipsisPosition=t,1!==this.FEllipsisPosition&&(this.FAutoSize=!1),this.UpdateElement())},this.GetWidth=function(){var t=0;return this.FAutoSize&&null!=this.GetElementHandle()&&null!=this.FParent?(0===(t=Math.round(this.GetElementHandle().offsetWidth))&&(t=pas["WEBLib.Controls"].TControl.GetWidth.call(this)),0===t&&""!==this.FCaption&&4 in this.FComponentState&&(t=this.FOldWidth)):t=pas["WEBLib.Controls"].TControl.GetWidth.call(this),t},this.GetHeight=function(){var t=0;return this.FAutoSize&&null!=this.GetElementHandle()&&null!=this.FParent?(0===(t=Math.round(this.GetElementHandle().offsetHeight))&&(t=pas["WEBLib.Controls"].TControl.GetHeight.call(this)),0===t&&""!==this.FCaption&&4 in this.FComponentState&&(t=this.FOldHeight)):t=pas["WEBLib.Controls"].TControl.GetHeight.call(this),t},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FAutoSize=!0,this.FLayout=0,this.FEllipsisPosition=1,this.FColor$1=16777215,this.FTransparent=!0,this.FAlignment=0,this.SetTabStop(!1),this.FShowAccelChar=!0},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TLabel",this.TCustomLabel,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("Alignment",2,pas.Classes.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:pas.Classes.TAlignment.taLeftJustify}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAutoSize",{Default:!0}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor$1","SetColorEx",{Default:16777215}),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("EllipsisPosition",2,t.$rtti.TEllipsisPosition,"FEllipsisPosition","SetEllipsisPosition",{Default:t.TEllipsisPosition.epNone}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementLabelClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementLabelClassName","SetElementLabelClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("FocusControl",0,pas["WEBLib.Controls"].$rtti.TWinControl,"FFocusControl","FFocusControl"),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("HTML",2,rtl.string,"FHTML","SetHTML"),e.addProperty("HTMLType",2,t.$rtti.THTMLType,"FHTMLType","SetHTMLType",{Default:t.THTMLType.tLABELTAG}),e.addProperty("Layout",2,t.$rtti.TTextLayout,"FLayout","SetLayout",{Default:t.TTextLayout.tlTop}),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("ShowAccelChar",0,rtl.boolean,"FShowAccelChar","FShowAccelChar",{Default:!0}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Transparent",2,rtl.boolean,"FTransparent","SetTransparent",{Default:!0}),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("WordWrap",0,rtl.boolean,"FWordWrap","FWordWrap",{Default:!1}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnTouchStart",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchStart","FOnTouchStart"),e.addProperty("OnTouchEnd",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchEnd","FOnTouchEnd"),e.addProperty("OnTouchMove",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchMove","FOnTouchMove"),e.addProperty("OnTouchCancel",0,pas["WEBLib.Controls"].$rtti.TTouchEvent,"FOnTouchCancel","FOnTouchCancel"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag")})),rtl.createClass(this,"TCustomInput",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.IsInputControl=function(){return!0,!0},this.GetInputType=function(){return"EDIT","EDIT"},this.CreateElement=function(){var t=null;return(t=document.createElement("INPUT")).setAttribute("type",this.GetInputType()),t},this.UpdateElementVisual=function(){pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null==this.GetContainer()||this.GetIsLinked()||(this.GetContainer().style.setProperty("-moz-box-sizing","border-box"),this.GetContainer().style.setProperty("-webkit-box-sizing","border-box"),this.GetContainer().style.setProperty("box-sizing","border-box"))},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.SetShowFocus(!0),this.FNoUserSelect=!1},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TCustomEdit",this.TCustomInput,(function(){this.$init=function(){t.TCustomInput.$init.call(this),this.FCharCase=0,this.FMaxLength=0,this.FReadOnly=!1,this.FText="",this.FTextHint="",this.FSelStart=0,this.FAlignment=0,this.FHideSelection=!1,this.FPasswordChar="",this.FOnChange=null,this.FAutoSize=!1,this.FAutoSelect=!1,this.FSelLength=0,this.FNumeric=!1,this.FAutoCompletion=0,this.FEditType=0,this.FRequired=!1,this.FAutoFocus=!1,this.FPattern="",this.FHandlePastePtr=null,this.FHandleCutPtr=null,this.FHandleChangePtr=null,this.FHandleInvalidPtr=null,this.FSpellCheck=!1,this.FRequiredText=""},this.$final=function(){this.FOnChange=void 0,t.TCustomInput.$final.call(this)},this.SetAlignment=function(t){this.FAlignment=t,this.UpdateElement()},this.SetHideSelection=function(t){this.FHideSelection!==t&&(this.FHideSelection=t,this.UpdateElement())},this.SetAutoSelect=function(t){this.FAutoSelect!==t&&(this.FAutoSelect=t,this.UpdateElement())},this.SetAutoSize=function(t){this.FAutoSize!==t&&(this.FAutoSize=t,this.UpdateElement())},this.SetPasswordChar=function(t){this.FPasswordChar=t,this.UpdateElement()},this.SetAutoCompletion=function(t){this.FAutoCompletion!==t&&(this.FAutoCompletion=t,this.UpdateElement())},this.SetAutoFocus=function(t){this.FAutoFocus!==t&&(this.FAutoFocus=t,this.UpdateElement())},this.SetRequired=function(t){this.FRequired=t,this.UpdateElement()},this.SetPattern=function(t){this.FPattern!==t&&(this.FPattern=t,this.UpdateElement())},this.SetEditType=function(t){this.FEditType!==t&&(this.FEditType=t,this.UpdateElement())},this.SetSpellCheck=function(t){this.FSpellCheck!==t&&(this.FSpellCheck=t,this.UpdateElement())},this.GetElementInputHandle=function(){return this.GetContainer()},this.DoHandlePaste=function(t){var e;return e=(t.clipboardData||window.clipboardData).getData("Text"),this.CanPaste(e)&&this.Validate(e)||(t.preventDefault(),t.stopPropagation()),!1,!1},this.DoHandleCut=function(t){return this.CanCut()||(t.preventDefault(),t.stopPropagation()),!1,!1},this.DoHandleChange=function(t){return this.Change(),!0,""!==this.FRequiredText&&this.GetElementInputHandle().setCustomValidity(""),!0},this.DoHandleInvalid=function(t){return this.GetElementInputHandle().setCustomValidity(this.FRequiredText),!0,!0},this.IsCustomEditor=function(){return!1,!1},this.KeyPress=function(t){var e=!1;pas["WEBLib.Controls"].TControl.KeyPress.call(this,t),e=!0;var i=this.FEditType;3===i?e=t.get().charCodeAt()in rtl.createSet(null,48,57):5===i?e=t.get().charCodeAt()in rtl.createSet(null,48,57,43,45):1===i?e=t.get().charCodeAt()in rtl.createSet(null,48,57,44,46):4===i?e=t.get().charCodeAt()in rtl.createSet(null,48,57,44,46,43,45):2===i&&(e=t.get().charCodeAt()in rtl.createSet(null,48,57,null,65,70)),e||t.set("\0")},this.GetInputType=function(){return"\0"!==this.FPasswordChar?"PASSWORD":this.FNumeric?"NUMBER":this.FEditType in rtl.createSet(1,3)?"TEL":6===this.FEditType?"SEARCH":"TEXT"},this.GetText=function(){var t="";return t=this.FText,null!=this.GetElementInputHandle()&&(t=this.GetElementInputHandle().value),3===this.FCharCase&&(t=pas.SysUtils.UpperCase(t)),0===this.FCharCase&&(t=pas.SysUtils.LowerCase(t)),t},this.GetDisplayText=function(){return this.FText},this.IsReadOnly=function(){return this.FReadOnly},this.Validate=function(t){var e=!1,i=0,s="",n=!1;e=!0;for(var o=1,r=t.length;o<=r;o++){i=o,s=t.charAt(i-1),n=!0;var a=this.FEditType;if(3===a?n=s.charCodeAt()in rtl.createSet(null,48,57):5===a?n=s.charCodeAt()in rtl.createSet(null,48,57,43,45):1===a?n=s.charCodeAt()in rtl.createSet(null,48,57,44,46):4===a?n=s.charCodeAt()in rtl.createSet(null,48,57,44,46,43,45):2===a&&(n=s.charCodeAt()in rtl.createSet(null,48,57,null,65,70)),!n){e=!1;break}}return e},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FHandlePastePtr=null,this.FHandleCutPtr=null,this.FHandleChangePtr=null,this.FHandleInvalidPtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),this.FHandlePastePtr=rtl.createCallback(this,"DoHandlePaste"),this.FHandleCutPtr=rtl.createCallback(this,"DoHandleCut"),this.FHandleChangePtr=rtl.createCallback(this,"DoHandleChange"),this.FHandleInvalidPtr=rtl.createCallback(this,"DoHandleInvalid")},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementInputHandle()&&(this.GetElementInputHandle().addEventListener("input",this.FHandleChangePtr),this.GetElementInputHandle().addEventListener("paste",this.FHandlePastePtr),this.GetElementInputHandle().addEventListener("cut",this.FHandleCutPtr),this.GetElementInputHandle().addEventListener("invalid",this.FHandleInvalidPtr))},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.GetElementInputHandle()&&(this.GetElementInputHandle().removeEventListener("input",this.FHandleChangePtr),this.GetElementInputHandle().removeEventListener("paste",this.FHandlePastePtr),this.GetElementInputHandle().removeEventListener("cut",this.FHandleCutPtr),this.GetElementInputHandle().removeEventListener("invalid",this.FHandleInvalidPtr))},this.UpdateElementData=function(){var e=null,i=0,s=0,n=!1;if(pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),null!=this.GetElementInputHandle()){if(!this.GetIsLinked()){var o=this.FCharCase;3===o?this.GetElementInputHandle().style.setProperty("text-transform","uppercase"):0===o?this.GetElementInputHandle().style.setProperty("text-transform","lowercase"):2===o?this.GetElementInputHandle().style.setProperty("text-transform","capitalize"):1===o&&this.GetElementInputHandle().style.setProperty("text-transform","initial")}if(this.GetElementInputHandle().readOnly=this.IsReadOnly(),""!==this.FTextHint&&(this.GetElementInputHandle().placeholder=this.FTextHint),!this.GetIsLinked()){this.GetElementInputHandle().setAttribute("type",this.GetInputType()),this.GetElementInputHandle().setAttribute("role","textbox"),52===this.FAutoCompletion?(this.GetElementInputHandle().setAttribute("autocomplete","nope"),this.GetElementInputHandle().removeAttribute("name")):51===this.FAutoCompletion?(this.GetElementInputHandle().setAttribute("autocomplete","off"),this.GetElementInputHandle().removeAttribute("name")):0!==this.FAutoCompletion?(this.GetElementInputHandle().setAttribute("autocomplete","on"),this.GetElementInputHandle().setAttribute("name",t.GetAutoCompletionName(this.FAutoCompletion))):(this.GetElementInputHandle().removeAttribute("autocomplete"),this.GetElementInputHandle().removeAttribute("name"));var r=this.FAlignment;0===r?this.GetElementInputHandle().style.removeProperty("text-align"):2===r?this.GetElementInputHandle().style.setProperty("text-align","center"):1===r&&this.GetElementInputHandle().style.setProperty("text-align","right")}this.FAutoFocus?this.GetElementInputHandle().setAttribute("autofocus",""):this.GetElementInputHandle().removeAttribute("autofocus"),this.FRequired?this.GetElementInputHandle().setAttribute("required",""):this.GetElementInputHandle().removeAttribute("required"),""!==this.FPattern?this.GetElementInputHandle().setAttribute("pattern",this.FPattern):this.GetElementInputHandle().removeAttribute("pattern"),this.FMaxLength<=0?this.GetElementInputHandle().removeAttribute("maxLength"):this.GetElementInputHandle().maxLength=this.FMaxLength,this.GetElementInputHandle().value=this.GetDisplayText(),n="NUMBER"===pas.SysUtils.UpperCase(this.GetInputType()),this.FSpellCheck?this.GetElementInputHandle().removeAttribute("spellcheck"):this.GetElementInputHandle().setAttribute("spellcheck","false"),n||this.GetIsLinked()||this.IsCustomEditor()||(i=this.FSelStart,s=this.FSelStart+this.FSelLength,e=this.GetElementInputHandle(),setTimeout((function(){e.setSelectionRange(i,s)}),1))}},this.SetCharCase=function(t){this.FCharCase!==t&&(this.FCharCase=t,this.UpdateElement())},this.SetMaxLength=function(t){this.FMaxLength!==t&&(this.FMaxLength=t,this.UpdateElementData())},this.SetReadOnly=function(t){this.FReadOnly=t,this.UpdateElement()},this.SetText=function(t){this.FText=t,null!=this.GetElementInputHandle()&&(this.GetElementInputHandle().value=this.GetDisplayText(),this.GetElementInputHandle().readOnly=this.IsReadOnly())},this.SetTextHint=function(t){this.FTextHint=t,this.UpdateElement()},this.CanPaste=function(t){return!0,!0},this.CanCut=function(){return!0,!0},this.CreateInitialize=function(){t.TCustomInput.CreateInitialize.call(this),this.FAutoCompletion=0,this.FEditType=0,this.FText="",this.FCharCase=1,this.FMaxLength=0,this.FReadOnly=!1,this.FTextHint="",this.FPasswordChar="\0",this.FSpellCheck=!0,this.SetHeight(25)},this.Change=function(){null!=this.GetElementHandle()&&(this.FText=this.GetElementInputHandle().value),null!=this.FOnChange&&this.FOnChange(this)},this.SelectAll=function(){null!=this.GetElementInputHandle()&&this.GetElementInputHandle().select()},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TEdit",this.TCustomEdit,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Alignment",2,pas.Classes.$rtti.TAlignment,"FAlignment","SetAlignment"),e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoCompletion",2,t.$rtti.TAutoCompletion,"FAutoCompletion","SetAutoCompletion",{Default:t.TAutoCompletion.acOff}),e.addProperty("AutoFocus",2,rtl.boolean,"FAutoFocus","SetAutoFocus",{Default:!1}),e.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAutoSize",{Default:!1}),e.addProperty("AutoSelect",2,rtl.boolean,"FAutoSelect","SetAutoSelect",{Default:!1}),e.addProperty("BiDiMode",2,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode","SetBiDiMode",{Default:pas["WEBLib.Controls"].TBiDiMode.bdLeftToRight}),e.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),e.addProperty("CharCase",2,t.$rtti.TEditCharCase,"FCharCase","SetCharCase",{Default:t.TEditCharCase.wecNormal}),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("EditType",2,t.$rtti.TEditType,"FEditType","SetEditType",{Default:t.TEditType.weString}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("HideSelection",2,rtl.boolean,"FHideSelection","SetHideSelection"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("PasswordChar",2,rtl.char,"FPasswordChar","SetPasswordChar",{Default:"\0"}),e.addProperty("Pattern",2,rtl.string,"FPattern","SetPattern"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("MaxLength",2,rtl.longint,"FMaxLength","SetMaxLength",{Default:0}),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("ReadOnly",2,rtl.boolean,"FReadOnly","SetReadOnly",{Default:!1}),e.addProperty("Required",2,rtl.boolean,"FRequired","SetRequired",{Default:!1}),e.addProperty("RequiredText",0,rtl.string,"FRequiredText","FRequiredText"),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("SpellCheck",2,rtl.boolean,"FSpellCheck","SetSpellCheck",{Default:!0}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Text",3,rtl.string,"GetText","SetText"),e.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),e.addProperty("TextHint",2,rtl.string,"FTextHint","SetTextHint"),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TButton",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FDefault=!1,this.FButtonType=""},this.SetButtonType=function(t){this.FButtonType=t,this.UpdateElementData()},this.SetDefault=function(t){this.FDefault=t,this.FDefault&&this.SetFocus()},this.CreateElement=function(){var t=null;return(t=document.createElement("BUTTON")).setAttribute("type","BUTTON"),t},this.SetCaption=function(t){this.FCaption!==t&&(pas["WEBLib.Controls"].TCustomControl.SetCaption.call(this,t),this.UpdateElementData())},this.UpdateElementData=function(){var t="";pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),this.GetIsLinked()&&""===this.FCaption||null!=this.GetElementHandle()&&((0===this.GetElementHandle().childElementCount||pas.System.Pos("</",this.FCaption)>0||!this.GetIsLinked())&&(this.GetElementHandle().innerHTML=pas["WEBLib.WebTools"].ProcessAccelerator(this.FCaption,{get:function(){return t},set:function(e){t=e}})),""!==t&&this.GetElementHandle().setAttribute("accesskey",t),this.GetElementHandle().setAttribute("role","button"),this.GetElementHandle().setAttribute("aria-label",this.FCaption),""!==this.FButtonType?this.GetElementHandle().setAttribute("type",this.FButtonType):this.GetElementHandle().setAttribute("type","BUTTON"))},this.UpdateElementVisual=function(){var t="";pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null!=this.GetElementHandle()&&(this.GetElementHandle().style.removeProperty("outline"),this.GetElementHandle().style.removeProperty("user-select"),"BTN"===(t=pas.SysUtils.UpperCase(this.FElementClassName))||pas.System.Pos("BTN ",t))},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),4 in this.FComponentState&&""===this.FCaption&&this.SetCaption(this.FName),this.SetColor(-1)},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),t.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),t.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),t.addProperty("BiDiMode",2,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode","SetBiDiMode",{Default:pas["WEBLib.Controls"].TBiDiMode.bdLeftToRight}),t.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),t.addProperty("ButtonType",2,rtl.string,"FButtonType","SetButtonType"),t.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),t.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),t.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),t.addProperty("Default",2,rtl.boolean,"FDefault","SetDefault"),t.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),t.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),t.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),t.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),t.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),t.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),t.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),t.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),t.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),t.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("Hint",2,rtl.string,"FHint","SetHint"),t.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),t.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),t.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),t.addProperty("Role",3,rtl.string,"GetRole","SetRole"),t.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),t.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),t.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),t.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),t.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),t.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),t.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),t.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),t.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),t.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),t.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),t.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),t.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),t.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),t.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),t.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),t.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),t.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),t.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),t.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),t.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),t.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),t.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),t.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),this.TComboBoxStyle={0:"csDropDownList",csDropDownList:0,1:"csDropDown",csDropDown:1},this.$rtti.$Enum("TComboBoxStyle",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TComboBoxStyle}),rtl.createClass(this,"TCustomComboBox",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FItems=null,this.FItemIndex=0,this.FStyle=0,this.FOnChange=null,this.FTextHint="",this.FListName="",this.FText="",this.FHandleChangePtr=null,this.FHandleInputPtr=null,this.FHandleFocusInPtr=null,this.FHandleFocusOutPtr=null,this.FOnFocusOut=null,this.FOnFocusIn=null},this.$final=function(){this.FItems=void 0,this.FOnChange=void 0,this.FOnFocusOut=void 0,this.FOnFocusIn=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.GetText=function(){var t="";return t="",1===this.FStyle?null!=this.GetElementHandle()&&(t=this.GetElementHandle().value):this.GetItemIndex()>=0&&(t=this.FItems.Get(this.GetItemIndex())),t},this.SetText=function(t){var e=0;if(1===this.FStyle)this.FText=t,this.UpdateElement();else for(var i=0,s=this.FItems.GetCount()-1;i<=s;i++)e=i,t===this.FItems.Get(e)&&this.SetItemIndex(e)},this.SetStyle=function(t){this.FStyle!==t&&(this.FStyle=t,this.GetIsLinked()||this.RecreateElement())},this.GetElementSelectHandle=function(){return this.GetContainer()},this.SetTextHint=function(t){this.FTextHint!==t&&(this.FTextHint=t,this.DoUpdateList())},this.DoHandleChange=function(t){return this.Change(),!0,!0},this.DoHandleInput=function(t){return 1===this.FStyle&&this.Change(),!0,!0},this.DoHandleFocusIn=function(t){return null!=this.FOnFocusIn&&this.FOnFocusIn(this),!0,!0},this.DoHandleFocusOut=function(t){return null!=this.FOnFocusOut&&this.FOnFocusOut(this),!0,!0},this.DoItemsChange=function(t){this.DoUpdateList()},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FHandleChangePtr=null,this.FHandleInputPtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),this.FHandleChangePtr=rtl.createCallback(this,"DoHandleChange"),this.FHandleInputPtr=rtl.createCallback(this,"DoHandleInput"),this.FHandleFocusInPtr=rtl.createCallback(this,"DoHandleFocusIn"),this.FHandleFocusOutPtr=rtl.createCallback(this,"DoHandleFocusOut")},this.AddTextHint=function(){var t=null;""!==this.FTextHint&&0===this.FStyle&&((t=document.createElement("OPTION")).setAttribute("value",""),t.setAttribute("disabled","true"),t.setAttribute("selected","true"),t.setAttribute("hidden","true"),t.innerHTML=this.FTextHint,this.GetContainer().appendChild(t))},this.DoUpdateList=function(){var t=0,e=0,i="",s="",n="",o=null,r=null;if(null!=this.GetContainer()){if("INPUT"===this.GetElementHandle().tagName){this.GetElementHandle().value=this.GetText(),null!=(r=document.getElementById(this.FName+"_LIST"))&&r.parentNode.removeChild(r),""!==this.FTextHint&&(this.GetElementHandle().placeholder=this.FTextHint),(r=document.createElement("DATALIST")).setAttribute("id",this.FListName),document.body.appendChild(r);for(var a=0,l=this.FItems.GetCount()-1;a<=l;a++)t=a,i=this.FItems.Get(t),o=document.createElement("OPTION"),s=i,n=i,(e=pas.System.Pos(this.FItems.GetNameValueSeparator(),i))>0&&(n=pas.System.Copy(i,1,e-1),s=pas.System.Copy(i,e+1,65535)),o.setAttribute("value",n),o.innerHTML=s,r.appendChild(o)}else{if("SELECT"!==this.GetElementHandle().tagName)return;for(var h=this.GetContainer().options.length-1;h>=0;h--)t=h,this.GetContainer().remove(t);this.AddTextHint();for(var d=0,u=this.FItems.GetCount()-1;d<=u;d++)t=d,i=this.FItems.Get(t),o=document.createElement("OPTION"),s=i,n=i,(e=pas.System.Pos(this.FItems.GetNameValueSeparator(),i))>0&&(n=pas.System.Copy(i,1,e-1),s=pas.System.Copy(i,e+1,65535)),o.setAttribute("value",n),o.innerHTML=s,this.GetContainer().appendChild(o)}this.UpdateElement()}},this.GetItemIndex=function(){var t=0;return 1===this.FStyle?t=this.FItems.IndexOf(this.GetText()):(t=this.FItemIndex,null!=this.GetContainer()&&(t=this.GetContainer().selectedIndex,""!==this.FTextHint&&(t-=1))),t},this.CreateElement=function(){var t=null;return 0===this.FStyle?t=document.createElement("SELECT"):(t=document.createElement("INPUT"),this.FListName=this.FName+"_LIST",t.setAttribute("list",this.FListName)),t},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementHandle()&&(this.GetElementHandle().addEventListener("input",this.FHandleInputPtr),this.GetElementHandle().addEventListener("change",this.FHandleChangePtr),this.GetElementHandle().addEventListener("focusin",this.FHandleFocusInPtr),this.GetElementHandle().addEventListener("focusout",this.FHandleFocusOutPtr))},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.GetElementHandle()&&(this.GetElementHandle().removeEventListener("input",this.FHandleInputPtr),this.GetElementHandle().removeEventListener("change",this.FHandleChangePtr),this.GetElementHandle().removeEventListener("focusin",this.FHandleFocusInPtr),this.GetElementHandle().removeEventListener("focusout",this.FHandleFocusOutPtr))},this.UpdateElementData=function(){var t=0;pas["WEBLib.Controls"].TControl.UpdateElementData.call(this),1===this.FStyle?null!=this.GetElementHandle()&&(this.GetElementHandle().value=this.FText,this.FListName=this.FName+"_LIST",this.GetElementHandle().setAttribute("list",this.FListName)):null!=this.GetElementSelectHandle()&&(t=0,""!==this.FTextHint&&(t=1),this.GetElementSelectHandle().selectedIndex=this.FItemIndex+t,this.GetElementSelectHandle().setAttribute("role","combobox"))},this.UpdateParent=function(){pas["WEBLib.Controls"].TControl.UpdateParent.call(this),this.DoUpdateList()},this.SetItems=function(t){this.FItems.Assign(t)},this.SetItemIndex=function(t){this.FItemIndex!==t&&(this.FItemIndex=t,t>=0&&this.FStyle in rtl.createSet(1,0)&&t<this.FItems.GetCount()&&(this.FText=this.FItems.Get(t)),this.UpdateElement())},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.DoUpdateList()},this.Change=function(){this.FItemIndex=this.GetItemIndex(),null!=this.FOnChange&&this.FOnChange(this)},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FItems=pas.Classes.TStringList.$create("Create$1"),this.FItems.FOnChange=rtl.createCallback(this,"DoItemsChange"),this.FItemIndex=-1,this.FStyle=0,this.SetShowFocus(!0),this.SetHeight(25)},this.Destroy=function(){rtl.free(this,"FItems"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TComboBox",this.TCustomComboBox,(function(){rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("BiDiMode",2,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode","SetBiDiMode",{Default:pas["WEBLib.Controls"].TBiDiMode.bdLeftToRight}),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("ItemIndex",3,rtl.longint,"GetItemIndex","SetItemIndex",{Default:-1}),e.addProperty("Items",2,pas.Classes.$rtti.TStrings,"FItems","SetItems"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("Role",3,rtl.string,"GetRole","SetRole"),e.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("Style",2,t.$rtti.TComboBoxStyle,"FStyle","SetStyle"),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Text",3,rtl.string,"GetText","SetText"),e.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),e.addProperty("TextHint",2,rtl.string,"FTextHint","SetTextHint"),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),this.GetAutoCompletionName=function(t){var e="";return 0===t?e="":1===t?e="honorific-prefix":2===t?e="given-name":3===t?e="additional-name":4===t?e="family-name":5===t?e="honorific-suffix":6===t?e="nickname":7===t?e="email":8===t?e="username":9===t?e="new-password":10===t?e="current-password":11===t?e="organization-title":12===t?e="organization":13===t?e="street-address":14===t?e="address-line1":15===t?e="address-line2":16===t?e="address-line3":17===t?e="address-level1":18===t?e="address-level2":19===t?e="address-level3":20===t?e="address-level4":21===t?e="country":22===t?e="country-name":23===t?e="postal-code":24===t?e="cc-name":25===t?e="cc-given-name":26===t?e="cc-additional-name":27===t?e="cc-family-name":28===t?e="cc-number":29===t?e="cc-exp":30===t?e="cc-exp-month":31===t?e="cc-exp-year":32===t?e="cc-csc":33===t?e="cc-type":34===t?e="transaction-currency":35===t?e="transaction-amount":36===t?e="language":37===t?e="bday":38===t?e="bday-day":39===t?e="bday-month":40===t?e="bday-year":41===t?e="sex":42===t?e="tel":43===t?e="tel-country-code":44===t?e="tel-national":45===t?e="tel-area-code":46===t?e="tel-local":47===t?e="tel-extension":48===t?e="impp":49===t?e="url":50===t?e="photo":52===t&&(e="nope"),e}})),rtl.module("WEBLib.ExtCtrls",["System","Classes","SysUtils","Types","WEBLib.Controls","WEBLib.StdCtrls","WEBLib.Graphics","Web","JS","WEBLib.WebTools","WEBLib.Menus"],(function(){"use strict";var t=this;rtl.createClass(this,"TTimer",pas.Classes.TComponent,(function(){this.$init=function(){pas.Classes.TComponent.$init.call(this),this.FInterval=0,this.FTimerID=0,this.FOnTimer=null,this.FEnabled=!1},this.$final=function(){this.FOnTimer=void 0,pas.Classes.TComponent.$final.call(this)},this.SetEnabled=function(t){this.FEnabled=t,this.DoUpdateTimer()},this.SetInterval=function(t){this.FInterval=t,this.DoUpdateTimer()},this.DoTimer=function(){null!=this.FOnTimer&&this.FOnTimer(this)},this.DoUpdateTimer=function(){this.DoClearTimer(),this.FEnabled&&(this.FTimerID=window.setInterval(rtl.createSafeCallback(this,"DoTimer"),this.FInterval))},this.DoClearTimer=function(){-1!==this.FTimerID&&(window.clearInterval(this.FTimerID),this.FTimerID=-1)},this.Create$1=function(t){return pas.Classes.TComponent.Create$1.apply(this,arguments),this.FInterval=1e3,this.FTimerID=-1,this.SetEnabled(!0),this},this.Destroy=function(){this.DoClearTimer(),pas.Classes.TComponent.Destroy.call(this)},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),t.addProperty("Interval",2,rtl.longint,"FInterval","SetInterval",{Default:1e3}),t.addProperty("OnTimer",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnTimer","FOnTimer")})),rtl.createClass(this,"TCustomPanel",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FAutoSize=!1,this.FIsSizing=!1,this.FPadding=null,this.FShowCaption=!1,this.FLabel=null,this.FPanelBody=null,this.FElementBodyClassName="",this.FAlignment=0},this.$final=function(){this.FPadding=void 0,this.FLabel=void 0,this.FPanelBody=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.SetShowCaption=function(t){this.FShowCaption!==t&&(this.FShowCaption=t,this.UpdateElementVisual())},this.SetPadding=function(t){this.FPadding.Assign(t)},this.SetAlignment=function(t){this.FAlignment!==t&&(this.FAlignment=t,this.UpdateElement())},this.CreateElement=function(){var t=null;return t=document.createElement("SPAN"),this.FPanelBody=document.createElement("DIV"),this.FPanelBody.setAttribute("class","card-body"),t.appendChild(this.FPanelBody),t},this.SetCaption=function(t){pas["WEBLib.Controls"].TCustomControl.SetCaption.call(this,t),null!=this.GetElementHandle()&&this.FShowCaption&&(null==this.FLabel?(this.FLabel=document.createElement("SPAN"),this.FLabel.innerHTML=this.FCaption,null!=this.GetChildContainer()?this.GetChildContainer().appendChild(this.FLabel):this.GetElementHandle().appendChild(this.FLabel),this.UpdateElementVisual()):this.FLabel.innerHTML=this.FCaption)},this.SetBorderStyle=function(t){pas["WEBLib.Controls"].TCustomControl.SetBorderStyle.apply(this,arguments),this.UpdateElement()},this.SetAutoSize=function(t){this.FAutoSize=t,this.FAutoSize&&!this.IsUpdating()&&this.DoAutoSize()},this.UpdateElementVisual=function(){if(pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),null!=this.GetElementHandle()){if(this.GetIsLinked()||(this.FAutoSize?(this.GetElementHandle().style.setProperty("overflow",""),this.GetElementHandle().style.setProperty("white-space","normal"),this.FVisible&&this.GetElementHandle().style.setProperty("display","inline")):(this.GetElementHandle().style.setProperty("overflow","hidden"),this.GetElementHandle().style.setProperty("white-space","nowrap"),this.FVisible&&this.GetElementHandle().style.setProperty("display","inline-block")),this.GetElementHandle().style.setProperty("padding-left",pas.SysUtils.IntToStr(this.FPadding.FLeft)+"px"),this.GetElementHandle().style.setProperty("padding-right",pas.SysUtils.IntToStr(this.FPadding.FRight)+"px"),this.GetElementHandle().style.setProperty("padding-top",pas.SysUtils.IntToStr(this.FPadding.FTop)+"px"),this.GetElementHandle().style.setProperty("padding-bottom",pas.SysUtils.IntToStr(this.FPadding.FBottom)+"px"),this.GetElementHandle().style.setProperty("box-sizing","border-box"),""!==this.FElementBodyClassName?this.GetChildContainer().setAttribute("class",this.FElementBodyClassName):this.GetChildContainer().removeAttribute("class")),null!=this.FLabel&&(this.FShowCaption?this.FLabel.innerHTML=this.FCaption:this.FLabel.innerHTML="",this.FVisible)){this.GetElementHandle().style.setProperty("display","flex");var t=this.FAlignment;0===t?this.GetElementHandle().style.setProperty("justify-content","flex-start"):2===t?this.GetElementHandle().style.setProperty("justify-content","center"):1===t&&this.GetElementHandle().style.setProperty("justify-content","flex-end"),this.GetElementHandle().style.setProperty("align-items","center")}this.GetElementHandle().style.setProperty("user-select",""),0===this.FCursor&&this.GetElementHandle().style.setProperty("cursor","")}},this.GetOuterWidth=function(){return pas["WEBLib.Controls"].TControl.GetOuterWidth.call(this)},this.GetOuterHeight=function(){return pas["WEBLib.Controls"].TControl.GetOuterHeight.call(this)},this.GetChildContainer=function(){return null!=this.FPanelBody?this.FPanelBody:pas["WEBLib.Controls"].TControl.GetChildContainer.call(this)},this.RegisterParent=function(t){pas["WEBLib.Controls"].TControl.RegisterParent.apply(this,arguments),this.FAutoSize&&this.DoAutoSize()},this.UnRegisterParent=function(t){pas["WEBLib.Controls"].TControl.UnRegisterParent.apply(this,arguments),this.FAutoSize&&this.DoAutoSize()},this.DoAutoSize=function(){var t=0,e=0,i=0,s=0,n=0,o=null,r=null;if(!this.FIsSizing){if(this.FIsSizing=!0,1===this.FWidthStyle&&1===this.FHeightStyle){s=0,n=0,e=65535,i=65535;for(var a=0,l=this.GetControlsCount()-1;a<=l;a++)t=a,1===this.GetControls(t).FWidthStyle?(this.GetControls(t).GetLeft()+this.GetControls(t).GetWidth()>s&&(s=this.GetControls(t).GetLeft()+this.GetControls(t).GetWidth()),this.GetControls(t).GetLeft()<e&&(e=this.GetControls(t).GetLeft())):null!=(r=this.GetControls(t).GetElementHandle())&&((o=r.getBoundingClientRect()).x-this.GetLeft()+o.width>s&&(s=Math.round(o.x-this.GetLeft()+o.width)),e=0),1===this.GetControls(t).FHeightStyle?(this.GetControls(t).GetTop()+this.GetControls(t).GetHeight()>n&&(n=this.GetControls(t).GetTop()+this.GetControls(t).GetHeight()),this.GetControls(t).GetTop()<i&&(i=this.GetControls(t).GetTop())):null!=(r=this.GetControls(t).GetElementHandle())&&((o=r.getBoundingClientRect()).y-this.GetTop()+o.height>n&&(n=Math.round(o.y-this.GetTop()+o.height)),i=0);if(4 in this.FComponentState&&(0===this.GetControlsCount()||0===s||0===n))return;1===this.FBorderStyle&&(s+=1,n+=1);for(var h=0,d=this.GetControlsCount()-1;h<=d;h++)t=h,this.GetControls(t).SetLeft(this.GetControls(t).GetLeft()-e),this.GetControls(t).SetTop(this.GetControls(t).GetTop()-i);this.SetWidth(s-e),this.SetHeight(n-i)}else this.SetWidth(-1),this.SetHeight(-1);this.UpdateElement(),this.FIsSizing=!1}},this.AlignControl=function(t){pas["WEBLib.Controls"].TControl.AlignControl.apply(this,arguments),this.FAutoSize&&this.DoAutoSize()},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),4 in this.FComponentState&&(this.FEnablePropagation=!0),this.FAutoSize=!1,this.FAlignment=2,this.SetColor(15790320),this.SetTabStop(!1),this.FCustomBorder=!0,this.SetShowCaption(!0),this.FControlStyle=rtl.unionSet(this.FControlStyle,rtl.createSet(0)),this.FLabel=null,this.FPadding=pas["WEBLib.Controls"].TPadding.$create("Create$1"),4 in this.FComponentState&&(this.SetWidth(400),this.SetHeight(300))},this.Destroy=function(){rtl.free(this,"FPadding"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.EndUpdate=function(){pas["WEBLib.Controls"].TCustomControl.EndUpdate.call(this),this.FAutoSize&&this.SetAutoSize(!0)},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TPanel",this.TCustomPanel,(function(){rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),t.addProperty("Alignment",2,pas.Classes.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:pas.Classes.TAlignment.taCenter}),t.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),t.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),t.addProperty("AutoSize",2,rtl.boolean,"FAutoSize","SetAutoSize",{Default:!1}),t.addProperty("BorderColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBorderColor","SetBorderColor",{Default:12632256}),t.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),t.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),t.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),t.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),t.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),t.addProperty("ElementBodyClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementBodyClassName","FElementBodyClassName"),t.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),t.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),t.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),t.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),t.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),t.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),t.addProperty("Padding",2,pas["WEBLib.Controls"].$rtti.TPadding,"FPadding","SetPadding"),t.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),t.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),t.addProperty("Role",3,rtl.string,"GetRole","SetRole"),t.addProperty("ShowCaption",2,rtl.boolean,"FShowCaption","SetShowCaption",{Default:!0}),t.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),t.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),t.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),t.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),t.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),t.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),t.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TScrollBox",this.TCustomPanel,(function(){this.$init=function(){t.TCustomPanel.$init.call(this),this.FAutoScroll=!1,this.FScrollBars=0,this.FScrollPtr=null,this.FOnScroll=null,this.FVertScrollBar=null,this.FHorzScrollBar=null},this.$final=function(){this.FOnScroll=void 0,this.FVertScrollBar=void 0,this.FHorzScrollBar=void 0,t.TCustomPanel.$final.call(this)},this.SetScrollBars=function(t){this.FScrollBars!==t&&(this.FScrollBars=t,this.UpdateElement())},this.UpdateElement=function(){if(pas["WEBLib.Controls"].TControl.UpdateElement.call(this),null!=this.GetElementHandle()&&!this.IsUpdating()){var t=this.FScrollBars;0===t?this.GetElementHandle().style.setProperty("overflow","hidden"):2===t?(this.GetElementHandle().style.removeProperty("overflow"),this.GetElementHandle().style.setProperty("overflow-x","hidden"),this.GetElementHandle().style.setProperty("overflow-y","auto")):1===t?(this.GetElementHandle().style.removeProperty("overflow"),this.GetElementHandle().style.setProperty("overflow-x","auto"),this.GetElementHandle().style.setProperty("overflow-y","hidden")):3===t&&this.GetElementHandle().style.setProperty("overflow","auto"),this.FVisible&&!this.GetIsLinked()&&this.GetElementHandle().style.setProperty("display","inline-block")}},this.SetAutoScroll=function(t){this.FAutoScroll=t},this.GetClientRect=function(){var t=pas.Types.TRect.$new(),e=0,i=0;return e=0,i=0,this.GetElementHandle().scrollHeight>this.GetElementHandle().clientHeight&&this.FScrollBars in rtl.createSet(3,2)&&(e=16),this.GetElementHandle().scrollWidth>this.GetElementHandle().clientWidth&&this.FScrollBars in rtl.createSet(3,1)&&(i=16),t.$assign(pas.Types.Rect(0,0,this.GetElementHandle().clientWidth-e,this.GetElementHandle().clientHeight-i)),t},this.HandleDoScroll=function(t){return this.DoScroll(),!0,!0},this.DoScroll=function(){null!=this.FOnScroll&&this.FOnScroll(this)},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FScrollPtr=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),null===this.FScrollPtr&&(this.FScrollPtr=rtl.createCallback(this,"HandleDoScroll"))},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementBindHandle()&&this.GetElementBindHandle().addEventListener("scroll",this.FScrollPtr)},this.UnbindEvents=function(){pas["WEBLib.Controls"].TControl.UnbindEvents.call(this),null!=this.GetElementBindHandle()&&this.GetElementBindHandle().removeEventListener("scroll",this.FScrollPtr)},this.CreateInitialize=function(){t.TCustomPanel.CreateInitialize.call(this),this.FAutoScroll=!0,this.FScrollBars=3,this.FHorzScrollBar=pas["WEBLib.Controls"].TControlScrollBar.$create("Create$1",[this,0]),this.FVertScrollBar=pas["WEBLib.Controls"].TControlScrollBar.$create("Create$1",[this,1])},this.Destroy=function(){rtl.free(this,"FHorzScrollBar"),rtl.free(this,"FVertScrollBar"),t.TCustomPanel.Destroy.call(this)},this.EndUpdate=function(){t.TCustomPanel.EndUpdate.call(this),this.AlignControl(this),this.AlignControl(this)},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("AutoScroll",2,rtl.boolean,"FAutoScroll","SetAutoScroll"),e.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("Role",3,rtl.string,"GetRole","SetRole"),e.addProperty("ScrollBars",2,pas["WEBLib.Controls"].$rtti.TScrollStyle,"FScrollBars","SetScrollBars"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnResize",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnResize","FOnResize"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnScroll",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnScroll","FOnScroll"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TSplitter",pas["WEBLib.Controls"].TCustomControl,(function(){this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FLayer$1=null,this.FTouched=!1,this.FFirstMove=!1,this.FSplitControl=null,this.FSizing=!1,this.FSizingX=0,this.FSizingY=0,this.FOriginalWidth=0,this.FOriginalHeight=0,this.FGripColor=0,this.FOnMoved=null,this.FOnMove=null},this.$final=function(){this.FLayer$1=void 0,this.FSplitControl=void 0,this.FOnMoved=void 0,this.FOnMove=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.SetGripColor=function(t){this.FGripColor!==t&&(this.FGripColor=t,this.Invalidate())},this.CreateElement=function(){return pas["WEBLib.Controls"].TCustomControl.CreateElement.call(this)},this.UpdateElement=function(){pas["WEBLib.Controls"].TControl.UpdateElement.call(this)},this.UpdateElementSize=function(){pas["WEBLib.Controls"].TControl.UpdateElementSize.call(this)},this.ColorChanging=function(){pas["WEBLib.Controls"].TControl.ColorChanging.call(this),this.Invalidate()},this.DoSizeStart=function(t,e){var i=pas.Types.TRect.$new(),s=pas.Types.TRect.$new(),n=0,o=null,r=null;if(this.FSizing=!0,i.$assign(pas.Types.Rect(this.GetLeft(),this.GetTop(),this.GetLeft()+this.GetWidth(),this.GetTop()+this.GetHeight())),null!=this.FParent)for(var a=0,l=this.FParent.GetControlsCount()-1;a<=l;a++)if(n=a,(o=this.FParent.GetControls(n)).FAlign===this.FAlign&&o!==this){if(s.$assign(pas.Types.Rect(o.GetLeft(),o.GetTop(),o.GetLeft()+o.GetWidth(),o.GetTop()+o.GetHeight())),3===this.FAlign&&s.Right-i.Left<4){this.FSplitControl=o,this.FOriginalWidth=this.FSplitControl.GetWidth(),this.FSizing=!0,this.FSizingX=t,this.FSizingY=e;break}if(4===this.FAlign&&s.Left-i.Right<4){this.FSplitControl=o,this.FOriginalWidth=this.FSplitControl.GetWidth(),this.FSizing=!0,this.FSizingX=t,this.FSizingY=e;break}if(1===this.FAlign&&s.Bottom-i.Top<4){this.FSplitControl=o,this.FOriginalHeight=this.FSplitControl.GetHeight(),this.FSizing=!0,this.FSizingX=t,this.FSizingY=e;break}if(2===this.FAlign&&s.Top-i.Bottom<4){this.FSplitControl=o,this.FOriginalHeight=this.FSplitControl.GetHeight(),this.FSizing=!0,this.FSizingX=t,this.FSizingY=e;break}}this.FLayer$1=document.createElement("SPAN"),document.body.appendChild(this.FLayer$1),(r=this.FLayer$1).style.setProperty("top","0"),r.style.setProperty("left","0"),r.style.setProperty("right","0"),r.style.setProperty("bottom","0"),r.style.setProperty("z-index","99999999"),r.style.setProperty("webkit-user-select","none"),r.style.setProperty("moz-user-select","none"),r.style.setProperty("khtml-user-select","none"),r.style.setProperty("ms-user-select","none"),r.style.setProperty("user-select","none"),r.style.setProperty("position","absolute"),this.FAlign in rtl.createSet(3,4)&&r.style.setProperty("cursor","col-resize"),this.FAlign in rtl.createSet(1,2)&&r.style.setProperty("cursor","row-resize"),this.FFirstMove=!0,this.FSizing=!0,r.addEventListener("mousemove",rtl.createCallback(this,"HandleDocDoMouseMove")),r.addEventListener("mouseup",rtl.createCallback(this,"HandleDocDoMouseUp")),r.addEventListener("touchmove",rtl.createCallback(this,"HandleDocDoTouchMove")),r.addEventListener("touchend",rtl.createCallback(this,"HandleDocDoTouchEnd"))},this.HandleDoTouchStart=function(t){var e=0,i=0,s=null;return this.StopPropagation(),this.PreventDefault(),t.touches.length>0&&(s=t.touches.item(0),this.FTouched=!0,this.Invalidate(),this.Invalidate(),this.XYToClient(s.clientX,s.clientY,{get:function(){return e},set:function(t){e=t}},{get:function(){return i},set:function(t){i=t}}),this.DoSizeStart(Math.round(e),Math.round(i))),!1,!1},this.HandleDocDoMouseMove=function(t){var e=0,i=0;return this.FSizing&&null!=this.FSplitControl&&(this.FFirstMove?(this.FSizingX=t.clientX,this.FSizingY=t.clientY,this.FFirstMove=!1):(e=Math.round(t.clientX-this.FSizingX),i=Math.round(t.clientY-this.FSizingY),3===this.FAlign&&this.FSplitControl.SetWidth(this.FOriginalWidth+e),4===this.FAlign&&this.FSplitControl.SetWidth(this.FOriginalWidth-e),1===this.FAlign&&this.FSplitControl.SetHeight(this.FOriginalHeight+i),2===this.FAlign&&this.FSplitControl.SetHeight(this.FOriginalHeight-i),this.DoRealign(),null!=this.FOnMove&&this.FOnMove(this))),!0,!0},this.HandleDocDoMouseUp=function(t){return this.FSizing=!1,this.FSplitControl=null,this.FFirstMove=!0,this.FLayer$1.parentNode.removeChild(this.FLayer$1),!0,null!=this.FOnMoved&&this.FOnMoved(this),!0},this.HandleDocDoTouchMove=function(t){var e=null,i=0,s=0;return this.StopPropagation(),t.touches.length>0&&(e=t.touches.item(0),this.FSizing&&null!=this.FSplitControl&&(this.FFirstMove?(this.FSizingX=e.clientX,this.FSizingY=e.clientY,this.FFirstMove=!1):(i=Math.round(e.clientX-this.FSizingX),s=Math.round(e.clientY-this.FSizingY),3===this.FAlign&&this.FSplitControl.SetWidth(this.FOriginalWidth+i),4===this.FAlign&&this.FSplitControl.SetWidth(this.FOriginalWidth-i),1===this.FAlign&&this.FSplitControl.SetHeight(this.FOriginalHeight+s),2===this.FAlign&&this.FSplitControl.SetHeight(this.FOriginalHeight-s),this.DoRealign(),null!=this.FOnMove&&this.FOnMove(this)))),!0,!0},this.HandleDocDoTouchEnd=function(t){return this.FTouched=!1,this.Invalidate(),this.FSizing=!1,this.FSplitControl=null,this.FFirstMove=!0,this.FLayer$1.parentNode.removeChild(this.FLayer$1),!0,null!=this.FOnMoved&&this.FOnMoved(this),!0},this.DoMouseEnter=function(){pas["WEBLib.Controls"].TControl.DoMouseEnter.call(this),this.FAlign in rtl.createSet(3,4)&&this.SetControlCursor(14),this.FAlign in rtl.createSet(1,2)&&this.SetControlCursor(15)},this.MouseUp=function(t,e,i,s){pas["WEBLib.Controls"].TControl.MouseUp.apply(this,arguments),this.FSizing=!1,this.FSplitControl=null},this.MouseDown=function(t,e,i,s){pas["WEBLib.Controls"].TControl.MouseDown.apply(this,arguments),this.DoSizeStart(i,s)},this.Paint=function(){var t=0,e=0,i=0,s=0,n=0;this.FTouched?(this.GetCanvas().FBrush.FColor=8421504,this.GetCanvas().FPen.SetColor(8421504)):(this.GetCanvas().FBrush.FColor=this.FColor,this.GetCanvas().FPen.SetColor(this.FColor)),this.GetCanvas().FBrush.FStyle=0,this.GetCanvas().Rectangle$2(this.GetClientRect()),this.FAlign in rtl.createSet(3,4)&&(e=0,s=6,i=rtl.trunc(this.GetHeight()/2)-9,t=rtl.trunc(this.GetWidth()/2)),this.FAlign in rtl.createSet(1,2)&&(e=6,s=0,t=rtl.trunc(this.GetWidth()/2)-9,i=rtl.trunc(this.GetHeight()/2)-1),this.GetCanvas().FBrush.FColor=this.FGripColor,this.GetCanvas().FPen.SetColor(this.FGripColor);for(n=0;n<=2;n++)this.GetCanvas().Rectangle$1(t,i,t+2,i+2),t+=e,i+=s},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.SetControlCursor(14),4 in this.FComponentState&&(this.SetWidth(6),this.SetHeight(100)),this.SetAlign(3),this.FSplitControl=null,this.SetGripColor(16777215)},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),t.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),t.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),t.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),t.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),t.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),t.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),t.addProperty("GripColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FGripColor","SetGripColor",{Default:16777215}),t.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),t.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),t.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),t.addProperty("OnMove",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMove","FOnMove"),t.addProperty("OnMoved",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMoved","FOnMoved")}))}),["WEBLib.Utils"]),rtl.module("WEBLib.ComCtrls",["System","Classes","SysUtils","Web","WEBLib.Controls","WEBLib.Graphics","WEBLib.ExtCtrls","WEBLib.Menus"],(function(){"use strict";var t=this;rtl.createClass(this,"TTabSheet",pas["WEBLib.ExtCtrls"].TCustomPanel,(function(){this.$init=function(){pas["WEBLib.ExtCtrls"].TCustomPanel.$init.call(this),this.FTabVisible=!1,this.FPosUpdating=!1,this.FOnShow=null,this.FOnHide=null,this.FMaterialGlyph="",this.FMaterialGlyphColor=0,this.FMaterialGlyphType=0,this.FMaterialGlyphSize=0},this.$final=function(){this.FOnShow=void 0,this.FOnHide=void 0,pas["WEBLib.ExtCtrls"].TCustomPanel.$final.call(this)},this.SetTabVisible=function(e){this.FTabVisible!==e&&(this.FTabVisible=e,null!=this.FParent&&t.TPageControl.isPrototypeOf(this.FParent)&&rtl.as(this.FParent,t.TPageControl).DoUpdateList())},this.GetPageIndex=function(){var e=0,i=0,s=0,n=null;if(e=-1,t.TPageControl.isPrototypeOf(this.FParent)){s=0;for(var o=0,r=(n=rtl.as(this.FParent,t.TPageControl)).GetControlsCount()-1;o<=r;o++)i=o,t.TTabSheet.isPrototypeOf(n.GetControls(i))&&(n.GetControls(i)===this?e=s:s+=1)}return e},this.SetPageIndex=function(t){},this.SetMaterialGlyph=function(e){this.FMaterialGlyph!==e&&(this.FMaterialGlyph=e,t.TPageControl.isPrototypeOf(this.FParent)&&rtl.as(this.FParent,t.TPageControl).DoUpdateList())},this.SetMaterialGlyphColor=function(e){this.FMaterialGlyphColor!==e&&(this.FMaterialGlyphColor=e,t.TPageControl.isPrototypeOf(this.FParent)&&rtl.as(this.FParent,t.TPageControl).DoUpdateList())},this.SetMaterialGlyphSize=function(e){this.FMaterialGlyphSize!==e&&(this.FMaterialGlyphSize=e,t.TPageControl.isPrototypeOf(this.FParent)&&rtl.as(this.FParent,t.TPageControl).DoUpdateList())},this.SetMaterialGlyphType=function(e){this.FMaterialGlyphType!==e&&(this.FMaterialGlyphType=e,t.TPageControl.isPrototypeOf(this.FParent)&&rtl.as(this.FParent,t.TPageControl).DoUpdateList())},this.SetCaption=function(e){pas["WEBLib.ExtCtrls"].TCustomPanel.SetCaption.apply(this,arguments),null!=this.FParent&&t.TPageControl.isPrototypeOf(this.FParent)&&rtl.as(this.FParent,t.TPageControl).DoUpdateList()},this.SetParent=function(e){t.TTabSheet.isPrototypeOf(e)&&t.TPageControl.isPrototypeOf(rtl.as(e,t.TTabSheet).FParent)&&(e=rtl.as(e,t.TTabSheet).FParent),pas["WEBLib.Controls"].TControl.SetParent.call(this,e),null!=this.FParent&&t.TPageControl.isPrototypeOf(this.FParent)&&rtl.as(this.FParent,t.TPageControl).DoUpdateList()},this.ResetUpdate=function(){pas["WEBLib.ExtCtrls"].TCustomPanel.EndUpdate.call(this)},this.CreateInitialize=function(){pas["WEBLib.ExtCtrls"].TCustomPanel.CreateInitialize.call(this),this.FEnablePropagation=!0,this.FControlStyle=rtl.unionSet(this.FControlStyle,rtl.createSet(0)),this.SetColor(16777215),this.SetTabVisible(!0),this.SetShowCaption(!1),this.FPosUpdating=!1,this.FMaterialGlyphSize=18,this.FMaterialGlyphType=0,this.FMaterialGlyphColor=-1},this.EndUpdate=function(){pas["WEBLib.ExtCtrls"].TCustomPanel.EndUpdate.call(this),null!=this.FParent&&t.TPageControl.isPrototypeOf(this.FParent)&&rtl.as(this.FParent,t.TPageControl).DoUpdateList()},this.Destroy=function(){var e=null;e=null,null!=this.FParent&&t.TPageControl.isPrototypeOf(this.FParent)&&(e=rtl.as(this.FParent,t.TPageControl)),pas["WEBLib.ExtCtrls"].TCustomPanel.Destroy.call(this),null!=e&&(e.DoUpdateList(),e.SetTabIndex(0))},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Alignment",2,pas.Classes.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:pas.Classes.TAlignment.taCenter}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("BorderColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBorderColor","SetBorderColor",{Default:12632256}),e.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),e.addProperty("Caption",2,rtl.string,"FCaption","SetCaption"),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementBodyClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementBodyClassName","FElementBodyClassName"),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("MaterialGlyph",2,rtl.string,"FMaterialGlyph","SetMaterialGlyph"),e.addProperty("MaterialGlyphColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FMaterialGlyphColor","SetMaterialGlyphColor",{Default:-1}),e.addProperty("MaterialGlyphSize",2,rtl.longint,"FMaterialGlyphSize","SetMaterialGlyphSize",{Default:18}),e.addProperty("MaterialGlyphType",2,pas["WEBLib.Controls"].$rtti.TMaterialGlyphType,"FMaterialGlyphType","SetMaterialGlyphType",{Default:pas["WEBLib.Controls"].TMaterialGlyphType.mgNormal}),e.addProperty("Padding",2,pas["WEBLib.Controls"].$rtti.TPadding,"FPadding","SetPadding"),e.addProperty("PageIndex",7,rtl.longint,"GetPageIndex","SetPageIndex"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("Role",3,rtl.string,"GetRole","SetRole"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("TabVisible",2,rtl.boolean,"FTabVisible","SetTabVisible",{Default:!0}),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnHide",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnHide","FOnHide"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnShow",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnShow","FOnShow"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")})),rtl.createClass(this,"TWebTabSheet",this.TTabSheet,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TPageControl",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FDesignTime=!1,this.FPrevTabIndex=0,this.FItems=null,this.FTabIndex=0,this.FSelectedColor=0,this.FOnChange=null,this.FSelectedTextColor=0,this.FShowTabs=!1,this.FOldVisible=!1},this.$final=function(){this.FItems=void 0,this.FOnChange=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.SetSelectedColor=function(t){this.FSelectedColor!==t&&(this.FSelectedColor=t,this.DoUpdateList())},this.SetTabIndex=function(t){0 in this.FComponentState&&(this.FTabIndex=t),this.FTabIndex!==t&&t>=0&&t<this.PageCount()&&(this.FTabIndex=t,this.FPrevTabIndex=this.FTabIndex,this.DoUpdateList())},this.SetSelectedTextColor=function(t){this.FSelectedTextColor!==t&&(this.FSelectedTextColor=t,this.DoUpdateList())},this.SetShowTabs=function(t){this.FShowTabs!==t&&(this.FShowTabs=t,this.DoUpdateList())},this.GetPage=function(e){var i=null,s=0,n=0;s=-1,i=null;for(var o=0,r=this.GetControlsCount()-1;o<=r;o++)if(n=o,t.TTabSheet.isPrototypeOf(this.GetControls(n))&&(s+=1),s===e){i=rtl.as(this.GetControls(n),t.TTabSheet);break}return i},this.CreateElement=function(){return document.createElement("SPAN")},this.HandleDoClick=function(t){var e="",i="",s=0,n=null,o=null;return e="",(n=t.target).hasAttribute("id")&&(e=n.getAttribute("id")),""!==e&&(""===(i=this.GetID())&&(i=this.FName),e=pas.SysUtils.StringReplace(e,i+"_","",{}),pas.SysUtils.TryStrToInt(e,{get:function(){return s},set:function(t){s=t}})&&(-1!==this.FTabIndex&&null!=(o=this.GetPage(this.FTabIndex))&&null!=o.FOnHide&&o.FOnHide(o),this.FTabIndex=s,this.DoUpdateList(),-1!==this.FTabIndex&&null!=(o=this.GetPage(this.FTabIndex))&&null!=o.FOnShow&&o.FOnShow(o)),pas["WEBLib.Controls"].TControl.HandleDoClick.apply(this,arguments)),!0},this.HandleDoChange=function(t){return this.FPrevTabIndex!==this.FTabIndex&&(this.FPrevTabIndex=this.FTabIndex,null!=this.FOnChange&&this.FOnChange(this)),!0,!0},this.CanAcceptChild=function(e){var i=null;return i=pas["WEBLib.Controls"].TControl.CanAcceptChild.apply(this,arguments),null==e||t.TTabSheet.isPrototypeOf(e)||(i=this.FParent),i},this.BindEvents=function(){pas["WEBLib.Controls"].TCustomControl.BindEvents.call(this),null!=this.GetElementHandle()&&(this.GetElementHandle().onclick=rtl.createSafeCallback(this,"HandleDoChange"))},this.UpdateElement=function(){pas["WEBLib.Controls"].TControl.UpdateElement.call(this)},this.DoUpdateList=function(){var e=0,i=0,s="",n="",o="",r=null,a=null,l=null,h=null,d=null,u=null,c=null,p="",C="",S="",F="",g=0;if(null!=this.GetContainer()&&null!=this.GetElementHandle()&&!this.IsUpdating()){if(u=null,this.GetControlsCount()>0){this.SetBorderStyle(0),null!=(c=this.GetElementHandle().firstChild)&&"DIV"===c.tagName&&"1"===c.getAttribute("data-design")&&(this.GetElementHandle().removeChild(this.GetElementHandle().firstChild),this.GetElementHandle().style.removeProperty("border")),d=pas.Classes.TStringList.$create("Create$1"),o="{#hidden#}",i=this.FTabIndex;for(var m=0,f=this.GetControlsCount()-1;m<=f;m++)e=m,3 in this.GetControls(e).FComponentState&&e<=this.FTabIndex&&(i+=1),t.TTabSheet.isPrototypeOf(this.GetControls(e))&&!(3 in this.GetControls(e).FComponentState)&&(C="",(u=this.GetControls(e)).FTabVisible?(""!==u.FMaterialGlyph&&(p="",F="",u.FEnabled||(F=" md-light md-inactive"),-1!==u.FMaterialGlyphColor&&(p=";color:"+pas["WEBLib.Graphics"].ColorToHTML(u.FMaterialGlyphColor)),S="pointer-events:none",C='<i class="'+pas["WEBLib.Controls"].GetMaterialClass(u.FMaterialGlyphType)+F+'" style="'+S+";font-size:"+pas.SysUtils.IntToStr(u.FMaterialGlyphSize)+"px"+p+'">'+u.FMaterialGlyph+"</i>&nbsp;"),d.Add(C+u.FCaption)):d.Add(o),u.BeginUpdate(),i===e?u.SetAlign(5):u.SetAlign(0),u.SetAlignWithMargins(!0),u.FMargins.SetLeft(0),u.FMargins.SetRight(0),u.FMargins.SetBottom(0),u.SetBorderStyle(1),u.SetVisible(i===e),u.ResetUpdate(),i===e&&u.GetElementHandle().parentElement.insertBefore(u.GetElementHandle(),null),u.GetElementHandle().style.setProperty("background-color",pas["WEBLib.Graphics"].ColorToHTML(u.FColor)));""===(n=this.GetID())&&(n=this.FName);for(var T=0,b=this.GetContainer().childNodes.length-1;T<=b;T++)e=T,null!=(r=this.GetContainer().childNodes.item(e))&&r.getAttribute("id")===n+"_UL"&&this.GetContainer().removeChild(r);this.GetContainer().setAttribute("class",""),this.FEnabled?this.GetElementHandle().style.setProperty("pointer-events","auto"):this.GetElementHandle().style.setProperty("pointer-events","none"),(a=document.createElement("UL")).setAttribute("class",this.FElementClassName),a.setAttribute("id",n+"_UL"),""!==this.FElementClassName?a.setAttribute("role","tablist"):(a.style.setProperty("list-style-type","none"),a.style.setProperty("margin","0"),a.style.setProperty("padding","0"),a.style.setProperty("display","inline-block")),this.FShowTabs||a.style.setProperty("display","none"),this.GetContainer().appendChild(a);for(var y=0,v=d.GetCount()-1;y<=v;y++)e=y,(s=d.Get(e))!==o&&(""===s&&(s="tab"+pas.SysUtils.IntToStr(e)),l=document.createElement("LI"),""!==this.FElementClassName?l.setAttribute("class","nav-item"):(l.style.setProperty("float","left"),0!==this.FBorderStyle&&l.style.setProperty("border-bottom","1px solid lightgray")),1===this.FDragMode&&l.setAttribute("draggable","true"),pas["WEBLib.Controls"].SetHTMLElementFont(l,this.FFont,!(""===this.FElementClassName&&0===this.FElementFont)),a.appendChild(l),this.FEnabled?(h=document.createElement("A")).setAttribute("href","#"+s):h=document.createElement("SPAN"),1===this.FDragMode&&h.setAttribute("draggable","false"),h.innerHTML=s,h.setAttribute("id",n+"_"+pas.SysUtils.IntToStr(e)),""!==this.FElementClassName?(this.FTabIndex===e?h.setAttribute("class","nav-link active"):h.setAttribute("class","nav-link"),h.setAttribute("role","tab"),h.setAttribute("data-toggle","tab"),h.setAttribute("aria-controls",s),this.FTabIndex===e?h.setAttribute("aria-selected","true"):h.setAttribute("aria-selected","false")):(h.style.setProperty("display","block"),h.style.setProperty("text-align","center"),h.style.setProperty("padding","3px 15px"),h.style.setProperty("text-decoration","none"),h.style.setProperty("min-width","50px"),h.style.setProperty("color","inherit"),h.style.setProperty("font-family","inherit"),h.style.setProperty("font-style","inherit"),h.style.setProperty("font-size","inherit"),this.FEnabled||h.style.setProperty("pointer-events","none"),this.FTabIndex===e&&(-1!==this.FSelectedColor&&h.style.setProperty("background-color",pas["WEBLib.Graphics"].ColorToHTML(this.FSelectedColor)),-1!==this.FSelectedTextColor&&h.style.setProperty("color",pas["WEBLib.Graphics"].ColorToHTML(this.FSelectedTextColor)))),l.appendChild(h));for(var L=0,B=this.GetControlsCount()-1;L<=B;L++)e=L,t.TTabSheet.isPrototypeOf(this.GetControls(e))&&(g=Math.round(a.offsetHeight)-1,this.GetControls(e).FMargins.SetTop(g),this.GetControls(e).GetElementHandle().style.setProperty("white-space",""));d=rtl.freeLoc(d)}else this.GetIsLinked()||(this.ClearChildElements(),4 in this.FComponentState&&this.RenderDesigning("TWebPageControl",this.GetContainer(),this,!0,""));this.DoUpdateResize(),null!=u&&(u.SetAlign(0),u.SetAlign(5)),this.UpdateElement(),this.GetIsLinked()||0!==this.GetControlsCount()||this.GetElementHandle().style.setProperty("border","1px solid lightgray")}},this.DoUpdateResize=function(){for(var e=0,i=0,s=0,n=this.GetControlsCount()-1;s<=n;s++)e=s,t.TTabSheet.isPrototypeOf(this.GetControls(e))&&this.GetControls(e).SetVisible(!1);for(var o=0,r=this.GetControlsCount()-1;o<=r;o++)e=o,t.TTabSheet.isPrototypeOf(this.GetControls(e))&&(this.GetControls(e).SetVisible(!0),this.GetControls(e).SetAlign(0),this.GetControls(e).SetAlign(5),this.GetControls(e).SetVisible(!1));i=this.FTabIndex;for(var a=0,l=this.GetControlsCount()-1;a<=l;a++)e=a,3 in this.GetControls(e).FComponentState&&e<=this.FTabIndex&&(i+=1),t.TTabSheet.isPrototypeOf(this.GetControls(e))&&this.GetControls(e).SetVisible(i===e)},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.DoUpdateList(),this.SetTabIndex(this.FTabIndex),this.FOldVisible=this.FVisible},this.VisibleChanged=function(){pas["WEBLib.Controls"].TControl.VisibleChanged.call(this),this.FOldVisible!==this.FVisible&&(this.DoUpdateList(),this.FOldVisible=this.FVisible)},this.ItemsChanged=function(e){var i=0,s=null;0===this.PageCount()&&this.FItems.GetCount()>0&&this.GetElementHandle().childElementCount>0&&this.GetElementHandle().removeChild(this.GetElementHandle().firstChild);for(var n=0,o=this.FItems.GetCount()-1;n<=o;n++)i=n,this.PageCount()<=i&&((s=t.TTabSheet.$create("Create$1",[this.FOwner])).SetParent(this),s.SetName(this.FName+"sheet"+pas.SysUtils.IntToStr(i+1))),this.GetPage(i).SetCaption(this.FItems.Get(i));for(var r=this.PageCount()-1;r>=0;r--)(i=r)>=this.FItems.GetCount()&&(s=this.GetPage(i),s=rtl.freeLoc(s));this.DoUpdateList()},this.SetParent=function(e){var i=null,s=null;pas["WEBLib.Controls"].TControl.SetParent.apply(this,arguments),this.FDesignTime&&(s=pas["WEBLib.Forms"].GetParentForm(this),this.FDesignTime=!1,(i=t.TWebTabSheet.$create("Create$1",[s])).SetParent(this),i.SetCaption("Page1"),i.SetName(this.GetUniqueName()),(i=t.TWebTabSheet.$create("Create$1",[s])).SetParent(this),i.SetCaption("Page2"),i.SetName(this.GetUniqueName())),this.DoUpdateList()},this.GetUniqueName=function(){var t,e="",i=0,s=0,n=!1;s=1,t=this.FName+"sheet";do{e=t+pas.SysUtils.IntToStr(s),n=!0;for(var o=0,r=this.FOwner.GetComponentCount()-1;o<=r;o++)if(i=o,this.FOwner.GetComponent(i).FName===e){n=!1,s+=1;break}}while(!n);return e},this.EnableDrag=function(){null!=this.GetContainer()&&function t(e){for(var i=0,s="",n=0,o=e.children.length-1;n<=o;n++)i=n,"LI"===(s=e.children.item(i).tagName)?(e.children.item(i).setAttribute("draggable","true"),t(e.children.item(i))):"A"===s?e.children.item(i).setAttribute("draggable","false"):"UL"===s&&t(e.children.item(i))}(this.GetContainer())},this.DisableDrag=function(){null!=this.GetContainer()&&function t(e){for(var i=0,s="",n=0,o=e.children.length-1;n<=o;n++)i=n,"LI"===(s=e.children.item(i).tagName)?(e.children.item(i).removeAttribute("draggable"),t(e.children.item(i))):"A"===s?e.children.item(i).removeAttribute("draggable"):"UL"===s&&t(e.children.item(i))}(this.GetContainer())},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FDesignTime=4 in this.FComponentState&&!(1 in this.FOwner.FComponentState||0 in this.FOwner.FComponentState),this.FControlStyle=rtl.unionSet(this.FControlStyle,rtl.createSet(0)),this.SetBorderStyle(0),this.FItems=pas.Classes.TStringList.$create("Create$1"),this.FItems.FOnChange=rtl.createCallback(this,"ItemsChanged"),this.FTabIndex=0,this.FPrevTabIndex=this.FTabIndex,this.FShowTabs=!0,this.SetTabStop(!1),this.FSelectedColor=12632256,this.FSelectedTextColor=0,4 in this.FComponentState&&(this.SetWidth(400),this.SetHeight(300)),this.FEnablePropagation=!0,this.FOldVisible=!0},this.Destroy=function(){rtl.free(this,"FItems"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.EndUpdate=function(){pas["WEBLib.Controls"].TCustomControl.EndUpdate.call(this),this.DoUpdateList()},this.PageCount=function(){var e=0,i=0;e=0;for(var s=0,n=this.GetControlsCount()-1;s<=n;s++)i=s,t.TTabSheet.isPrototypeOf(this.GetControls(i))&&(e+=1);return e},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),e.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsNone}),e.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),e.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),e.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),e.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),e.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),e.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),e.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("TabIndex",2,rtl.longint,"FTabIndex","SetTabIndex"),e.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("ShowTabs",2,rtl.boolean,"FShowTabs","SetShowTabs",{Default:!0}),e.addProperty("SelectedColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FSelectedColor","SetSelectedColor",{Default:12632256}),e.addProperty("SelectedTextColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FSelectedTextColor","SetSelectedTextColor",{Default:0}),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),e.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),e.addProperty("OnChange",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnChange","FOnChange"),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),e.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")}))}),["WEBLib.Forms","WEBLib.Utils"]),rtl.module("WEBLib.TMSFNCUtils",["System","Classes","SysUtils","Types","WEBLib.Graphics","WEBLib.TMSFNCTypes","WEBLib.Controls","WEBLib.Forms","JS","WEBLib.Dialogs","WEBLib.JSON","Web"],(function(){"use strict";var t=this.$impl;rtl.createClass(this,"TTMSFNCUtils",pas.System.TObject,(function(){this.SetFontSize=function(t,e,i){t.SetSize(Math.round(e/96*72))},this.IsHTML=function(t){return pas.System.Pos("</",t)>0||pas.System.Pos("/>",t)>0||pas.System.Pos("<BR>",pas.SysUtils.UpperCase(t))>0},this.GetMousePos=function(){var t=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),e=pas.Types.TPoint.$new();return t.$assign(pas["WEBLib.TMSFNCTypes"].PointF(-1,-1)),e.$assign(pas["WEBLib.Controls"].GetMousePos()),t.$assign(pas["WEBLib.TMSFNCTypes"].PointF(e.x,e.y)),t},this.GetDPIScale=function(t,e){return 1,1},this.VarPos=function(t,e,i){rtl.rc(i.get(),-2147483648,2147483647);return i.set(pas.System.Pos(t,e)),rtl.rc(i.get(),-2147483648,2147483647)},this.CharInStr=function(t,e){var i="";return i="\0",e>0&&e<=t.length&&(i=t.charAt(e-1)),i},this.URLDecode=function(t){return""===t?"":decodeURIComponent(t)},this.MulDivInt=function(t,e,i){var s,n=0;return 0===i?n=-1:n=(s=t*e/i)>=0?pas.System.Trunc(s+.5):pas.System.Trunc(s-.5),n},this.LoadBitmapFromBase64=function(t,e,i){var s="";s=t,pas.System.Pos(";base64,",s)>0||(s="data:image/png;base64,"+s),e.LoadFromResource(s)},this.CharInSet=function(t,e){var i=!1;i=!1;for(var s=0,n=rtl.length(e)-1;s<=n;s++)if(t===e[s]){i=!0;break}return i},this.CreateCharSet=function(t){var e=[],i=0;e=rtl.arraySetLength(e,"",t.length);for(var s=1,n=t.length;s<=n;s++)e[(i=s)-1]=this.CharInStr(t,i);return e},this.IPos=function(t,e){return pas.System.Pos(pas.SysUtils.UpperCase(t),pas.SysUtils.UpperCase(e))},this.UnFixMarkup=function(e,i,s){var n=0;if(!s){for(;pas.System.Pos("&lt;",e)>0;)this.TagReplaceString("&lt;","<",{get:function(){return e},set:function(t){e=t}});for(;pas.System.Pos("&gt;",e)>0;)this.TagReplaceString("&gt;",">",{get:function(){return e},set:function(t){e=t}});for(;pas.System.Pos("&amp;",e)>0;)this.TagReplaceString("&amp;","&",{get:function(){return e},set:function(t){e=t}});for(;pas.System.Pos("&quot;",e)>0;)this.TagReplaceString("&quot;",'"',{get:function(){return e},set:function(t){e=t}})}if(i)for(n=4;n<=86;n++)for(;pas.System.Pos(t.HTMLSpecialChar[n-1],e)>0;)this.TagReplaceString(t.HTMLSpecialChar[n-1],t.HTMLEncodedChar[n-1],{get:function(){return e},set:function(t){e=t}});return e},this.TagReplaceString=function(t,e,i){var s,n=!1;return(s=this.IPos(t,i.get()))>0?(n=!0,pas.System.Delete(i,s,t.length),i.set(pas.System.Copy(i.get(),1,s-1)+e+pas.System.Copy(i.get(),s,i.get().length))):n=!1,n},this.IndexOfTextInArray=function(t,e){var i=0,s=0;i=-1;for(var n=0,o=rtl.length(e)-1;n<=o;n++)if(s=n,pas.SysUtils.SameText(t,e[s])){if(!(pas.System.Pos("cute",t)>0||pas.System.Pos("grave",t)>0||pas.System.Pos("uml",t)>0||pas.System.Pos("circ",t)>0||pas.System.Pos("tilde",t)>0||pas.System.Pos("ring",t)>0||pas.System.Pos("cedil",t)>0)){i=s;break}if(t===e[s]){i=s;break}}return i},this.GetParentForm=function(t){var e,i=null;return i=null,null==(e=t)?i:i=pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(e.FParent)?rtl.as(e.FParent,pas["WEBLib.Forms"].TCustomForm):this.GetParentForm(e.FParent)},this.GetOwnerForm=function(t){var e,i=null;return i=null,null==(e=t)?i:i=pas["WEBLib.Forms"].TCustomForm.isPrototypeOf(e.FOwner)?rtl.as(e.FOwner,pas["WEBLib.Forms"].TCustomForm):this.GetOwnerForm(e.FOwner)},this.EscapeString=function(e){var i="",s="",n="",o=0;function r(e,i){var s=!1,n=0;for(s=!1,i.set(""),n=1;n<=7;n++)if(e===t.JSONSpecialChar[n-1]){i.set(t.JSONEncodedSpecialChar[n-1]),s=!0;break}return s}i="";for(var a=1,l=e.length;a<=l;a++)o=a,(n=this.CharInStr(e,o))>""?i=i+"\\u"+pas.SysUtils.IntToHex(n.charCodeAt(),4):(s="",r(n,{get:function(){return s},set:function(t){s=t}})?i+=s:i+=n);return i},this.UnescapeString=function(t){var e=0,i=0,s=0,n="",o=0;for(n=rtl.strSetLength(n,t.length),0,e=1,i=1;e<=t.length;){if("\\"===t.charAt(e-0-1)){if(!(e<t.length))throw pas.SysUtils.Exception.$create("Create$1",["Unexpected end of string"]);if("\\"===t.charAt(e+1-0-1))o=i-0,n=rtl.setCharAt(n,o-1,"\\"),e+=2;else if("/"===t.charAt(e+1-0-1))o=i-0,n=rtl.setCharAt(n,o-1,"/"),e+=2;else if("b"===t.charAt(e+1-0-1))o=i-0,n=rtl.setCharAt(n,o-1,"\b"),e+=2;else if("f"===t.charAt(e+1-0-1))o=i-0,n=rtl.setCharAt(n,o-1,"\f"),e+=2;else if("n"===t.charAt(e+1-0-1))o=i-0,n=rtl.setCharAt(n,o-1,"\n"),e+=2;else if("r"===t.charAt(e+1-0-1))o=i-0,n=rtl.setCharAt(n,o-1,"\r"),e+=2;else if("t"===t.charAt(e+1-0-1))o=i-0,n=rtl.setCharAt(n,o-1,"\t"),e+=2;else if('"'===t.charAt(e+1-0-1))o=i-0,n=rtl.setCharAt(n,o-1,'"'),e+=2;else{if(!("u"===t.charAt(e+1-0-1)&&e+1+4<=t.length&&pas.SysUtils.TryStrToInt("$"+pas.System.Copy(t,e+2,4),{get:function(){return s},set:function(t){s=t}})))throw pas.SysUtils.Exception.$create("CreateFmt",["Invalid code at position %s",pas.System.VarRecs(18,pas.SysUtils.IntToStr(e))]);e+=6,o=i-0,n=rtl.setCharAt(n,o-1,String.fromCharCode(s))}}else o=i-0,n=rtl.setCharAt(n,o-1,t.charAt(e-0-1)),e+=1;i+=1}return n=rtl.strSetLength(n,i-1)}})),this.$implcode=function(){t.HTMLNumSpecialChar=86,t.JSONNumSpecialChar=7,t.HTMLEncodedChar=["&","<",">",'"'," ","é","è","ë","ê","ó","ò","ö","ô","í","ì","ï","î","ú","ù","ü","û","á","à","ä","â","É","È","Ë","Ê","Ó","Ò","Ö","Ô","Í","Ì","Ï","Î","Ú","Ù","Ü","Û","Á","À","Ä","Â","ç","Ç","ø","Ø","å","Å","©","®","€","«","»","ã","Ã","õ","Õ","™","§","¶","ß","£","$","§","‰","¶","'","¥","¤","¢","±","¡","°","ý","Ý","¼","½","¾","Æ","æ","Ñ","ñ","Ð"],t.HTMLSpecialChar=["amp;","lt;","gt;","quot;","&nbsp;","&eacute;","&egrave;","&euml;","&ecirc;","&oacute;","&ograve;","&ouml;","&ocirc;","&iacute;","&igrave;","&iuml;","&icirc;","&uacute;","&ugrave;","&uuml;","&ucirc;","&aacute;","&agrave;","&auml;","&acirc;","&Eacute;","&Egrave;","&Euml;","&Ecirc;","&Oacute;","&Ograve;","&Ouml;","&Ocirc;","&Iacute;","&Igrave;","&Iuml;","&Icirc;","&Uacute;","&Ugrave;","&Uuml;","&Ucirc;","&Aacute;","&Agrave;","&Auml;","&Acirc;","&ccedil;","&Ccedil;","&oslash;","&Oslash;","&aring;","&Aring;","&copy;","&reg;","&euro;","&laquo;","&raquo;","&atilde;","&Atilde;","&otilde;","&Otilde","&trade;","&sect;","&para;","&szlig;","&pound;","&#36;","&sect;","&permil;","&para;","&#39;","&yen;","&curren;","&cent;","&plusmn;","&iexcl;","&deg;","&#x00FD;","&#221;","&frac14;","&frac12;","&frac34;","&AElig;","&aelig;","&Ntilde;","&ntilde;","&ETH;"],t.JSONSpecialChar=['"',"\\","\b","\f","\n","\r","\t"],t.JSONEncodedSpecialChar=["\\u0022","\\u005C","\\u0008","\\u000C","\\u000A","\\u000D","\\u0009"],t.FMimeTypes=null,t.RegisterMimeTypes=function(){function e(e,i){t.FMimeTypes.Add(e+t.FMimeTypes.GetNameValueSeparator()+i)}e("ez","application/andrew-inset"),e("aw","application/applixware"),e("atom","application/atom+xml"),e("atomcat","application/atomcat+xml"),e("atomsvc","application/atomsvc+xml"),e("bson","application/bson"),e("ccxml","application/ccxml+xml"),e("cdmia","application/cdmi-capability"),e("cdmic","application/cdmi-container"),e("cdmid","application/cdmi-domain"),e("cdmio","application/cdmi-object"),e("cdmiq","application/cdmi-queue"),e("cu","application/cu-seeme"),e("davmount","application/davmount+xml"),e("dbk","application/docbook+xml"),e("dssc","application/dssc+der"),e("xdssc","application/dssc+xml"),e("ecma","application/ecmascript"),e("emma","application/emma+xml"),e("epub","application/epub+zip"),e("exi","application/exi"),e("pfr","application/font-tdpfr"),e("gml","application/gml+xml"),e("gpx","application/gpx+xml"),e("gxf","application/gxf"),e("stk","application/hyperstudio"),e("ink","application/inkml+xml"),e("inkml","application/inkml+xml"),e("ipfix","application/ipfix"),e("jar","application/java-archive"),e("ser","application/java-serialized-object"),e("class","application/java-vm"),e("js","application/javascript"),e("json","application/json"),e("jsonml","application/jsonml+json"),e("lostxml","application/lost+xml"),e("hqx","application/mac-binhex40"),e("cpt","application/mac-compactpro"),e("mads","application/mads+xml"),e("mrc","application/marc"),e("mrcx","application/marcxml+xml"),e("ma","application/mathematica"),e("nb","application/mathematica"),e("mb","application/mathematica"),e("mathml","application/mathml+xml"),e("mbox","application/mbox"),e("mscml","application/mediaservercontrol+xml"),e("metalink","application/metalink+xml"),e("meta4","application/metalink4+xml"),e("mets","application/mets+xml"),e("mods","application/mods+xml"),e("m21","application/mp21"),e("mp21","application/mp21"),e("mp4s","application/mp4"),e("doc","application/msword"),e("dot","application/msword"),e("mxf","application/mxf"),e("bin","application/octet-stream"),e("bpk","application/octet-stream"),e("class","application/octet-stream"),e("deploy","application/octet-stream"),e("dist","application/octet-stream"),e("distz","application/octet-stream"),e("dmg","application/octet-stream"),e("dms","application/octet-stream"),e("dump","application/octet-stream"),e("elc","application/octet-stream"),e("iso","application/octet-stream"),e("lha","application/octet-stream"),e("lrf","application/octet-stream"),e("lzh","application/octet-stream"),e("mar","application/octet-stream"),e("pkg","application/octet-stream"),e("so","application/octet-stream"),e("oda","application/oda"),e("opf","application/oebps-package+xml"),e("ogx","application/ogg"),e("omdoc","application/omdoc+xml"),e("onetoc","application/onenote"),e("onetoc2","application/onenote"),e("onetmp","application/onenote"),e("onepkg","application/onenote"),e("oxps","application/oxps"),e("xer","application/patch-ops-error+xml"),e("pdf","application/pdf"),e("pgp","application/pgp-encrypted"),e("asc","application/pgp-signature"),e("sig","application/pgp-signature"),e("prf","application/pics-rules"),e("p10","application/pkcs10"),e("p7m","application/pkcs7-mime"),e("p7c","application/pkcs7-mime"),e("p7s","application/pkcs7-signature"),e("p8","application/pkcs8"),e("ac","application/pkix-attr-cert"),e("cer","application/pkix-cert"),e("crl","application/pkix-crl"),e("pkipath","application/pkix-pkipath"),e("pki","application/pkixcmp"),e("pls","application/pls+xml"),e("ai","application/postscript"),e("eps","application/postscript"),e("ps","application/postscript"),e("cww","application/prs.cww"),e("pskcxml","application/pskc+xml"),e("rdf","application/rdf+xml"),e("rif","application/reginfo+xml"),e("rnc","application/relax-ng-compact-syntax"),e("rl","application/resource-lists+xml"),e("rld","application/resource-lists-diff+xml"),e("rs","application/rls-services+xml"),e("gbr","application/rpki-ghostbusters"),e("mft","application/rpki-manifest"),e("roa","application/rpki-roa"),e("rsd","application/rsd+xml"),e("rss","application/rss+xml"),e("rtf","application/rtf"),e("sbml","application/sbml+xml"),e("scq","application/scvp-cv-request"),e("scs","application/scvp-cv-response"),e("spq","application/scvp-vp-request"),e("spp","application/scvp-vp-response"),e("sdp","application/sdp"),e("setpay","application/set-payment-initiation"),e("setreg","application/set-registration-initiation"),e("shf","application/shf+xml"),e("smi","application/smil+xml"),e("smil","application/smil+xml"),e("soap","application/soap+xml"),e("rq","application/sparql-query"),e("srx","application/sparql-results+xml"),e("gram","application/srgs"),e("grxml","application/srgs+xml"),e("sru","application/sru+xml"),e("ssdl","application/ssdl+xml"),e("ssml","application/ssml+xml"),e("tei","application/tei+xml"),e("teicorpus","application/tei+xml"),e("tfi","application/thraud+xml"),e("tsd","application/timestamped-data"),e("plb","application/vnd.3gpp.pic-bw-large"),e("psb","application/vnd.3gpp.pic-bw-small"),e("pvb","application/vnd.3gpp.pic-bw-var"),e("tcap","application/vnd.3gpp2.tcap"),e("pwn","application/vnd.3m.post-it-notes"),e("aso","application/vnd.accpac.simply.aso"),e("imp","application/vnd.accpac.simply.imp"),e("acu","application/vnd.acucobol"),e("atc","application/vnd.acucorp"),e("acutc","application/vnd.acucorp"),e("air","application/vnd.adobe.air-application-installer-package+zip"),e("fcdt","application/vnd.adobe.formscentral.fcdt"),e("fxp","application/vnd.adobe.fxp"),e("fxpl","application/vnd.adobe.fxp"),e("xdp","application/vnd.adobe.xdp+xml"),e("xfdf","application/vnd.adobe.xfdf"),e("ahead","application/vnd.ahead.space"),e("azf","application/vnd.airzip.filesecure.azf"),e("azs","application/vnd.airzip.filesecure.azs"),e("azw","application/vnd.amazon.ebook"),e("acc","application/vnd.americandynamics.acc"),e("ami","application/vnd.amiga.ami"),e("apk","application/vnd.android.package-archive"),e("cii","application/vnd.anser-web-certificate-issue-initiation"),e("fti","application/vnd.anser-web-funds-transfer-initiation"),e("atx","application/vnd.antix.game-component"),e("mpkg","application/vnd.apple.installer+xml"),e("m3u8","application/vnd.apple.mpegurl"),e("swi","application/vnd.aristanetworks.swi"),e("iota","application/vnd.astraea-software.iota"),e("aep","application/vnd.audiograph"),e("mpm","application/vnd.blueice.multipass"),e("bmi","application/vnd.bmi"),e("rep","application/vnd.businessobjects"),e("cdxml","application/vnd.chemdraw+xml"),e("mmd","application/vnd.chipnuts.karaoke-mmd"),e("cdy","application/vnd.cinderella"),e("cla","application/vnd.claymore"),e("rp9","application/vnd.cloanto.rp9"),e("c4g","application/vnd.clonk.c4group"),e("c4d","application/vnd.clonk.c4group"),e("c4f","application/vnd.clonk.c4group"),e("c4p","application/vnd.clonk.c4group"),e("c4u","application/vnd.clonk.c4group"),e("c11amc","application/vnd.cluetrust.cartomobile-config"),e("c11amz","application/vnd.cluetrust.cartomobile-config-pkg"),e("csp","application/vnd.commonspace"),e("cdbcmsg","application/vnd.contact.cmsg"),e("cmc","application/vnd.cosmocaller"),e("clkx","application/vnd.crick.clicker"),e("clkk","application/vnd.crick.clicker.keyboard"),e("clkp","application/vnd.crick.clicker.palette"),e("clkt","application/vnd.crick.clicker.template"),e("clkw","application/vnd.crick.clicker.wordbank"),e("wbs","application/vnd.criticaltools.wbs+xml"),e("pml","application/vnd.ctc-posml"),e("ppd","application/vnd.cups-ppd"),e("car","application/vnd.curl.car"),e("pcurl","application/vnd.curl.pcurl"),e("dart","application/vnd.dart"),e("rdz","application/vnd.data-vision.rdz"),e("uvf","application/vnd.dece.data"),e("uvvf","application/vnd.dece.data"),e("uvd","application/vnd.dece.data"),e("uvvd","application/vnd.dece.data"),e("uvt","application/vnd.dece.ttml+xml"),e("uvvt","application/vnd.dece.ttml+xml"),e("uvx","application/vnd.dece.unspecified"),e("uvvx","application/vnd.dece.unspecified"),e("uvz","application/vnd.dece.zip"),e("uvvz","application/vnd.dece.zip"),e("fe_launch","application/vnd.denovo.fcselayout-link"),e("dna","application/vnd.dna"),e("mlp","application/vnd.dolby.mlp"),e("dpg","application/vnd.dpgraph"),e("dfac","application/vnd.dreamfactory"),e("kpxx","application/vnd.ds-keypoint"),e("ait","application/vnd.dvb.ait"),e("svc","application/vnd.dvb.service"),e("geo","application/vnd.dynageo"),e("mag","application/vnd.ecowin.chart"),e("nml","application/vnd.enliven"),e("esf","application/vnd.epson.esf"),e("msf","application/vnd.epson.msf"),e("qam","application/vnd.epson.quickanime"),e("slt","application/vnd.epson.salt"),e("ssf","application/vnd.epson.ssf"),e("es3","application/vnd.eszigno3+xml"),e("et3","application/vnd.eszigno3+xml"),e("ez2","application/vnd.ezpix-album"),e("ez3","application/vnd.ezpix-package"),e("fdf","application/vnd.fdf"),e("mseed","application/vnd.fdsn.mseed"),e("seed","application/vnd.fdsn.seed"),e("dataless","application/vnd.fdsn.seed"),e("json","application/vnd.firedac.json"),e("xml","application/vnd.firedac.xml"),e("bin","application/vnd.firedac.bin"),e("gph","application/vnd.flographit"),e("ftc","application/vnd.fluxtime.clip"),e("fm","application/vnd.framemaker"),e("frame","application/vnd.framemaker"),e("maker","application/vnd.framemaker"),e("book","application/vnd.framemaker"),e("fnc","application/vnd.frogans.fnc"),e("ltf","application/vnd.frogans.ltf"),e("fsc","application/vnd.fsc.weblaunch"),e("oas","application/vnd.fujitsu.oasys"),e("oa2","application/vnd.fujitsu.oasys2"),e("oa3","application/vnd.fujitsu.oasys3"),e("fg5","application/vnd.fujitsu.oasysgp"),e("bh2","application/vnd.fujitsu.oasysprs"),e("ddd","application/vnd.fujixerox.ddd"),e("xdw","application/vnd.fujixerox.docuworks"),e("xbd","application/vnd.fujixerox.docuworks.binder"),e("fzs","application/vnd.fuzzysheet"),e("txd","application/vnd.genomatix.tuxedo"),e("ggb","application/vnd.geogebra.file"),e("ggt","application/vnd.geogebra.tool"),e("gex","application/vnd.geometry-explorer"),e("gre","application/vnd.geometry-explorer"),e("gxt","application/vnd.geonext"),e("g2w","application/vnd.geoplan"),e("g3w","application/vnd.geospace"),e("gmx","application/vnd.gmx"),e("kml","application/vnd.google-earth.kml+xml"),e("kmz","application/vnd.google-earth.kmz"),e("gqf","application/vnd.grafeq"),e("gqs","application/vnd.grafeq"),e("gac","application/vnd.groove-account"),e("ghf","application/vnd.groove-help"),e("gim","application/vnd.groove-identity-message"),e("grv","application/vnd.groove-injector"),e("gtm","application/vnd.groove-tool-message"),e("tpl","application/vnd.groove-tool-template"),e("vcg","application/vnd.groove-vcard"),e("hal","application/vnd.hal+xml"),e("zmm","application/vnd.handheld-entertainment+xml"),e("hbci","application/vnd.hbci"),e("les","application/vnd.hhe.lesson-player"),e("hpgl","application/vnd.hp-hpgl"),e("hpid","application/vnd.hp-hpid"),e("hps","application/vnd.hp-hps"),e("jlt","application/vnd.hp-jlyt"),e("pcl","application/vnd.hp-pcl"),e("pclxl","application/vnd.hp-pclxl"),e("sfd-hdstx","application/vnd.hydrostatix.sof-data"),e("mpy","application/vnd.ibm.minipay"),e("afp","application/vnd.ibm.modcap"),e("listafp","application/vnd.ibm.modcap"),e("list3820","application/vnd.ibm.modcap"),e("irm","application/vnd.ibm.rights-management"),e("sc","application/vnd.ibm.secure-container"),e("icc","application/vnd.iccprofile"),e("icm","application/vnd.iccprofile"),e("igl","application/vnd.igloader"),e("ivp","application/vnd.immervision-ivp"),e("ivu","application/vnd.immervision-ivu"),e("igm","application/vnd.insors.igm"),e("xpw","application/vnd.intercon.formnet"),e("xpx","application/vnd.intercon.formnet"),e("i2g","application/vnd.intergeo"),e("qbo","application/vnd.intu.qbo"),e("qfx","application/vnd.intu.qfx"),e("rcprofile","application/vnd.ipunplugged.rcprofile"),e("irp","application/vnd.irepository.package+xml"),e("xpr","application/vnd.is-xpr"),e("fcs","application/vnd.isac.fcs"),e("jam","application/vnd.jam"),e("rms","application/vnd.jcp.javame.midlet-rms"),e("jisp","application/vnd.jisp"),e("joda","application/vnd.joost.joda-archive"),e("ktz","application/vnd.kahootz"),e("ktr","application/vnd.kahootz"),e("karbon","application/vnd.kde.karbon"),e("chrt","application/vnd.kde.kchart"),e("kfo","application/vnd.kde.kformula"),e("flw","application/vnd.kde.kivio"),e("kon","application/vnd.kde.kontour"),e("kpr","application/vnd.kde.kpresenter"),e("kpt","application/vnd.kde.kpresenter"),e("ksp","application/vnd.kde.kspread"),e("kwd","application/vnd.kde.kword"),e("kwt","application/vnd.kde.kword"),e("htke","application/vnd.kenameaapp"),e("kia","application/vnd.kidspiration"),e("kne","application/vnd.kinar"),e("knp","application/vnd.kinar"),e("skp","application/vnd.koan"),e("skd","application/vnd.koan"),e("skt","application/vnd.koan"),e("skm","application/vnd.koan"),e("sse","application/vnd.kodak-descriptor"),e("lasxml","application/vnd.las.las+xml"),e("lbd","application/vnd.llamagraphics.life-balance.desktop"),e("lbe","application/vnd.llamagraphics.life-balance.exchange+xml"),e("123","application/vnd.lotus-1-2-3"),e("apr","application/vnd.lotus-approach"),e("pre","application/vnd.lotus-freelance"),e("nsf","application/vnd.lotus-notes"),e("org","application/vnd.lotus-organizer"),e("scm","application/vnd.lotus-screencam"),e("lwp","application/vnd.lotus-wordpro"),e("portpkg","application/vnd.macports.portpkg"),e("mcd","application/vnd.mcd"),e("mc1","application/vnd.medcalcdata"),e("cdkey","application/vnd.mediastation.cdkey"),e("mwf","application/vnd.mfer"),e("mfm","application/vnd.mfmp"),e("flo","application/vnd.micrografx.flo"),e("igx","application/vnd.micrografx.igx"),e("mif","application/vnd.mif"),e("daf","application/vnd.mobius.daf"),e("dis","application/vnd.mobius.dis"),e("mbk","application/vnd.mobius.mbk"),e("mqy","application/vnd.mobius.mqy"),e("msl","application/vnd.mobius.msl"),e("plc","application/vnd.mobius.plc"),e("txf","application/vnd.mobius.txf"),e("mpn","application/vnd.mophun.application"),e("mpc","application/vnd.mophun.certificate"),e("xul","application/vnd.mozilla.xul+xml"),e("cil","application/vnd.ms-artgalry"),e("cab","application/vnd.ms-cab-compressed"),e("xls","application/vnd.ms-excel"),e("xlm","application/vnd.ms-excel"),e("xla","application/vnd.ms-excel"),e("xlc","application/vnd.ms-excel"),e("xlt","application/vnd.ms-excel"),e("xlw","application/vnd.ms-excel"),e("xlam","application/vnd.ms-excel.addin.macroenabled.12"),e("xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"),e("xlsm","application/vnd.ms-excel.sheet.macroenabled.12"),e("xltm","application/vnd.ms-excel.template.macroenabled.12"),e("eot","application/vnd.ms-fontobject"),e("chm","application/vnd.ms-htmlhelp"),e("ims","application/vnd.ms-ims"),e("lrm","application/vnd.ms-lrm"),e("thmx","application/vnd.ms-officetheme"),e("cat","application/vnd.ms-pki.seccat"),e("stl","application/vnd.ms-pki.stl"),e("ppt","application/vnd.ms-powerpoint"),e("pps","application/vnd.ms-powerpoint"),e("pot","application/vnd.ms-powerpoint"),e("ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"),e("pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"),e("sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"),e("ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"),e("potm","application/vnd.ms-powerpoint.template.macroenabled.12"),e("mpp","application/vnd.ms-project"),e("mpt","application/vnd.ms-project"),e("docm","application/vnd.ms-word.document.macroenabled.12"),e("dotm","application/vnd.ms-word.template.macroenabled.12"),e("wps","application/vnd.ms-works"),e("wks","application/vnd.ms-works"),e("wcm","application/vnd.ms-works"),e("wdb","application/vnd.ms-works"),e("wpl","application/vnd.ms-wpl"),e("xps","application/vnd.ms-xpsdocument"),e("mseq","application/vnd.mseq"),e("mus","application/vnd.musician"),e("msty","application/vnd.muvee.style"),e("taglet","application/vnd.mynfc"),e("nlu","application/vnd.neurolanguage.nlu"),e("ntf","application/vnd.nitf"),e("nitf","application/vnd.nitf"),e("nnd","application/vnd.noblenet-directory"),e("nns","application/vnd.noblenet-sealer"),e("nnw","application/vnd.noblenet-web"),e("ngdat","application/vnd.nokia.n-gage.data"),e("n-gage","application/vnd.nokia.n-gage.symbian.install"),e("rpst","application/vnd.nokia.radio-preset"),e("rpss","application/vnd.nokia.radio-presets"),e("edm","application/vnd.novadigm.edm"),e("edx","application/vnd.novadigm.edx"),e("FExt","application/vnd.novadigm.FExt"),e("odc","application/vnd.oasis.opendocument.chart"),e("otc","application/vnd.oasis.opendocument.chart-template"),e("odb","application/vnd.oasis.opendocument.database"),e("odf","application/vnd.oasis.opendocument.formula"),e("odft","application/vnd.oasis.opendocument.formula-template"),e("odg","application/vnd.oasis.opendocument.graphics"),e("otg","application/vnd.oasis.opendocument.graphics-template"),e("odi","application/vnd.oasis.opendocument.image"),e("oti","application/vnd.oasis.opendocument.image-template"),e("odp","application/vnd.oasis.opendocument.presentation"),e("otp","application/vnd.oasis.opendocument.presentation-template"),e("ods","application/vnd.oasis.opendocument.spreadsheet"),e("ots","application/vnd.oasis.opendocument.spreadsheet-template"),e("odt","application/vnd.oasis.opendocument.text"),e("odm","application/vnd.oasis.opendocument.text-master"),e("ott","application/vnd.oasis.opendocument.text-template"),e("oth","application/vnd.oasis.opendocument.text-web"),e("xo","application/vnd.olpc-sugar"),e("dd2","application/vnd.oma.dd2+xml"),e("oxt","application/vnd.openofficeorg.extension"),e("pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"),e("sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"),e("ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"),e("potx","application/vnd.openxmlformats-officedocument.presentationml.template"),e("xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),e("xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"),e("docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"),e("dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"),e("mgp","application/vnd.osgeo.mapguide.package"),e("dp","application/vnd.osgi.dp"),e("esa","application/vnd.osgi.subsystem"),e("pdb","application/vnd.palm"),e("pqa","application/vnd.palm"),e("oprc","application/vnd.palm"),e("paw","application/vnd.pawaafile"),e("str","application/vnd.pg.format"),e("ei6","application/vnd.pg.osasli"),e("efif","application/vnd.picsel"),e("wg","application/vnd.pmi.widget"),e("plf","application/vnd.pocketlearn"),e("pbd","application/vnd.powerbuilder6"),e("box","application/vnd.previewsystems.box"),e("mgz","application/vnd.proteus.magazine"),e("qps","application/vnd.publishare-delta-tree"),e("ptid","application/vnd.pvi.ptid1"),e("qxd","application/vnd.quark.quarkxpress"),e("qxt","application/vnd.quark.quarkxpress"),e("qwd","application/vnd.quark.quarkxpress"),e("qwt","application/vnd.quark.quarkxpress"),e("qxl","application/vnd.quark.quarkxpress"),e("qxb","application/vnd.quark.quarkxpress"),e("bed","application/vnd.realvnc.bed"),e("mxl","application/vnd.recordare.musicxml"),e("musicxml","application/vnd.recordare.musicxml+xml"),e("cryptonote","application/vnd.rig.cryptonote"),e("cod","application/vnd.rim.cod"),e("rm","application/vnd.rn-realmedia"),e("rmvb","application/vnd.rn-realmedia-vbr"),e("link66","application/vnd.route66.link66+xml"),e("st","application/vnd.sailingtracker.track"),e("see","application/vnd.seemail"),e("sema","application/vnd.sema"),e("semd","application/vnd.semd"),e("semf","application/vnd.semf"),e("ifm","application/vnd.shana.informed.formdata"),e("itp","application/vnd.shana.informed.formtemplate"),e("iif","application/vnd.shana.informed.interchange"),e("ipk","application/vnd.shana.informed.package"),e("twd","application/vnd.simtech-mindmapper"),e("twds","application/vnd.simtech-mindmapper"),e("mmf","application/vnd.smaf"),e("teacher","application/vnd.smart.teacher"),e("sdkm","application/vnd.solent.sdkm+xml"),e("sdkd","application/vnd.solent.sdkm+xml"),e("dxp","application/vnd.spotfire.dxp"),e("sfs","application/vnd.spotfire.sfs"),e("sdc","application/vnd.stardivision.calc"),e("sda","application/vnd.stardivision.draw"),e("sdd","application/vnd.stardivision.impress"),e("smf","application/vnd.stardivision.math"),e("sdw","application/vnd.stardivision.writer"),e("vor","application/vnd.stardivision.writer"),e("sgl","application/vnd.stardivision.writer-global"),e("smzip","application/vnd.stepmania.package"),e("sm","application/vnd.stepmania.stepchart"),e("sxc","application/vnd.sun.xml.calc"),e("stc","application/vnd.sun.xml.calc.template"),e("sxd","application/vnd.sun.xml.draw"),e("std","application/vnd.sun.xml.draw.template"),e("sxi","application/vnd.sun.xml.impress"),e("sti","application/vnd.sun.xml.impress.template"),e("sxm","application/vnd.sun.xml.math"),e("sxw","application/vnd.sun.xml.writer"),e("sxg","application/vnd.sun.xml.writer.global"),e("stw","application/vnd.sun.xml.writer.template"),e("sus","application/vnd.sus-calendar"),e("susp","application/vnd.sus-calendar"),e("svd","application/vnd.svd"),e("sis","application/vnd.symbian.install"),e("sisx","application/vnd.symbian.install"),e("xsm","application/vnd.syncml+xml"),e("bdm","application/vnd.syncml.dm+wbxml"),e("xdm","application/vnd.syncml.dm+xml"),e("tao","application/vnd.tao.intent-module-archive"),e("pcap","application/vnd.tcpdump.pcap"),e("cap","application/vnd.tcpdump.pcap"),e("dmp","application/vnd.tcpdump.pcap"),e("tmo","application/vnd.tmobile-livetv"),e("tpt","application/vnd.trid.tpt"),e("mxs","application/vnd.triscape.mxs"),e("tra","application/vnd.trueapp"),e("ufd","application/vnd.ufdl"),e("ufdl","application/vnd.ufdl"),e("utz","application/vnd.uiq.theme"),e("umj","application/vnd.umajin"),e("unityweb","application/vnd.unity"),e("uoml","application/vnd.uoml+xml"),e("vcx","application/vnd.vcx"),e("vsd","application/vnd.visio"),e("vst","application/vnd.visio"),e("vss","application/vnd.visio"),e("vsw","application/vnd.visio"),e("vis","application/vnd.visionary"),e("vsf","application/vnd.vsf"),e("wbxml","application/vnd.wap.wbxml"),e("wmlc","application/vnd.wap.wmlc"),e("wmlsc","application/vnd.wap.wmlscriptc"),e("wtb","application/vnd.webturbo"),e("nbp","application/vnd.wolfram.player"),e("wpd","application/vnd.wordperfect"),e("wqd","application/vnd.wqd"),e("stf","application/vnd.wt.stf"),e("xar","application/vnd.xara"),e("xfdl","application/vnd.xfdl"),e("hvd","application/vnd.yamaha.hv-dic"),e("hvs","application/vnd.yamaha.hv-script"),e("hvp","application/vnd.yamaha.hv-voice"),e("osf","application/vnd.yamaha.openscoreformat"),e("osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"),e("saf","application/vnd.yamaha.smaf-audio"),e("spf","application/vnd.yamaha.smaf-phrase"),e("cmp","application/vnd.yellowriver-custom-menu"),e("zir","application/vnd.zul"),e("zirz","application/vnd.zul"),e("zaz","application/vnd.zzazz.deck+xml"),e("vxml","application/voicexml+xml"),e("wgt","application/widget"),e("hlp","application/winhlp"),e("wsdl","application/wsdl+xml"),e("wspolicy","application/wspolicy+xml"),e("7z","application/x-7z-compressed"),e("abw","application/x-abiword"),e("ace","application/x-ace-compressed"),e("dmg","application/x-apple-diskimage"),e("aab","application/x-authorware-bin"),e("x32","application/x-authorware-bin"),e("u32","application/x-authorware-bin"),e("vox","application/x-authorware-bin"),e("aam","application/x-authorware-map"),e("aas","application/x-authorware-seg"),e("bcpio","application/x-bcpio"),e("torrent","application/x-bittorrent"),e("blb","application/x-blorb"),e("blorb","application/x-blorb"),e("bz","application/x-bzip"),e("bz2","application/x-bzip2"),e("boz","application/x-bzip2"),e("cbr","application/x-cbr"),e("cba","application/x-cbr"),e("cbt","application/x-cbr"),e("cbz","application/x-cbr"),e("cb7","application/x-cbr"),e("vcd","application/x-cdlink"),e("cfs","application/x-cfs-compressed"),e("chat","application/x-chat"),e("pgn","application/x-chess-pgn"),e("nsc","application/x-conference"),e("cpio","application/x-cpio"),e("csh","application/x-csh"),e("deb","application/x-debian-package"),e("udeb","application/x-debian-package"),e("dgc","application/x-dgc-compressed"),e("dir","application/x-director"),e("dcr","application/x-director"),e("dxr","application/x-director"),e("cst","application/x-director"),e("cct","application/x-director"),e("cxt","application/x-director"),e("w3d","application/x-director"),e("fgd","application/x-director"),e("swa","application/x-director"),e("wad","application/x-doom"),e("ncx","application/x-dtbncx+xml"),e("dtb","application/x-dtbook+xml"),e("res","application/x-dtbresource+xml"),e("dvi","application/x-dvi"),e("evy","application/x-envoy"),e("eva","application/x-eva"),e("bdf","application/x-font-bdf"),e("gsf","application/x-font-ghostscript"),e("psf","application/x-font-linux-psf"),e("otf","application/x-font-otf"),e("pcf","application/x-font-pcf"),e("snf","application/x-font-snf"),e("ttf","application/x-font-ttf"),e("ttc","application/x-font-ttf"),e("pfa","application/x-font-type1"),e("pfb","application/x-font-type1"),e("pfm","application/x-font-type1"),e("afm","application/x-font-type1"),e("woff","application/x-font-woff"),e("arc","application/x-freearc"),e("spl","application/x-futuresplash"),e("gca","application/x-gca-compressed"),e("ulx","application/x-glulx"),e("gnumeric","application/x-gnumeric"),e("gramps","application/x-gramps-xml"),e("gtar","application/x-gtar"),e("hdf","application/x-hdf"),e("install","application/x-install-instructions"),e("iso","application/x-iso9660-image"),e("jnlp","application/x-java-jnlp-file"),e("latex","application/x-latex"),e("lzh","application/x-lzh-compressed"),e("lha","application/x-lzh-compressed"),e("mie","application/x-mie"),e("prc","application/x-mobipocket-ebook"),e("mobi","application/x-mobipocket-ebook"),e("application","application/x-ms-application"),e("lnk","application/x-ms-shortcut"),e("wmd","application/x-ms-wmd"),e("wmz","application/x-ms-wmz"),e("xbap","application/x-ms-xbap"),e("mdb","application/x-msaccess"),e("obd","application/x-msbinder"),e("crd","application/x-mscardfile"),e("clp","application/x-msclip"),e("exe","application/x-msdownload"),e("dll","application/x-msdownload"),e("com","application/x-msdownload"),e("bat","application/x-msdownload"),e("msi","application/x-msdownload"),e("mvb","application/x-msmediaview"),e("m13","application/x-msmediaview"),e("m14","application/x-msmediaview"),e("wmf","application/x-msmetafile"),e("wmz","application/x-msmetafile"),e("emf","application/x-msmetafile"),e("emz","application/x-msmetafile"),e("mny","application/x-msmoney"),e("pub","application/x-mspublisher"),e("scd","application/x-msschedule"),e("trm","application/x-msterminal"),e("wri","application/x-mswrite"),e("nc","application/x-netcdf"),e("cdf","application/x-netcdf"),e("nzb","application/x-nzb"),e("p12","application/x-pkcs12"),e("pfx","application/x-pkcs12"),e("p7b","application/x-pkcs7-certificates"),e("spc","application/x-pkcs7-certificates"),e("p7r","application/x-pkcs7-certreqresp"),e("rar","application/x-rar-compressed"),e("ris","application/x-research-info-systems"),e("sh","application/x-sh"),e("shar","application/x-shar"),e("swf","application/x-shockwave-flash"),e("xap","application/x-silverlight-app"),e("sql","application/x-sql"),e("sit","application/x-stuffit"),e("sitx","application/x-stuffitx"),e("srt","application/x-subrip"),e("sv4cpio","application/x-sv4cpio"),e("sv4crc","application/x-sv4crc"),e("t3","application/x-t3vm-image"),e("gam","application/x-tads"),e("tar","application/x-tar"),e("tcl","application/x-tcl"),e("tex","application/x-tex"),e("tfm","application/x-tex-tfm"),e("texinfo","application/x-texinfo"),e("texi","application/x-texinfo"),e("obj","application/x-tgif"),e("ustar","application/x-ustar"),e("src","application/x-wais-source"),e("der","application/x-x509-ca-cert"),e("crt","application/x-x509-ca-cert"),e("fig","application/x-xfig"),e("xlf","application/x-xliff+xml"),e("xpi","application/x-xpinstall"),e("xz","application/x-xz"),e("z1","application/x-zmachine"),e("z2","application/x-zmachine"),e("z3","application/x-zmachine"),e("z4","application/x-zmachine"),e("z5","application/x-zmachine"),e("z6","application/x-zmachine"),e("z7","application/x-zmachine"),e("z8","application/x-zmachine"),e("xaml","application/xaml+xml"),e("xdf","application/xcap-diff+xml"),e("xenc","application/xenc+xml"),e("xhtml","application/xhtml+xml"),e("xht","application/xhtml+xml"),e("xml","application/xml"),e("xsl","application/xml"),e("dtd","application/xml-dtd"),e("xop","application/xop+xml"),e("xpl","application/xproc+xml"),e("xslt","application/xslt+xml"),e("xspf","application/xspf+xml"),e("mxml","application/xv+xml"),e("xhvml","application/xv+xml"),e("xvml","application/xv+xml"),e("xvm","application/xv+xml"),e("yang","application/yang"),e("yin","application/yin+xml"),e("zip","application/zip"),e("adp","audio/adpcm"),e("au","audio/basic"),e("snd","audio/basic"),e("mid","audio/midi"),e("midi","audio/midi"),e("kar","audio/midi"),e("rmi","audio/midi"),e("mp4a","audio/mp4"),e("mpga","audio/mpeg"),e("mp2","audio/mpeg"),e("mp2a","audio/mpeg"),e("mp3","audio/mpeg"),e("m2a","audio/mpeg"),e("m3a","audio/mpeg"),e("oga","audio/ogg"),e("ogg","audio/ogg"),e("spx","audio/ogg"),e("s3m","audio/s3m"),e("sil","audio/silk"),e("uva","audio/vnd.dece.audio"),e("uvva","audio/vnd.dece.audio"),e("eol","audio/vnd.digital-winds"),e("dra","audio/vnd.dra"),e("dts","audio/vnd.dts"),e("dtshd","audio/vnd.dts.hd"),e("lvp","audio/vnd.lucent.voice"),e("pya","audio/vnd.ms-playready.media.pya"),e("ecelp4800","audio/vnd.nuera.ecelp4800"),e("ecelp7470","audio/vnd.nuera.ecelp7470"),e("ecelp9600","audio/vnd.nuera.ecelp9600"),e("rip","audio/vnd.rip"),e("weba","audio/webm"),e("aac","audio/aac"),e("aif","audio/x-aiff"),e("aiff","audio/x-aiff"),e("aifc","audio/x-aiff"),e("caf","audio/x-caf"),e("flac","audio/x-flac"),e("mka","audio/x-matroska"),e("m3u","audio/x-mpegurl"),e("wax","audio/x-ms-wax"),e("wma","audio/x-ms-wma"),e("ram","audio/x-pn-realaudio"),e("ra","audio/x-pn-realaudio"),e("rmp","audio/x-pn-realaudio-plugin"),e("wav","audio/x-wav"),e("xm","audio/xm"),e("cdx","chemical/x-cdx"),e("cif","chemical/x-cif"),e("cmdf","chemical/x-cmdf"),e("cml","chemical/x-cml"),e("csml","chemical/x-csml"),e("xyz","chemical/x-xyz"),e("bmp","image/bmp"),e("cgm","image/cgm"),e("g3","image/g3fax"),e("gif","image/gif"),e("ief","image/ief"),e("jpeg","image/jpeg"),e("jpg","image/jpeg"),e("jpe","image/jpeg"),e("ktx","image/ktx"),e("png","image/png"),e("btif","image/prs.btif"),e("sgi","image/sgi"),e("svg","image/svg+xml");e("svgz","image/svg+xml"),e("tiff","image/tiff"),e("tif","image/tiff"),e("psd","image/vnd.adobe.photoshop"),e("uvi","image/vnd.dece.graphic"),e("uvvi","image/vnd.dece.graphic"),e("uvg","image/vnd.dece.graphic"),e("uvvg","image/vnd.dece.graphic"),e("sub","image/vnd.dvb.subtitle"),e("djvu","image/vnd.djvu"),e("djv","image/vnd.djvu"),e("dwg","image/vnd.dwg"),e("dxf","image/vnd.dxf"),e("fbs","image/vnd.fastbidsheet"),e("fpx","image/vnd.fpx"),e("fst","image/vnd.fst"),e("mmr","image/vnd.fujixerox.edmics-mmr"),e("rlc","image/vnd.fujixerox.edmics-rlc"),e("mdi","image/vnd.ms-modi"),e("wdp","image/vnd.ms-photo"),e("npx","image/vnd.net-fpx"),e("wbmp","image/vnd.wap.wbmp"),e("xif","image/vnd.xiff"),e("webp","image/webp"),e("3ds","image/x-3ds"),e("ras","image/x-cmu-raster"),e("cmx","image/x-cmx"),e("fh","image/x-freehand"),e("fhc","image/x-freehand"),e("fh4","image/x-freehand"),e("fh5","image/x-freehand"),e("fh7","image/x-freehand"),e("ico","image/x-icon"),e("sid","image/x-mrsid-image"),e("pcx","image/x-pcx"),e("pic","image/x-pict"),e("pct","image/x-pict"),e("pnm","image/x-portable-anymap"),e("pbm","image/x-portable-bitmap"),e("pgm","image/x-portable-graymap"),e("ppm","image/x-portable-pixmap"),e("rgb","image/x-rgb"),e("tga","image/x-tga"),e("xbm","image/x-xbitmap"),e("xpm","image/x-xpixmap"),e("xwd","image/x-xwindowdump"),e("eml","message/rfc822"),e("mime","message/rfc822"),e("igs","model/iges"),e("iges","model/iges"),e("msh","model/mesh"),e("mesh","model/mesh"),e("silo","model/mesh"),e("dae","model/vnd.collada+xml"),e("dwf","model/vnd.dwf"),e("gdl","model/vnd.gdl"),e("gtw","model/vnd.gtw"),e("mts","model/vnd.mts"),e("vtu","model/vnd.vtu"),e("wrl","model/vrml"),e("vrml","model/vrml"),e("x3db","model/x3d+binary"),e("x3dbz","model/x3d+binary"),e("x3dv","model/x3d+vrml"),e("x3dvz","model/x3d+vrml"),e("x3d","model/x3d+xml"),e("x3dz","model/x3d+xml"),e("appcache","text/cache-manifest"),e("ics","text/calendar"),e("ifb","text/calendar"),e("cmd","text/cmd"),e("css","text/css"),e("csv","text/csv"),e("html","text/html"),e("htm","text/html"),e("n3","text/n3"),e("txt","text/plain"),e("text","text/plain"),e("conf","text/plain"),e("def","text/plain"),e("list","text/plain"),e("log","text/plain"),e("in","text/plain"),e("js","text/plain"),e("dsc","text/prs.lines.tag"),e("rtx","text/richtext"),e("sgml","text/sgml"),e("sgm","text/sgml"),e("tsv","text/tab-separated-values"),e("t","text/troff"),e("tr","text/troff"),e("roff","text/troff"),e("man","text/troff"),e("me","text/troff"),e("ms","text/troff"),e("ttl","text/turtle"),e("uri","text/uri-list"),e("uris","text/uri-list"),e("urls","text/uri-list"),e("vcard","text/vcard"),e("curl","text/vnd.curl"),e("dcurl","text/vnd.curl.dcurl"),e("scurl","text/vnd.curl.scurl"),e("mcurl","text/vnd.curl.mcurl"),e("sub","text/vnd.dvb.subtitle"),e("fly","text/vnd.fly"),e("flx","text/vnd.fmi.flexstor"),e("gv","text/vnd.graphviz"),e("3dml","text/vnd.in3d.3dml"),e("spot","text/vnd.in3d.spot"),e("jad","text/vnd.sun.j2me.app-descriptor"),e("wml","text/vnd.wap.wml"),e("wmls","text/vnd.wap.wmlscript"),e("s","text/x-asm"),e("asm","text/x-asm"),e("c","text/x-c"),e("cc","text/x-c"),e("cxx","text/x-c"),e("cpp","text/x-c"),e("h","text/x-c"),e("hh","text/x-c"),e("dic","text/x-c"),e("f","text/x-fortran"),e("for","text/x-fortran"),e("f77","text/x-fortran"),e("f90","text/x-fortran"),e("java","text/x-java-source"),e("opml","text/x-opml"),e("p","text/x-pascal"),e("pas","text/x-pascal"),e("nfo","text/x-nfo"),e("etx","text/x-setext"),e("sfv","text/x-sfv"),e("uu","text/x-uuencode"),e("vcs","text/x-vcalendar"),e("vcf","text/x-vcard"),e("xml","text/xml"),e("xsl","text/xml"),e("dtd","text/xml-dtd"),e("3gp","video/3gpp"),e("3g2","video/3gpp2"),e("h261","video/h261"),e("h263","video/h263"),e("h264","video/h264"),e("jpgv","video/jpeg"),e("jpm","video/jpm"),e("jpgm","video/jpm"),e("mj2","video/mj2"),e("mjp2","video/mj2"),e("mp4","video/mp4"),e("mp4v","video/mp4"),e("mpg4","video/mp4"),e("mpeg","video/mpeg"),e("mpg","video/mpeg"),e("mpe","video/mpeg"),e("m1v","video/mpeg"),e("m2v","video/mpeg"),e("ogv","video/ogg"),e("qt","video/quicktime"),e("mov","video/quicktime"),e("uvh","video/vnd.dece.hd"),e("uvvh","video/vnd.dece.hd"),e("uvm","video/vnd.dece.mobile"),e("uvvm","video/vnd.dece.mobile"),e("uvp","video/vnd.dece.pd"),e("uvvp","video/vnd.dece.pd"),e("uvs","video/vnd.dece.sd"),e("uvvs","video/vnd.dece.sd"),e("uvv","video/vnd.dece.video"),e("uvvv","video/vnd.dece.video"),e("dvb","video/vnd.dvb.file"),e("fvt","video/vnd.fvt"),e("mxu","video/vnd.mpegurl"),e("m4u","video/vnd.mpegurl"),e("pyv","video/vnd.ms-playready.media.pyv"),e("uvu","video/vnd.uvvu.mp4"),e("uvvu","video/vnd.uvvu.mp4"),e("viv","video/vnd.vivo"),e("webm","video/webm"),e("f4v","video/x-f4v"),e("fli","video/x-fli"),e("flv","video/x-flv"),e("m4v","video/x-m4v"),e("mkv","video/x-matroska"),e("mk3d","video/x-matroska"),e("mks","video/x-matroska"),e("mng","video/x-mng"),e("asf","video/x-ms-asf"),e("asx","video/x-ms-asf"),e("vob","video/x-ms-vob"),e("wm","video/x-ms-wm"),e("wmv","video/x-ms-wmv"),e("wmx","video/x-ms-wmx"),e("wvx","video/x-ms-wvx"),e("avi","video/x-msvideo"),e("movie","video/x-sgi-movie"),e("smv","video/x-smv"),e("ice","x-conference/x-cooltalk")}},this.$init=function(){t.FMimeTypes=pas.Classes.TStringList.$create("Create$1"),t.RegisterMimeTypes()}}),["DateUtils"]),rtl.module("WEBLib.TMSFNCJSONReader",["System","Classes","SysUtils","WEBLib.TMSFNCTypes"],(function(){"use strict";var t=this,e=t.$impl;rtl.createClass(this,"TTMSFNCJSONStreamReader",pas.System.TObject,(function(){rtl.createClass(this,"EEndOfInputReached",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"End of JSON input reached."),this}}),"TTMSFNCJSONStreamReader.EEndOfInputReached"),this.$init=function(){pas.System.TObject.$init.call(this),this.FStream=null,this.FReadStream=null},this.$final=function(){this.FStream=void 0,this.FReadStream=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t){return this.FStream=t,this.FReadStream=pas.Classes.TStringStream.$create("Create$3",["",pas.Classes.TEncoding.GetANSI(),!0]),this.FReadStream.CopyFrom(this.FStream,this.FStream.GetSize()),this.FReadStream.SetPosition(0),this},this.Destroy=function(){rtl.free(this,"FReadStream"),pas.System.TObject.Destroy.call(this)},this.NextChar=function(){if(this.Eof())throw this.EEndOfInputReached.$create("Create$2");return this.ReadChar()},this.PeekChar=function(){var t,e;return e=this.FReadStream.GetPosition(),t=this.ReadChar(),this.FReadStream.SetPosition(e),t},this.ReadChar=function(){var t="",e="";return t="\0",1,this.FReadStream.GetPosition()<this.FReadStream.GetSize()&&""!==(e=this.FReadStream.ReadString(1))&&pas.System.Assigned(e)&&(t=e.charAt(0)),t},this.Backup=function(t){this.FReadStream.SetPosition(this.FReadStream.GetPosition()-1)},this.MoveNext=function(t){this.FReadStream.SetPosition(this.FReadStream.GetPosition()+t)},this.Eof=function(){return this.FReadStream.GetPosition()===this.FReadStream.GetSize()}})),this.TTMSFNCJSONToken={0:"jstoBeginObject",jstoBeginObject:0,1:"jstoEndObject",jstoEndObject:1,2:"jstoBeginArray",jstoBeginArray:2,3:"jstoEndArray",jstoEndArray:3,4:"jstoName",jstoName:4,5:"jstoBoolean",jstoBoolean:5,6:"jstoNull",jstoNull:6,7:"jstoText",jstoText:7,8:"jstoNumber",jstoNumber:8,9:"jstoEOF",jstoEOF:9},rtl.createClass(this,"TTMSFNCJSONReader",pas.System.TObject,(function(){this.TTMSFNCJSONState={0:"jstNone",jstNone:0,1:"jstBeginObject",jstBeginObject:1,2:"jstEndObject",jstEndObject:2,3:"jstBeginArray",jstBeginArray:3,4:"jstEndArray",jstEndArray:4,5:"jstTrue",jstTrue:5,6:"jstFalse",jstFalse:6,7:"jstNull",jstNull:7,8:"jstDoubleQuoted",jstDoubleQuoted:8,9:"jstBuffered",jstBuffered:9,10:"jstDoubleQuotedName",jstDoubleQuotedName:10,11:"jstInt64",jstInt64:11,12:"jstNumber",jstNumber:12,13:"jstEOF",jstEOF:13},this.TTMSFNCJSONNumberState={0:"jnstNone",jnstNone:0,1:"jnstSign",jnstSign:1,2:"jnstDigit",jnstDigit:2,3:"jnstDecimal",jnstDecimal:3,4:"jnstFraction",jnstFraction:4,5:"jnstExpE",jnstExpE:5,6:"jnstExpSign",jnstExpSign:6,7:"jnstExpDigit",jnstExpDigit:7},this.TTMSFNCJSONScope={0:"jscEmptyDocument",jscEmptyDocument:0,1:"jscEmptyArray",jscEmptyArray:1,2:"jscEmptyObject",jscEmptyObject:2,3:"jscNonEmptyDocument",jscNonEmptyDocument:3,4:"jscNonEmptyArray",jscNonEmptyArray:4,5:"jscNonEmptyObject",jscNonEmptyObject:5,6:"jscDanglingName",jscDanglingName:6},rtl.createClass(this,"EInvalidStateException",pas.SysUtils.Exception,(function(){this.Create$2=function(t){return pas.SysUtils.Exception.CreateFmt.call(this,"Invalid Json parser state. Expected state: %d",pas.System.VarRecs(0,t)),this}}),"TTMSFNCJSONReader.EInvalidStateException"),rtl.createClass(this,"EUnterminatedArray",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Unterminated array"),this}}),"TTMSFNCJSONReader.EUnterminatedArray"),rtl.createClass(this,"EUnterminatedObject",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Unterminated object"),this}}),"TTMSFNCJSONReader.EUnterminatedObject"),rtl.createClass(this,"ENameExpected",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Name expected"),this}}),"TTMSFNCJSONReader.ENameExpected"),rtl.createClass(this,"EColonExpected",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Colon expected"),this}}),"TTMSFNCJSONReader.EColonExpected"),rtl.createClass(this,"EMultipleRootNotAllowed",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Multiple root values not allowed"),this}}),"TTMSFNCJSONReader.EMultipleRootNotAllowed"),rtl.createClass(this,"EExpectedValue",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Value expected but invalid character found"),this}}),"TTMSFNCJSONReader.EExpectedValue"),rtl.createClass(this,"EObjectOrArrayExpected",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Object or array expected as top-level value"),this}}),"TTMSFNCJSONReader.EObjectOrArrayExpected"),rtl.createClass(this,"ETooManyDepthLevels",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Maximum level of nested structured reached."),this}}),"TTMSFNCJSONReader.ETooManyDepthLevels"),this.MaxNumberBuffer=255,this.MaxStackSize=255,this.$init=function(){pas.System.TObject.$init.call(this),this.FReader=null,this.FStack=rtl.arraySetLength(null,0,256),this.FStackSize=0,this.FPeeked=0,this.FPeekedInt64=0,this.FPeekedNumber=rtl.arraySetLength(null,"",256),this.FPeekedString=""},this.$final=function(){this.FReader=void 0,this.FStack=void 0,this.FPeekedNumber=void 0,pas.System.TObject.$final.call(this)},this.NextPeek=function(){return 0===this.FPeeked&&(this.FPeeked=this.DoPeek()),this.FPeeked},this.CheckState=function(t){if(this.NextPeek()!==t)throw this.EInvalidStateException.$create("Create$2",[t])},this.SkipChar=function(){for(this.FReader.MoveNext(1);this.FReader.PeekChar().charCodeAt()in e.Wspace;)this.FReader.MoveNext(1)},this.IsLiteral=function(t){return!pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.CharInSet(t,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.CreateCharSet("/\\;#{}[]:,' \r\n\f\t"))},this.IsDigit=function(t){return t<="ÿ"&&pas["WEBLib.TMSFNCTypes"].CharIsNumber(t)},this.DoPeek=function(){var t,i=0;if(1===(t=this.FStack[this.FStackSize-1]))this.FStack[this.FStackSize-1]=4;else if(4===t){var s=this.NextNonWhitespace();if("]"===s)return this.SkipChar(),this.FPeeked=4,this.FPeeked;if(","!==s)throw this.EUnterminatedArray.$create("Create$2");this.SkipChar()}else{if(t in rtl.createSet(2,5)){if(this.FStack[this.FStackSize-1]=6,5===t){var n=this.NextNonWhitespace();if("}"===n){for(;this.FReader.PeekChar().charCodeAt()in e.Wspace;)this.FReader.MoveNext(1);return this.SkipChar(),this.FPeeked=2,this.FPeeked}if(","!==n)throw this.EUnterminatedObject.$create("Create$2");this.SkipChar()}var o=this.NextNonWhitespace();if('"'===o)return this.SkipChar(),this.FPeeked=10,this.FPeeked;if("}"===o){if(5!==t)return this.SkipChar(),this.FPeeked=2,this.FPeeked;throw this.ENameExpected.$create("Create$2")}throw this.ENameExpected.$create("Create$2")}if(6===t){if(this.FStack[this.FStackSize-1]=5,":"!==this.NextNonWhitespace())throw this.EColonExpected.$create("Create$2");this.SkipChar()}else if(0===t)this.FStack[this.FStackSize-1]=3;else if(3===t){if(this.SkipWhitespaceUntilEnd())return this.FPeeked=13,this.FPeeked;throw this.EMultipleRootNotAllowed.$create("Create$2")}}var r=this.NextNonWhitespace();if("]"===r){if(1===t)return this.SkipChar(),this.FPeeked=4,this.FPeeked;throw this.EExpectedValue.$create("Create$2")}if('"'===r){if(1===this.FStackSize)throw this.EObjectOrArrayExpected.$create("Create$2");return this.SkipChar(),this.FPeeked=8,this.FPeeked}if("["===r)return this.SkipChar(),this.FPeeked=3,this.FPeeked;if("{"===r)return this.SkipChar(),this.FPeeked=1,this.FPeeked;if(1===this.FStackSize)throw this.EObjectOrArrayExpected.$create("Create$2");if(0!==(i=this.PeekKeyword()))return i;if(0!==(i=this.PeekNumber()))return i;throw this.EExpectedValue.$create("Create$2")},this.PushScope=function(t){if(this.FStackSize>255)throw this.ETooManyDepthLevels.$create("Create$2");this.FStack[this.FStackSize]=t,this.FStackSize+=1},this.NextNonWhitespace=function(){var t,i="";t=this.FReader.FReadStream.GetPosition(),i=this.ReadChar();do{if(i>" "||!(i.charCodeAt()in e.Wspace))return this.FReader.FReadStream.SetPosition(t),i;i=this.ReadChar()}while(!this.FReader.Eof());return this.FReader.FReadStream.SetPosition(t),"\0"},this.ReadChar=function(){return this.FReader.ReadChar()},this.PeekKeyword=function(){var t=this.FReader.PeekChar();if("t"===t||"T"===t){this.FReader.MoveNext(1);var e=this.FReader.NextChar();if("r"===e||"R"===e){var i=this.FReader.NextChar();if("u"===i||"U"===i){var s=this.FReader.NextChar();if(("e"===s||"E"===s)&&(this.FReader.Eof()||!this.IsLiteral(this.FReader.PeekChar())))return 5}}}else if("f"===t||"F"===t){this.FReader.MoveNext(1);var n=this.FReader.NextChar();if("a"===n||"A"===n){var o=this.FReader.NextChar();if("l"===o||"L"===o){var r=this.FReader.NextChar();if("s"===r||"S"===r){var a=this.FReader.NextChar();if(("e"===a||"E"===a)&&(this.FReader.Eof()||!this.IsLiteral(this.FReader.PeekChar())))return 6}}}}else{if("n"!==t&&"N"!==t)return 0;this.FReader.MoveNext(1);var l=this.FReader.NextChar();if("u"===l||"U"===l){var h=this.FReader.NextChar();if("l"===h||"L"===h){var d=this.FReader.NextChar();if(("l"===d||"L"===d)&&(this.FReader.Eof()||!this.IsLiteral(this.FReader.PeekChar())))return 7}}}throw this.EExpectedValue.$create("Create$2")};rtl.trunc(-900719925474099.1);this.PeekNumber=function(){var t=0,e=!1,i=!1,s=0,n=0,o="",r=0;if("-"!==(o=this.FReader.PeekChar())&&!this.IsDigit(o))return 0;for(e=!1,i=!0,t=0,r=0,s=-1;;){if(r>=255)throw this.EExpectedValue.$create("Create$2");o=this.FReader.NextChar(),this.FPeekedNumber[r]=o,r+=1;var a=o;if("-"===a){if(0===t){e=!0,t=1;continue}if(5===t){t=6;continue}throw this.EExpectedValue.$create("Create$2")}if("+"===a){if(5===t){t=6;continue}throw this.EExpectedValue.$create("Create$2")}if("e"===a||"E"===a){if(t in rtl.createSet(2,4)){t=5;continue}throw this.EExpectedValue.$create("Create$2")}if("."===a){if(2===t){t=3;continue}throw this.EExpectedValue.$create("Create$2")}if(!this.IsDigit(o)){if(this.IsLiteral(o))throw this.EExpectedValue.$create("Create$2");this.FReader.Backup(o),r-=1;break}if(t in rtl.createSet(1,0))s=-(o.charCodeAt()-48),t=2;else if(2===t){if(0===s)throw this.EExpectedValue.$create("Create$2");n=10*s-(o.charCodeAt()-48),i=i&&(s>-900719925474099||-900719925474099===s&&n<s),s=n}else 3===t?t=4:t in rtl.createSet(5,6)&&(t=7)}if(2===t&&i&&(-9007199254740991!==s||e))return this.FPeekedInt64=e?s:-s,11;if(t in rtl.createSet(2,4,7))return this.FPeekedNumber[r]="\0",12;throw this.EExpectedValue.$create("Create$2")},this.InternalReadQuoted=function(t){var e="",i="",s="",n="";for(e="",n="",i="";!this.FReader.Eof()&&('"'!==(s=this.ReadChar())||"\\"===i);)n+=s,i=s;return t&&(e=n),e},this.ReadQuoted=function(){return this.InternalReadQuoted(!0)},this.SkipQuoted=function(){this.InternalReadQuoted(!1)},this.SkipWhitespaceUntilEnd=function(){var t,i="";t=this.FReader.FReadStream.GetPosition(),i=this.ReadChar();do{if(i>" "||!(i.charCodeAt()in e.Wspace))return this.FReader.FReadStream.SetPosition(t),!1;i=this.ReadChar()}while(!this.FReader.Eof());return this.FReader.FReadStream.SetPosition(t),!0},this.Create$1=function(e){return pas.System.TObject.Create.call(this),this.FReader=t.TTMSFNCJSONStreamReader.$create("Create$1",[e]),this.FPeeked=0,this.FStack[0]=0,this.FStackSize=1,this},this.Destroy=function(){rtl.free(this,"FReader"),pas.System.TObject.Destroy.call(this)},this.ReadBeginArray=function(){this.CheckState(3),this.PushScope(1),this.FPeeked=0},this.ReadEndArray=function(){this.CheckState(4),this.FStackSize-=1,this.FPeeked=0},this.ReadBeginObject=function(){this.CheckState(1),this.PushScope(2),this.FPeeked=0},this.ReadEndObject=function(){this.CheckState(2),this.FStackSize-=1,this.FPeeked=0},this.PeekName=function(){var t,e;return e=this.FReader.FReadStream.GetPosition(),t=this.ReadQuoted(),this.FReader.FReadStream.SetPosition(e),t},this.ReadName=function(){return this.CheckState(10),this.FPeeked=0,this.ReadQuoted()},this.ReadString=function(){var t="",i=this.NextPeek();if(8===i)t=this.ReadQuoted();else if(11===i)t=pas.SysUtils.IntToStr(this.FPeekedInt64);else if(12===i)t=e.ArrayOfCharToString(this.FPeekedNumber.slice(0));else{if(9!==i)throw this.EInvalidStateException.$create("Create$2",[8]);t=this.FPeekedString}return this.FPeeked=0,t=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.UnescapeString(t)},this.ReadBoolean=function(){var t=!1,e=this.NextPeek();if(5===e)t=!0;else{if(6!==e)throw this.EInvalidStateException.$create("Create$2",[5]);t=!1}return this.FPeeked=0,t},this.ReadDouble=function(){var t=0,i=this.NextPeek();if(11===i)return this.FPeeked=0,this.FPeekedInt64;if(12===i){if(pas.SysUtils.TryStrToFloat$2(e.ArrayOfCharToString(this.FPeekedNumber.slice(0)),{get:function(){return t},set:function(e){t=e}}))return this.FPeeked=0,t;this.FPeekedString=e.ArrayOfCharToString(this.FPeekedNumber.slice(0))}else if(8===i)this.FPeekedString=this.ReadQuoted();else if(9!==i)throw this.EInvalidStateException.$create("Create$2",[12]);return this.FPeeked=9,t=pas.SysUtils.StrToFloat(this.FPeekedString),this.FPeekedString="",this.FPeeked=0,t},this.ReadInteger=function(){var t,i=0,s=this.NextPeek();if(11===s){if((i=4294967295&this.FPeekedInt64)!==this.FPeekedInt64)throw this.EInvalidStateException.$create("Create$2",[11]);return this.FPeeked=0,i}if(12===s){if(pas.SysUtils.TryStrToInt(e.ArrayOfCharToString(this.FPeekedNumber.slice(0)),{get:function(){return i},set:function(t){i=t}}))return this.FPeeked=0,i;this.FPeekedString=e.ArrayOfCharToString(this.FPeekedNumber.slice(0))}else if(8===s){if(this.FPeekedString=this.ReadQuoted(),pas.SysUtils.TryStrToInt(this.FPeekedString,{get:function(){return i},set:function(t){i=t}}))return this.FPeeked=0,i}else if(9!==s)throw this.EInvalidStateException.$create("Create$2",[11]);if(this.FPeeked=9,(t=pas.SysUtils.StrToFloat(this.FPeekedString))!==(i=Math.round(t)))throw this.EInvalidStateException.$create("Create$2",[11]);return this.FPeekedString="",this.FPeeked=0,i},this.SkipValue=function(){var t=0;t=0;do{var e=this.NextPeek();3===e?(this.PushScope(1),t+=1):1===e?(this.PushScope(2),t+=1):4===e||2===e?(this.FStackSize-=1,t-=1):8!==e&&10!==e||this.SkipQuoted(),this.FPeeked=0}while(!(t<=0))},this.ReadNull=function(){this.CheckState(7),this.FPeeked=0},this.HasNext=function(){return!(this.NextPeek()in rtl.createSet(2,4))},this.Peek=function(){var t=this.NextPeek();return 1===t?0:2===t?1:3===t?2:4===t?3:10===t?4:5===t||6===t?5:7===t?6:8===t||9===t?7:11===t||12===t?8:9},this.IsNull=function(){return 6===this.Peek()}})),t.$implcode=function(){e.Wspace=rtl.createSet(32,10,13,9,12),e.ArrayOfCharToString=function(t){var e="",i=0;e="";for(var s=0,n=rtl.length(t)-1;s<=n&&"\0"!==t[i=s];s++)e+=t[i];return e}}}),["WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCJSONWriter",["System","Classes","SysUtils","WEBLib.TMSFNCTypes"],(function(){"use strict";var t=this;rtl.createClass(this,"TTMSFNCJSONStreamWriter",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FStream=null,this.FWriteStream=null},this.$final=function(){this.FStream=void 0,this.FWriteStream=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t){return this.FStream=t,this.FWriteStream=pas.Classes.TStringStream.$create("Create$3",["",pas.Classes.TEncoding.GetANSI(),!0]),this},this.Destroy=function(){try{this.FWriteStream.SetPosition(0),this.FStream.CopyFrom(this.FWriteStream,this.FWriteStream.GetSize())}finally{rtl.free(this,"FWriteStream")}pas.System.TObject.Destroy.call(this)},this.Write=function(t){this.FWriteStream.WriteString(t)}})),rtl.createClass(this,"TTMSFNCJSONWriter",pas.System.TObject,(function(){rtl.createClass(this,"ECannotWriteName",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Cannot write name in current Json scope"),this}}),"TTMSFNCJSONWriter.ECannotWriteName"),rtl.createClass(this,"EMultipleRootNotAllowed",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Multiple root values not allowed"),this}}),"TTMSFNCJSONWriter.EMultipleRootNotAllowed"),rtl.createClass(this,"EObjectOrArrayExpected",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Object or array expected as top-level value"),this}}),"TTMSFNCJSONWriter.EObjectOrArrayExpected"),rtl.createClass(this,"EInvalidNesting",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Invalid nesting. Not all arrays/objects were properly closed."),this}}),"TTMSFNCJSONWriter.EInvalidNesting"),rtl.createClass(this,"EMissingValue",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Json value missing"),this}}),"TTMSFNCJSONWriter.EMissingValue"),rtl.createClass(this,"ETooManyDepthLevels",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Maximum level of nested structured reached."),this}}),"TTMSFNCJSONWriter.ETooManyDepthLevels"),rtl.createClass(this,"EEmptyJson",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Json is still empty. Cannot perform operation."),this}}),"TTMSFNCJSONWriter.EEmptyJson"),rtl.createClass(this,"EEmptyName",pas.SysUtils.Exception,(function(){this.Create$2=function(){return pas.SysUtils.Exception.Create$1.call(this,"Cannot write empty name"),this}}),"TTMSFNCJSONWriter.EEmptyName"),this.TTMSFNCJSONScope={0:"jscEmptyDocument",jscEmptyDocument:0,1:"jscEmptyArray",jscEmptyArray:1,2:"jscEmptyObject",jscEmptyObject:2,3:"jscNonEmptyDocument",jscNonEmptyDocument:3,4:"jscNonEmptyArray",jscNonEmptyArray:4,5:"jscNonEmptyObject",jscNonEmptyObject:5,6:"jscDanglingName",jscDanglingName:6},this.MaxStackSize=255,this.$init=function(){pas.System.TObject.$init.call(this),this.FWriter=null,this.FStack=rtl.arraySetLength(null,0,256),this.FStackSize=0,this.FIndent="",this.FSeparator="",this.FDeferredName=""},this.$final=function(){this.FWriter=void 0,this.FStack=void 0,pas.System.TObject.$final.call(this)},this.OpenItem=function(t,e){return this.BeforeValue(!0),this.PushScope(t),this.FWriter.Write(e),this,this},this.CloseItem=function(t,e,i){var s;if(!((s=this.PeekScope())in rtl.createSet(t,e)))throw this.EInvalidNesting.$create("Create$2");if(""!==this.FDeferredName)throw this.EMissingValue.$create("Create$2");return this.FStackSize-=1,s===e&&this.NewLine(),this.FWriter.Write(i),this,this},this.PushScope=function(t){if(this.FStackSize>255)throw this.ETooManyDepthLevels.$create("Create$2");this.FStack[this.FStackSize]=t,this.FStackSize+=1},this.PeekScope=function(){if(0===this.FStackSize)throw this.EEmptyJson.$create("Create$2");return this.FStack[this.FStackSize-1]},this.ReplaceTop=function(t){if(0===this.FStackSize)throw this.EEmptyJson.$create("Create$2");this.FStack[this.FStackSize-1]=t},this.WriteDeferredName=function(){""!==this.FDeferredName&&(this.BeforeName(),this.InternalWriteString(this.FDeferredName),this.FDeferredName="")},this.InternalWriteString=function(t){this.FWriter.Write('"'),this.FWriter.Write(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.EscapeString(t)),this.FWriter.Write('"')},this.NewLine=function(){if(""!==this.FIndent){this.FWriter.Write("\r\n");for(var t=1,e=this.FStackSize-1;t<=e;t++)t,this.FWriter.Write(this.FIndent)}},this.BeforeName=function(){var t=this.PeekScope();if(5===t)this.FWriter.Write(",");else if(2!==t)throw this.ECannotWriteName.$create("Create$2");this.NewLine(),this.ReplaceTop(6)},this.BeforeValue=function(t){var e=this.PeekScope();if(3===e)throw this.EMultipleRootNotAllowed.$create("Create$2");if(0===e){if(!t)throw this.EObjectOrArrayExpected.$create("Create$2");this.ReplaceTop(3)}else if(1===e)this.ReplaceTop(4),this.NewLine();else if(4===e)this.FWriter.Write(","),this.NewLine();else{if(6!==e)throw this.EInvalidNesting.$create("Create$2");this.FWriter.Write(this.FSeparator),this.ReplaceTop(5)}},this.Create$1=function(e){return pas.System.TObject.Create.call(this),this.FWriter=t.TTMSFNCJSONStreamWriter.$create("Create$1",[e]),this.FSeparator=":",this.PushScope(0),this},this.Destroy=function(){rtl.free(this,"FWriter"),pas.System.TObject.Destroy.call(this)},this.WriteBeginArray=function(){return this.WriteDeferredName(),this.OpenItem(1,"[")},this.WriteEndArray=function(){return this.CloseItem(1,4,"]")},this.WriteBeginObject=function(){return this.WriteDeferredName(),this.OpenItem(2,"{")},this.WriteEndObject=function(){return this.CloseItem(2,5,"}")},this.WriteName=function(t){if(""===t)throw this.EEmptyName.$create("Create$2");if(""!==this.FDeferredName)throw this.EMissingValue.$create("Create$2");if(0===this.FStackSize)throw this.EEmptyJson.$create("Create$2");return this.FDeferredName=t,this,this},this.WriteString=function(t){return this.WriteDeferredName(),this.BeforeValue(!1),this.InternalWriteString(t),this,this},this.WriteBoolean=function(t){return this.WriteDeferredName(),this.BeforeValue(!1),t?this.FWriter.Write("true"):this.FWriter.Write("false"),this,this},this.WriteNull=function(){return this.WriteDeferredName(),this.BeforeValue(!1),this.FWriter.Write("null"),this,this},this.WriteDouble=function(t){return this.WriteDeferredName(),this.BeforeValue(!1),this.FWriter.Write(pas.SysUtils.FloatToStr(t)),this,this},this.WriteInteger=function(t){return this.WriteDeferredName(),this.BeforeValue(!1),this.FWriter.Write(pas.SysUtils.IntToStr(t)),this,this}}))}),["WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCPersistence",["System","Generics.Collections","Classes","TypInfo","SysUtils","WEBLib.TMSFNCTypes","WEBLib.TMSFNCJSONReader","WEBLib.TMSFNCJSONWriter"],(function(){"use strict";var t=this,e=t.$impl;rtl.createInterface(this,"ITMSFNCPersistence","{363F04AF-B8A7-4C47-A2D6-8ED9C44CEFF6}",["CanSaveProperty","CanLoadProperty"],pas.System.IUnknown),rtl.createInterface(this,"ITMSFNCBaseListIO","{FAB1D21E-D798-4CE0-B17B-9D75E4456AB4}",["GetItemClass"],pas.System.IUnknown),rtl.createInterface(this,"ITMSFNCBasePersistenceIO","{91DEAFC3-8932-45F4-A3ED-5AAA0C0E9250}",["CreateObject"],pas.System.IUnknown),rtl.createInterface(this,"ITMSFNCBaseCollectionIO","{90FDF257-7362-411D-B7F6-E2BEE2265016}",["AddItem"],pas.System.IUnknown),rtl.createInterface(this,"ITMSFNCPersistenceIO","{11B625F8-447A-4AE5-BB88-5ECDEA979AF7}",["NeedsObjectReference","GetObjectReference","FixOwners"],this.ITMSFNCBasePersistenceIO),rtl.createClass(this,"ETMSFNCReaderException",pas.SysUtils.Exception,(function(){})),rtl.createClass(this,"TTMSFNCObjectDictionary",pas["Generics.Collections"].TDictionary$G3,(function(){})),rtl.createClass(this,"TTMSFNCObjectList",pas["Generics.Collections"].TObjectList$G1,(function(){})),rtl.createClass(this,"TTMSFNCStringList",pas["Generics.Collections"].TList$G3,(function(){})),rtl.createClass(this,"TTMSFNCIntegerList",pas["Generics.Collections"].TList$G6,(function(){})),rtl.createClass(this,"TTMSFNCDoubleList",pas["Generics.Collections"].TList$G7,(function(){})),rtl.createClass(this,"TTMSFNCWriter",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FWriter=null,this.FIOReference=null,this.FOnCustomWriteProperty=null,this.FRootObject=null,this.FOnCustomIsAssignableProperty=null},this.$final=function(){this.FWriter=void 0,this.FIOReference=void 0,this.FOnCustomWriteProperty=void 0,this.FRootObject=void 0,this.FOnCustomIsAssignableProperty=void 0,pas.System.TObject.$final.call(this)},this.SetRootObject=function(e){this.FRootObject=e,t.TTMSFNCPersistence.FRootObject=this.FRootObject},this.SetIOReference=function(e){this.FIOReference=e,t.TTMSFNCPersistence.FIOReference=this.FIOReference},this.WritePropInfoValue=function(i,s){var n,o,r,a,l="",h=pas.System.TMethod.$new(),d=0;if(t.TTMSFNCPersistence.IsWriteOnly(s))this.FWriter.WriteNull();else{a=i,r=s,o=t.TTMSFNCPersistence.GetPropInfoType(r),n=t.TTMSFNCPersistence.GetPropInfoName(r);var u=o;1===u?"TAlphaColor"===(l=t.TTMSFNCPersistence.GetPropInfoTypeName(r))||"TColor"===l||"TGraphicsColor"===l?-1===pas.TypInfo.GetOrdProp$1(a,r)?this.FWriter.WriteString("gcNull"):(d=pas.TypInfo.GetOrdProp$1(a,r),this.FWriter.WriteString(e.ColorToHTMLEx(d))):this.FWriter.WriteInteger(pas.TypInfo.GetOrdProp$1(a,r)):2===u||3===u?this.FWriter.WriteString(pas.TypInfo.GetStrProp$1(a,r)):4===u?t.TTMSFNCPersistence.GetPropInfoDataTypeInfo(r)===rtl.boolean?this.FWriter.WriteBoolean(0!=pas.TypInfo.GetOrdProp$1(a,r)):this.FWriter.WriteInteger(pas.TypInfo.GetOrdProp$1(a,r)):7===u?this.FWriter.WriteBoolean(0!=pas.TypInfo.GetOrdProp$1(a,r)):u===pas.System.TTypeKind.tkDouble?this.FWriter.WriteDouble(pas.TypInfo.GetFloatProp$1(a,r)):5===u?this.FWriter.WriteInteger(pas.TypInfo.GetOrdProp$1(a,r)):9===u?(h.$assign(pas.TypInfo.GetMethodProp(a,r)),null===h.Code?this.FWriter.WriteNull():null!=t.TTMSFNCPersistence.FRootObject?this.FWriter.WriteString(t.TTMSFNCPersistence.FRootObject.$class.MethodName(h.Code)):this.FWriter.WriteNull()):(t.TTMSFNCPersistence.GetEnumName(pas.System.$rtti.TTypeKind,o),this.FWriter.WriteNull()),pas["WEBLib.Graphics"].TFont.isPrototypeOf(a)&&"Size"===n&&(this.FWriter.WriteName("IsFMX"),this.FWriter.WriteBoolean(!1))}},this.WriteProperties=function(t){var e=null,i=[],s=0;if(null!=t){e=t.$rtti;try{i=pas.TypInfo.GetPropList(e,pas.System.tkAny,!0);for(var n=0,o=rtl.length(i)-1;n<=o;n++)s=n,this.WriteProperty(t,i[s])}finally{}}},this.WriteProperty=function(e,i){var s="",n=0,o=!1,r=!1,a=!1,l=null,h=null;try{if(null==i)return;s=t.TTMSFNCPersistence.GetPropInfoName(i),n=t.TTMSFNCPersistence.GetPropInfoType(i),o=-1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IndexOfTextInArray(s,t.TTMSFNCPersistence.FExcludeProperties),pas.SysUtils.Supports$3(e,t.ITMSFNCPersistence.$guid,{get:function(){return l},set:function(t){l=t}})&&(o=l.CanSaveProperty(e,s,n)),o&&(r=!0,null!=this.FOnCustomWriteProperty&&this.FOnCustomWriteProperty(e,s,n,this.FWriter,{get:function(){return r},set:function(t){r=t}}),r&&(this.FWriter.WriteName(s),n in rtl.createSet(13)?(h=pas.TypInfo.GetObjectProp(e,s),a=t.TTMSFNCPersistence.IsAssignableProperty(e,i),null!=this.FOnCustomIsAssignableProperty&&this.FOnCustomIsAssignableProperty(e,s,{get:function(){return a},set:function(t){a=t}}),a?pas.Classes.TComponent.isPrototypeOf(h)?this.FWriter.WriteString(rtl.as(h,pas.Classes.TComponent).FName):this.FWriter.WriteString(""):this.WriteObject(h)):this.WritePropInfoValue(e,i)))}finally{rtl._Release(l)}},this.WriteGenericObjectList=function(t){var e=0;this.FWriter.WriteBeginArray();for(var i=0,s=t.FLength-1;i<=s;i++)e=i,this.WriteSingleObject(t.GetItem(e));this.FWriter.WriteEndArray()},this.WriteGenericStringList=function(t){var e=0;this.FWriter.WriteBeginArray();for(var i=0,s=t.FLength-1;i<=s;i++)e=i,this.FWriter.WriteString(t.GetItem(e));this.FWriter.WriteEndArray()},this.WriteGenericIntegerList=function(t){var e=0;this.FWriter.WriteBeginArray();for(var i=0,s=t.FLength-1;i<=s;i++)e=i,this.FWriter.WriteInteger(t.GetItem(e));this.FWriter.WriteEndArray()},this.WriteGenericDoubleList=function(t){var e=0;this.FWriter.WriteBeginArray();for(var i=0,s=t.FLength-1;i<=s;i++)e=i,this.FWriter.WriteDouble(t.GetItem(e));this.FWriter.WriteEndArray()},this.WriteStrings=function(t){var e=0;this.FWriter.WriteBeginArray();for(var i=0,s=t.GetCount()-1;i<=s;i++)e=i,this.FWriter.WriteString(t.Get(e));this.FWriter.WriteEndArray()},this.WriteGenericDictionary=function(t){var e="";this.FWriter.WriteBeginArray();var i=t.GetKeys().GetEnumerator$1();try{for(;i.MoveNext$1();)e=i.GetCurrent(),this.FWriter.WriteBeginObject(),this.FWriter.WriteName(e),this.WriteSingleObject(t.GetItem(e)),this.FWriter.WriteEndObject()}finally{i=rtl.freeLoc(i)}this.FWriter.WriteEndArray()},this.WriteCollection=function(t){var e=0;this.FWriter.WriteBeginArray();for(var i=0,s=t.GetCount()-1;i<=s;i++)e=i,this.WriteSingleObject(t.GetItem(e));this.FWriter.WriteEndArray()},this.WriteList=function(t){var e=0;this.FWriter.WriteBeginArray();for(var i=0,s=t.GetCount()-1;i<=s;i++)e=i,this.WriteSingleObject(rtl.getObject(t.Get(e)));this.FWriter.WriteEndArray()},this.WriteBitmap=function(t){pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(t)?this.FWriter.WriteString(""):this.FWriter.WriteString(t.GetData())},this.WriteSingleObject=function(e){this.FWriter.WriteBeginObject(),""!==t.TTMSFNCPersistence.ClassTypeVariable&&(this.FWriter.WriteName(t.TTMSFNCPersistence.ClassTypeVariable),this.FWriter.WriteString(e.$classname)),this.WriteProperties(e),this.FWriter.WriteEndObject()},this.WriteObject=function(e){var i=null;try{null===e?this.FWriter.WriteNull():t.TTMSFNCPersistence.IsGenericList(e.$class.ClassType(),"String")?this.WriteGenericStringList(e):t.TTMSFNCPersistence.IsGenericList(e.$class.ClassType(),"Integer")?this.WriteGenericIntegerList(e):t.TTMSFNCPersistence.IsGenericList(e.$class.ClassType(),"Double")?this.WriteGenericDoubleList(e):t.TTMSFNCPersistence.IsGenericList(e.$class.ClassType(),"")?this.WriteGenericObjectList(e):t.TTMSFNCPersistence.IsGenericDictionary(e.$class.ClassType())?this.WriteGenericDictionary(e):t.TTMSFNCPersistence.IsList(e.$class.ClassType())?this.WriteList(e):t.TTMSFNCPersistence.IsCollection(e.$class.ClassType())?this.WriteCollection(e):t.TTMSFNCPersistence.IsBitmap(e.$class.ClassType())?this.WriteBitmap(e):t.TTMSFNCPersistence.IsDescendingClass(e.$class.ClassType(),["TStrings"])?this.WriteStrings(e):null!=this.FIOReference&&pas.SysUtils.Supports$3(this.FIOReference,t.ITMSFNCPersistenceIO.$guid,{get:function(){return i},set:function(t){i=t}})&&i.NeedsObjectReference(e.$class.ClassType())?this.FWriter.WriteString(i.GetObjectReference(e)):this.WriteSingleObject(e)}finally{rtl._Release(i)}},this.Create$1=function(t){return this.FWriter=pas["WEBLib.TMSFNCJSONWriter"].TTMSFNCJSONWriter.$create("Create$1",[t]),this},this.Destroy=function(){rtl.free(this,"FWriter"),pas.System.TObject.Destroy.call(this)},this.Write=function(t){this.WriteObject(t)}})),rtl.createClass(this,"TTMSFNCObjectReference",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.Instance=null,this.Prop=null,this.Id=""},this.$final=function(){this.Instance=void 0,this.Prop=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(t,e,i){return this.Instance=t,this.Prop=e,this.Id=i,this}})),rtl.createClass(this,"TTMSFNCReader",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FReferences=null,this.FReader=null,this.FIOReference=null,this.FOnCustomReadProperty=null,this.FRootObject=null,this.FOnCustomIsAssignableProperty=null},this.$final=function(){this.FReferences=void 0,this.FReader=void 0,this.FIOReference=void 0,this.FOnCustomReadProperty=void 0,this.FRootObject=void 0,this.FOnCustomIsAssignableProperty=void 0,pas.System.TObject.$final.call(this)},this.ReadSingleObject=function(e){var i=null,s="",n=null,o=null;try{if(this.FReader.ReadBeginObject(),""!==t.TTMSFNCPersistence.ClassTypeVariable){if(!this.FReader.HasNext()||this.FReader.ReadName()!==t.TTMSFNCPersistence.ClassTypeVariable)throw t.ETMSFNCReaderException.$create("Create$1",['"'+t.TTMSFNCPersistence.ClassTypeVariable+'" property not found in Object descriptor.']);s=this.FReader.ReadString()}""===s&&(s=e.$classname),null!=this.FIOReference?(i=null,pas.SysUtils.Supports$3(this.FIOReference,t.ITMSFNCBasePersistenceIO.$guid,{get:function(){return n},set:function(t){n=t}})?i=n.CreateObject(s,e):pas.SysUtils.Supports$3(this.FIOReference,t.ITMSFNCPersistenceIO.$guid,{get:function(){return o},set:function(t){o=t}})&&(i=o.CreateObject(s,e))):i=t.TTMSFNCPersistence.CreateObject(s,e);try{this.ReadProperties(i),this.FReader.ReadEndObject()}catch(t){throw i=rtl.freeLoc(i),t}}finally{rtl._Release(n),rtl._Release(o)}return i},this.SetRootObject=function(e){this.FRootObject=e,t.TTMSFNCPersistence.FRootObject=this.FRootObject},this.SetIOReference=function(e){this.FIOReference=e,t.TTMSFNCPersistence.FIOReference=this.FIOReference},this.ReadSingleObject$1=function(e){if(this.FReader.ReadBeginObject(),""!==t.TTMSFNCPersistence.ClassTypeVariable){if(!this.FReader.HasNext()||this.FReader.ReadName()!==t.TTMSFNCPersistence.ClassTypeVariable)throw t.ETMSFNCReaderException.$create("Create$1",['"'+t.TTMSFNCPersistence.ClassTypeVariable+'" property not found in Object descriptor.']);this.FReader.ReadString()}try{this.ReadProperties(e),this.FReader.ReadEndObject()}catch(t){throw t}},this.ReadProperties=function(t){for(var e=null;this.FReader.HasNext();)this.FReader.IsNull()?this.FReader.SkipValue():(e=null,null!=t&&(e=pas.TypInfo.GetPropInfo$2(t,this.FReader.ReadName())),null!=e?this.ReadProperty(t,e):this.FReader.SkipValue())},this.ReadProperty=function(e,i){var s="",n=null,o=!1,r=null,a=null,l=0,h=!1,d=!1,u=null,c="";try{if(null==i)return;l=t.TTMSFNCPersistence.GetPropInfoType(i),s=t.TTMSFNCPersistence.GetPropInfoName(i),o=-1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IndexOfTextInArray(s,t.TTMSFNCPersistence.FExcludeProperties),pas.SysUtils.Supports$3(e,t.ITMSFNCPersistence.$guid,{get:function(){return r},set:function(t){r=t}})&&(o=r.CanLoadProperty(e,s,l)),o?(h=!0,null!=this.FOnCustomReadProperty&&this.FOnCustomReadProperty(e,s,l,this.FReader,{get:function(){return h},set:function(t){h=t}}),h&&(l in rtl.createSet(13)?(n=t.TTMSFNCPersistence.GetPropInfoDataTypeInfoClassType(i),t.TTMSFNCPersistence.IsGenericList(n,"String")?this.ReadGenericStringList(pas.TypInfo.GetObjectProp(e,s)):t.TTMSFNCPersistence.IsGenericList(n,"")?this.ReadGenericObjectList(pas.TypInfo.GetObjectProp(e,s)):t.TTMSFNCPersistence.IsGenericDictionary(n)?this.ReadGenericDictionary(pas.TypInfo.GetObjectProp(e,s)):t.TTMSFNCPersistence.IsList(n)?this.ReadList(pas.TypInfo.GetObjectProp(e,s)):t.TTMSFNCPersistence.IsCollection(n)?this.ReadCollection(pas.TypInfo.GetObjectProp(e,s)):t.TTMSFNCPersistence.IsBitmap(n)?this.ReadBitmap(pas.TypInfo.GetObjectProp(e,s)):t.TTMSFNCPersistence.IsDescendingClass(n,["TStrings"])?this.ReadStrings(pas.TypInfo.GetObjectProp(e,s)):(h=!1,null!=this.FIOReference&&pas.SysUtils.Supports$3(this.FIOReference,t.ITMSFNCPersistenceIO.$guid,{get:function(){return a},set:function(t){a=t}})&&(h=a.NeedsObjectReference(n)),h?this.FReader.IsNull()?(this.FReader.ReadNull(),pas.TypInfo.SetObjectProp(e,s,null)):this.FReferences.Add(t.TTMSFNCObjectReference.$create("Create$1",[e,i,this.FReader.ReadString()])):(u=pas.TypInfo.GetObjectProp(e,s),d=t.TTMSFNCPersistence.IsAssignableProperty(e,i),null!=this.FOnCustomIsAssignableProperty&&this.FOnCustomIsAssignableProperty(e,s,{get:function(){return d},set:function(t){d=t}}),d?(c=this.FReader.ReadString(),null!=this.FRootObject&&pas.Classes.TComponent.isPrototypeOf(this.FRootObject)&&pas.TypInfo.SetObjectProp(e,s,rtl.as(this.FRootObject,pas.Classes.TComponent).FindComponent(c))):this.ReadExistingObject(u)))):this.ReadPropInfoValue(e,i))):this.FReader.SkipValue()}finally{rtl._Release(r),rtl._Release(a)}},this.ReadPropInfoValue=function(i,s){var n,o,r,a,l="",h="",d=0,u="",c=!1,p=0,C="",S=pas.System.TMethod.$new();if(t.TTMSFNCPersistence.IsWriteOnly(s)||this.FReader.IsNull())this.FReader.ReadNull();else{a=i,r=s,n=t.TTMSFNCPersistence.GetPropInfoName(r);var F=o=rtl.rc(t.TTMSFNCPersistence.GetPropInfoType(r),0,20);1===F?"TAlphaColor"===(l=t.TTMSFNCPersistence.GetPropInfoTypeName(r))||"TColor"===l||"TGraphicsColor"===l?(h=this.FReader.ReadString(),t.TTMSFNCPersistence.IsReadOnly(r)||("gcNull"===h?pas.TypInfo.SetOrdProp(a,n,-1):pas.TypInfo.SetOrdProp(a,n,e.HTMLToColorEx(h)))):(d=rtl.rc(this.FReader.ReadInteger(),-2147483648,2147483647),t.TTMSFNCPersistence.IsReadOnly(r)||pas.TypInfo.SetOrdProp$1(a,r,d)):2===F||3===F?(u=this.FReader.ReadString(),t.TTMSFNCPersistence.IsReadOnly(r)||pas.TypInfo.SetStrProp$1(a,r,u)):4===F?t.TTMSFNCPersistence.GetPropInfoDataTypeInfo(r)===rtl.boolean?(c=this.FReader.ReadBoolean(),t.TTMSFNCPersistence.IsReadOnly(r)||pas.TypInfo.SetOrdProp$1(a,r,c?1:0)):(d=rtl.rc(this.FReader.ReadInteger(),-2147483648,2147483647),t.TTMSFNCPersistence.IsReadOnly(r)||pas.TypInfo.SetOrdProp$1(a,r,d)):7===F?(c=this.FReader.ReadBoolean(),t.TTMSFNCPersistence.IsReadOnly(r)||pas.TypInfo.SetOrdProp$1(a,r,c?1:0)):F===pas.System.TTypeKind.tkDouble?(p=this.FReader.ReadDouble(),t.TTMSFNCPersistence.IsReadOnly(r)||pas.TypInfo.SetFloatProp$1(a,r,p)):5===F?(d=rtl.rc(this.FReader.ReadInteger(),-2147483648,2147483647),t.TTMSFNCPersistence.IsReadOnly(r)||pas.TypInfo.SetOrdProp$1(a,r,d)):9===F?(S.Data=null,S.Code=null,this.FReader.IsNull()?this.FReader.ReadNull():null!=t.TTMSFNCPersistence.FRootObject?(C=this.FReader.ReadString(),S.Code=t.TTMSFNCPersistence.FRootObject.$class.MethodAddress(C),null!==S.Code&&(S.Data=t.TTMSFNCPersistence.FRootObject)):this.FReader.ReadNull(),pas.TypInfo.SetMethodProp(a,r,S)):(t.TTMSFNCPersistence.GetEnumName(pas.System.$rtti.TTypeKind,o),this.FReader.ReadNull()),pas["WEBLib.Graphics"].TFont.isPrototypeOf(a)&&"Size"===n&&this.FReader.HasNext()&&"IsFMX"===(u=this.FReader.PeekName())&&(this.FReader.ReadName(),this.FReader.ReadBoolean()&&rtl.as(a,pas["WEBLib.Graphics"].TFont).SetSize(Math.round(rtl.as(a,pas["WEBLib.Graphics"].TFont).FSize/96*72)))}},this.ReadExistingObject=function(e){if(null!=e){if(this.FReader.ReadBeginObject(),""!==t.TTMSFNCPersistence.ClassTypeVariable){if(!this.FReader.HasNext()||this.FReader.ReadName()!==t.TTMSFNCPersistence.ClassTypeVariable)throw t.ETMSFNCReaderException.$create("Create$1",['"'+t.TTMSFNCPersistence.ClassTypeVariable+'" property not found in Object descriptor.']);this.FReader.ReadString()}this.ReadProperties(e),this.FReader.ReadEndObject()}else this.FReader.ReadNull()},this.ReadGenericStringList=function(t){var e="";for(t.Clear(),this.FReader.ReadBeginArray();this.FReader.HasNext();)this.FReader.IsNull()?this.FReader.SkipValue():(e=this.FReader.ReadString(),t.Add(e));this.FReader.ReadEndArray()},this.ReadGenericDoubleList=function(t){var e=0;for(t.Clear(),this.FReader.ReadBeginArray();this.FReader.HasNext();)this.FReader.IsNull()?this.FReader.SkipValue():(e=this.FReader.ReadDouble(),t.Add(e));this.FReader.ReadEndArray()},this.ReadGenericIntegerList=function(t){var e=0;for(t.Clear(),this.FReader.ReadBeginArray();this.FReader.HasNext();)this.FReader.IsNull()?this.FReader.SkipValue():(e=this.FReader.ReadInteger(),t.Add(e));this.FReader.ReadEndArray()},this.ReadStrings=function(t){var e="";for(t.Clear(),this.FReader.ReadBeginArray();this.FReader.HasNext();)this.FReader.IsNull()?this.FReader.SkipValue():(e=this.FReader.ReadString(),t.Add(e));this.FReader.ReadEndArray()},this.ReadGenericObjectList=function(e){var i=null,s=null,n=null,o=null;try{for(n=pas.System.TObject,pas.SysUtils.Supports$3(e,t.ITMSFNCBaseListIO.$guid,{get:function(){return o},set:function(t){o=t}})&&(n=o.GetItemClass()),e.Clear(),this.FReader.ReadBeginArray();this.FReader.HasNext();)this.FReader.IsNull()?this.FReader.SkipValue():(i=this.ReadSingleObject(n),null!=this.FIOReference&&pas.SysUtils.Supports$3(this.FIOReference,t.ITMSFNCPersistenceIO.$guid,{get:function(){return s},set:function(t){s=t}})&&s.FixOwners(i,e),e.Add(i));this.FReader.ReadEndArray()}finally{rtl._Release(o),rtl._Release(s)}},this.ReadGenericDictionary=function(e){var i=null,s="",n=null,o=null;try{for(n=pas.System.TObject,pas.SysUtils.Supports$3(e,t.ITMSFNCBaseListIO.$guid,{get:function(){return o},set:function(t){o=t}})&&(n=o.GetItemClass()),e.Clear(),this.FReader.ReadBeginArray();this.FReader.HasNext();)this.FReader.IsNull()?this.FReader.SkipValue():(this.FReader.ReadBeginObject(),s=this.FReader.ReadName(),i=this.ReadSingleObject(n),e.Add(s,i),this.FReader.ReadEndObject());this.FReader.ReadEndArray()}finally{rtl._Release(o)}},this.ReadCollection=function(e){var i=null,s=null,n=null,o=null;try{for(s=pas.System.TObject,pas.SysUtils.Supports$3(e,t.ITMSFNCBaseListIO.$guid,{get:function(){return n},set:function(t){n=t}})&&(s=n.GetItemClass()),pas.SysUtils.Supports$3(e,t.ITMSFNCBaseCollectionIO.$guid,{get:function(){return o},set:function(t){o=t}}),e.Clear(),this.FReader.ReadBeginArray();this.FReader.HasNext();)if(this.FReader.IsNull())this.FReader.SkipValue();else if(null!=(i=this.ReadSingleObject(s)))try{pas.Classes.TPersistent.isPrototypeOf(i)&&(null!=o?o.AddItem(i).Assign(rtl.as(i,pas.Classes.TPersistent)):e.Add().Assign(rtl.as(i,pas.Classes.TPersistent)))}finally{i=rtl.freeLoc(i)}this.FReader.ReadEndArray()}finally{rtl._Release(n),rtl._Release(o)}},this.ReadList=function(e){var i=null,s=null,n=null,o=null;try{for(n=pas.System.TObject,pas.SysUtils.Supports$3(e,t.ITMSFNCBaseListIO.$guid,{get:function(){return o},set:function(t){o=t}})&&(n=o.GetItemClass()),e.Clear(),this.FReader.ReadBeginArray();this.FReader.HasNext();)this.FReader.IsNull()?this.FReader.SkipValue():(i=this.ReadSingleObject(n),null!=this.FIOReference&&pas.SysUtils.Supports$3(this.FIOReference,t.ITMSFNCPersistenceIO.$guid,{get:function(){return s},set:function(t){s=t}})&&s.FixOwners(i,e),e.Add(i));this.FReader.ReadEndArray()}finally{rtl._Release(o),rtl._Release(s)}},this.ReadBitmap=function(t){var e;this.FReader.IsNull()||""!==(e=this.FReader.ReadString())&&t.SetData(e)},this.ReadObject=function(e){null===e?this.FReader.ReadNull():t.TTMSFNCPersistence.IsGenericList(e.$class.ClassType(),"String")?this.ReadGenericStringList(e):t.TTMSFNCPersistence.IsGenericList(e.$class.ClassType(),"Double")?this.ReadGenericDoubleList(e):t.TTMSFNCPersistence.IsGenericList(e.$class.ClassType(),"Integer")?this.ReadGenericIntegerList(e):t.TTMSFNCPersistence.IsGenericList(e.$class.ClassType(),"")?this.ReadGenericObjectList(e):t.TTMSFNCPersistence.IsGenericDictionary(e.$class.ClassType())?this.ReadGenericDictionary(e):t.TTMSFNCPersistence.IsList(e.$class.ClassType())?this.ReadList(e):t.TTMSFNCPersistence.IsCollection(e.$class.ClassType())?this.ReadCollection(e):t.TTMSFNCPersistence.IsBitmap(e.$class.ClassType())?this.ReadBitmap(e):t.TTMSFNCPersistence.IsDescendingClass(e.$class.ClassType(),["TStrings"])?this.ReadStrings(e):this.ReadSingleObject$1(e)},this.Create$1=function(t){return this.FReader=pas["WEBLib.TMSFNCJSONReader"].TTMSFNCJSONReader.$create("Create$1",[t]),this.FReferences=pas["Generics.Collections"].TObjectList$G2.$create("Create$4",[!0]),this},this.Destroy=function(){rtl.free(this,"FReader"),rtl.free(this,"FReferences"),pas.System.TObject.Destroy.call(this)},this.Read$1=function(t){this.ReadObject(t)}})),rtl.createClass(this,"TTMSFNCPersistence",pas.System.TObject,(function(){this.ClassTypeVariable="",this.FOnCustomReadProperty=null,this.FOnCustomWriteProperty=null,this.FRootObject=null,this.FExcludeProperties=[],this.FIOReference=null,this.DoCustomReadProperty=function(t,e,i,s,n){rtl.rc(i,0,20),null!=this.FOnCustomReadProperty&&this.FOnCustomReadProperty(t,e,i,s,n)},this.DoCustomWriteProperty=function(t,e,i,s,n){rtl.rc(i,0,20),null!=this.FOnCustomWriteProperty&&this.FOnCustomWriteProperty(t,e,i,s,n)},this.SaveSettingsToStream=function(e,i){var s,n,o=null;o=t.TTMSFNCWriter.$create("Create$1",[i]),n=pas.SysUtils.FormatSettings.ThousandSeparator,s=pas.SysUtils.FormatSettings.DecimalSeparator;try{o.SetIOReference(t.TTMSFNCPersistence.FIOReference),o.SetRootObject(t.TTMSFNCPersistence.FRootObject),o.FOnCustomWriteProperty=rtl.createCallback(this,"DoCustomWriteProperty"),pas.SysUtils.FormatSettings.DecimalSeparator=".",pas.SysUtils.FormatSettings.ThousandSeparator=",",o.Write(e)}finally{pas.SysUtils.FormatSettings.DecimalSeparator=s,pas.SysUtils.FormatSettings.ThousandSeparator=n,o=rtl.freeLoc(o)}},this.LoadSettingsFromStream=function(e,i){var s,n,o=null;i.SetPosition(0),o=t.TTMSFNCReader.$create("Create$1",[i]),n=pas.SysUtils.FormatSettings.ThousandSeparator,s=pas.SysUtils.FormatSettings.DecimalSeparator;try{o.SetIOReference(t.TTMSFNCPersistence.FIOReference),o.SetRootObject(t.TTMSFNCPersistence.FRootObject),o.FOnCustomReadProperty=rtl.createCallback(this,"DoCustomReadProperty"),pas.SysUtils.FormatSettings.DecimalSeparator=".",pas.SysUtils.FormatSettings.ThousandSeparator=",",o.Read$1(e)}finally{pas.SysUtils.FormatSettings.DecimalSeparator=s,pas.SysUtils.FormatSettings.ThousandSeparator=n,o=rtl.freeLoc(o)}},this.CreateObject=function(e,i){var s=null,n=null;if(null===(n=pas.Classes.GetClass(e)))throw t.ETMSFNCReaderException.$create("CreateFmt",['Type "%s" not found',pas.System.VarRecs(18,e)]);if(!n.InheritsFrom(pas.System.TObject))throw t.ETMSFNCReaderException.$create("Create$1",['Type "%s" is not an class type']);if(null!==i&&!n.InheritsFrom(i))throw t.ETMSFNCReaderException.$create("CreateFmt",['Type "%s" does not inherit from %s',pas.System.VarRecs(18,e,18,i.$classname)]);if(n.InheritsFrom(pas["WEBLib.Controls"].TCustomControl))s=n.$create("Create$1",[null]);else if(n.InheritsFrom(pas.Classes.TComponent))s=n.$create("Create$1",[null]);else if(n.InheritsFrom(pas.Classes.TCollectionItem))s=n.$create("Create$1",[null]);else{if(!n.InheritsFrom(pas.Classes.TPersistent))throw t.ETMSFNCReaderException.$create("CreateFmt",['Type "%s" not supported',pas.System.VarRecs(18,e)]);s=n.$create("Create")}return s},this.GetPropInfoDataTypeInfo=function(t){var e=null;return e=null,null!=t&&(e=t.typeinfo),e},this.GetPropInfoDataTypeInfoClassType=function(t){var e=null;return null,null!=t&&null!=t.typeinfo&&(e=t.typeinfo).class?e.class.ClassType():null},this.GetPropInfoType=function(t){return null!=t.typeinfo?rtl.rc(t.typeinfo.kind,0,20):0},this.GetPropInfoName=function(t){return t.name},this.GetPropInfoTypeName=function(t){var e="";return e="",null!=t.typeinfo&&(e=t.typeinfo.name),e},this.GetEnumName=function(t,e){rtl.rc(e,-2147483648,2147483647);return t.enumtype[e]},this.IsWriteOnly=function(t){return""===t.getter},this.IsReadOnly=function(t){return""===t.setter},this.IsAssignableProperty=function(t,e){var i=!1,s=null,n="";return i=!1,rtl.rc(this.GetPropInfoType(e),0,20)in rtl.createSet(13)&&(n=this.GetPropInfoName(e),i=null!=(s=pas.TypInfo.GetObjectProp(t,n))&&this.IsComponent(s.$class.ClassType())||!(null!=s)),i},this.IsGenericList=function(t,e){var i="";if(null==t)return!1;do{if(i=t.$classname,(pas.StrUtils.AnsiStartsStr("TList<",i)||pas.StrUtils.AnsiStartsStr("TObjectList<",i))&&(""===e||""!==e&&pas.System.Pos(pas.SysUtils.LowerCase(e),pas.SysUtils.LowerCase(i))>0||pas.System.Pos(pas.SysUtils.LowerCase(e),pas.SysUtils.LowerCase(i))>0))return!0;t=t.$ancestor}while(null!=t);return!1,!1},this.IsGenericDictionary=function(t){var e="";if(null==t)return!1;do{if(e=t.$classname,pas.StrUtils.AnsiStartsStr("TDictionary<",e)||pas.StrUtils.AnsiStartsStr("TObjectDictionary<",e))return!0;t=t.$ancestor}while(null!=t);return!1,!1},this.IsCollection=function(t){return this.IsDescendingClass(t,["TCollection"])},this.IsComponent=function(t){return this.IsDescendingClass(t,["TComponent","TTMSFNCCustomComponent"])},this.IsList=function(t){return this.IsDescendingClass(t,["TList"])},this.IsDescendingClass=function(t,e){var i="",s=0;if(null==t)return!1;do{i=t.$classname;for(var n=0,o=rtl.length(e)-1;n<=o;n++)if(s=n,i===rtl.rcArrR(e,s))return!0;t=t.$ancestor}while(null!=t);return!1,!1},this.IsBitmap=function(t){return this.IsDescendingClass(t,["TBitmap","TPicture","TTMSFNCBitmap","TGraphic"])}})),this.ExcludePropertyList=["Align","AllowFocus","Anchors","BevelEdges","BevelInner","BevelKind","BevelOuter","BevelWidth","BiDiMode","BitmapContainer","BorderSpacing","CanParentFocus","ClipChildren","ClipParent","Constraints","Ctl3D","DisableFocusEffect","DoubleBuffered","DragCursor","DragKind","DragMode","Enabled","EnableDragHighLight","Height","Hint","HitTest","Locked","Margins","Name","Opacity","Padding","ParentBiDiMode","ParentColor","ParentCtl3D","ParentDoubleBuffered","ParentFont","ParentShowHint","PopupMenu","Position","RotationAngle","RotationCenter","Scale","ShowHint","Size","StyleElements","StyleName","TabOrder","TabStop","Tag","Touch","TouchTargetExpansion","Visible","Width"],t.$implcode=function(){e.gcNull=-1,e.GetColorRed=function(t){return t=pas["WEBLib.Graphics"].ColorToRGB(t),pas["WEBLib.Graphics"].GetRValue(t)},e.GetColorGreen=function(t){return t=pas["WEBLib.Graphics"].ColorToRGB(t),pas["WEBLib.Graphics"].GetGValue(t)},e.GetColorBlue=function(t){return t=pas["WEBLib.Graphics"].ColorToRGB(t),pas["WEBLib.Graphics"].GetBValue(t)},e.HTMLToColorEx=function(t){function e(t){return t.length<2?0:(1,2,((t.charAt(0)>="A"?t.charCodeAt(0)-65+10:t.charCodeAt(0)-48)<<4)+(t.charAt(1)>="A"?t.charCodeAt(1)-65+10:t.charCodeAt(1)-48))}var i,s;return i=e(pas.System.Copy(t,2,2)),s=e(pas.System.Copy(t,4,2))<<8,(e(pas.System.Copy(t,6,2))<<16)+s+i};var t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];e.ColorToHTMLEx=function(i){var s,n="";return 1,s=pas["WEBLib.Graphics"].ColorToRGB(i),n="#RRGGBB",n=rtl.setCharAt(n,1,t[e.GetColorRed(s)>>>4]),n=rtl.setCharAt(n,2,t[15&e.GetColorRed(s)]),n=rtl.setCharAt(n,3,t[e.GetColorGreen(s)>>>4]),n=rtl.setCharAt(n,4,t[15&e.GetColorGreen(s)]),n=rtl.setCharAt(n,5,t[e.GetColorBlue(s)>>>4]),n=rtl.setCharAt(n,6,t[15&e.GetColorBlue(s)])}},t.$init=function(){t.TTMSFNCPersistence.ClassTypeVariable="$type"}}),["StrUtils","WEBLib.Controls","WEBLib.Graphics","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCTypes",["System","Types","Classes","WEBLib.Graphics","SysUtils","WEBLib.Controls","Math","WEBLib.JSON"],(function(){"use strict";var t=this;this.TMSPlatformsWeb=0,this.KEY_TAB=9,rtl.recNewT(this,"TSizeF",(function(){this.cx=0,this.cy=0,this.$eq=function(t){return this.cx===t.cx&&this.cy===t.cy},this.$assign=function(t){return this.cx=t.cx,this.cy=t.cy,this}})),rtl.recNewT(this,"TPointF",(function(){this.X=0,this.Y=0,this.$eq=function(t){return this.X===t.X&&this.Y===t.Y},this.$assign=function(t){return this.X=t.X,this.Y=t.Y,this}})),rtl.recNewT(this,"TRectF",(function(){this.Left=0,this.Top=0,this.Right=0,this.Bottom=0,this.$eq=function(t){return this.Left===t.Left&&this.Top===t.Top&&this.Right===t.Right&&this.Bottom===t.Bottom},this.$assign=function(t){return this.Left=t.Left,this.Top=t.Top,this.Right=t.Right,this.Bottom=t.Bottom,this};var e=t.$rtti.$Record("TRectF",{});e.addField("Left",rtl.double),e.addField("Top",rtl.double),e.addField("Right",rtl.double),e.addField("Bottom",rtl.double)})),rtl.createClass(this,"TTMSFNCBitmap",pas["WEBLib.Graphics"].TBitmap,(function(){})),rtl.createHelper(this,"TTMSFNCObjectHelper",null,(function(){this.ToJSON$1=function(){var t="",e=null;e=pas.Classes.TStringStream.$create("Create$3",["",pas.Classes.TEncoding.GetANSI(),!0]);try{pas["WEBLib.TMSFNCPersistence"].TTMSFNCPersistence.SaveSettingsToStream(this,e),t=e.GetDataString()}finally{e=rtl.freeLoc(e)}return t},this.FromJSON=function(t){var e=null,i="",s=null;e=pas.Classes.TStringStream.$create("Create$3",[t,pas.Classes.TEncoding.GetANSI(),!0]);try{s=pas["WEBLib.TMSFNCPersistence"].TTMSFNCPersistence.FIOReference,i=pas["WEBLib.TMSFNCPersistence"].TTMSFNCPersistence.ClassTypeVariable,pas["WEBLib.TMSFNCPersistence"].TTMSFNCPersistence.ClassTypeVariable="",pas["WEBLib.TMSFNCPersistence"].TTMSFNCPersistence.FIOReference=this,pas["WEBLib.TMSFNCPersistence"].TTMSFNCPersistence.LoadSettingsFromStream(this,e),pas["WEBLib.TMSFNCPersistence"].TTMSFNCPersistence.ClassTypeVariable=i,pas["WEBLib.TMSFNCPersistence"].TTMSFNCPersistence.FIOReference=s}finally{e=rtl.freeLoc(e)}}})),rtl.createClass(this,"TTMSFNCOwnedCollection",pas.Classes.TOwnedCollection,(function(){})),this.InflateRectEx=function(t,e,i){t.Left=t.Left-e,t.Right=t.Right+e,t.Top=t.Top-i,t.Bottom=t.Bottom+i},this.OffsetRectEx$1=function(t,e,i){return t.Left=t.Left+e,t.Right=t.Right+e,t.Top=t.Top+i,t.Bottom=t.Bottom+i,!0,!0},this.PtInRectEx=function(t,e){return e.X>=t.Left&&e.X<t.Right&&e.Y>=t.Top&&e.Y<t.Bottom},this.IntersectRectEx=function(t,e){return t.Left<e.Right&&t.Right>e.Left&&t.Top<e.Bottom&&t.Bottom>e.Top},this.IntersectRectEx$1=function(e,i,s){var n,o=t.TRectF.$new();return o.$assign(i),s.Left>i.Left&&(o.Left=s.Left),s.Top>i.Top&&(o.Top=s.Top),s.Right<i.Right&&(o.Right=s.Right),s.Bottom<i.Bottom&&(o.Bottom=s.Bottom),(n=!t.RectIsEmpty(o))||(o.Top=0,o.Bottom=0,o.Left=0,o.Right=0),e.$assign(o),n},this.RectWidthEx$1=function(t){return t.Right-t.Left},this.RectHeightEx$1=function(t){return t.Bottom-t.Top},this.RectCenterEx$1=function(e,i){var s=t.TRectF.$new();return t.OffsetRectEx$1(e,-e.Left,-e.Top),t.OffsetRectEx$1(e,Math.round((t.RectWidthEx$1(i)-t.RectWidthEx$1(e))/2),Math.round((t.RectHeightEx$1(i)-t.RectHeightEx$1(e))/2)),t.OffsetRectEx$1(e,i.Left,i.Top),s.$assign(e),s},this.RectCenterAtEx=function(e,i){var s=t.TRectF.$new();return s.$assign(e),t.RectCenterEx$1(s,i),s},this.RectSnapToPixelEx=function(e,i,s){var n=t.TRectF.$new(),o=0,r=0;return o=i<=0?1:i,n.Left=pas.System.Trunc(e.Left*o)/o,n.Top=pas.System.Trunc(e.Top*o)/o,n.Right=n.Left+Math.round((e.Right-e.Left)*o)/o,n.Bottom=n.Top+Math.round((e.Bottom-e.Top)*o)/o,s&&(r=1/(2*o),t.OffsetRectEx$1(n,r,r)),n},this.RectFitIntoEx=function(e,i,s){var n=t.TRectF.$new();return i.Right-i.Left<=0||i.Bottom-i.Top<=0?(s.set(1),e):((e.Right-e.Left)/(i.Right-i.Left)>(e.Bottom-e.Top)/(i.Bottom-i.Top)?s.set((e.Right-e.Left)/(i.Right-i.Left)):s.set((e.Bottom-e.Top)/(i.Bottom-i.Top)),n.$assign(t.RectF(0,0,(e.Right-e.Left)/s.get(),(e.Bottom-e.Top)/s.get())),t.RectCenterEx$1(n,i),n)},this.RectFitIntoEx$1=function(e,i){var s=t.TRectF.$new(),n=0;return s.$assign(t.RectFitIntoEx(e,i,{get:function(){return n},set:function(t){n=t}})),s},this.RectIsEmpty=function(t){return t.Right<t.Left||pas.Math.SameValue(t.Right,t.Left,0)||t.Bottom<t.Top||pas.Math.SameValue(t.Bottom,t.Top,0)},this.RectF=function(e,i,s,n){var o=t.TRectF.$new();return o.Left=e,o.Top=i,o.Bottom=n,o.Right=s,o},this.PointF=function(e,i){var s=t.TPointF.$new();return s.X=e,s.Y=i,s},this.BitmapToDrawBitmap=function(t){var e=null;return e=null,null!=t&&(e=t),e},this.IsBitmapEmpty=function(e){var i=!1,s=null;return i=!0,null!=e&&null!=(s=t.BitmapToDrawBitmap(e))&&(i=s.Empty()),i},this.CharIsNumber=function(t){return t.charCodeAt()in rtl.createSet(null,48,57)},this.CreateNewGUID=function(){var t=pas.System.TGuid.$new();return pas.SysUtils.CreateGUID(t),pas.SysUtils.GUIDToString(t)}}),["WEBLib.TMSFNCUtils","WEBLib.TMSFNCPersistence","JS"]),rtl.module("WEBLib.TMSFNCGraphicsTypes",["System","Classes","Types","WEBLib.TMSFNCTypes","WEBLib.Graphics"],(function(){"use strict";var t=this,e=t.$impl;this.gcAliceblue=16775408,this.gcAntiquewhite=14150650,this.gcAqua=16776960,this.gcAquamarine=13959039,this.gcAzure=16777200,this.gcBeige=14480885,this.gcBisque=12903679,this.gcBlack=0,this.gcBlanchedalmond=13495295,this.gcBlue=16711680,this.gcBlueviolet=14822282,this.gcBrown=2763429,this.gcBurlywood=8894686,this.gcCadetblue=10526303,this.gcChartreuse=65407,this.gcChocolate=1993170,this.gcCoral=5275647,this.gcCornflowerblue=15570276,this.gcCornsilk=14481663,this.gcCrimson=3937500,this.gcCyan=16776960,this.gcDarkblue=9109504,this.gcDarkcyan=9145088,this.gcDarkgoldenrod=755384,this.gcDarkgray=11119017,this.gcDarkgreen=25600,this.gcDarkgrey=11119017,this.gcDarkkhaki=7059389,this.gcDarkmagenta=9109643,this.gcDarkolivegreen=3107669,this.gcDarkorange=36095,this.gcDarkorchid=13382297,this.gcDarkred=139,this.gcDarksalmon=8034025,this.gcDarkseagreen=9419919,this.gcDarkslateblue=9125192,this.gcDarkslategray=5197615,this.gcDarkslategrey=5197615,this.gcDarkturquoise=13749760,this.gcDarkviolet=13828244,this.gcDeeppink=9639167,this.gcDeepskyblue=16760576,this.gcDimgray=6908265,this.gcDimgrey=6908265,this.gcDodgerblue=16748574,this.gcFirebrick=2237106,this.gcFloralwhite=15792895,this.gcForestgreen=2263842,this.gcFuchsia=16711935,this.gcGainsboro=14474460,this.gcGhostwhite=16775416,this.gcGold=55295,this.gcGoldenrod=2139610,this.gcGray=8421504,this.gcGreen=32768,this.gcGreenyellow=3145645,this.gcGrey=8421504,this.gcHoneydew=15794160,this.gcHotpink=11823615,this.gcIndianred=6053069,this.gcIndigo=8519755,this.gcIvory=15794175,this.gcKhaki=9234160,this.gcLavender=16443110,this.gcLavenderblush=16118015,this.gcLawngreen=64636,this.gcLemonchiffon=13499135,this.gcLightblue=15128749,this.gcLightcoral=8421616,this.gcLightcyan=16777184,this.gcLightgoldenrodyellow=13826810,this.gcLightgray=13882323,this.gcLightgreen=9498256,this.gcLightgrey=13882323,this.gcLightpink=12695295,this.gcLightsalmon=8036607,this.gcLightseagreen=11186720,this.gcLightskyblue=16436871,this.gcLightslategray=10061943,this.gcLightslategrey=10061943,this.gcLightsteelblue=14599344,this.gcLightyellow=14745599,this.gcLime=65280,this.gcLimegreen=3329330,this.gcLinen=15134970,this.gcMagenta=16711935,this.gcMaroon=128,this.gcMediumaquamarine=11193702,this.gcMediumblue=13434880,this.gcMediumorchid=13850042,this.gcMediumpurple=14381203,this.gcMediumseagreen=7451452,this.gcMediumslateblue=15624315,this.gcMediumspringgreen=10156544,this.gcMediumturquoise=13422920,this.gcMediumvioletred=8721863,this.gcMidnightblue=7346457,this.gcMintcream=16449525,this.gcMistyrose=14804223,this.gcMoccasin=11920639,this.gcNavajowhite=11394815,this.gcNavy=8388608,this.gcOldlace=15136253,this.gcOlive=32896,this.gcOlivedrab=2330219,this.gcOrange=42495,this.gcOrangered=17919,this.gcOrchid=14053594,this.gcPalegoldenrod=11200750,this.gcPalegreen=10025880,this.gcPaleturquoise=15658671,this.gcPalevioletred=9662683,this.gcPapayawhip=14020607,this.gcPeachpuff=12180223,this.gcPeru=4163021,this.gcPink=13353215,this.gcPlum=14524637,this.gcPowderblue=15130800,this.gcPurple=8388736,this.gcRed=255,this.gcRosybrown=9408444,this.gcRoyalblue=14772545,this.gcSaddlebrown=1262987,this.gcSalmon=7504122,this.gcSandybrown=6333684,this.gcSeagreen=5737262,this.gcSeashell=15660543,this.gcSienna=2970272,this.gcSilver=12632256,this.gcSkyblue=15453831,this.gcSlateblue=13458026,this.gcSlategray=9470064,this.gcSlategrey=9470064,this.gcSnow=16448255,this.gcSpringgreen=8388352,this.gcSteelblue=11829830,this.gcTan=9221330,this.gcTeal=8421376,this.gcThistle=14204888,this.gcTomato=4678655,this.gcTurquoise=13688896,this.gcViolet=15631086,this.gcWheat=11788021,this.gcWhite=16777215,this.gcWhitesmoke=16119285,this.gcYellow=65535,this.gcYellowgreen=3329434,this.gcNull=-1,this.TTMSFNCGraphicsStrokeKind={0:"gskNone",gskNone:0,1:"gskSolid",gskSolid:1,2:"gskDash",gskDash:2,3:"gskDot",gskDot:3,4:"gskDashDot",gskDashDot:4,5:"gskDashDotDot",gskDashDotDot:5},this.$rtti.$Enum("TTMSFNCGraphicsStrokeKind",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TTMSFNCGraphicsStrokeKind}),this.TTMSFNCGraphicsTextureMode={0:"gtmOriginal",gtmOriginal:0,1:"gtmFit",gtmFit:1,2:"gtmStretch",gtmStretch:2,3:"gtmCenter",gtmCenter:3,4:"gtmTile",gtmTile:4},this.$rtti.$Enum("TTMSFNCGraphicsTextureMode",{minvalue:0,maxvalue:4,ordtype:1,enumtype:this.TTMSFNCGraphicsTextureMode}),this.TTMSFNCGraphicsFillKind={0:"gfkNone",gfkNone:0,1:"gfkSolid",gfkSolid:1,2:"gfkGradient",gfkGradient:2,3:"gfkTexture",gfkTexture:3},this.$rtti.$Enum("TTMSFNCGraphicsFillKind",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCGraphicsFillKind}),this.TTMSFNCGraphicsFillGradientMode={0:"gfgmDefault",gfgmDefault:0,1:"gfgmCollection",gfgmCollection:1},this.TTMSFNCGraphicsFillGradientType={0:"gfgtLinear",gfgtLinear:0,1:"gfgtRadial",gfgtRadial:1},this.TTMSFNCGraphicsFillOrientation={0:"gfoHorizontal",gfoHorizontal:0,1:"gfoVertical",gfoVertical:1,2:"gfoCustom",gfoCustom:2},this.$rtti.$Enum("TTMSFNCGraphicsFillOrientation",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TTMSFNCGraphicsFillOrientation}),this.TTMSFNCGraphicsTextAlign={0:"gtaCenter",gtaCenter:0,1:"gtaLeading",gtaLeading:1,2:"gtaTrailing",gtaTrailing:2},this.TTMSFNCGraphicsTextTrimming={0:"gttNone",gttNone:0,1:"gttCharacter",gttCharacter:1,2:"gttWord",gttWord:2},this.TTMSFNCGraphicsSide={0:"gsLeft",gsLeft:0,1:"gsTop",gsTop:1,2:"gsRight",gsRight:2,3:"gsBottom",gsBottom:3},this.TTMSFNCGraphicsTextQuality={0:"gtqDefault",gtqDefault:0,1:"gtqAntiAliasing",gtqAntiAliasing:1,2:"gtqClearType",gtqClearType:2},this.AllSides=rtl.createSet(0,1,2,3),rtl.recNewT(this,"TTMSFNCGraphicsMatrix",(function(){this.m11=0,this.m12=0,this.m13=0,this.m21=0,this.m22=0,this.m23=0,this.m31=0,this.m32=0,this.m33=0,this.$eq=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m13===t.m13&&this.m21===t.m21&&this.m22===t.m22&&this.m23===t.m23&&this.m31===t.m31&&this.m32===t.m32&&this.m33===t.m33},this.$assign=function(t){return this.m11=t.m11,this.m12=t.m12,this.m13=t.m13,this.m21=t.m21,this.m22=t.m22,this.m23=t.m23,this.m31=t.m31,this.m32=t.m32,this.m33=t.m33,this}})),this.$rtti.$Class("TTMSFNCGraphicsStroke"),this.$rtti.$Class("TTMSFNCGraphicsFill"),this.$rtti.$Class("TTMSFNCGraphicsFont"),rtl.createClass(this,"TTMSFNCGraphicsSaveState",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FSaveDC=0,this.FFont=null,this.FStroke=null,this.FFill=null},this.$final=function(){this.FFont=void 0,this.FStroke=void 0,this.FFill=void 0,pas.Classes.TPersistent.$final.call(this)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FFill=t.TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FStroke=t.TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FFont=t.TTMSFNCGraphicsFont.$create("Create$2"),this},this.Destroy=function(){rtl.free(this,"FFill"),rtl.free(this,"FStroke"),rtl.free(this,"FFont"),pas.System.TObject.Destroy.call(this)}})),rtl.createClass(this,"TTMSFNCGraphicsFillGradientItem",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FColor=0,this.FPosition=0,this.FOpacity=0},this.IsPositionStored=function(){return 0!==this.FPosition},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,this.UpdateGradient())},this.SetPosition=function(t){this.FPosition!==t&&(this.FPosition=t,this.UpdateGradient())},this.IsOpacityStored=function(){return 1!==this.FOpacity},this.SetOpacity=function(t){this.FOpacity!==t&&(this.FOpacity=t,this.UpdateGradient())},this.UpdateGradient=function(){t.TTMSFNCGraphicsFillGradientItems.isPrototypeOf(this.FCollection)&&rtl.as(this.FCollection,t.TTMSFNCGraphicsFillGradientItems).UpdateGradient()},this.Create$1=function(t){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),this.FColor=16777215,this.FPosition=0,this.FOpacity=1,this},this.Assign=function(e){t.TTMSFNCGraphicsFillGradientItem.isPrototypeOf(e)?(this.FColor=rtl.as(e,t.TTMSFNCGraphicsFillGradientItem).FColor,this.FOpacity=rtl.as(e,t.TTMSFNCGraphicsFillGradientItem).FOpacity,this.FPosition=rtl.as(e,t.TTMSFNCGraphicsFillGradientItem).FPosition):pas.Classes.TPersistent.Assign.apply(this,arguments)};var e=this.$rtti;e.addProperty("Opacity",14,rtl.double,"FOpacity","SetOpacity",{stored:"IsOpacityStored"}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{Default:16777215}),e.addProperty("Position",14,rtl.double,"FPosition","SetPosition",{stored:"IsPositionStored"})})),rtl.createClass(this,"TTMSFNCGraphicsFillGradientItems",pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection,(function(){this.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$init.call(this),this.FOwner$1=null},this.$final=function(){this.FOwner$1=void 0,pas["WEBLib.TMSFNCTypes"].TTMSFNCOwnedCollection.$final.call(this)},this.UpdateGradient=function(){null!=this.FOwner$1&&this.FOwner$1.Changed()},this.GetGradientClass=function(){return t.TTMSFNCGraphicsFillGradientItem},this.Create$3=function(t){return pas.Classes.TOwnedCollection.Create$2.call(this,t,this.GetGradientClass()),this.FOwner$1=t,this}})),rtl.createClass(this,"TTMSFNCCustomGraphicsFill",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FUpdateCount=0,this.FOnChanged=null,this.FOrientation=0,this.FKind=0,this.FDefaultKind=0,this.FColor=0,this.FDefaultColor=0,this.FColorTo=0,this.FColorMirror=0,this.FColorMirrorTo=0,this.FDefaultColorTo=0,this.FDefaultColorMirror=0,this.FDefaultColorMirrorTo=0,this.FOpacity=0,this.FTexture=null,this.FTextureMode=0,this.FGradientMode=0,this.FGradientItems=null,this.FGradientType=0,this.FGradientAngle=0,this.FGradientCenterPoint=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),this.FGradientCenterColor=0,this.FGradientMatrix=t.TTMSFNCGraphicsMatrix.$new()},this.$final=function(){this.FOnChanged=void 0,this.FTexture=void 0,this.FGradientItems=void 0,this.FGradientCenterPoint=void 0,this.FGradientMatrix=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetKind=function(t){this.FKind!==t&&(this.FKind=t,this.Changed())},this.SetOrientation=function(t){this.FOrientation!==t&&(this.FOrientation=t,this.Changed())},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,-1===this.FColor?this.FColor=-1:536870912===this.FColor&&(this.FColor=15790320),this.Changed())},this.SetColorTo=function(t){this.FColorTo!==t&&(this.FColorTo=t,-1===this.FColorTo?this.FColorTo=-1:536870912===this.FColorTo&&(this.FColorTo=15790320),this.Changed())},this.SetColorMirror=function(t){this.FColorMirror!==t&&(this.FColorMirror=t,-1===this.FColorMirror?this.FColorMirror=-1:536870912===this.FColorMirror&&(this.FColorMirror=15790320),this.Changed())},this.SetColorMirrorTo=function(t){this.FColorMirrorTo!==t&&(this.FColorMirrorTo=t,-1===this.FColorMirrorTo?this.FColorMirrorTo=-1:536870912===this.FColorMirrorTo&&(this.FColorMirrorTo=15790320),this.Changed())},this.SetTexture=function(t){this.FTexture!==t&&(this.FTexture.Assign(t),this.Changed())},this.SetTextureMode=function(t){this.FTextureMode!==t&&(this.FTextureMode=t,this.Changed())},this.IsColorStored=function(){return this.FColor!==this.FDefaultColor},this.IsKindStored=function(){return this.FKind!==this.FDefaultKind},this.IsColorMirrorStored=function(){return this.FColorMirror!==this.FDefaultColorMirror},this.IsColorMirrorToStored=function(){return this.FColorMirrorTo!==this.FDefaultColorMirrorTo},this.IsColorToStored=function(){return this.FColorTo!==this.FDefaultColorTo},this.Changed=function(){null!=this.FOnChanged&&0===this.FUpdateCount&&this.FOnChanged(this)},this.TextureChanged=function(t){this.Changed()},this.Create$1=function(e,i,s,n,o){return this.FGradientItems=t.TTMSFNCGraphicsFillGradientItems.$create("Create$3",[this]),this.FKind=e,this.FDefaultKind=e,this.FGradientMatrix.$assign(t.MatrixIdentity()),this.FGradientCenterColor=-1,this.FGradientMode=0,this.FGradientAngle=0,this.FGradientCenterPoint.$assign(pas["WEBLib.TMSFNCTypes"].PointF(0,0)),this.FGradientType=0,this.FColor=i,this.FDefaultColor=i,this.FOpacity=1,this.FOrientation=1,this.FColorTo=s,this.FColorMirror=n,this.FColorMirrorTo=o,this.FDefaultColorTo=s,this.FDefaultColorMirror=n,this.FDefaultColorMirrorTo=o,this.FTextureMode=2,this.FTexture=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FTexture.FOnChange=rtl.createCallback(this,"TextureChanged"),this},this.Destroy=function(){rtl.free(this,"FTexture"),rtl.free(this,"FGradientItems"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCCustomGraphicsFill.isPrototypeOf(e)?(this.FColor=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FColor,this.FColorTo=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FColorTo,this.FColorMirror=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FColorMirror,this.FColorMirrorTo=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FColorMirrorTo,this.FKind=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FKind,this.FOrientation=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FOrientation,this.FOpacity=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FOpacity,this.FTexture.Assign(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FTexture),this.FTextureMode=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FTextureMode,this.FGradientMode=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientMode,this.FGradientAngle=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientAngle,this.FGradientCenterPoint.$assign(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientCenterPoint),this.FGradientItems.Assign(rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientItems),this.FGradientType=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientType,this.FGradientCenterColor=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FGradientCenterColor):t.TTMSFNCCustomGraphicsStroke.isPrototypeOf(e)&&(this.FColor=rtl.as(e,t.TTMSFNCCustomGraphicsStroke).FColor,this.FColorTo=-1,this.FColorMirror=-1,this.FColorMirrorTo=-1,this.FKind=1,this.FOrientation=1,this.FOpacity=1),this.Changed()}})),rtl.createClass(this,"TTMSFNCGraphicsFill",this.TTMSFNCCustomGraphicsFill,(function(){var e=this.$rtti;e.addProperty("OnChanged",0,pas.Classes.$rtti.TNotifyEvent,"FOnChanged","FOnChanged"),e.addProperty("Kind",14,t.$rtti.TTMSFNCGraphicsFillKind,"FKind","SetKind",{stored:"IsKindStored"}),e.addProperty("Orientation",2,t.$rtti.TTMSFNCGraphicsFillOrientation,"FOrientation","SetOrientation",{Default:t.TTMSFNCGraphicsFillOrientation.gfoVertical}),e.addProperty("Color",14,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{stored:"IsColorStored"}),e.addProperty("ColorTo",14,pas["WEBLib.Graphics"].$rtti.TColor,"FColorTo","SetColorTo",{stored:"IsColorToStored"}),e.addProperty("ColorMirror",14,pas["WEBLib.Graphics"].$rtti.TColor,"FColorMirror","SetColorMirror",{stored:"IsColorMirrorStored"}),e.addProperty("ColorMirrorTo",14,pas["WEBLib.Graphics"].$rtti.TColor,"FColorMirrorTo","SetColorMirrorTo",{stored:"IsColorMirrorToStored"}),e.addProperty("TextureMode",2,t.$rtti.TTMSFNCGraphicsTextureMode,"FTextureMode","SetTextureMode",{Default:t.TTMSFNCGraphicsTextureMode.gtmStretch}),e.addProperty("Texture",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FTexture","SetTexture")})),rtl.createClass(this,"TTMSFNCGraphicsFont",pas["WEBLib.Graphics"].TFont,(function(){this.$init=function(){pas["WEBLib.Graphics"].TFont.$init.call(this),this.FUpdateCount=0,this.FOnChanged=null},this.$final=function(){this.FOnChanged=void 0,pas["WEBLib.Graphics"].TFont.$final.call(this)},this.DoChanged=function(t){null!=this.FOnChanged&&0===this.FUpdateCount&&this.FOnChanged(this)},this.Create$2=function(){return pas["WEBLib.Graphics"].TFont.Create$1.call(this),this.SetHeight(-11),this.FOnChange=rtl.createCallback(this,"DoChanged"),this},this.Assign=function(t){pas["WEBLib.Graphics"].TFont.Assign.call(this,t),this.DoChanged(this)},this.AssignSource=function(t){this.Assign(t)}})),rtl.createClass(this,"TTMSFNCCustomGraphicsStroke",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FUpdateCount=0,this.FOnChanged=null,this.FKind=0,this.FColor=0,this.FWidth=0,this.FOpacity=0,this.FDefaultKind=0,this.FDefaultColor=0},this.$final=function(){this.FOnChanged=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetKind=function(t){this.FKind!==t&&(this.FKind=t,this.Changed())},this.SetColor=function(t){this.FColor!==t&&(this.FColor=t,-1===this.FColor?this.FColor=-1:536870912===this.FColor&&(this.FColor=15790320),this.Changed())},this.SetWidth=function(t){this.FWidth!==t&&(this.FWidth=t,this.Changed())},this.IsWidthStored=function(){return 1!==this.FWidth},this.IsKindStored=function(){return this.FKind!==this.FDefaultKind},this.IsColorStored=function(){return this.FColor!==this.FDefaultColor},this.Changed=function(){null!=this.FOnChanged&&0===this.FUpdateCount&&this.FOnChanged(this)},this.Create$1=function(t,e){return this.FKind=t,this.FDefaultKind=t,this.FColor=e,this.FDefaultColor=e,this.FOpacity=1,this.FWidth=1,this},this.Assign=function(e){t.TTMSFNCCustomGraphicsStroke.isPrototypeOf(e)?(this.FColor=rtl.as(e,t.TTMSFNCCustomGraphicsStroke).FColor,this.FKind=rtl.as(e,t.TTMSFNCCustomGraphicsStroke).FKind,this.FOpacity=rtl.as(e,t.TTMSFNCCustomGraphicsStroke).FOpacity,this.FWidth=rtl.as(e,t.TTMSFNCCustomGraphicsStroke).FWidth):t.TTMSFNCCustomGraphicsFill.isPrototypeOf(e)&&(this.FColor=rtl.as(e,t.TTMSFNCCustomGraphicsFill).FColor,this.FKind=1,this.FOpacity=1,this.FWidth=1),this.Changed()}})),rtl.createClass(this,"TTMSFNCGraphicsStroke",this.TTMSFNCCustomGraphicsStroke,(function(){var e=this.$rtti;e.addProperty("OnChanged",0,pas.Classes.$rtti.TNotifyEvent,"FOnChanged","FOnChanged"),e.addProperty("Kind",14,t.$rtti.TTMSFNCGraphicsStrokeKind,"FKind","SetKind",{stored:"IsKindStored"}),e.addProperty("Color",14,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor",{stored:"IsColorStored"}),e.addProperty("Width",14,rtl.double,"FWidth","SetWidth",{stored:"IsWidthStored"})})),this.TTMSFNCGraphicsPathPointKind={0:"gppMoveTo",gppMoveTo:0,1:"gppLineTo",gppLineTo:1,2:"gppCurveTo",gppCurveTo:2,3:"gppClose",gppClose:3},rtl.recNewT(this,"TTMSFNCGraphicsPathPoint",(function(){this.Kind=0,this.$new=function(){var t=Object.create(this);return t.Point=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),t},this.$eq=function(t){return this.Kind===t.Kind&&this.Point.$eq(t.Point)},this.$assign=function(t){return this.Kind=t.Kind,this.Point.$assign(t.Point),this}})),rtl.createClass(this,"TTMSFNCGraphicsPathPoints",pas.Classes.TList,(function(){this.GetItem=function(e){var i=t.TTMSFNCGraphicsPathPoint.$new();return i.$assign(rtl.getObject(this.Get(e))),i},this.SetItem=function(e,i){var s=t.TTMSFNCGraphicsPathPoint.$new();s.$assign(i),this.Put(e,s)}})),rtl.createClass(this,"TTMSFNCGraphicsPath",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FStartPoint=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),this.FClippable=!1,this.FPoints=null},this.$final=function(){this.FStartPoint=void 0,this.FPoints=void 0,pas.Classes.TPersistent.$final.call(this)},this.GetCount=function(){return this.FPoints.GetCount()},this.GetPoint=function(e){var i=t.TTMSFNCGraphicsPathPoint.$new();return i.$assign(this.FPoints.GetItem(e)),i},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FPoints=t.TTMSFNCGraphicsPathPoints.$create("Create$1"),this},this.Destroy=function(){rtl.free(this,"FPoints"),pas.System.TObject.Destroy.call(this)},this.Assign=function(e){var i=0;if(t.TTMSFNCGraphicsPath.isPrototypeOf(e)){this.FPoints.SetCount(e.GetCount());for(var s=0,n=e.GetCount()-1;s<=n;s++)i=s,this.FPoints.SetItem(i,e.GetPoint(i))}else pas.Classes.TPersistent.Assign.apply(this,arguments)},this.MoveTo=function(e){var i=t.TTMSFNCGraphicsPathPoint.$new();i.Kind=0,i.Point.$assign(e),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(i)),this.FStartPoint.$assign(this.FPoints.GetItem(this.FPoints.GetCount()-1).Point)},this.LineTo=function(e){var i=t.TTMSFNCGraphicsPathPoint.$new();i.Kind=1,i.Point.$assign(e),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(i)),e.X===this.FStartPoint.X&&e.Y===this.FStartPoint.Y&&(this.FClippable=!0)},this.CurveTo=function(e,i,s){var n=t.TTMSFNCGraphicsPathPoint.$new();n.Kind=2,n.Point.$assign(e),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(n)),n.Kind=2,n.Point.$assign(i),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(n)),n.Kind=2,n.Point.$assign(s),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(n))},this.ClosePath=function(){var e=t.TTMSFNCGraphicsPathPoint.$new();e.Kind=3,e.Point.$assign(this.FStartPoint),this.FPoints.Add(t.TTMSFNCGraphicsPathPoint.$clone(e)),this.FClippable=!0},this.AddEllipse=function(t){var e,i,s,n,o;o=.5522847498,e=(t.Left+t.Right)/2,i=(t.Top+t.Bottom)/2,s=o*((t.Right-t.Left)/2),n=o*((t.Bottom-t.Top)/2),this.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,i)),this.CurveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,i-n),pas["WEBLib.TMSFNCTypes"].PointF(e-s,t.Top),pas["WEBLib.TMSFNCTypes"].PointF(e,t.Top)),this.CurveTo(pas["WEBLib.TMSFNCTypes"].PointF(e+s,t.Top),pas["WEBLib.TMSFNCTypes"].PointF(t.Right,i-n),pas["WEBLib.TMSFNCTypes"].PointF(t.Right,i)),this.CurveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,i+n),pas["WEBLib.TMSFNCTypes"].PointF(e+s,t.Bottom),pas["WEBLib.TMSFNCTypes"].PointF(e,t.Bottom)),this.CurveTo(pas["WEBLib.TMSFNCTypes"].PointF(e-s,t.Bottom),pas["WEBLib.TMSFNCTypes"].PointF(t.Left,i+n),pas["WEBLib.TMSFNCTypes"].PointF(t.Left,i)),this.FClippable=!0},this.AddRectangle=function(t,e,i){var s={};0===e&&0===i?(this.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Top)),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Top)),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Bottom)),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Bottom))):(2 in(s=rtl.createSet(0,1,2,3))?(this.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left+e,t.Bottom)),this.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(t.Left+e,t.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(e,i),-270,90),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Bottom-i))):this.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Bottom)),0 in s?(this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Top+i)),this.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(t.Left+e,t.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(e,i),-180,90),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left+e,t.Top))):this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Top)),1 in s?(this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right-e,t.Top)),this.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(t.Right-e,t.Top+i),pas["WEBLib.TMSFNCTypes"].PointF(e,i),-90,90),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Top+i))):this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Top)),3 in s?(this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Bottom-i)),this.AddArc(pas["WEBLib.TMSFNCTypes"].PointF(t.Right-e,t.Bottom-i),pas["WEBLib.TMSFNCTypes"].PointF(e,i),0,90),this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right-e,t.Bottom))):this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Right,t.Bottom)),2 in s?this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left+e,t.Bottom)):this.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(t.Left,t.Bottom))),this.ClosePath(),this.FClippable=!0};this.AddArc=function(t,i,s,n){var o=!1,r=0,a=0,l=0,h=!1;if(s=pas.Math.DegToRad(s),n=pas.Math.DegToRad(n),s=s-2*pas.System.Trunc(s/(2*Math.PI))*Math.PI,n>=2*Math.PI&&(n=2*Math.PI),n<=-2*Math.PI&&(n=-2*Math.PI),!(Math.abs(n)<1e-10)){r=0,h=!1,o=!0;do{n<0?(l=r,a=-Math.PI/2,(r-=Math.PI/2)<=n+.01&&(a=n-l,h=!0)):(l=r,a=Math.PI/2,(r+=Math.PI/2)>=n-.01&&(a=n-l,h=!0)),e.DrawArcWithBezier(this,t.X,t.Y,i.X,i.Y,s,a,o),o=!1,s+=a}while(!h)}}})),rtl.createClass(this,"TTMSFNCGraphicsColorObject",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FColor=0},this.Create$1=function(t){return this.FColor=t,this}})),this.TTMSFNCGraphicsModifyRectMode={0:"gcrmNone",gcrmNone:0,1:"gcrmExpandAll",gcrmExpandAll:1,2:"gcrmShrinkAll",gcrmShrinkAll:2,3:"gcrmShiftRightAndExpandHeight",gcrmShiftRightAndExpandHeight:3,4:"gcrmShiftDownAndExpandWidth",gcrmShiftDownAndExpandWidth:4,5:"gcrmShiftRightAndShrinkHeight",gcrmShiftRightAndShrinkHeight:5,6:"gcrmShiftRightDown",gcrmShiftRightDown:6,7:"gcrmShiftRightUp",gcrmShiftRightUp:7,8:"gcrmShiftLeftUp",gcrmShiftLeftUp:8,9:"gcrmShiftLeftDown",gcrmShiftLeftDown:9,10:"gcrmShiftUpAndExpandWidth",gcrmShiftUpAndExpandWidth:10,11:"gcrmShiftLeftAndExpandHeight",gcrmShiftLeftAndExpandHeight:11},this.TTMSFNCGraphicsModifyPointMode={0:"gcpmNone",gcpmNone:0,1:"gcpmLeftUp",gcpmLeftUp:1,2:"gcpmRightDown",gcpmRightDown:2,3:"gcpmLeftDown",gcpmLeftDown:3,4:"gcpmRightUp",gcpmRightUp:4},this.TTMSFNCGraphicsCorner={0:"gcTopLeft",gcTopLeft:0,1:"gcTopRight",gcTopRight:1,2:"gcBottomLeft",gcBottomLeft:2,3:"gcBottomRight",gcBottomRight:3},this.ModifyRect=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new();i.$assign(t);var s=e;return 1===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)+.5)):2===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)-.5)):3===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)+.5)):6===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)+.5)):5===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)-.5)):4===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)+.5)):10===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)-.5)):7===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)+.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)+.5,pas.System.Int(i.Bottom)-.5)):8===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)-.5)):9===s?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)+.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)+.5)):11===s&&i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(pas.System.Int(i.Left)-.5,pas.System.Int(i.Top)-.5,pas.System.Int(i.Right)-.5,pas.System.Int(i.Bottom)+.5)),i},this.MakeGraphicsColor=function(t,e,i){return pas["WEBLib.Graphics"].RGB(t,e,i)},this.Lighter=function(e,i){var s=0,n=0,o=0;return e=pas["WEBLib.Graphics"].ColorToRGB(e),s=pas["WEBLib.Graphics"].GetRValue(e),n=pas["WEBLib.Graphics"].GetGValue(e),o=pas["WEBLib.Graphics"].GetBValue(e),s+=Math.min(255,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(255-s,i,100)),n+=Math.min(255,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(255-n,i,100)),o+=Math.min(255,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(255-o,i,100)),t.MakeGraphicsColor(s,n,o)},this.Blend=function(t,e,i){var s,n,o,r,a=0,l=0;return i=Math.round(2.55*i),a=255&(s=pas["WEBLib.Graphics"].ColorToRGB(t)),l=255&(n=pas["WEBLib.Graphics"].ColorToRGB(e)),o=Math.max(0,Math.min(255,(i*(a-l)>>>8)+l)),a=255&Math.floor(s/256),l=255&Math.floor(n/256),r=Math.max(0,Math.min(255,(i*(a-l)>>>8)+l)),a=255&Math.floor(s/65536),l=255&Math.floor(n/65536),(Math.max(0,Math.min(255,(i*(a-l)>>>8)+l))<<16)+(r<<8)+o},this.ColorLookup=function(){return e.FColorLookup},this.DrawGradient=function(t,e,i,s,n,o,r){var a,l,h,d,u,c,p,C,S,F,g=0,m=0,f=0,T=0,b=0,y=0,v=0,L=0,B=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),M=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),E=0,P=0;B.$assign(s),0===(L=r?Math.round(B.Right-B.Left):Math.round(B.Bottom-B.Top))&&(L=1),e=pas["WEBLib.Graphics"].ColorToRGB(e),i=pas["WEBLib.Graphics"].ColorToRGB(i),a=255&e,l=Math.floor((65280&e)/256),h=Math.floor((16711680&e)/65536),d=((g=255&i)-a)/L,u=((m=Math.floor((65280&i)/256))-l)/L,c=((f=Math.floor((16711680&i)/65536))-h)/L,b=r?(B.Right-B.Left)/L:(B.Bottom-B.Top)/L,C=t.FBrush.FColor,F=t.FBrush.FStyle,p=t.FPen.FColor,S=t.FPen.FStyle,t.FPen.FStyle=0,t.FBrush.FStyle=0;for(var D=0,A=L-1;D<=A;D++)y=D,g=a+Math.round(d*y),m=l+Math.round(u*y),f=h+Math.round(c*y),v=Math.round(y*b),t.FPen.SetColor(g+(m<<8)+(f<<16)),t.FBrush.FColor=t.FPen.FColor,r?(T=pas.System.Trunc(b),E=B.Left+v+T,E=Math.min(E,B.Right),M.$assign(B),y<=n&&(0 in o||2 in o)?(P=Math.sqrt(Math.pow(n,2)-Math.pow(n-y,2)),0 in o&&(M.Top=M.Top+Math.round(n-P)),2 in o&&(M.Bottom=M.Bottom-Math.round(n-P))):y>=L-n&&(3 in o||1 in o)&&(P=Math.sqrt(Math.pow(n,2)-Math.pow(n-(L-y),2)),1 in o&&(M.Top=M.Top+Math.round(n-P)),3 in o&&(M.Bottom=M.Bottom-Math.round(n-P))),t.Rectangle(M.Left+v,M.Top,E,M.Bottom)):(T=pas.System.Trunc(b),E=B.Top+v+T,E=Math.min(E,B.Bottom),M.$assign(B),y<=n&&(0 in o||1 in o)?(P=Math.sqrt(Math.pow(n,2)-Math.pow(n-y,2)),0 in o&&(M.Left=M.Left+Math.round(n-P)),1 in o&&(M.Right=M.Right-Math.round(n-P))):y>=L-n&&(2 in o||3 in o)&&(P=Math.sqrt(Math.pow(n,2)-Math.pow(n-(L-y),2)),2 in o&&(M.Left=M.Left+Math.round(n-P)),3 in o&&(M.Right=M.Right-Math.round(n-P))),t.Rectangle(M.Left,M.Top+v,M.Right,E));t.FBrush.FColor=C,t.FBrush.FStyle=F,t.FPen.SetColor(p),t.FPen.FStyle=S},this.MatrixIdentity=function(){var e=t.TTMSFNCGraphicsMatrix.$new();return e.m11=1,e.m12=0,e.m13=0,e.m21=0,e.m22=1,e.m23=0,e.m31=0,e.m32=0,e.m33=1,e},t.$implcode=function(){e.FColorLookup=null,e.DrawArcWithBezier=function(t,e,i,s,n,o,r,a){var l,h,d,u,c,p,C=[],S=[],F=0;if(0===r)return a&&(t.FPoints.GetCount()<1?t.MoveTo(pas["WEBLib.TMSFNCTypes"].PointF(e+s*Math.cos(o),i-n*Math.sin(o))):t.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(e+s*Math.cos(o),i-n*Math.sin(o)))),void t.LineTo(pas["WEBLib.TMSFNCTypes"].PointF(e+s*Math.cos(o),i-n*Math.sin(o)));for(h=(u=Math.sin(r/2))-(l=4*(1-(d=Math.cos(r/2)))/3)*d/u,p=Math.sin(o+r/2),c=Math.cos(o+r/2),(C=rtl.arraySetLength(C,pas["WEBLib.TMSFNCTypes"].TPointF,4))[0].$assign(pas["WEBLib.TMSFNCTypes"].PointF(d,-u)),C[1].$assign(pas["WEBLib.TMSFNCTypes"].PointF(d+l,-h)),C[2].$assign(pas["WEBLib.TMSFNCTypes"].PointF(d+l,h)),C[3].$assign(pas["WEBLib.TMSFNCTypes"].PointF(d,u)),S=rtl.arraySetLength(S,pas["WEBLib.TMSFNCTypes"].TPointF,4),F=0;F<=3;F++)S[F].$assign(pas["WEBLib.TMSFNCTypes"].PointF(e+s*(C[F].X*c-C[F].Y*p),i+n*(C[F].X*p+C[F].Y*c)));a&&(t.FPoints.GetCount()<1?t.MoveTo(S[0]):t.LineTo(S[0])),t.CurveTo(S[1],S[2],S[3])}},t.$init=function(){e.FColorLookup=pas.Classes.TStringList.$create("Create$1"),e.FColorLookup.AddObject("aliceblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16775408])),e.FColorLookup.AddObject("antiquewhite",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14150650])),e.FColorLookup.AddObject("aqua",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16776960])),e.FColorLookup.AddObject("aquamarine",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13959039])),e.FColorLookup.AddObject("azure",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16777200])),e.FColorLookup.AddObject("beige",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14480885])),e.FColorLookup.AddObject("bisque",t.TTMSFNCGraphicsColorObject.$create("Create$1",[12903679])),e.FColorLookup.AddObject("black",t.TTMSFNCGraphicsColorObject.$create("Create$1",[0])),e.FColorLookup.AddObject("blanchedalmond",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13495295])),e.FColorLookup.AddObject("blue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16711680])),e.FColorLookup.AddObject("blueviolet",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14822282])),e.FColorLookup.AddObject("brown",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2763429])),e.FColorLookup.AddObject("burlywood",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8894686])),e.FColorLookup.AddObject("cadetblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[10526303])),e.FColorLookup.AddObject("chartreuse",t.TTMSFNCGraphicsColorObject.$create("Create$1",[65407])),e.FColorLookup.AddObject("chocolate",t.TTMSFNCGraphicsColorObject.$create("Create$1",[1993170])),e.FColorLookup.AddObject("coral",t.TTMSFNCGraphicsColorObject.$create("Create$1",[5275647])),e.FColorLookup.AddObject("cornflowerblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15570276])),e.FColorLookup.AddObject("cornsilk",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14481663])),e.FColorLookup.AddObject("crimson",t.TTMSFNCGraphicsColorObject.$create("Create$1",[3937500])),e.FColorLookup.AddObject("cyan",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16776960])),e.FColorLookup.AddObject("darkblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9109504])),e.FColorLookup.AddObject("darkcyan",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9145088])),e.FColorLookup.AddObject("darkgoldenrod",t.TTMSFNCGraphicsColorObject.$create("Create$1",[755384])),e.FColorLookup.AddObject("darkgray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11119017])),e.FColorLookup.AddObject("darkgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[25600])),e.FColorLookup.AddObject("darkgrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11119017])),e.FColorLookup.AddObject("darkkhaki",t.TTMSFNCGraphicsColorObject.$create("Create$1",[7059389])),e.FColorLookup.AddObject("darkmagenta",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9109643])),e.FColorLookup.AddObject("darkolivegreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[3107669])),e.FColorLookup.AddObject("darkorange",t.TTMSFNCGraphicsColorObject.$create("Create$1",[36095])),e.FColorLookup.AddObject("darkorchid",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13382297])),e.FColorLookup.AddObject("darkred",t.TTMSFNCGraphicsColorObject.$create("Create$1",[139])),e.FColorLookup.AddObject("darksalmon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8034025])),e.FColorLookup.AddObject("darkseagreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9419919])),e.FColorLookup.AddObject("darkslateblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9125192])),e.FColorLookup.AddObject("darkslategray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[5197615])),e.FColorLookup.AddObject("darkslategrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[5197615])),e.FColorLookup.AddObject("darkturquoise",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13749760])),e.FColorLookup.AddObject("darkviolet",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13828244])),e.FColorLookup.AddObject("deeppink",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9639167])),e.FColorLookup.AddObject("deepskyblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16760576])),e.FColorLookup.AddObject("dimgray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[6908265])),e.FColorLookup.AddObject("dimgrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[6908265])),e.FColorLookup.AddObject("dodgerblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16748574])),e.FColorLookup.AddObject("firebrick",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2237106])),e.FColorLookup.AddObject("floralwhite",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15792895])),e.FColorLookup.AddObject("forestgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2263842])),e.FColorLookup.AddObject("fuchsia",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16711935])),e.FColorLookup.AddObject("gainsboro",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14474460])),e.FColorLookup.AddObject("ghostwhite",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16775416])),e.FColorLookup.AddObject("gold",t.TTMSFNCGraphicsColorObject.$create("Create$1",[55295])),e.FColorLookup.AddObject("goldenrod",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2139610])),e.FColorLookup.AddObject("gray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8421504])),e.FColorLookup.AddObject("green",t.TTMSFNCGraphicsColorObject.$create("Create$1",[32768])),e.FColorLookup.AddObject("greenyellow",t.TTMSFNCGraphicsColorObject.$create("Create$1",[3145645])),e.FColorLookup.AddObject("grey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8421504])),e.FColorLookup.AddObject("honeydew",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15794160])),e.FColorLookup.AddObject("hotpink",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11823615])),e.FColorLookup.AddObject("indianred",t.TTMSFNCGraphicsColorObject.$create("Create$1",[6053069])),e.FColorLookup.AddObject("indigo",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8519755])),e.FColorLookup.AddObject("ivory",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15794175])),e.FColorLookup.AddObject("khaki",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9234160])),e.FColorLookup.AddObject("lavender",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16443110])),e.FColorLookup.AddObject("lavenderblush",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16118015])),e.FColorLookup.AddObject("lawngreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[64636])),e.FColorLookup.AddObject("lemonchiffon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13499135])),e.FColorLookup.AddObject("lightblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15128749])),e.FColorLookup.AddObject("lightcoral",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8421616])),e.FColorLookup.AddObject("lightcyan",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16777184])),e.FColorLookup.AddObject("lightgoldenrodyellow",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13826810])),e.FColorLookup.AddObject("lightgray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13882323])),e.FColorLookup.AddObject("lightgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9498256])),e.FColorLookup.AddObject("lightgrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13882323])),e.FColorLookup.AddObject("lightpink",t.TTMSFNCGraphicsColorObject.$create("Create$1",[12695295])),e.FColorLookup.AddObject("lightsalmon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8036607])),e.FColorLookup.AddObject("lightseagreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11186720])),e.FColorLookup.AddObject("lightskyblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16436871])),e.FColorLookup.AddObject("lightslategray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[10061943])),e.FColorLookup.AddObject("lightslategrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[10061943])),e.FColorLookup.AddObject("lightsteelblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14599344])),e.FColorLookup.AddObject("lightyellow",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14745599])),e.FColorLookup.AddObject("lime",t.TTMSFNCGraphicsColorObject.$create("Create$1",[65280])),e.FColorLookup.AddObject("limegreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[3329330])),e.FColorLookup.AddObject("linen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15134970])),e.FColorLookup.AddObject("magenta",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16711935])),e.FColorLookup.AddObject("maroon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[128])),e.FColorLookup.AddObject("mediumaquamarine",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11193702])),e.FColorLookup.AddObject("mediumblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13434880])),e.FColorLookup.AddObject("mediumorchid",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13850042])),e.FColorLookup.AddObject("mediumpurple",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14381203])),e.FColorLookup.AddObject("mediumseagreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[7451452])),e.FColorLookup.AddObject("mediumslateblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15624315])),e.FColorLookup.AddObject("mediumspringgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[10156544])),e.FColorLookup.AddObject("mediumturquoise",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13422920])),e.FColorLookup.AddObject("mediumvioletred",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8721863])),e.FColorLookup.AddObject("midnightblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[7346457])),e.FColorLookup.AddObject("mintcream",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16449525])),e.FColorLookup.AddObject("mistyrose",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14804223])),e.FColorLookup.AddObject("moccasin",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11920639])),e.FColorLookup.AddObject("navajowhite",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11394815])),e.FColorLookup.AddObject("navy",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8388608])),e.FColorLookup.AddObject("oldlace",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15136253])),e.FColorLookup.AddObject("olive",t.TTMSFNCGraphicsColorObject.$create("Create$1",[32896])),e.FColorLookup.AddObject("olivedrab",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2330219])),e.FColorLookup.AddObject("orange",t.TTMSFNCGraphicsColorObject.$create("Create$1",[42495])),e.FColorLookup.AddObject("orangered",t.TTMSFNCGraphicsColorObject.$create("Create$1",[17919])),e.FColorLookup.AddObject("orchid",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14053594])),e.FColorLookup.AddObject("palegoldenrod",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11200750])),e.FColorLookup.AddObject("palegreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[10025880])),e.FColorLookup.AddObject("paleturquoise",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15658671])),e.FColorLookup.AddObject("palevioletred",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9662683])),e.FColorLookup.AddObject("papayawhip",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14020607])),e.FColorLookup.AddObject("peachpuff",t.TTMSFNCGraphicsColorObject.$create("Create$1",[12180223])),e.FColorLookup.AddObject("peru",t.TTMSFNCGraphicsColorObject.$create("Create$1",[4163021])),e.FColorLookup.AddObject("pink",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13353215])),e.FColorLookup.AddObject("plum",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14524637])),e.FColorLookup.AddObject("powderblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15130800])),e.FColorLookup.AddObject("purple",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8388736])),e.FColorLookup.AddObject("red",t.TTMSFNCGraphicsColorObject.$create("Create$1",[255])),e.FColorLookup.AddObject("rosybrown",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9408444])),e.FColorLookup.AddObject("royalblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14772545])),e.FColorLookup.AddObject("saddlebrown",t.TTMSFNCGraphicsColorObject.$create("Create$1",[1262987])),e.FColorLookup.AddObject("salmon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[7504122])),e.FColorLookup.AddObject("sandybrown",t.TTMSFNCGraphicsColorObject.$create("Create$1",[6333684])),e.FColorLookup.AddObject("seagreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[5737262])),e.FColorLookup.AddObject("seashell",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15660543])),e.FColorLookup.AddObject("sienna",t.TTMSFNCGraphicsColorObject.$create("Create$1",[2970272])),e.FColorLookup.AddObject("skyblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15453831])),e.FColorLookup.AddObject("slateblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13458026])),e.FColorLookup.AddObject("slategray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9470064])),e.FColorLookup.AddObject("slategrey",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9470064])),e.FColorLookup.AddObject("snow",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16448255])),e.FColorLookup.AddObject("springgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8388352])),e.FColorLookup.AddObject("steelblue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11829830])),e.FColorLookup.AddObject("violet",t.TTMSFNCGraphicsColorObject.$create("Create$1",[15631086])),e.FColorLookup.AddObject("thistle",t.TTMSFNCGraphicsColorObject.$create("Create$1",[14204888])),e.FColorLookup.AddObject("tan",t.TTMSFNCGraphicsColorObject.$create("Create$1",[9221330])),e.FColorLookup.AddObject("tomato",t.TTMSFNCGraphicsColorObject.$create("Create$1",[4678655])),e.FColorLookup.AddObject("turquoise",t.TTMSFNCGraphicsColorObject.$create("Create$1",[13688896])),e.FColorLookup.AddObject("wheat",t.TTMSFNCGraphicsColorObject.$create("Create$1",[11788021])),e.FColorLookup.AddObject("whitesmoke",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16119285])),e.FColorLookup.AddObject("yellowgreen",t.TTMSFNCGraphicsColorObject.$create("Create$1",[3329434])),e.FColorLookup.AddObject("red",t.TTMSFNCGraphicsColorObject.$create("Create$1",[255])),e.FColorLookup.AddObject("black",t.TTMSFNCGraphicsColorObject.$create("Create$1",[0])),e.FColorLookup.AddObject("blue",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16711680])),e.FColorLookup.AddObject("green",t.TTMSFNCGraphicsColorObject.$create("Create$1",[32768])),e.FColorLookup.AddObject("aqua",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16776960])),e.FColorLookup.AddObject("yellow",t.TTMSFNCGraphicsColorObject.$create("Create$1",[65535])),e.FColorLookup.AddObject("fuchsia",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16711935])),e.FColorLookup.AddObject("white",t.TTMSFNCGraphicsColorObject.$create("Create$1",[16777215])),e.FColorLookup.AddObject("lime",t.TTMSFNCGraphicsColorObject.$create("Create$1",[65280])),e.FColorLookup.AddObject("silver",t.TTMSFNCGraphicsColorObject.$create("Create$1",[12632256])),e.FColorLookup.AddObject("gray",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8421504])),e.FColorLookup.AddObject("olive",t.TTMSFNCGraphicsColorObject.$create("Create$1",[32896])),e.FColorLookup.AddObject("navy",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8388608])),e.FColorLookup.AddObject("purple",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8388736])),e.FColorLookup.AddObject("teal",t.TTMSFNCGraphicsColorObject.$create("Create$1",[8421376])),e.FColorLookup.AddObject("orange",t.TTMSFNCGraphicsColorObject.$create("Create$1",[42495])),e.FColorLookup.AddObject("maroon",t.TTMSFNCGraphicsColorObject.$create("Create$1",[128])),e.FColorLookup.Sort()}}),["WEBLib.TMSFNCUtils","SysUtils","Math"]),rtl.module("WEBLib.DesignIntf",["System","Classes","Web","JS","TypInfo","WEBLib.Forms","WEBLib.Menus"],(function(){"use strict";var t=this.$impl;rtl.createClass(this,"TRegisteredComponent",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FIcon=""}})),this.GetRegisteredComponent=function(e){var i=null,s=null;if(i=null,""===e)return i;s=null;var n=Object.keys(t.RegisteredComponentList).map((function(e){return[t.RegisteredComponentList[e]]}));for(let t of n)if(t[0].FClass.$classname.toLowerCase()==e.toLowerCase()){s=t[0];break}return i=s},this.$implcode=function(){t.RegisteredComponentList=null,t.RegisteredSelectionEditorList=null,t.RegisteredPropertyEditorList=null,t.RegisteredIgnoredPropertyList=null,t.RegisteredLibraryRequirementsEditorList=null,t.RegisteredComponentEditorList=null,t.RegisteredIdentToIntList=null},this.$init=function(){t.RegisteredComponentList=Object.create(null),t.RegisteredSelectionEditorList=Object.create(null),t.RegisteredPropertyEditorList=Object.create(null),t.RegisteredIgnoredPropertyList=Object.create(null),t.RegisteredLibraryRequirementsEditorList=Object.create(null),t.RegisteredComponentEditorList=Object.create(null),t.RegisteredIdentToIntList=Object.create(null)}}),["SysUtils","Generics.Collections"]),rtl.module("WEBLib.TMSFNCCustomComponent",["System","Classes","WEBLib.Controls","WEBLib.TMSFNCTypes","WEBLib.TMSFNCPersistence","TypInfo"],(function(){"use strict";var t=this;this.$rtti.$MethodVar("TTMSFNCCustomComponentCanSavePropertyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AObject",pas.System.$rtti.TObject],["APropertyName",rtl.string],["APropertyType",pas.System.$rtti.TTypeKind],["ACanSave",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomComponentCanLoadPropertyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AObject",pas.System.$rtti.TObject],["APropertyName",rtl.string],["APropertyType",pas.System.$rtti.TTypeKind],["ACanLoad",rtl.boolean,1]]),methodkind:0}),rtl.createClass(this,"TTMSFNCCustomComponent",pas["WEBLib.Controls"].TCustomControl,(function(){this.FBlockPersistenceInterface=!1,this.$init=function(){pas["WEBLib.Controls"].TCustomControl.$init.call(this),this.FDesigntimeFormPixelsPerInch=0,this.FAppearancePersisting=!1,this.FOnCanSaveProperty=null,this.FOnCanLoadProperty=null},this.$final=function(){this.FOnCanSaveProperty=void 0,this.FOnCanLoadProperty=void 0,pas["WEBLib.Controls"].TCustomControl.$final.call(this)},this.GetVersionNumber=function(t,e,i,s){return"",""},this.DoCanSaveProperty=function(t,e,i,s){null!=this.FOnCanSaveProperty&&this.FOnCanSaveProperty(this,t,e,i,s)},this.DoCanLoadProperty=function(t,e,i,s){null!=this.FOnCanLoadProperty&&this.FOnCanLoadProperty(this,t,e,i,s)},this.IsAppearanceProperty=function(t,e,i){return!1,!1},this.CanSaveProperty=function(t,e,i){var s=!1;return s=!(t===this&&!this.FBlockPersistenceInterface)||-1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IndexOfTextInArray(e,pas["WEBLib.TMSFNCPersistence"].ExcludePropertyList),this.FAppearancePersisting&&(s=s&&this.IsAppearanceProperty(t,e,i)),this.DoCanSaveProperty(t,e,i,{get:function(){return s},set:function(t){s=t}}),s},this.CanLoadProperty=function(t,e,i){var s=!1;return s=!(t===this&&!this.FBlockPersistenceInterface)||-1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IndexOfTextInArray(e,pas["WEBLib.TMSFNCPersistence"].ExcludePropertyList),this.DoCanLoadProperty(t,e,i,{get:function(){return s},set:function(t){s=t}}),s},this.Paint=function(){var t=null,e=null,i=null,s=null;pas["WEBLib.Controls"].TCustomControl.Paint.call(this),i=null,t=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[this.GetCanvas(),!1]);try{e.FStroke.SetKind(1),e.FStroke.SetColor(0),e.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.GetWidth(),this.GetHeight())),2),null!=(s=pas["WEBLib.DesignIntf"].GetRegisteredComponent(this.$classname))&&t.LoadFromResource(s.FIcon),e.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(2,2,this.GetWidth()-2,this.GetHeight()-2)),t,!0,!0,!0,!1)}finally{null!=i&&(i=rtl.freeLoc(i)),t=rtl.freeLoc(t),e=rtl.freeLoc(e)}},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),4 in this.FComponentState||this.SetVisible(!1)},this.RegisterRuntimeClasses=function(){},this.Create$1=function(t){var e=0;return pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),e=96,this.FDesigntimeFormPixelsPerInch=e,this.SetWidth(26),this.SetHeight(26),this.IsDesigning()||this.RegisterRuntimeClasses(),this},this.BeginUpdate=function(){pas["WEBLib.Controls"].TControl.BeginUpdate.call(this)},this.EndUpdate=function(){pas["WEBLib.Controls"].TCustomControl.EndUpdate.call(this)},this.IsDesigning=function(){return 4 in this.FComponentState},rtl.addIntf(this,pas["WEBLib.TMSFNCPersistence"].ITMSFNCPersistence),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),e.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),e.addProperty("OnCanSaveProperty",0,t.$rtti.TTMSFNCCustomComponentCanSavePropertyEvent,"FOnCanSaveProperty","FOnCanSaveProperty"),e.addProperty("OnCanLoadProperty",0,t.$rtti.TTMSFNCCustomComponentCanLoadPropertyEvent,"FOnCanLoadProperty","FOnCanLoadProperty")}))}),["WEBLib.TMSFNCUtils","WEBLib.Forms","SysUtils","WEBLib.TMSFNCGraphics","WEBLib.Graphics","WEBLib.TMSFNCGraphicsTypes","Types","WEBLib.DesignIntf"]),rtl.module("WEBLib.TMSFNCBitmapContainer",["System","Classes","WEBLib.TMSFNCTypes","WEBLib.TMSFNCCustomComponent","WEBLib.Controls"],(function(){"use strict";var t=this;this.MAJ_VER=1,this.MIN_VER=0,this.REL_VER=0,this.BLD_VER=0,this.$rtti.$Class("TTMSFNCBitmapContainer"),rtl.createClass(this,"TTMSFNCBitmapItem",pas.Classes.TCollectionItem,(function(){this.$init=function(){pas.Classes.TCollectionItem.$init.call(this),this.FBitmap=null,this.FTag=0,this.FName=""},this.$final=function(){this.FBitmap=void 0,pas.Classes.TCollectionItem.$final.call(this)},this.SetBitmap=function(t){this.FBitmap.Assign(t)},this.Create$1=function(t){return pas.Classes.TCollectionItem.Create$1.apply(this,arguments),this.FBitmap=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FBitmap.FOnChange=rtl.createCallback(this,"DoBitmapChanged"),this.FName="Item"+pas.SysUtils.IntToStr(this.FCollection.GetCount()),this},this.Destroy=function(){rtl.free(this,"FBitmap"),pas.Classes.TCollectionItem.Destroy.call(this)},this.DoBitmapChanged=function(e){t.TTMSFNCBitmapCollection.isPrototypeOf(this.FCollection)&&null!=rtl.as(this.FCollection,t.TTMSFNCBitmapCollection).FOwner$1&&rtl.as(this.FCollection,t.TTMSFNCBitmapCollection).FOwner$1.DoBitmapChanged(this)},this.Assign=function(e){this.FName=rtl.as(e,t.TTMSFNCBitmapItem).FName,this.FTag=rtl.as(e,t.TTMSFNCBitmapItem).FTag,this.FBitmap.Assign(rtl.as(e,t.TTMSFNCBitmapItem).FBitmap)};var e=this.$rtti;e.addProperty("Bitmap",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FBitmap","SetBitmap"),e.addProperty("Name",0,rtl.string,"FName","FName"),e.addProperty("Tag",0,rtl.nativeint,"FTag","FTag")})),rtl.createClass(this,"TTMSFNCBitmapCollection",pas.Classes.TOwnedCollection,(function(){this.$init=function(){pas.Classes.TOwnedCollection.$init.call(this),this.FOwner$1=null},this.$final=function(){this.FOwner$1=void 0,pas.Classes.TOwnedCollection.$final.call(this)},this.GetItemEx=function(t){return this.GetItem(t)},this.GetBitmapItemClass=function(){return t.TTMSFNCBitmapItem},this.Create$3=function(t){return pas.Classes.TOwnedCollection.Create$2.call(this,t,this.GetBitmapItemClass()),this.FOwner$1=t,this}})),rtl.createClass(this,"TControlList",pas.Classes.TList,(function(){})),rtl.createClass(this,"TTMSFNCBitmapContainer",pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.$init.call(this),this.FControls$1=null,this.FItems=null,this.FOnBitmapChanged=null},this.$final=function(){this.FControls$1=void 0,this.FItems=void 0,this.FOnBitmapChanged=void 0,pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.$final.call(this)},this.SetItems=function(t){this.FItems.Assign(t)},this.GetItems=function(){return this.FItems},this.GetVersion=function(){return this.$class.GetVersionNumber(1,0,0,0)},this.CreateItems=function(){return t.TTMSFNCBitmapCollection.$create("Create$3",[this])},this.RegisterRuntimeClasses=function(){pas.Classes.RegisterClass(t.TTMSFNCBitmapContainer)},this.Notification=function(t,e){var i=0;if(pas.Classes.TComponent.Notification.apply(this,arguments),1===e&&null!=this.FControls$1)for(var s=this.FControls$1.GetCount()-1;s>=0;s--)i=s,this.FControls$1.Get(i)==t&&this.FControls$1.Delete(i)},this.DoBitmapChanged=function(t){var e=null,i=0;if(null!=(e=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetParentForm(this)))for(var s=0,n=e.GetControlsCount()-1;s<=n;s++)i=s,pas["WEBLib.Controls"].TWinControl.isPrototypeOf(e.GetControls(i))&&this.InvalidateMembers(rtl.as(e.GetControls(i),pas["WEBLib.Controls"].TWinControl));null!=this.FOnBitmapChanged&&this.FOnBitmapChanged(this)},this.InvalidateMembers=function(t){var e=0;if(null!=t){null!=pas.TypInfo.GetPropInfo$2(t,"BitmapContainer")&&t.Invalidate();for(var i=0,s=t.GetControlsCount()-1;i<=s;i++)e=i,pas["WEBLib.Controls"].TWinControl.isPrototypeOf(t.GetControls(e))&&this.InvalidateMembers(rtl.as(t.GetControls(e),pas["WEBLib.Controls"].TWinControl))}},this.Create$1=function(e){return pas["WEBLib.TMSFNCCustomComponent"].TTMSFNCCustomComponent.Create$1.apply(this,arguments),this.FItems=this.CreateItems(),this.FControls$1=t.TControlList.$create("Create$1"),this},this.Destroy=function(){pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FControls$1},set:function(t){this.p.FControls$1=t}}),rtl.free(this,"FItems"),pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.Assign=function(e){t.TTMSFNCBitmapContainer.isPrototypeOf(e)?this.FItems.Assign(rtl.as(e,t.TTMSFNCBitmapContainer).GetItems()):pas["WEBLib.Controls"].TControl.Assign.apply(this,arguments)},this.FindBitmap$1=function(t){var e=null,i=0;for(e=null,t=pas.SysUtils.UpperCase(t),i=1;i<=this.GetItems().GetCount();){if(pas.SysUtils.UpperCase(this.GetItems().GetItemEx(i-1).FName)===t){e=this.GetItems().GetItemEx(i-1).FBitmap;break}i+=1}return e},rtl.addIntf(this,pas["WEBLib.TMSFNCPersistence"].ITMSFNCPersistence),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("Items",3,t.$rtti.TTMSFNCBitmapCollection,"GetItems","SetItems"),e.addProperty("Version",1,rtl.string,"GetVersion",""),e.addProperty("OnBitmapChanged",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnBitmapChanged","FOnBitmapChanged"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]}))}),["TypInfo","WEBLib.Forms","SysUtils","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCHTMLEngine",["System","Classes","WEBLib.TMSFNCGraphics","Types","WEBLib.Graphics","WEBLib.TMSFNCTypes","WEBLib.TMSFNCBitmapContainer","WEBLib.TMSFNCGraphicsTypes"],(function(){"use strict";var t=this,e=t.$impl;this.TMSFNCHTMLENGINE_ATTR_DELIM='"';this.HTMLDrawEx$1=function(i,s,n,o,r,a,l,h,d,u,c,p,C,S,F,g,m,f,T,b,y,v,L,B,M,E,P,D,A,N,$,W,I,R,O,H,G,w,k,x,U,V){var j,Q,z,J=!1,X="",K=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),q=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),_=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),Y=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),Z=0,tt=0,et=0,it=0,st=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),nt=0,ot=0,rt=null,at=0,lt=null,ht=0,dt=null,ut=0,ct=0,pt=null,Ct=0,St=0,Ft=0,gt=null,mt=0,ft=!1,Tt=!1,bt=!1,yt=!1,vt=!1,Lt=!1,Bt=0,Mt=0,Et=0,Pt=0,Dt=0,At="",Nt="",$t="",Wt=pas.Types.TPoint.$new(),It=!1,Rt=!1,Ot=!1,Ht=!1,Gt=0,wt=0,kt=0,xt=0,Ut=0,Vt=0,jt=!1,Qt=!1,zt=0,Jt={},Xt=0,Kt=0,qt=0,_t=0,Yt=0,Zt=0,te=0,ee=!1,ie=pas.Types.TRect.$new(),se=pas.Types.TPoint.$new(),ne=0,oe=0,re=0;function ae(i,s,o,r,u,c,P,O,H,w,j,Q,z,J,X,K,q,Z,tt){var et="",st="",nt="",ot="",lt="",ht="",dt=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),ut=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),pt={},Ct=!1,gt=!1,mt=!1,ft=0,Tt=0,yt=0,Nt=0,Gt=0,wt=0,kt=0,xt=0,Ut=0,Qt=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),qt=0,te=0,ie=0,ne=0,oe=null,ae=!1,le=0,he=0,de=0,ue=0,ce=0,pe="",Ce=!1,Se=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),Fe=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),ge="",me="",fe="",Te="",be="",ye="",ve="";for("","",ce=0,o.Bottom=o.Bottom-P.get(),u.set(0),kt=0,Ct=!1,gt=!1,mt=!1,J.set(!1),X.set(!1),dt.$assign(o),st="",r||(dt.Left=dt.Left+K),Ot&&!r&&(Mt=i.FStroke.FColor,i.FStroke.SetColor(i.FFill.FColor),i.FFill.SetKind(0),i.FStroke.SetKind(1),i.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(n.Left,o.Top,n.Right,o.Top+c.get())),2));s.get().length>0&&!Ct&&!gt;){for(qt=pas.System.Pos("<",s.get()),te=F?pas.System.Pos(" ",s.get()):0,ue=(et=qt>0&&(te>qt||0===te)?pas.System.Copy(s.get(),1,qt-1):te>0?pas.System.Copy(s.get(),1,te):s.get()).length;pas.System.Pos("&nbsp;",et)>0;)pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.TagReplaceString("&nbsp;"," ",{get:function(){return et},set:function(t){et=t}});for(;pas.System.Pos("&lt;",et)>0;)pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.TagReplaceString("&lt;","<",{get:function(){return et},set:function(t){et=t}});for(;pas.System.Pos("&gt;",et)>0;)pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.TagReplaceString("&gt;",">",{get:function(){return et},set:function(t){et=t}});if(ue>0&&(Qt.$assign(i.CalculateText(et,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!1)),xt=Qt.Bottom-Qt.Top,Rt&&P.get()<xt/4&&P.set(xt/4),It&&O.get()<xt/4&&O.set(xt/4),xt>c.get()&&c.set(xt),B.set(B.get()+et),jt&&pas.System.Delete(s,1,ue),!jt)){if(r)dt.$assign(o),Qt.$assign(i.CalculateText(et,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!1)),dt.Right=dt.Left+(Qt.Right-Qt.Left),z>dt.Top&&z<dt.Bottom&&Q>u.get()&&((zt=0)===ue?ue:zt),ce=dt.Right-dt.Left,u.set(u.get()+ce),Q-dt.Left>=u.get()-ce&&Q-dt.Left<=u.get()&&bt&&(J.set(!0),z>dt.Top&&(L.set(At),vt=!0));else{if(It&&(dt.Bottom=dt.Bottom-O.get()),Rt&&(dt.Bottom=dt.Bottom+P.get()),dt.Bottom=dt.Bottom-H.get(),Qt.$assign(i.CalculateText(et,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!1)),Ut=Qt.Right-Qt.Left,-1!==St&&(i.FFill.SetColor(St),i.FStroke.SetColor(St),i.FFill.SetKind(1),i.FStroke.SetKind(1),Qt.$assign(i.CalculateText$1("gh")),i.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(dt.Left,dt.Top,dt.Left+Ut,dt.Top+(Qt.Bottom-Qt.Top))),2)),St=-1,Ht&&(pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(dt,h,h),i.FFont.SetColor(v),i.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(dt),et,!1,1,0,0,0,-1,-1,!1,!1,-1,-1),pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(dt,-h,-h),i.FFont.SetColor(at)),ht=""!==et&&" "===et.charAt(et.length-1)&&bt?et+"\0":et,i.FFont.SetColor(ct),i.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(dt),ht,!1,1,0,0,0,-1,-1,!1,!1,-1,-1),dt.Right=dt.Left+Ut,bt&&D.get()-1===a&&M.set(At),Lt)for(i.FStroke.SetColor(255),i.FStroke.SetKind(1),i.FStroke.SetWidth(1),ie=(ne=Math.round(dt.Left/2*2))%4==0?2:0;ne<dt.Right;)Se.$assign(pas["WEBLib.TMSFNCTypes"].PointF(ne,o.Bottom+ie-1)),ie=2===ie?0:2,Fe.$assign(pas["WEBLib.TMSFNCTypes"].PointF(ne+2,o.Bottom+ie-1)),i.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(Se),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(Fe),2,2),ne+=2;dt.Left=dt.Right,dt.Right=o.Right,dt.Bottom=o.Bottom,dt.Top=o.Top}Ce=u.get()<o.Right-o.Left-Zt+1||o.Right-o.Left-Zt<=ce,et,Ce||!F?(st+=pas.System.Copy(s.get(),1,ue),pas.System.Delete(s,1,ue),et.length>=ue&&" "===pas.System.Copy(et,ue,1)?(Qt.$assign(i.CalculateText$1(" ")),kt=Qt.Right-Qt.Left):kt=0):(Ct=!0,u.set(u.get()-ce))}if(1===(qt=pas.System.Pos("<",s.get()))&&s.get().length<=2&&s.set(""),!Ct&&1===qt&&s.get().length>2){if("/"===s.get().charAt(1)&&s.get().length>3){var Le=pas.System.upcase(s.get().charAt(2));"A"===Le?(S&&l!==D.get()||r||(i.FFont.SetStyle(rtl.diffSet(i.FFont.FStyle,rtl.createSet(3))),-1!==b&&(St=b),-1!==y&&(ct=y)),p||(ct=at),bt=!1,vt&&(_.Bottom=o.Bottom,_.Right=o.Left+u.get(),o.Top!==_.Top&&(_.Left=o.Left,_.Top=o.Top),N.$assign(_),A.set(D.get()),vt=!1),a===D.get()-1&&(Y.Right=dt.Left,Y.Bottom=dt.Bottom-H.get(),Qt.$assign(i.CalculateText$1("gh")),Y.Top=Y.Bottom-(Qt.Bottom-Qt.Top),pas["WEBLib.TMSFNCTypes"].InflateRectEx(Y,1,0))):"E"===Le?r||(Lt=!1):"B"===Le?">"!==s.get().charAt(3)?ct=at:i.FFont.SetStyle(rtl.diffSet(i.FFont.FStyle,rtl.createSet(0))):"S"===Le?"U"===(pe=pas.System.upcase(s.get().charAt(3)))?(It=!1,Rt=!1):"H"===pe?Ht=!1:i.FFont.SetStyle(rtl.diffSet(i.FFont.FStyle,rtl.createSet(2))):"F"===Le?(i.FFont.SetName(rt.FName),i.FFont.SetSize(rt.FSize),r||p||(ct=at,i.FFill.SetColor(Ft))):"H"===Le?r||(ct=Pt,St=Dt,i.FFont.SetStyle(rtl.refSet(Jt)),i.FFill.SetColor(Dt)):"I"===Le?i.FFont.SetStyle(rtl.diffSet(i.FFont.FStyle,rtl.createSet(1))):"L"===Le?Ct=!0:"O"===Le?q.set(0):"P"===Le?(Ct=!0,r||(i.FFill.SetColor(Bt),Ot=!1)):"U"===Le?">"!==s.get().charAt(3)&&Vt>0?Vt-=1:i.FFont.SetStyle(rtl.diffSet(i.FFont.FStyle,rtl.createSet(3))):"R"===Le||"Z"===Le&&(jt=!1)}else{var Be=pas.System.upcase(s.get().charAt(1));if("A"===Be)a!==D.get()||r||(Y.Left=dt.Left,Y.Top=dt.Top),D.set(D.get()+1),S&&l!==D.get()||r||(k&&i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(3))),-1===b||r||(St=b),-1!==y&&(ct=y)),p||-1!==y&&l===D.get()&&S||(at=ct,ct=T),nt=pas.System.Copy(s.get(),3,pas.System.Pos(">",s.get())-1),ot=pas.System.Copy(nt,pas.System.Pos('"',nt)+1,nt.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),At=ot,bt=!0,_.Left=u.get(),_.Top=o.Top;else if("B"===Be){var Me=pe=pas.System.upcase(s.get().charAt(2));if(">"===Me)i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(0)));else if("R"===Me)Ct=!0,B.set(B.get()+"\r");else if("L"===Me)C||(ct=Et);else if("O"===Me&&(yt=0,st+=pas.System.Copy(s.get(),1,pas.System.Pos(">",s.get())),!r&&!p)){if(nt=pas.SysUtils.UpperCase(pas.System.Copy(s.get(),6,pas.System.Pos(">",s.get())-1)),pas.System.Pos("BACKGROUND",nt)>0&&(ot=pas.System.Copy(nt,pas.System.Pos("BACKGROUND",nt)+10,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),pas.System.Pos("IDX:",pas.SysUtils.UpperCase(ot))>0&&pas.System.Delete({get:function(){return ot},set:function(t){ot=t}},1,4),oe=null,ae=!1,0===pas.System.Pos(":",ot)&&null!=G&&(oe=G.FindBitmap$1(ot)),pas.System.Pos("URL://",pas.SysUtils.UpperCase(ot))>0&&(pas.System.Delete({get:function(){return ot},set:function(t){ot=t}},1,6),oe=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromURL(ot),ae=!0),null!=oe)){if(!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(oe)&&oe.GetWidth()>0&&oe.GetHeight()>0)for(;yt<n.Bottom-n.Top;){for(Tt=0;Tt<n.Right-n.Left;)i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(n.Left+Tt),Math.round(n.Top+yt),Math.round(n.Left+Tt)+oe.GetWidth(),Math.round(n.Top+yt)+oe.GetHeight())),oe,!0,!1,!0,!1),Tt+=oe.GetWidth();yt+=oe.GetHeight()}ae&&(oe=rtl.freeLoc(oe))}pas.System.Pos("BGTOPLEFT",nt)>0&&(ot=pas.System.Copy(nt,pas.System.Pos("BGTOPLEFT",nt)+10,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),oe=null,0===pas.System.Pos(":",ot)&&null!=G&&(oe=G.FindBitmap$1(ot)),null!=oe&&!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(oe)&&oe.GetWidth()>0&&oe.GetHeight()>0&&i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(n.Left),Math.round(n.Top+yt),Math.round(n.Left)+oe.GetWidth(),Math.round(n.Top)+oe.GetHeight())),oe,!0,!1,!0,!1)),pas.System.Pos("BGTOPRIGHT",nt)>0&&(ot=pas.System.Copy(nt,pas.System.Pos("BGTOPRIGHT",nt)+10,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),oe=null,0===pas.System.Pos(":",ot)&&null!=G&&(oe=G.FindBitmap$1(ot)),null!=oe&&!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(oe)&&oe.GetWidth()>0&&oe.GetHeight()>0&&i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(n.Right)-oe.GetWidth(),Math.round(n.Top+yt),Math.round(n.Right),Math.round(n.Top)+oe.GetHeight())),oe,!0,!1,!0,!1)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("BGCOLOR",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&(ot=pas.System.Copy(nt,qt+5,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),le=-1,(ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1)).length>0&&(le="#"===ot.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(ot):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(pas.SysUtils.LowerCase(ot))),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("BGCOLORTO",nt,{get:function(){return qt},set:function(t){qt=t}})>0?(ot=pas.System.Copy(nt,qt+5,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),ot="H",pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("DIR",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&(ot=pas.System.Copy(nt,qt+3,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1)),i.FStroke.SetColor(le)):(Ft=i.FFill.FColor,i.FFill.SetColor(le),Mt=i.FStroke.FColor,i.FStroke.SetColor(le),i.FFill.SetKind(1),i.FStroke.SetKind(1),i.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(n.Left-2,n.Top,n.Right,n.Bottom)),2),i.FStroke.SetColor(Mt)))}}else if("E"===Be)r||(Lt=!0);else if("C"===Be)nt=pas.System.Copy(s.get(),9,pas.System.Pos(">",s.get())-1),ge="",Te="",be="",me="",fe="",ye="",ve="",t.ParseControl(nt,{get:function(){return ge},set:function(t){ge=t}},{get:function(){return Te},set:function(t){Te=t}},{get:function(){return be},set:function(t){be=t}},{get:function(){return me},set:function(t){me=t}},{get:function(){return fe},set:function(t){fe=t}},{get:function(){return ye},set:function(t){ye=t}},{get:function(){return ve},set:function(t){ve=t}}),it=25,""!==fe&&(pas.System.val$8(fe,{get:function(){return it},set:function(t){it=t}},{get:function(){return wt},set:function(t){wt=t}}),0!==wt&&(it=25)),""===me&&"CHECK"!==ge&&"RADIO"!==ge||(pas.System.val$6(me,{get:function(){return ft},set:function(t){ft=t}},{get:function(){return wt},set:function(t){wt=t}}),0===wt&&(Wt.x=ft,Wt.y=Math.round(i.CalculateTextHeight$1("gh"))+10),"CHECK"===ge||"RADIO"===ge?c.set(16):c.set(23),it>25&&c.set(it-2),r||("CHECK"===ge&&(Wt.x=Math.round(16*f)+2,Wt.y=Wt.x,ft=Wt.x,ut.$assign(pas["WEBLib.TMSFNCTypes"].RectF(dt.Left+1,dt.Top+(dt.Bottom-dt.Top-(Wt.y-2))/2,dt.Left+Wt.x-1,dt.Top+(dt.Bottom-dt.Top-(Wt.y-2))/2+(Wt.y-2))),ut.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(ut.Left),Math.round(ut.Top),Math.round(ut.Right),Math.round(ut.Bottom))),i.DrawCheckBox(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(ut),"TRUE"===pas.SysUtils.UpperCase(be),g&&m===Te,!0,1)),"RADIO"===ge&&(Wt.x=Math.round(16*f)+2,Wt.y=Wt.x,ft=Wt.x,ut.$assign(pas["WEBLib.TMSFNCTypes"].RectF(dt.Left+1,dt.Top+(dt.Bottom-dt.Top-(Wt.y-2))/2,dt.Left+Wt.x-1,dt.Top+(dt.Bottom-dt.Top-(Wt.y-2))/2+(Wt.y-2))),ut.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(ut.Left),Math.round(ut.Top),Math.round(ut.Right),Math.round(ut.Bottom))),i.DrawRadioButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(ut),"TRUE"===pas.SysUtils.UpperCase(be),g&&m===Te,!0,1)),"BUTTON"===ge&&(Wt.y=22,ut.$assign(pas["WEBLib.TMSFNCTypes"].RectF(dt.Left+2,dt.Top+(dt.Bottom-dt.Top-Wt.y)/2,dt.Left+ft-2,dt.Top+(dt.Bottom-dt.Top-Wt.y)/2+Wt.y)),ee=pas["WEBLib.TMSFNCTypes"].PtInRectEx(ut,pas["WEBLib.TMSFNCTypes"].PointF(Q,z)),ut.$assign(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(ut.Left),Math.round(ut.Top),Math.round(ut.Right),Math.round(ut.Bottom))),i.DrawButton(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(ut),g&&m===Te,ee,!0,!0,1),pas["WEBLib.TMSFNCTypes"].InflateRectEx(ut,-2,-2),i.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(ut),be,!1,0,0,0,0,-1,-1,!0,!1,-1,-1))),"BUTTON"===ge&&(Wt.y=22),"COMBO"===ge&&(Wt.y=25),"CHECK"!==ge&&"RADIO"!==ge||(Wt.x=Math.round(16*f)+2,Wt.y=Wt.x),(Q-o.Left>u.get()&&Q-o.Left<u.get()+Wt.x&&z>dt.Top&&z<dt.Top+Wt.y||d&&W.get()===Te)&&(X.set(!0),L.set("ctrl"),Xt=Kt,ut.Left=o.Left+u.get(),ut.Right=ut.Left+Wt.x,ut.Top=dt.Top,ut.Bottom=dt.Top+Wt.y,$.$assign(ut),I.set(be),W.set(Te),R.set(ge)),u.get()+Wt.x>o.Right-o.Left&&Wt.x<o.Right-o.Left?gt=!0:(u.set(u.get()+Wt.x),dt.Left=dt.Left+Wt.x,Wt.y>c.get()&&c.set(Wt.y)));else if("H"===Be){var Ee=pas.System.upcase(s.get().charAt(2));"R"===Ee?(Ct=!0,r||(nt=pas.System.Copy(s.get(),4,pas.System.Pos(">",s.get())-1),le=0,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("COLOR",pas.SysUtils.UpperCase(nt),{get:function(){return qt},set:function(t){qt=t}})>0&&(ot=pas.System.Copy(nt,qt+5,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),(ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1)).length>0&&(le="#"===ot.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(ot):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(pas.SysUtils.LowerCase(ot)))),i.FStroke.SetKind(1),Mt=i.FStroke.FColor,i.FStroke.SetColor(le),Se.$assign(pas["WEBLib.TMSFNCTypes"].PointF(o.Left,dt.Bottom+1)),Fe.$assign(pas["WEBLib.TMSFNCTypes"].PointF(o.Right,dt.Bottom+1)),i.FStroke.SetKind(1),i.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(Se),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(Fe),2,2),i.FStroke.SetColor(Mt))):"I"===Ee&&(r||(Pt=ct,Dt=St,Jt=rtl.refSet(i.FFont.FStyle),St=x,ct=U),i.FFont.SetStyle(rtl.refSet(V)))}else if("I"===Be)">"===(pe=pas.System.upcase(s.get().charAt(2)))?i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(1))):"N"===pe?(nt=pas.System.Copy(s.get(),3,pas.System.Pos(">",s.get())-1),ot=pas.System.Copy(nt,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("x",nt)+2,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),pas.System.val$6(ot,{get:function(){return ft},set:function(t){ft=t}},{get:function(){return wt},set:function(t){wt=t}}),0===wt&&ft>u.get()&&(u.set(ft),dt.Left=n.Left+ft)):"M"===pe&&(0,0,re=0,Math.round(i.CalculateTextHeight$1("gh")),Kt+=1,ut.$assign(dt),nt=pas.System.Copy(s.get(),3,pas.System.Pos(">",s.get())-1),ot=pas.System.Copy(nt,pas.System.Pos("SRC",pas.SysUtils.UpperCase(nt))+4,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),nt=pas.SysUtils.UpperCase(nt),pas.System.Pos("ALT",nt)>0&&Xt===Kt&&(ot=pas.System.Copy(nt,pas.System.Pos("ALT",nt)+4,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1)),he=0,de=0,pas.System.Pos("WIDTH",nt)>0&&(lt=pas.System.Copy(nt,pas.System.Pos("WIDTH",nt)+6,nt.length),lt=pas.System.Copy(lt,pas.System.Pos('"',lt)+1,lt.length),lt=pas.System.Copy(lt,1,pas.System.Pos('"',lt)-1),pas.System.val$6(lt,{get:function(){return he},set:function(t){he=t}},{get:function(){return wt},set:function(t){wt=t}})),pas.System.Pos("HEIGHT",nt)>0&&(lt=pas.System.Copy(nt,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("HEIGHT",nt)+7,nt.length),lt=pas.System.Copy(lt,pas.System.Pos('"',lt)+1,lt.length),lt=pas.System.Copy(lt,1,pas.System.Pos('"',lt)-1),pas.System.val$6(lt,{get:function(){return de},set:function(t){de=t}},{get:function(){return wt},set:function(t){wt=t}})),pas.System.Pos("ALIGN",nt)>0&&(lt=pas.System.Copy(nt,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("ALIGN",nt)+6,nt.length),lt=pas.System.Copy(lt,pas.System.Pos('"',lt)+1,lt.length),"MIDDLE"===(lt=pas.System.Copy(lt,1,pas.System.Pos('"',lt)-1))&&1,"TOP"===lt&&2),pas.System.Pos("FLOAT",nt)>0&&(lt=pas.System.Copy(nt,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("FLOAT",nt)+6,nt.length),lt=pas.System.Copy(lt,pas.System.Pos('"',lt)+1,lt.length),"LEFT"===(lt=pas.System.Copy(lt,1,pas.System.Pos('"',lt)-1))&&(re=1,ut.Left=n.Left),"RIGHT"===lt&&(re=2)),Wt.x=0,Wt.y=0,pas.System.Pos("IDX:",pas.SysUtils.UpperCase(ot))>0&&pas.System.Delete({get:function(){return ot},set:function(t){ot=t}},1,4),oe=null,ae=!1,0===pas.System.Pos(":",ot)&&null!=G&&(oe=G.FindBitmap$1(ot)),pas.System.Pos("URL://",pas.SysUtils.UpperCase(ot))>0&&(pas.System.Delete({get:function(){return ot},set:function(t){ot=t}},1,6),oe=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromURL(ot),ae=!0),pas.System.Pos("DATA:",pas.SysUtils.UpperCase(ot))>0&&pas.System.Pos("BASE64,",pas.SysUtils.UpperCase(ot))>0&&(pas.System.Delete({get:function(){return ot},set:function(t){ot=t}},1,pas.System.Pos("BASE64,",pas.SysUtils.UpperCase(ot))+6),oe=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.LoadBitmapFromBase64(ot,oe,!1),ae=!0),Nt=0,Gt=0,null!=oe&&(pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(oe)||(he>0&&de>0&&(Nt=he,Gt=de),he>0&&0===de&&(Nt=he,Gt=Math.round(he/oe.GetWidth()*oe.GetHeight())),0===he&&de>0&&(Nt=Math.round(de/oe.GetHeight()*oe.GetWidth()),Gt=de),0===he&&0===de&&(Nt=oe.GetWidth(),Gt=oe.GetHeight()),2===re&&(ut.Left=o.Right-Nt),r||(he>0||de>0?i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(ut.Left),Math.round(ut.Top),Math.round(ut.Left)+Nt,Math.round(ut.Top)+Gt)),oe,!0,!1,!0,!1):he>0&&0===de?i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(ut.Left),Math.round(ut.Top),Math.round(ut.Left)+he,Math.round(ut.Top)+de)),oe,!0,!1,!0,!1):i.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(Math.round(ut.Left),Math.round(ut.Top),Math.round(ut.Left)+oe.GetWidth(),Math.round(ut.Top)+oe.GetHeight())),oe,!0,!1,!0,!1)),he>0||de>0?(Wt.x=Nt,Wt.y=Gt):(Wt.x=oe.GetWidth(),Wt.y=oe.GetHeight())),ae&&(oe=rtl.freeLoc(oe))),Q-o.Left>u.get()&&Q-o.Left<u.get()+Wt.x&&z>dt.Top&&z<dt.Top+Wt.y&&bt&&(X.set(!0),L.set(At),Xt=Kt),u.get()+Wt.x>o.Right-o.Left&&Wt.x<o.Right-o.Left?gt=!0:(u.set(u.get()+Wt.x+2),dt.Left=dt.Left+Wt.x+2,Wt.y>c.get()&&c.set(Wt.y)),pas.System.Pos("ALIGN",nt)>0&&(pas.System.Pos('"TOP',nt)>0?(Qt.$assign(i.CalculateText$1("gh")),H.set(c.get()-(Qt.Bottom-Qt.Top))):pas.System.Pos('"MIDDLE',nt)>0&&(Qt.$assign(i.CalculateText$1("gh")),H.set((c.get()-(Qt.Bottom-Qt.Top))/2))),pas.System.Pos("WRAP",nt)>0&&(Qt.$assign(i.CalculateText$1("gh")),c.set(Qt.Bottom-Qt.Top),H.set(0)),1===re&&(Qt.$assign(i.CalculateText$1("gh")),H.set(c.get()-(Qt.Bottom-Qt.Top)),Z.Left=Nt,Z.Bottom=Gt,r||(Qt.$assign(i.CalculateText$1("gh")),c.set(Qt.Bottom-Qt.Top))),2===re&&(Qt.$assign(i.CalculateText$1("gh")),H.set(c.get()-(Qt.Bottom-Qt.Top)),Z.Right=Nt,Z.Bottom=Gt,r||(Qt.$assign(i.CalculateText$1("gh")),c.set(Qt.Bottom-Qt.Top)),u.set(n.Right)));else if("L"===Be)le=-1,$t="",pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(">",s.get(),{get:function(){return qt},set:function(t){qt=t}})>0&&(nt=pas.SysUtils.UpperCase(pas.System.Copy(s.get(),3,qt-1)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("TYPE",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&(ot=pas.System.Copy(nt,qt+4,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),$t=ot),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("COLOR",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&(ot=pas.System.Copy(nt,qt+5,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),(ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1)).length>0&&(le="#"===ot.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(ot):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(ot)))),u.set(u.get()+12*Vt),mt?gt=!0:mt=!0,dt.Left=dt.Left+12*(Vt-1),r||jt||(""===$t?(-1!==le&&(_t=i.FFont.FColor,ct=le),ot=i.FFont.FName,pt=rtl.refSet(i.FFont.FStyle),i.FFont.SetStyle({}),pas.System.Odd(Vt)?i.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(dt),"•",!1,1,0,0,0,-1,-1,!1,!1,-1,-1):i.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(dt),"o",!1,1,0,0,0,-1,-1,!1,!1,-1,-1),i.FFont.SetName(ot),i.FFont.SetStyle(rtl.refSet(pt)),-1!==le&&(ct=_t)):(Yt=-1,"SQUARE"===$t&&(Yt=i.FFill.FColor,i.FStroke.SetColor(le),i.FFill.SetColor(le),i.FFill.SetKind(1),i.FStroke.SetKind(1),i.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(dt.Left,dt.Top+2,dt.Left+8,dt.Top+10)),2),i.FFill.SetColor(Yt)),"CIRCLE"===$t&&(Yt=i.FFill.FColor,i.FStroke.SetColor(le),i.FFill.SetColor(le),i.FFill.SetKind(1),i.FStroke.SetKind(1),i.DrawEllipse$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(dt.Left,dt.Top+2,dt.Left+8,dt.Top+10)),2),i.FFill.SetColor(Yt)))),dt.Left=dt.Left+12;else if("U"===Be)">"!==s.get().charAt(2)?(Vt+=1,Ct=!0):i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(3)));else if("O"===Be)"F"===(pe=pas.System.upcase(s.get().charAt(2)))&&(nt=pas.System.Copy(s.get(),3,pas.System.Pos(">",s.get())-1),ot=pas.System.Copy(nt,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("x",nt)+2,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),pas.System.val$6(ot,q,{get:function(){return wt},set:function(t){wt=t}}),dt.Left=q.get(),u.set(q.get()));else if("P"===Be)pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(">",s.get(),{get:function(){return qt},set:function(t){qt=t}})>0&&(nt=pas.SysUtils.UpperCase(pas.System.Copy(s.get(),3,qt-1)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("ALIGN",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&(ot=pas.System.Copy(nt,qt+5,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),pas.System.Pos("RIGHT",ot)>0&&w.set(1),pas.System.Pos("LEFT",ot)>0&&w.set(0),pas.System.Pos("CENTER",ot)>0&&w.set(2)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("INDENT",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&(ot=pas.System.Copy(nt,qt+6,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),j.set(e.IStrToInt(ot))),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("FLOAT",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&(ot=pas.System.Copy(nt,qt+5,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),"LEFT"===(ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1))&&tt.set(1),"RIGHT"===ot&&tt.set(2),se.$assign(pas.Types.Point(Math.round(o.Left),Math.round(o.Top)))),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("BGCOLOR",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&(ot=pas.System.Copy(nt,qt+5,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),le=-1,(ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1)).length>0&&(le="#"===ot.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(ot):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(ot)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("BGCOLORTO",nt,{get:function(){return qt},set:function(t){qt=t}})>0?(ot=pas.System.Copy(nt,qt+5,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),r||(Ot=!0,i.FStroke.SetColor(le))):r||(Ot=!0,Bt=i.FFill.FColor,i.FFill.SetColor(le),Mt=i.FStroke.FColor,i.FStroke.SetColor(le),i.FFill.SetKind(1),i.FStroke.SetKind(1),i.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(n.Left,o.Top,n.Right,o.Bottom)),2))));else if("F"===Be){if(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(">",s.get(),{get:function(){return qt},set:function(t){qt=t}})>0)if(nt=pas.SysUtils.UpperCase(pas.System.Copy(s.get(),6,qt-6)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("FACE",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&(ot=pas.System.Copy(nt,qt+4,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),i.FFont.SetName(ot)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(" COLOR",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&!p&&(ot=pas.System.Copy(nt,qt+6,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1),at=-1!==i.FFill.FColor?i.FFont.FColor:0,ot.length>0&&(ct="#"===ot.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(ot):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(ot))),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("BGCOLOR",nt,{get:function(){return qt},set:function(t){qt=t}})>0&&!r&&!p&&(ot=pas.System.Copy(nt,qt+7,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),(ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1)).length>0&&(St="#"===ot.charAt(0)?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.HTMLToColor(ot):pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.TextToColor(ot))),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("STYLE",nt,{get:function(){return qt},set:function(t){qt=t}})>0)ot=pas.System.Copy(nt,qt+5,nt.length),ot=pas.System.Copy(ot,pas.System.Pos("=",ot)+1,ot.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),pas.System.Pos("FONT-SIZE:",pas.SysUtils.UpperCase(ot))>0&&(pas.System.Delete({get:function(){return ot},set:function(t){ot=t}},1,10),pas.System.Pos("PT",pas.SysUtils.UpperCase(ot))>0&&(ot=pas.SysUtils.Trim(pas.System.Copy(ot,1,pas.System.Pos("PT",pas.SysUtils.UpperCase(ot))-1)),pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,e.IStrToInt(ot),1)));else if(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos("SIZE",nt,{get:function(){return qt},set:function(t){qt=t}})>0){ot=pas.System.Copy(nt,qt+4,nt.length),ot=pas.System.Copy(ot,pas.System.Pos("=",ot)+1,ot.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1);var Pe=e.IStrToInt(ot);1===Pe?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,8,1):2===Pe?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,10,1):3===Pe?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,12,1):4===Pe?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,14,1):5===Pe?pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,16,1):pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.SetFontSize(i.FFont,e.IStrToInt(ot),1)}}else"S"===Be?">"===(pe=pas.System.upcase(s.get().charAt(2)))?i.FFont.SetStyle(rtl.unionSet(i.FFont.FStyle,rtl.createSet(2))):"H"===pe?Ht=!0:1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("<SUB>",s.get())?Rt=!0:1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("<SUP>",s.get())&&(It=!0):"R"===Be?(nt=pas.System.Copy(s.get(),3,pas.System.Pos(">",s.get())-1),ot=pas.System.Copy(nt,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IPos("a",nt)+2,nt.length),ot=pas.System.Copy(ot,pas.System.Pos('"',ot)+1,ot.length),ot=pas.System.Copy(ot,1,pas.System.Pos('"',ot)-1)):"Z"===Be&&(jt=!0)}pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.VarPos(">",s.get(),{get:function(){return qt},set:function(t){qt=t}})>0&&!gt?(st+=pas.System.Copy(s.get(),1,qt),pas.System.Delete(s,1,qt)):gt||pas.System.Delete(s,1,s.get().length)}}return u.set(u.get()-kt),u.get()>E.get()&&E.set(u.get()+2),a===D.get()-1&&bt&&!r&&(Y.Right=dt.Left,Y.Bottom=dt.Bottom,pas["WEBLib.TMSFNCTypes"].InflateRectEx(Y,1,0),Y.Left=o.Left+1,Y.Top=Y.Bottom),st}if(bt=!1,Lt=!1,(rt=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2")).AssignSource(i.FFont),at=i.FFont.FColor,(dt=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2")).AssignSource(i.FFont),ut=i.FFont.FColor,(lt=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2")).AssignSource(i.FFont),ht=i.FFont.FColor,(gt=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2")).AssignSource(i.FFont),mt=i.FFont.FColor,(pt=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2")).AssignSource(i.FFont),Ct=i.FFont.FColor,Et=i.FFill.FColor,j=i.FStroke.FColor,z=i.FFill.FKind,Q=i.FStroke.FKind,Ft=-1,St=-1,Bt=-1,Ot=!1,Ht=!1,jt=!1,$.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),I.set(""),R.set(""),d||W.set(""),Zt=0,te=0,ne=0,ie.$assign(pas.Types.Rect(0,0,0,0)),J=!1,K.$assign(n),nt=0,ot=0,E.set(0),P.set(0),D.set(0),Gt=0,Vt=0,wt=0,B.set(""),M.set(""),A.set(-1),vt=!1,Kt=0,Xt=-1,pas.System.Pos("&",s)>0){s=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.UnFixMarkup(s,!0,!0);do{Qt=!1,pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.TagReplaceString("&amp;","&",{get:function(){return s},set:function(t){s=t}})&&(Qt=!0)}while(Qt)}for(s=e.DBTagStrip(s),s=e.UnicodeTagStrip(s),s=e.CRLFStrip(s,!0),0,O.set(0);s.length>0;){rt.AssignSource(pt),at=Ct,i.FFont.AssignSource(lt),ct=ht,yt=bt,Nt=At,Ut=0,xt=0,kt=0,It=!1,Rt=!1,ft=!1,Tt=!1,Z=0,st.$assign(i.CalculateText$1("gh")),et=tt=st.Bottom-st.Top,qt=Kt,s=pas.SysUtils.Trim(s),oe=ne,X=ae(i,{get:function(){return s},set:function(t){s=t}},pas["WEBLib.TMSFNCTypes"].TRectF.$clone(K),!0,{get:function(){return Z},set:function(t){Z=t}},{get:function(){return tt},set:function(t){tt=t}},{get:function(){return xt},set:function(t){xt=t}},{get:function(){return Ut},set:function(t){Ut=t}},{get:function(){return kt},set:function(t){kt=t}},{get:function(){return nt},set:function(t){nt=t}},{get:function(){return ot},set:function(t){ot=t}},o,r,{get:function(){return ft},set:function(t){ft=t}},{get:function(){return Tt},set:function(t){Tt=t}},Zt,{get:function(){return te},set:function(t){te=t}},ie,{get:function(){return ne},set:function(t){ne=t}}),O.set(O.get()+1),bt=yt,At=Nt,lt.AssignSource(i.FFont),ht=i.FFont.FColor,pt.AssignSource(rt),Ct=at,tt+=H,q.$assign(K);var le=nt;2===le?K.Right-K.Left-Z>0&&(q.Left=K.Left+(K.Right-K.Left-Z)/2):1===le&&K.Right-Z>K.Left&&(q.Left=K.Right-Z),q.Left=q.Left+ot,q.Right=q.Right+ot,q.Bottom=q.Top+tt+xt+Ut,u||(rt.AssignSource(gt),at=mt,i.FFont.AssignSource(dt),ct=ut,D.set(Gt),Vt=wt,Kt=qt,ae(i,{get:function(){return X},set:function(t){X=t}},pas["WEBLib.TMSFNCTypes"].TRectF.$clone(q),d,{get:function(){return Z},set:function(t){Z=t}},{get:function(){return tt},set:function(t){tt=t}},{get:function(){return xt},set:function(t){xt=t}},{get:function(){return Ut},set:function(t){Ut=t}},{get:function(){return kt},set:function(t){kt=t}},{get:function(){return nt},set:function(t){nt=t}},{get:function(){return ot},set:function(t){ot=t}},o,r,{get:function(){return ft},set:function(t){ft=t}},{get:function(){return Tt},set:function(t){Tt=t}},Zt,{get:function(){return te},set:function(t){te=t}},ie,{get:function(){return ne},set:function(t){ne=t}}),Gt=D.get(),wt=Vt,K.Left=n.Left+ie.Left,K.Right=n.Right-ie.Right,q.Top>ie.Bottom&&(ie.Left=0,ie.Right=0,K.Left=n.Left),st.$assign(i.CalculateText$1("gh")),(ft&&r>q.Bottom-kt-(st.Bottom-st.Top)&&r<q.Bottom-kt||Tt)&&(J=!0),Zt=te,dt.AssignSource(i.FFont),ut=ct,gt.AssignSource(rt),mt=at),0!==ne&&ne!==oe?(K.Left=se.x,K.Top=se.y,ne=0):(K.Top=K.Top+tt+xt+Ut,P.set(P.get()+tt+xt+Ut)),K.Top+et>K.Bottom+1&&!u&&(s="")}return 0===P.get()&&(st.$assign(i.CalculateText$1("gh")),P.set(st.Bottom-st.Top)),1,i.FStroke.SetKind(Q),i.FFill.SetKind(z),i.FStroke.SetColor(j),i.FFill.SetColor(Et),i.FFont.AssignSource(rt),rt=rtl.freeLoc(rt),dt=rtl.freeLoc(dt),lt=rtl.freeLoc(lt),gt=rtl.freeLoc(gt),pt=rtl.freeLoc(pt),J},this.ParseControl=function(i,s,n,o,r,a,l,h){var d="",u=0;s.set(""),r.set(""),a.set(""),o.set(""),n.set(""),l.set(""),h.set(""),u=0,e.VarIPos("TYPE=",i,{get:function(){return u},set:function(t){u=t}})>0&&(d=pas.System.Copy(i,u+1,i.length),d=pas.System.Copy(d,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)+1,d.length),d=pas.System.Copy(d,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)-1),s.set(pas.SysUtils.UpperCase(d))),e.VarIPos("WIDTH=",i,{get:function(){return u},set:function(t){u=t}})>0&&(d=pas.System.Copy(i,u+1,i.length),d=pas.System.Copy(d,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)+1,d.length),d=pas.System.Copy(d,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)-1),r.set(d)),e.VarIPos("HEIGHT=",i,{get:function(){return u},set:function(t){u=t}})>0&&(d=pas.System.Copy(i,u+1,i.length),d=pas.System.Copy(d,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)+1,d.length),d=pas.System.Copy(d,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)-1),a.set(d)),e.VarIPos("ID=",i,{get:function(){return u},set:function(t){u=t}})>0&&(d=pas.System.Copy(i,u+1,i.length),d=pas.System.Copy(d,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)+1,d.length),d=pas.System.Copy(d,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)-1),n.set(d)),e.VarIPos("VALUE=",i,{get:function(){return u},set:function(t){u=t}})>0&&(d=pas.System.Copy(i,u+1,i.length),d=pas.System.Copy(d,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)+1,d.length),d=pas.System.Copy(d,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)-1),o.set(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.UnFixMarkup(d,!0,!1))),e.VarIPos("PROP=",i,{get:function(){return u},set:function(t){u=t}})>0&&(d=pas.System.Copy(i,u+1,i.length),d=pas.System.Copy(d,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)+1,d.length),d=pas.System.Copy(d,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)-1),l.set(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.UnFixMarkup(d,!0,!1))),e.VarIPos("MAXLEN=",i,{get:function(){return u},set:function(t){u=t}})>0&&(d=pas.System.Copy(i,u+1,i.length),d=pas.System.Copy(d,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)+1,d.length),d=pas.System.Copy(d,1,pas.System.Pos(t.TMSFNCHTMLENGINE_ATTR_DELIM,d)-1),h.set(d))},t.$implcode=function(){e.VarIPos=function(t,e,i){return i.set(pas.System.Pos(t,pas.SysUtils.UpperCase(e))),i.get()},e.IStrToInt=function(t){var e=0,i=0;return pas.System.val$6(t,{get:function(){return i},set:function(t){i=t}},{get:function(){return e},set:function(t){e=t}}),i},e.DBTagStrip=function(t){var e,i="",s=0;return(e=pas.System.Pos("<#",t))>0?(i=pas.System.Copy(t,1,e-1),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,e),(s=pas.System.Pos(">",t))>0&&pas.System.Delete({get:function(){return t},set:function(e){t=e}},s,1),i+=t):i=t,i},e.HexVal=function(t){return t.length<2?0:((t.charAt(0)>="A"?t.charCodeAt(0)-65+10:t.charCodeAt(0)-48)<<4)+(t.charAt(1)>="A"?t.charCodeAt(1)-65+10:t.charCodeAt(1)-48)},e.UnicodeTagStrip=function(t){var i=0,s=0,n=0,o=0,r="",a="",l=0,h=!1;function d(t,e){var i=0,s=0,n=0;i=n=e?4:3;for(var o=n,r=t.length;o<=r;o++){if(s=o,!(t.charAt(s-1)>="0"&&t.charAt(s-1)<="9")){i=s;break}if(e&&!(t.charAt(s-1)>="A"&&t.charAt(s-1)<="F")&&e&&!(t.charAt(s-1)>="a"&&t.charAt(s-1)<="f")){i=s;break}}return i}a="";do{if(i=pas.System.Pos("&#",t),(n=pas.System.Pos("&&#",t))===i-1&&0!==n&&(i=0),i>0)if(a+=pas.System.Copy(t,1,i-1),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,i-1),h=1===pas.System.Pos("&#x",t),(s=pas.System.Pos(";",t))>7&&(s=d(t,h)),s>0){if(h){r=pas.System.Copy(t,4,s-4);try{l=e.HexVal(r),o=0}catch(t){l=0}}else r=pas.System.Copy(t,3,s-3),pas.System.val$6(r,{get:function(){return l},set:function(t){l=t}},{get:function(){return o},set:function(t){o=t}});r.length>0&&r.length<=6&&0===o&&(a+=String.fromCharCode(l),pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,s))}else a+="&#",pas.System.Delete({get:function(){return t},set:function(e){t=e}},1,2);else a+=t}while(!(i<=0));return a},e.CRLFStrip=function(t,e){var i="",s=0;i="";for(var n=1,o=t.length;n<=o;n++)s=n,"\r"!==t.charAt(s-1)&&"\n"!==t.charAt(s-1)?i+=t.charAt(s-1):"\r"===t.charAt(s-1)&&e&&(i+="<BR>");return i}}}),["SysUtils","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCGraphics.General",["System","Classes","WEBLib.TMSFNCGraphicsTypes","Types","WEBLib.Graphics","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCTypes"],(function(){"use strict";rtl.createClass(this,"TTMSFNCGraphicsContextGeneral",pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext,(function(){this.$init=function(){pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext.$init.call(this),this.FShowAcceleratorChar=!1},this.DrawRotatedText=function(t,e,i,s,n,o){var r,a=0,l=0,h=pas["WEBLib.Graphics"].TCanvasRectF.$new();r=i,e.Left,e.Top,t.TextWidth(r),t.TextHeight(r);1===n?a=0:0===n?a=2:2===n&&(a=1);0===o?l=2:1===o?l=0:2===o&&(l=1),h.$assign(pas["WEBLib.Graphics"].CreateCanvasRectF(e.Left,e.Top,e.Right,e.Bottom)),t.TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(h),r,!1,!1,a,l)},this.Destroy=function(){pas.System.TObject.Destroy.call(this)},this.GetFillColor=function(){return this.GetCanvas().FBrush.FColor},this.CalculateText=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=pas["WEBLib.Graphics"].TCanvasRectF.$new();return n.$assign(pas["WEBLib.Graphics"].CreateCanvasRectF(e.Left,e.Top,e.Right,e.Bottom)),n.$assign(this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(n),t,i,!0,0,0)),s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(n.Left,n.Top,n.Right,n.Bottom)),s},this.SetTextAngle=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=0,n=pas["WEBLib.TMSFNCTypes"].TPointF.$new();return i.$assign(t),0!==e&&(s=pas.Math.DegToRad(e),n.X=i.Left+(i.Right-i.Left)/2,n.Y=i.Top+(i.Bottom-i.Top)/2,this.GetCanvas().Transform(Math.cos(s),Math.sin(s),-Math.sin(s),Math.cos(s),n.X,n.Y),i.Right-i.Left<i.Bottom-i.Top?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(-(i.Bottom-i.Top)/2,-(i.Right-i.Left)/2,(i.Bottom-i.Top)/2,(i.Right-i.Left)/2)):i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(-(i.Right-i.Left)/2,-(i.Bottom-i.Top)/2,(i.Right-i.Left)/2,(i.Bottom-i.Top)/2))),i},this.Render=function(){},this.SetTextQuality=function(t){},this.SetAntiAliasing=function(t){},this.SetShowAcceleratorChar=function(t){this.FShowAcceleratorChar=t},this.SetSize=function(t,e){},this.ResetTextAngle=function(t){0!==t&&this.GetCanvas().SetTransform(1,0,0,1,0,0)},this.BeginScene=function(){null!=this.GetCanvas()&&(this.GetCanvas().BeginScene(),this.GetCanvas().Clear())},this.EndScene=function(){this.GetCanvas().EndScene()},this.RestoreState=function(t){null!=t&&(t.FSaveDC=0),this.GetCanvas().Restore(),this.GetCanvas().Refresh()},this.SaveState=function(t){this.GetCanvas().Refresh(),this.GetCanvas().Save()},this.SetFont=function(t){this.GetCanvas().FFont.Assign(t)},this.SetFill=function(t){this.GetCanvas().FBrush.FColor=t.FColor,this.GetCanvas().FBrush.FGradient=0,this.GetCanvas().FBrush.ClearGradient();var e=t.FKind;if(1===e)this.GetCanvas().FBrush.FStyle=0;else if(2===e){this.GetCanvas().FBrush.ClearGradient(),-1!==t.FColorMirror&&-1!==t.FColorMirrorTo?(this.GetCanvas().FBrush.AddGradientColor(t.FColor,0),this.GetCanvas().FBrush.AddGradientColor(t.FColorTo,.5),this.GetCanvas().FBrush.AddGradientColor(t.FColorMirror,.5),this.GetCanvas().FBrush.AddGradientColor(t.FColorMirrorTo,1)):(this.GetCanvas().FBrush.AddGradientColor(t.FColor,0),this.GetCanvas().FBrush.AddGradientColor(t.FColorTo,1));var i=t.FOrientation;0===i?this.GetCanvas().FBrush.FGradient=2:1===i&&(this.GetCanvas().FBrush.FGradient=1)}else 0===e&&(this.GetCanvas().FBrush.FStyle=1)},this.SetFillColor=function(t){this.GetCanvas().FBrush.FColor=t},this.SetStroke=function(t){this.GetCanvas().FPen.SetColor(t.FColor),this.GetCanvas().FPen.FWidth=Math.round(t.FWidth);var e=t.FKind;1===e?this.GetCanvas().FPen.FStyle=0:0===e?this.GetCanvas().FPen.FStyle=5:2===e?this.GetCanvas().FPen.FStyle=1:3===e?this.GetCanvas().FPen.FStyle=2:4===e?this.GetCanvas().FPen.FStyle=3:5===e&&(this.GetCanvas().FPen.FStyle=4)},this.DrawLine=function(t,e,i,s,n){this.GetCanvas().MoveTo$1(e.X,e.Y),this.GetCanvas().LineTo$1(i.X,i.Y)},this.FillRect=function(t,e,i){var s,n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=0,r=0;if(e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,i)),n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right,e.Bottom)),o=-1,r=1,2===t.FKind){if(-1!==t.FColor&&-1!==t.FColorTo)if(-1!==t.FColorMirror&&-1!==t.FColorMirrorTo){var a=t.FOrientation;0===a?(pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColor,t.FColorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(n.Left,n.Top,n.Left+(n.Right-n.Left)/2,n.Bottom)),0,{},!0),pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColorMirror,t.FColorMirrorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(n.Left+(n.Right-n.Left)/2,n.Top,n.Right,n.Bottom)),0,{},!0)):1===a&&(pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColor,t.FColorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(n.Left,n.Top,n.Right,n.Top+(n.Bottom-n.Top)/2)),0,{},!1),pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColorMirror,t.FColorMirrorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(n.Left,n.Top+(n.Bottom-n.Top)/2,n.Right,n.Bottom)),0,{},!1))}else pas["WEBLib.TMSFNCGraphicsTypes"].DrawGradient(this.GetCanvas(),t.FColor,t.FColorTo,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),0,{},0===t.FOrientation);o=this.GetCanvas().FBrush.FColor,r=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1}s=this.GetCanvas().FPen.FStyle,this.GetCanvas().FPen.FStyle=5,-1!==t.FColor&&1===t.FKind&&this.GetCanvas().Rectangle$3(pas["WEBLib.Graphics"].CreateCanvasRectF(n.Left,n.Top,n.Right,n.Bottom)),this.GetCanvas().FPen.FStyle=s,2===t.FKind&&(this.GetCanvas().FBrush.FColor=o,this.GetCanvas().FBrush.FStyle=r)},this.DrawRect=function(t,e,i,s){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,s)),n.$assign(e),1 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left,n.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right,n.Top)),2,2),0 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left,n.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left,n.Bottom)),2,2),3 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left,n.Bottom)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right,n.Bottom)),2,2),2 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right,n.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right,n.Bottom)),2,2)},this.FillEllipse=function(t,e,i){var s,n=pas["WEBLib.Graphics"].TCanvasRectF.$new();e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,i)),n.$assign(pas["WEBLib.Graphics"].CreateCanvasRectF(e.Left,e.Top,e.Right,e.Bottom)),s=this.GetCanvas().FPen.FStyle,this.GetCanvas().FPen.FStyle=5,this.GetCanvas().Ellipse$3(n),this.GetCanvas().FPen.FStyle=s},this.DrawEllipse=function(t,e,i){var s,n,o=pas["WEBLib.Graphics"].TCanvasRectF.$new();e.$assign(pas["WEBLib.TMSFNCGraphicsTypes"].ModifyRect(e,i)),o.$assign(pas["WEBLib.Graphics"].CreateCanvasRectF(e.Left,e.Top,e.Right,e.Bottom)),n=this.GetCanvas().FBrush.FColor,s=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1,this.GetCanvas().Ellipse$3(o),this.GetCanvas().FBrush.FStyle=s,this.GetCanvas().FBrush.FColor=n},this.DrawBitmap=function(t,e,i,s){this.GetCanvas().StretchDraw$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(i.Left,i.Top,i.Right,i.Bottom)),t)},this.ClipRect=function(t){this.GetCanvas().SetClipRect(pas["WEBLib.Graphics"].CreateCanvasRectF(t.Left,t.Top,t.Right,t.Bottom))},this.DrawText=function(t,e,i,s,n,o,r){var a,l,h=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),d=0,u=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),c=null;if(a=this.GetCanvas().FBrush.FColor,l=this.GetCanvas().FBrush.FStyle,this.GetCanvas().FBrush.FStyle=1,u.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right,e.Bottom)),i){var p=n;0===p?(h.$assign(this.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)),d=Math.round(h.Bottom-h.Top),u.Top=u.Top+Math.max(0,(u.Bottom-u.Top-d)/2),u.Bottom=Math.max(0,Math.min(Math.round(e.Bottom),u.Top+d))):2===p&&(h.$assign(this.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)),d=Math.round(h.Bottom-h.Top),u.Top=u.Bottom-d,u.Bottom=u.Top+d)}if(0!==r)this.DrawRotatedText(this.GetCanvas(),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(u),t,r,s,n);else{c=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsSaveState.$create("Create$1");try{this.SaveState(c),this.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(u));var C=s;if(1===C){var S=n;1===S?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(u.Left,u.Top,u.Right,u.Bottom)),t,i,!1,0,0):0===S?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(u.Left,u.Top,u.Right,u.Bottom)),t,i,!1,0,2):2===S&&this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(u.Left,u.Top,u.Right,u.Bottom)),t,i,!1,0,1)}else if(0===C){var F=n;1===F?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(u.Left,u.Top,u.Right,u.Bottom)),t,i,!1,2,0):0===F?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(u.Left,u.Top,u.Right,u.Bottom)),t,i,!1,2,2):2===F&&this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(u.Left,u.Top,u.Right,u.Bottom)),t,i,!1,2,1)}else if(2===C){var g=n;1===g?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(u.Left,u.Top,u.Right,u.Bottom)),t,i,!1,1,0):0===g?this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(u.Left,u.Top,u.Right,u.Bottom)),t,i,!1,1,2):2===g&&this.GetCanvas().TextRect$1(pas["WEBLib.Graphics"].TCanvasRectF.$clone(pas["WEBLib.Graphics"].CreateCanvasRectF(u.Left,u.Top,u.Right,u.Bottom)),t,i,!1,1,1)}}finally{this.RestoreState(c)}}this.GetCanvas().FBrush.FColor=a,this.GetCanvas().FBrush.FStyle=l}}))}),["Math"]),rtl.module("WEBLib.TMSFNCGraphics.WEB",["System","Classes","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCUtils","Types","WEBLib.TMSFNCTypes","WEBLib.TMSFNCGraphics","WEBLib.Graphics"],(function(){"use strict";var t=this;rtl.createClass(this,"TTMSFNCGraphicsContextWEB",pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext,(function(){this.$init=function(){pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext.$init.call(this),this.FScale=0,this.FNeedsRendering=!1,this.FFont=null,this.FFill=null,this.FStroke=null,this.FContextSize=pas["WEBLib.TMSFNCTypes"].TSizeF.$new(),this.FNCanvas=null,this.FBitmap=null},this.$final=function(){this.FFont=void 0,this.FFill=void 0,this.FStroke=void 0,this.FContextSize=void 0,this.FBitmap=void 0,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext.$final.call(this)},this.DestroyResources=function(){null!=this.FNCanvas&&(this.RestoreContext(),this.FNCanvas=null),null!=this.FBitmap&&(rtl.free(this,"FBitmap"),this.FBitmap=null)},this.DrawTextInternal=function(t,e,i,s,n){var o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),r=0,a="",l="",h=0,d=0,u=!1,c=0,p=0,C=0,S=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),F=0;function g(t,e){var i,s="",n=0;if(s="",i=t.length,e.get()>i)return s;for(n=e.get();;){if("\n"===t.charAt(n-1)&&"\r"===t.charAt(n-1-1)||"\r"===t.charAt(n-1)&&"\n"===t.charAt(n-1-1)||" "===t.charAt(n-1)){s=" "===t.charAt(n-1)?pas.System.Copy(t,e.get(),n-(e.get()-1)):pas.System.Copy(t,e.get(),n-e.get());break}if("\n"===t.charAt(n-1)||"\r"===t.charAt(n-1)||" "===t.charAt(n-1)){s=pas.System.Copy(t,e.get(),n-(e.get()-1));break}if(n>=i){s=pas.System.Copy(t,e.get(),n-(e.get()-1));break}n+=1}return e.set(n+1),s}if(i){for(S.$assign(e),d=0,r=1,.5*this.FFont.FSize,C=0,F=0,p=0,d+=0,(a=g(t,{get:function(){return r},set:function(t){r=t}})).length>0&&" "===a.charAt(a.length-1)&&(d+=F);r<=t.length&&((h=a.length)>=2&&("\n"===a.charAt(h-1)&&"\r"===a.charAt(h-1-1)||"\r"===a.charAt(h-1)&&"\n"===a.charAt(h-1-1))?(a=pas.System.Copy(a,1,h-2),u=!0):h>=1&&("\n"===a.charAt(h-1)||"\r"===a.charAt(h-1))?(a=pas.System.Copy(a,1,h-1),u=!0):u=!1,l=g(t,{get:function(){return r},set:function(t){r=t}}),!((e.Left+d+0>e.Right||u)&&(""!==a&&(c=a.length,pas.System.Copy(a,1,c),C+=1,d>p&&(p=d),d=0),a="",e.Top=e.Top+0,pas.System.Trunc(e.Top)>pas.System.Trunc(e.Bottom-0)&&!n)));)d+=0,l.length>0&&" "===l.charAt(l.length-1)&&(d+=F),a+=l;""!==a&&(c=a.length,pas.System.Copy(a,1,c),C+=1,d>p&&(p=d)),o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(S.Left,S.Top,S.Left+p,S.Top+0*C))}else;return o},this.DrawLinearGradient=function(t){if(null!=this.FNCanvas){this.FFill.FOrientation;-1!==this.FFill.FColorTo&&-1!==this.FFill.FColorMirror||this.FFill.FColorTo}},this.FontChanged=function(t){},this.FillChanged=function(t){null!=this.FNCanvas&&this.ApplyFill()},this.StrokeChanged=function(t){null!=this.FNCanvas&&this.ApplyStroke()},this.RestoreContext=function(){this.FNCanvas},this.SaveContext=function(){this.FNCanvas},this.ApplyStroke=function(){this.FNCanvas},this.ApplyFill=function(){if(null!=this.FNCanvas)this.FFill.FKind},this.Create$1=function(t){return pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphicsContext.Create$1.apply(this,arguments),this.FScale=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetDPIScale(null,-1),this.FNeedsRendering=!0,this.FContextSize.cx=0,this.FContextSize.cy=0,this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this},this.Destroy=function(){this.Render(),null!=this.FFont&&(rtl.free(this,"FFont"),this.FFont=null),null!=this.FFill&&(rtl.free(this,"FFill"),this.FFill=null),null!=this.FStroke&&(rtl.free(this,"FStroke"),this.FStroke=null),this.DestroyResources(),pas.System.TObject.Destroy.call(this)},this.GetFillColor=function(){return this.GetGraphics().FFill.FColor},this.CalculateText=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return s.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),null==this.FNCanvas||(this.SaveContext(),s.$assign(this.DrawTextInternal(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,1,!0)),this.RestoreContext()),s},this.SetTextAngle=function(t,e){var i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=pas["WEBLib.TMSFNCTypes"].TPointF.$new();return i.$assign(t),null==this.FNCanvas||0!==e&&(pas.Math.DegToRad(e),s.X=i.Left+(i.Right-i.Left)/2,s.Y=i.Top+(i.Bottom-i.Top)/2,this.SaveContext(),i.Right-i.Left<i.Bottom-i.Top?i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(-(i.Bottom-i.Top)/2,-(i.Right-i.Left)/2,(i.Bottom-i.Top)/2,(i.Right-i.Left)/2)):i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(-(i.Right-i.Left)/2,-(i.Bottom-i.Top)/2,(i.Right-i.Left)/2,(i.Bottom-i.Top)/2))),i},this.Render=function(){this.FNeedsRendering&&(this.FNeedsRendering=!1,this.DestroyResources())},this.ScaleTransform=function(t,e){this.FNCanvas},this.SetTextQuality=function(t){},this.SetAntiAliasing=function(t){this.FNCanvas},this.SetShowAcceleratorChar=function(t){},this.SetSize=function(t,e){this.FContextSize.cx=t,this.FContextSize.cy=e,this.DestroyResources(),this.FBitmap=pas["WEBLib.Graphics"].TBitmap.$create("Create$3"),this.ScaleTransform(this.FScale,this.FScale),this.SaveContext()},this.ResetTextAngle=function(t){null!=this.FNCanvas&&0!==t&&this.RestoreContext()},this.BeginScene=function(){this.FNCanvas},this.EndScene=function(){null!=this.FNCanvas&&this.Render()},this.RestoreState=function(t){null!=this.FNCanvas&&this.RestoreContext()},this.SaveState=function(t){null!=this.FNCanvas&&this.SaveContext()},this.SetFont=function(t){null!=this.FNCanvas&&this.FFont.AssignSource(t)},this.SetFill=function(t){null!=this.FNCanvas&&this.FFill.Assign(t)},this.SetFillColor=function(t){null!=this.FNCanvas&&this.FFill.SetColor(t)},this.SetStroke=function(t){null!=this.FNCanvas&&this.FStroke.Assign(t)},this.DrawLine=function(t,e,i,s,n){null!=this.FNCanvas&&(this.SaveContext(),this.RestoreContext())},this.FillRect=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(null!=this.FNCanvas){s.$assign(e),this.SaveContext();var n=t.FKind;1===n?this.ApplyFill():2===n&&this.DrawLinearGradient(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s)),this.RestoreContext()}},this.DrawRect=function(t,e,i,s){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();null!=this.FNCanvas&&(n.$assign(e),1 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left,n.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right,n.Top)),2,2),0 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left,n.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left,n.Bottom)),2,2),3 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Left,n.Bottom)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right,n.Bottom)),2,2),2 in i&&this.DrawLine(t,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right,n.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(n.Right,n.Bottom)),2,2))},this.FillEllipse=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(null!=this.FNCanvas){s.$assign(e),this.SaveContext();var n=t.FKind;1===n?this.ApplyFill():2===n&&this.DrawLinearGradient(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(s)),this.RestoreContext()}},this.DrawEllipse=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new();null!=this.FNCanvas&&(s.$assign(e),this.SaveContext(),this.ApplyStroke(),this.RestoreContext())},this.DrawBitmap=function(t,e,i,s){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();null!=t&&null!=this.FNCanvas&&(this.SaveContext(),n.$assign(i),this.RestoreContext())},this.ClipRect=function(t){null!=this.FNCanvas&&this.SaveContext()},this.DrawText=function(t,e,i,s,n,o,r){var a=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(null!=this.FNCanvas){this.SaveContext(),a.$assign(this.DrawTextInternal(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s,!0));var l=n;0===l?this.DrawTextInternal(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top+(e.Bottom-e.Top-(a.Bottom-a.Top))/2,e.Right,e.Top+(e.Bottom-e.Top-(a.Bottom-a.Top))/2+(a.Bottom-a.Top))),i,s,!1):1===l?this.DrawTextInternal(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Top,e.Right,e.Top+(a.Bottom-a.Top))),i,s,!1):2===l&&this.DrawTextInternal(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(e.Left,e.Bottom-(a.Bottom-a.Top),e.Right,e.Bottom)),i,s,!1),this.RestoreContext()}}})),this.GetNativeContextClass=function(){return t.TTMSFNCGraphicsContextWEB}}),["SysUtils","Math"]),rtl.module("WEBLib.TMSFNCGraphics",["System","Classes","WEBLib.TMSFNCGraphicsTypes","WEBLib.Graphics","JS","WEBLib.TMSFNCBitmapContainer","Types","WEBLib.TMSFNCTypes"],(function(){"use strict";var t=this;this.$rtti.$Class("TTMSFNCGraphics"),rtl.createClass(this,"TTMSFNCGraphicsContext",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FGraphics=null},this.$final=function(){this.FGraphics=void 0,pas.System.TObject.$final.call(this)},this.GetCanvas=function(){var t=null;return t=null,null!=this.GetGraphics()&&(t=this.GetGraphics().GetCanvas()),t},this.GetGraphics=function(){return this.FGraphics},this.Create$1=function(t){return this.FGraphics=t,this}})),rtl.createClass(this,"TTMSFNCGraphics",pas.System.TObject,(function(){this.DefaultSelectionFillColor=0,this.DefaultTextFontColor=0,this.DefaultPopupFillColor=0,this.DefaultPopupStrokeColor=0,this.DefaultButtonStrokeColorFocused=0,this.DefaultButtonFillColorFocused=0,this.DefaultButtonStrokeColorDisabled=0,this.DefaultButtonFillColorDisabled=0,this.DefaultButtonStrokeColor=0,this.DefaultButtonFillColor=0,this.$init=function(){pas.System.TObject.$init.call(this),this.FActiveCanvas=null,this.FBlockUpdate=0,this.FNative=!1,this.FContextNative=null,this.FContextGeneral=null,this.FBitmap=null,this.FFill=null,this.FStroke=null,this.FFont=null,this.FHighlightColor=0,this.FOptimizedHTMLDrawing=!1,this.FHighlightTextColor=0,this.FHighlightFontStyles={},this.FURLUnderline=!1,this.FURLColor=0,this.FBitmapContainer=null},this.$final=function(){this.FActiveCanvas=void 0,this.FContextNative=void 0,this.FContextGeneral=void 0,this.FBitmap=void 0,this.FFill=void 0,this.FStroke=void 0,this.FFont=void 0,this.FHighlightFontStyles=void 0,this.FBitmapContainer=void 0,pas.System.TObject.$final.call(this)},this.GetCanvas=function(){return this.FActiveCanvas},this.GetContext=function(){return this.FNative?this.FContextNative:this.FContextGeneral},this.FontChanged=function(t){this.SetFont(rtl.as(t,pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont))},this.FillChanged=function(t){this.SetFill(rtl.as(t,pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill))},this.StrokeChanged=function(t){this.SetStroke(rtl.as(t,pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke))},this.InitializeDefaultAppearance=function(){this.FURLColor=16711680,this.FURLUnderline=!0,this.SetFill(this.FFill),this.SetStroke(this.FStroke),this.SetFont(this.FFont)},this.InternalCalculateText=function(t,e,i,s){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o="",r="",a="",l=0,h=0,d=0,u=0,c=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),p=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),C=0,S="",F="",g="";return n.$assign(e),Math.round(n.Right-n.Left)<=0?(n.Bottom=n.Top,n):(""!==t?s&&(pas.System.Pos("</",t)>0||pas.System.Pos("/>",t)>0||pas.System.Pos("<BR>",pas.SysUtils.UpperCase(t))>0)?(c.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),l=0,h=0,d=-1,u=-1,a="",r="",o="",C=0,p.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),S="",g="",F="",pas["WEBLib.TMSFNCHTMLEngine"].HTMLDrawEx$1(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),0,0,-1,-1,0,!1,!0,!1,!1,!1,!1,i,!1,"",1,this.FURLColor,-1,-1,-1,{get:function(){return o},set:function(t){o=t}},{get:function(){return r},set:function(t){r=t}},{get:function(){return a},set:function(t){a=t}},{get:function(){return l},set:function(t){l=t}},{get:function(){return h},set:function(t){h=t}},{get:function(){return d},set:function(t){d=t}},{get:function(){return u},set:function(t){u=t}},c,p,{get:function(){return S},set:function(t){S=t}},{get:function(){return g},set:function(t){g=t}},{get:function(){return F},set:function(t){F=t}},{get:function(){return C},set:function(t){C=t}},0,this.FBitmapContainer,1,this.FURLUnderline,this.FHighlightColor,this.FHighlightTextColor,rtl.refSet(this.FHighlightFontStyles)),h+=1,n.Right=n.Left+l,n.Bottom=n.Top+h):(n.$assign(this.GetContext().CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)),n.Bottom=n.Bottom+1):(n.Right=n.Left,n.Bottom=n.Top),n)},this.InternalDrawText=function(t,e,i,s,n,o,r,a,l,h,d,u,c,p,C,S){var F,g="",m="",f="",T="",b=0,y=0,v=0,L=0,B=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),M=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),E=0,P=0,D=0,A=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),N=!1,$=null;if(F=this.GetContext().GetFillColor(),this.GetContext().SetFillColor(this.FFont.FColor),u>-1&&t.Bottom-t.Top<u&&(t.Bottom=t.Top+u),d>-1&&t.Right-t.Left<d&&(t.Right=t.Left+d),t.$assign(this.GetContext().SetTextAngle(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),h)),g="",(pas.System.Pos("</",e)>0||pas.System.Pos("/>",e)>0||pas.System.Pos("<BR>",pas.SysUtils.UpperCase(e))>0)&&c){if(B.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),b=0,y=0,v=-1,L=-1,T="",f="",m="",D=0,M.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),i.set(""),s.set(""),n.set(""),pas["WEBLib.TMSFNCHTMLEngine"].HTMLDrawEx$1(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),0,0,-1,-1,0,!1,!0,!1,!1,!1,!1,o,!1,"",1,this.FURLColor,-1,-1,-1,{get:function(){return m},set:function(t){m=t}},{get:function(){return f},set:function(t){f=t}},{get:function(){return T},set:function(t){T=t}},{get:function(){return b},set:function(t){b=t}},{get:function(){return y},set:function(t){y=t}},{get:function(){return v},set:function(t){v=t}},{get:function(){return L},set:function(t){L=t}},B,M,i,s,n,{get:function(){return D},set:function(t){D=t}},0,this.FBitmapContainer,1,this.FURLUnderline,this.FHighlightColor,this.FHighlightTextColor,rtl.refSet(this.FHighlightFontStyles)),y+=1,b+=1,o&&D<=1||!o){E=t.Left,P=t.Top;var W=r;0===W?E+=(t.Right-t.Left-b)/2:2===W&&(E=t.Left+(t.Right-t.Left)-b);var I=a;0===I?P+=(t.Bottom-t.Top-y)/2:2===I&&(P=P+(t.Bottom-t.Top)-y),A.$assign(pas["WEBLib.TMSFNCTypes"].RectF(E,P,E+b,P+y))}else A.$assign(t);$=this.SaveState(!0),this.ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t)),N=pas["WEBLib.TMSFNCHTMLEngine"].HTMLDrawEx$1(this,e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(A),Math.round(C),Math.round(S),-1,-1,0,p,!1,!1,!1,!1,!1,o,!1,"",1,this.FURLColor,-1,-1,-1,{get:function(){return m},set:function(t){m=t}},{get:function(){return f},set:function(t){f=t}},{get:function(){return T},set:function(t){T=t}},{get:function(){return b},set:function(t){b=t}},{get:function(){return y},set:function(t){y=t}},{get:function(){return v},set:function(t){v=t}},{get:function(){return L},set:function(t){L=t}},B,M,i,s,n,{get:function(){return D},set:function(t){D=t}},0,this.FBitmapContainer,1,this.FURLUnderline,this.FHighlightColor,this.FHighlightTextColor,rtl.refSet(this.FHighlightFontStyles)),this.RestoreState($,!0),N&&(g=m)}else p||this.GetContext().DrawText(e,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),o,r,a,l,h);return this.GetContext().ResetTextAngle(h),this.GetContext().SetFillColor(F),g},this.DrawTexture=function(t,e,i){var s=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),n=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),r=0,a=0;if(!pas["WEBLib.TMSFNCTypes"].IsBitmapEmpty(e)){s.$assign(t);var l=i;if(0===l)n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t.Left,t.Top,t.Left+e.GetWidth(),t.Top+e.GetHeight())),pas["WEBLib.TMSFNCTypes"].IntersectRectEx$1(o,s,n),this.DrawBitmapPart$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,o.Right-o.Left,o.Bottom-o.Top)),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(n.Left,n.Top,n.Left+(o.Right-o.Left),n.Top+(o.Bottom-o.Top))),e,!1,!1,!1,!1);else if(1===l)n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,e.GetWidth(),e.GetHeight())),n.$assign(pas["WEBLib.TMSFNCTypes"].RectSnapToPixelEx(pas["WEBLib.TMSFNCTypes"].RectFitIntoEx$1(n,t),1,!1)),this.DrawBitmapPart$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,e.GetWidth(),e.GetHeight())),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),e,!1,!0,!1,!1);else if(2===l)this.DrawBitmapPart$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,e.GetWidth(),e.GetHeight())),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),e,!1,!0,!1,!1);else if(4===l)for(var h=0,d=pas.System.Trunc((s.Right-s.Left)/e.GetWidth())+1;h<=d;h++){r=h;for(var u=0,c=pas.System.Trunc((s.Bottom-s.Top)/e.GetHeight())+1;u<=c;u++)a=u,n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(s.Left,s.Top,s.Left+e.GetWidth(),s.Top+e.GetHeight())),pas["WEBLib.TMSFNCTypes"].OffsetRectEx$1(n,r*e.GetWidth(),a*e.GetHeight()),pas["WEBLib.TMSFNCTypes"].IntersectRectEx$1(o,s,n),pas["WEBLib.TMSFNCTypes"].IntersectRectEx(o,n)&&this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(n.Left,n.Top,n.Left+(o.Right-o.Left),n.Top+(o.Bottom-o.Top))),e,!1,!1,!1,!1)}else 3===l&&(n.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,e.GetWidth(),e.GetHeight())),n.$assign(pas["WEBLib.TMSFNCTypes"].RectSnapToPixelEx(pas["WEBLib.TMSFNCTypes"].RectCenterAtEx(n,t),1,!1)),this.DrawBitmapPart$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,e.GetWidth(),e.GetHeight())),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(n),e,!0,!1,!0,!1))}},this.DrawSVG=function(t,e){return!1,!1},this.Create$1=function(t,e){return this.FNative=e,this.FActiveCanvas=t,e?(this.FContextNative=pas["WEBLib.TMSFNCGraphics.WEB"].GetNativeContextClass().$create("Create$1",[this]),this.FContextNative.SetSize(1,1)):(this.FContextGeneral=pas["WEBLib.TMSFNCGraphics.General"].TTMSFNCGraphicsContextGeneral.$create("Create$1",[this]),this.FContextGeneral.SetSize(1,1)),this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.FHighlightColor=16711680,this.FHighlightTextColor=16777215,this.FHighlightFontStyles={},this.InitializeDefaultAppearance(),this},this.CreateBitmapCanvas=function(t,e,i,s){return this.FNative=i,this.FBitmap=pas["WEBLib.Graphics"].TBitmap.$create("Create$3"),this.FBitmap.SetWidth(t),this.FBitmap.SetHeight(e),this.FActiveCanvas=this.FBitmap.GetCanvas(),i?(this.FContextNative=pas["WEBLib.TMSFNCGraphics.WEB"].GetNativeContextClass().$create("Create$1",[this]),this.FContextNative.SetSize(t,e)):(this.FContextGeneral=pas["WEBLib.TMSFNCGraphics.General"].TTMSFNCGraphicsContextGeneral.$create("Create$1",[this]),this.FContextGeneral.SetSize(t,e)),this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.FFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FFont.FOnChanged=rtl.createCallback(this,"FontChanged"),this.InitializeDefaultAppearance(),this},this.Destroy=function(){null!=this.FContextNative&&(rtl.free(this,"FContextNative"),this.FContextNative=null),null!=this.FContextGeneral&&(rtl.free(this,"FContextGeneral"),this.FContextGeneral=null),null!=this.FFont&&(rtl.free(this,"FFont"),this.FFont=null),null!=this.FFill&&(this.FFill.FOnChanged=null,rtl.free(this,"FFill"),this.FFill=null),null!=this.FStroke&&(this.FStroke.FOnChanged=null,rtl.free(this,"FStroke"),this.FStroke=null),this.FBitmapContainer=null,null!=this.FBitmap&&(rtl.free(this,"FBitmap"),this.FBitmap=null),pas.System.TObject.Destroy.call(this)},this.BeginScene=function(){this.GetContext().BeginScene()},this.EndScene=function(){this.GetContext().EndScene()},this.SetFill=function(t){this.FBlockUpdate>0||(this.FBlockUpdate+=1,this.GetContext().SetFill(t),this.FFill.Assign(t),this.FBlockUpdate-=1)},this.SetStroke=function(t){this.FBlockUpdate>0||(this.FBlockUpdate+=1,this.GetContext().SetStroke(t),this.FStroke.Assign(t),this.FBlockUpdate-=1)},this.RestoreState=function(t,e){e||(this.SetFill(t.FFill),this.SetStroke(t.FStroke),this.SetFont(t.FFont)),this.GetContext().RestoreState(t),t=rtl.freeLoc(t)},this.SetFont=function(t){this.FBlockUpdate>0||(this.FBlockUpdate+=1,this.GetContext().SetFont(t),this.FFont.AssignSource(t),this.FBlockUpdate-=1)},this.DrawLine$1=function(t,e,i,s){-1!==this.FStroke.FColor&&0!==this.FStroke.FKind&&this.GetContext().DrawLine(this.FStroke,pas["WEBLib.TMSFNCTypes"].TPointF.$clone(t),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(e),i,s)},this.DrawRectangle=function(t,e,i,s,n){this.DrawRectangle$1(t,e,i,s,pas["WEBLib.TMSFNCGraphicsTypes"].AllSides,n)},this.DrawRectangle$1=function(t,e,i,s,n,o){var r=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),a=null;if(r.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t,e,i,s)),-1!==this.FFill.FColor&&0!==this.FFill.FKind||3===this.FFill.FKind)if(3===this.FFill.FKind){a=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{a.AddRectangle(r,0,0),this.DrawTexture(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),this.FFill.FTexture,this.FFill.FTextureMode)}finally{a=rtl.freeLoc(a)}}else this.GetContext().FillRect(this.FFill,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),o);-1!==this.FStroke.FColor&&0!==this.FStroke.FKind&&this.GetContext().DrawRect(this.FStroke,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),rtl.refSet(n),o)},this.DrawEllipse=function(t,e,i,s,n){var o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),r=null;if(o.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t,e,i,s)),-1!==this.FFill.FColor&&0!==this.FFill.FKind||3===this.FFill.FKind)if(3===this.FFill.FKind){r=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsPath.$create("Create$1");try{r.AddEllipse(o),this.DrawTexture(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),this.FFill.FTexture,this.FFill.FTextureMode)}finally{r=rtl.freeLoc(r)}}else this.GetContext().FillEllipse(this.FFill,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),n);-1!==this.FStroke.FColor&&0!==this.FStroke.FKind&&this.GetContext().DrawEllipse(this.FStroke,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(o),n)},this.DrawRectangle$2=function(t,e){this.DrawRectangle(t.Left,t.Top,t.Right,t.Bottom,e)},this.DrawEllipse$2=function(t,e){this.DrawEllipse(t.Left,t.Top,t.Right,t.Bottom,e)},this.DrawBitmapPart=function(e,i,s,n,o,r,a,l,h,d,u,c,p){var C=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),S=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),F=null,g=null;if(C.$assign(pas["WEBLib.TMSFNCTypes"].RectF(o,r,a,l)),S.$assign(pas["WEBLib.TMSFNCTypes"].RectF(e,i,s,n)),!pas["WEBLib.TMSFNCTypes"].RectIsEmpty(C)&&!pas["WEBLib.TMSFNCTypes"].RectIsEmpty(S)&&!this.DrawSVG(h,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(C))){F=t.TTMSFNCGraphics.$create("CreateBitmapCanvas",[Math.round(s-e),Math.round(n-i),this.FNative,!0]);try{F.BeginScene(),F.DrawBitmap(-e,-i,-e+F.FBitmap.GetWidth(),-i+F.FBitmap.GetHeight(),h,!1,!1,!1,!1),F.EndScene(),g=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3");try{g.Assign(F.FBitmap),this.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(C),g,d,u,c,p)}finally{g=rtl.freeLoc(g)}}finally{F=rtl.freeLoc(F)}}},this.DrawBitmapPart$1=function(t,e,i,s,n,o,r){this.DrawBitmapPart(t.Left,t.Top,t.Right,t.Bottom,e.Left,e.Top,e.Right,e.Bottom,i,s,n,o,r)},this.DrawBitmap=function(t,e,i,s,n,o,r,a,l){var h=pas["WEBLib.TMSFNCTypes"].TRectF.$new();null!=n&&(h.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t,e,i,s)),h.$assign(this.GetBitmapDrawRectangle$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(h),n,o,r,a,l)),this.DrawSVG(n,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(h))||this.GetContext().DrawBitmap(pas["WEBLib.TMSFNCTypes"].BitmapToDrawBitmap(n),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,n.GetWidth(),n.GetHeight())),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(h),1))},this.DrawBitmap$1=function(t,e,i,s,n,o){this.DrawBitmap(t.Left,t.Top,t.Right,t.Bottom,e,i,s,n,o)},this.DrawCheckBox=function(t,e,i,s,n){var o=0,r=pas["WEBLib.TMSFNCTypes"].TRectF.$new();r.$assign(t),pas["WEBLib.TMSFNCTypes"].InflateRectEx(r,-1,-1),o=s?i?11829830:0:11119017,this.FFill.SetKind(1),s?this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(13882323,85)):this.FFill.SetColor(13882323),this.FStroke.SetWidth(1),this.FStroke.SetKind(1),this.FStroke.SetColor(o),this.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),2),pas["WEBLib.TMSFNCTypes"].InflateRectEx(r,-(r.Right-r.Left)/5,-(r.Bottom-r.Top)/5),this.FStroke.SetWidth(2),this.FStroke.SetColor(o),e&&(this.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-1,r.Bottom-1)),2,2),this.DrawLine$1(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(r.Right-1,r.Top)),pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCTypes"].PointF(r.Left,r.Bottom-1)),2,2))},this.DrawButton=function(e,i,s,n,o,r){var a=pas["WEBLib.TMSFNCTypes"].TRectF.$new();a.$assign(e),this.FStroke.SetKind(1),this.FStroke.SetWidth(1),this.FFill.SetKind(1),o?n?s?(this.FStroke.SetColor(t.TTMSFNCGraphics.DefaultButtonStrokeColorFocused),this.FFill.SetColor(t.TTMSFNCGraphics.DefaultButtonFillColorFocused)):(this.FStroke.SetColor(t.TTMSFNCGraphics.DefaultButtonStrokeColor),this.FFill.SetColor(t.TTMSFNCGraphics.DefaultButtonFillColor)):(this.FStroke.SetColor(t.TTMSFNCGraphics.DefaultButtonStrokeColorDisabled),this.FFill.SetColor(t.TTMSFNCGraphics.DefaultButtonFillColorDisabled)):n?s?(this.FStroke.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)),this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251))):(this.FStroke.SetColor(11119017),this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225))):(this.FStroke.SetColor(11119017),this.FFill.SetColor(13882323)),this.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),2),pas["WEBLib.TMSFNCTypes"].InflateRectEx(a,-1,-1),this.FFill.SetKind(0),i?this.FStroke.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(this.FStroke.FColor,40)):this.FStroke.SetColor(this.FFill.FColor),this.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(a),2)},this.DrawRadioButton=function(t,e,i,s,n){var o=0,r=pas["WEBLib.TMSFNCTypes"].TRectF.$new();r.$assign(t),pas["WEBLib.TMSFNCTypes"].InflateRectEx(r,-1,-1),o=s?i?11829830:0:11119017,this.FFill.SetKind(1),s?this.FFill.SetColor(pas["WEBLib.TMSFNCGraphicsTypes"].Lighter(13882323,85)):this.FFill.SetColor(13882323),this.FStroke.SetKind(1),this.FStroke.SetWidth(1),this.FStroke.SetColor(o),this.DrawEllipse$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),2),pas["WEBLib.TMSFNCTypes"].InflateRectEx(r,-(r.Right-r.Left)/5,-(r.Bottom-r.Top)/5),this.FFill.SetKind(1),this.FFill.SetColor(o),e&&this.DrawEllipse$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(r),2)},this.GetBitmapDrawRectangle=function(t,e,i,s,n,o,r,a,l){var h=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),d=null,u=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),c=0,p=0,C=0,S=0;return h.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,0,0)),null!=(d=n)&&(C=0,S=0,c=0,p=0,this.$class.GetAspectSize({get:function(){return c},set:function(t){c=t}},{get:function(){return p},set:function(t){p=t}},d.GetWidth(),d.GetHeight(),i-t,s-e,o,r,l),(a||l)&&(C=Math.round((i-t-c)/2),S=Math.round((s-e-p)/2)),u.$assign(pas["WEBLib.TMSFNCTypes"].RectF(t+C,e+S,t+C+c,e+S+p)),h.$assign(u)),h},this.GetBitmapDrawRectangle$1=function(t,e,i,s,n,o){var r=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return r.$assign(this.GetBitmapDrawRectangle(t.Left,t.Top,t.Right,t.Bottom,e,i,s,n,o)),r},this.ClipRect=function(t){this.GetContext().ClipRect(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t))},this.CalculateTextHeight=function(t,e,i,s){var n=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return n.$assign(this.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i,s)),n.Bottom-n.Top};var e=["<BR>","<BR/>"];this.CalculateText=function(t,i,s,n){var o=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),r=null,a=0,l=0,h=0,d=!1,u=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),c=0;if(o.$assign(i),d=this.FOptimizedHTMLDrawing&&pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IsHTML(t)){for(a=0;a<=1;a++)h=pas.System.Pos(e[a],pas.SysUtils.UpperCase(t)),l=e[a].length;if(h>0&&l>0){r=pas.Classes.TStringList.$create("Create$1");try{r.SetLineBreak(pas.System.Copy(t,h,l)),r.SetTextStr(t),c=0;for(var p=0,C=r.GetCount()-1;p<=C;p++)a=p,u.$assign(this.InternalCalculateText(r.Get(a),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,n)),c+=u.Bottom-u.Top;o.Bottom=o.Top+c}finally{r=rtl.freeLoc(r)}}else d=!1}return d||o.$assign(this.InternalCalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),s,n)),o},this.CalculateTextHeight$1=function(t){return this.CalculateTextHeight(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!0)},this.CalculateText$1=function(t){var e=pas["WEBLib.TMSFNCTypes"].TRectF.$new();return e.$assign(this.CalculateText(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(0,0,1e4,1e4)),!1,!0)),e},this.DrawText$1=function(t,e,i,s,n,o,r,a,l,h,d,u,c){var p="",C="",S="";return p="",C="",S="",this.DrawText$5(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),e,{get:function(){return p},set:function(t){p=t}},{get:function(){return C},set:function(t){C=t}},{get:function(){return S},set:function(t){S=t}},i,s,n,o,r,a,l,h,d,u,c)};var i=["<BR>","<BR/>"];this.DrawText$5=function(t,e,s,n,o,r,a,l,h,d,u,c,p,C,S,F){var g="",m=null,f=0,T=0,b=0,y=!1,v=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),L=pas["WEBLib.TMSFNCTypes"].TRectF.$new();if(L.$assign(t),y=(y=!C&&this.FOptimizedHTMLDrawing)&&pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IsHTML(e)){for(f=0;f<=1;f++)b=pas.System.Pos(i[f],pas.SysUtils.UpperCase(e)),T=i[f].length;if(b>0&&T>0){m=pas.Classes.TStringList.$create("Create$1");try{m.SetLineBreak(pas.System.Copy(e,b,T)),m.SetTextStr(e);for(var B=0,M=m.GetCount()-1;B<=M;B++)f=B,v.$assign(this.CalculateText(m.Get(f),pas["WEBLib.TMSFNCTypes"].TRectF.$clone(L),r,p)),this.InternalDrawText(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(v.Left,v.Top,v.Right+1,v.Bottom)),m.Get(f),s,n,o,r,a,l,h,d,u,c,p,C,S,F),L.Top=L.Top+(v.Bottom-v.Top),L.Bottom=L.Bottom+(v.Bottom-v.Top)}finally{m=rtl.freeLoc(m)}}else y=!1}return y||(g=this.InternalDrawText(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(t),e,s,n,o,r,a,l,h,d,u,c,p,C,S,F)),g},this.SaveState=function(t){var e=null;return e=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsSaveState.$create("Create$1"),t||(e.FFill.Assign(this.FFill),e.FStroke.Assign(this.FStroke),e.FFont.AssignSource(this.FFont)),this.GetContext().SaveState(e),e},this.GetAspectSize=function(t,e,i,s,n,o,r,a,l){var h=0,d=0;r?i>0&&s>0&&n>0&&o>0?i<n&&s<o&&!a?(t.set(i),e.set(s)):i/s<n/o?(e.set(o),t.set(o*i/s)):(t.set(n),e.set(n*s/i)):(t.set(0),e.set(0)):a?(t.set(n),e.set(o)):(t.set(i),e.set(s),l&&(t.get()>=e.get()&&t.get()>0?(e.set(i/t.get()*e.get()),t.set(i)):e.get()>=t.get()&&e.get()>0&&(t.set(s/e.get()*t.get()),e.set(s)),h=0===s?1:i/s,(d=0===e.get()?1:t.get()/e.get())<1||h>d?(e.set(i/d),t.set(i)):(t.set(d*s),e.set(s))))},this.GetColorRed=function(t){return t=pas["WEBLib.Graphics"].ColorToRGB(t),pas["WEBLib.Graphics"].GetRValue(t)},this.GetColorGreen=function(t){return t=pas["WEBLib.Graphics"].ColorToRGB(t),pas["WEBLib.Graphics"].GetGValue(t)},this.GetColorBlue=function(t){return t=pas["WEBLib.Graphics"].ColorToRGB(t),pas["WEBLib.Graphics"].GetBValue(t)};var s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];this.ColorToHTML=function(t){var e,i="";return 1,e=pas["WEBLib.Graphics"].ColorToRGB(t),i="#RRGGBB",i=rtl.setCharAt(i,1,s[this.GetColorRed(e)>>>4]),i=rtl.setCharAt(i,2,s[15&this.GetColorRed(e)]),i=rtl.setCharAt(i,3,s[this.GetColorGreen(e)>>>4]),i=rtl.setCharAt(i,4,s[15&this.GetColorGreen(e)]),i=rtl.setCharAt(i,5,s[this.GetColorBlue(e)>>>4]),i=rtl.setCharAt(i,6,s[15&this.GetColorBlue(e)])},this.HTMLToColor=function(t){var e=0,i=0,s=0,n=0;return e=-1,""===t?e:(4===t.length?(i=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,2,1)+pas.System.Copy(t,2,1)),s=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,3,1)+pas.System.Copy(t,3,1)),n=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,4,1)+pas.System.Copy(t,4,1))):(i=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,2,2)),s=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,4,2)),n=pas.SysUtils.StrToInt("$"+pas.System.Copy(t,6,2))),e=pas["WEBLib.Graphics"].RGB(i,s,n))},this.TextToColor=function(t){var e=0,i=0,s="",n=null;return s=t,s=pas.SysUtils.LowerCase(s),1===pas.System.Pos("cl",s)&&pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,2),1===pas.System.Pos("cla",s)&&pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,3),1===pas.System.Pos("gc",s)&&pas.System.Delete({get:function(){return s},set:function(t){s=t}},1,2),e=0,null!=(n=pas["WEBLib.TMSFNCGraphicsTypes"].ColorLookup())&&(i=n.IndexOf(pas.SysUtils.LowerCase(s)))>=0&&i<=n.GetCount()-1&&(e=n.GetObject(i).FColor),e}})),this.TMSFNCGRAPHICSCLOSE="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuOWwzfk4AAABVSURBVDhPYxh+QBSI/0OYWAFIThjCxA5ACmAYHeCTQwHYFGITwwuQNSBjkgBFmkGAIgNAGv5BaZINQdYMA0Qbgk0zDBBlCCiR4FMAkhOCMIcJYGAAAHvVMBv6PIFYAAAAAElFTkSuQmCC",this.TMSFNCGRAPHICSDOWN="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGdJREFUOI3tzjsOwjAURNGDUqSgTxU5K2AVrJtswjUsgHSR0qdxAZZFPrS+3ZvRzBsqf9MUtBtazJk+oMe0VTriiZCFX8nbpENMgfARjsn74vKj5IFruhfc8d6zIF9S/Hyk5HS4spMVeFcOjszaOwMAAAAASUVORK5CYII=",this.TMSFNCGRAPHICSDOWN2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAdElEQVQ4T6XMsQ2AMBBD0UxBBwyA2L9jCWpY5bCLSJfgSFgUr+AHX4mIX2R0yOiQ0SGjQ8Ud5q7RClvX5IEDLlhS4/gGvuV/5YEJTuCAR+qYjW/N/81Hko8Mx/QKST0yHJOMCYfDMcnokNEho0NGh4zfRXkAxSYKjdpwcIUAAAAASUVORK5CYII=",this.TMSFNCGRAPHICSUP="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEZJREFUOI3tjLEJACAMwLLo5EM+rTjpXV7g0oI4tYKbgYwJfJ6Txet4iu6Jxk10TTSuQACidzKAIrGik24ZpCPeJ8ky+DhZ1JENPrPndiwAAAAASUVORK5CYII=",this.TMSFNCGRAPHICSUP2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAcklEQVQ4T6XMMQ6AMAiF4S46eSEvremk5/IC+GggKfE1ER2+gZ9AEZFfaMygMYPGDBozaOyshu0aGo0eXmb4hEbw42qGTx4B/HiHCWYYPgmDOWEDPfbmT46uNWEwC/THTp/oLvQwfEFjBo0ZNGbQ+J6UG5Y9CmuVGrAsAAAAAElFTkSuQmCC",this.TMSFNCGRAPHICSPIN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAABKklEQVQ4T2PAB0JDQ5mjoqIEgUxGiAiRIDo6WiY8PHwdEGvW19czQYUJA6AGhbCwsO9Aek1ISIiZvb09C1QKPwBqaAbi/1DNJ4HYiqDNIE1ADZ9AGqGa/wLp6xERESZAaVQ/AyUUgDgIiOdCbQFrQsL/gPgxUM4OFACSQMYdIP4FFPwNxH+gpqNoAortAYayHNSfjAwgNwMFvaCaMTQA8W+g+M7IyEgNiLuQAMgUoNsDgYruoWkCOe1gcHCwHlQpJgA6wwCo6DySJhD+BDQwCaoEEwA1SQAVzQLiq0BcBMRXgBhk25PAwEBJqDJUkJaWxgr0QzoQbwYqdABGNCeQrQPSDKTv44w3oFPEgYqmAmk9UNqECjMCxWSBeAeUjx1ANWAkZCSD0AADAwDRpKHlJfOjAwAAAABJRU5ErkJggg==",this.TMSFNCGRAPHICSPIN2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAA/UlEQVQ4T33Su2oCQRTGcddLYWmlQhTLCBIsQgoLSW2nj2Bj7yv4DGkCeYOQxiaBNJapbCI2ooU+gY3gbf1/w47MjosHfsvM7DlzY1JhGN6TQQGBM2bEOgke8IU60tGY4SYlqWGHT7wgC/PPT/SNoFDxH1owKyclWyrawsYJczwj8JO1tR4+oFX8OGONtpLLWGCPA47Q7H78ogqd06yoPXeg4qQCTfaDR1x3ZxuapYsl3NDWJnjCtUjcThNTuKHL6cPNM2yjhHfMMMQ/tNoGuoNYkeiTwwBjvCKPBlS8QuzFWPoU8QadQ29TY3qbFXxH/Ru2oYKbhww7kSdMXQD8wIToOQZE/AAAAABJRU5ErkJggg==",this.TMSFNCGRAPHICSRIGHT="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFNJREFUOI3tzzsSQFAQRNFDqSezHUuwYBJLsBuhEomE4/ll3HBq+nY1PxENRrS5xzK4L1jPSiISesxPJcORJJqwU9xthjrX/ko4mpBQocN0tf1rbDeZDIfcSud0AAAAAElFTkSuQmCC",this.TMSFNCGRAPHICSLEFT="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEpJREFUOI3lzKENgEAQAMEJBkkIDdDTSxp6gqMyCkB8IQgMFdwZAutn+U19Bi84MUbxhZrBawSXB+8RDDMaDkyvmQyZyYYuOvh6N24uDUKEV//MAAAAAElFTkSuQmCC",this.TMSFNCGRAPHICSEXPAND="data:image/PNG;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOvwAADr8BOAVTJAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4zjOaXUAAAACVJREFUGFdj+P//P07MEBYW9h8Xxi8JAjglYACnBAzglMAEDAwARZ1DA4NRF38AAAAASUVORK5CYII=",this.TMSFNCGRAPHICSEXPANDSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMS44Mzk4NDQgMi44ODY3MTkgQyAxMS42Mjg5MDYgMi42NzU3ODEgMTEuMjgxMjUgMi42NzU3ODEgMTEuMDcwMzEyIDIuODg2NzE5IEwgNiA3Ljk1NzAzMSBMIDAuOTI5Njg4IDIuODg2NzE5IEMgMC43MTg3NSAyLjY3NTc4MSAwLjM3MTA5NCAyLjY3NTc4MSAwLjE2MDE1NiAyLjg4NjcxOSBDIC0wLjA1NDY4NzUgMy4xMDE1NjIgLTAuMDU0Njg3NSAzLjQ0NTMxMiAwLjE2MDE1NiAzLjY2MDE1NiBMIDUuNjEzMjgxIDkuMTEzMjgxIEMgNS43MTQ4NDQgOS4yMTQ4NDQgNS44NTU0NjkgOS4yNzM0MzggNiA5LjI3MzQzOCBDIDYuMTQ0NTMxIDkuMjczNDM4IDYuMjg1MTU2IDkuMjE0ODQ0IDYuMzg2NzE5IDkuMTEzMjgxIEwgMTEuODM5ODQ0IDMuNjYwMTU2IEMgMTIuMDU0Njg4IDMuNDQ1MzEyIDEyLjA1NDY4OCAzLjEwMTU2MiAxMS44Mzk4NDQgMi44ODY3MTkgWiBNIDExLjgzOTg0NCAyLjg4NjcxOSAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCGRAPHICSDOWNSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMS44Mzk4NDQgMi44ODY3MTkgQyAxMS42Mjg5MDYgMi42NzU3ODEgMTEuMjgxMjUgMi42NzU3ODEgMTEuMDcwMzEyIDIuODg2NzE5IEwgNiA3Ljk1NzAzMSBMIDAuOTI5Njg4IDIuODg2NzE5IEMgMC43MTg3NSAyLjY3NTc4MSAwLjM3MTA5NCAyLjY3NTc4MSAwLjE2MDE1NiAyLjg4NjcxOSBDIC0wLjA1NDY4NzUgMy4xMDE1NjIgLTAuMDU0Njg3NSAzLjQ0NTMxMiAwLjE2MDE1NiAzLjY2MDE1NiBMIDUuNjEzMjgxIDkuMTEzMjgxIEMgNS43MTQ4NDQgOS4yMTQ4NDQgNS44NTU0NjkgOS4yNzM0MzggNiA5LjI3MzQzOCBDIDYuMTQ0NTMxIDkuMjczNDM4IDYuMjg1MTU2IDkuMjE0ODQ0IDYuMzg2NzE5IDkuMTEzMjgxIEwgMTEuODM5ODQ0IDMuNjYwMTU2IEMgMTIuMDU0Njg4IDMuNDQ1MzEyIDEyLjA1NDY4OCAzLjEwMTU2MiAxMS44Mzk4NDQgMi44ODY3MTkgWiBNIDExLjgzOTg0NCAyLjg4NjcxOSAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCGRAPHICSUPSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSAxMS44Mzk4NDQgOC4zMzk4NDQgTCA2LjM4NjcxOSAyLjg4NjcxOSBDIDYuMjg1MTU2IDIuNzg1MTU2IDYuMTQ0NTMxIDIuNzI2NTYyIDYgMi43MjY1NjIgQyA1Ljg1NTQ2OSAyLjcyNjU2MiA1LjcxNDg0NCAyLjc4NTE1NiA1LjYxMzI4MSAyLjg4NjcxOSBMIDAuMTYwMTU2IDguMzM5ODQ0IEMgLTAuMDU0Njg3NSA4LjU1NDY4OCAtMC4wNTQ2ODc1IDguODk4NDM4IDAuMTYwMTU2IDkuMTEzMjgxIEMgMC4zNzEwOTQgOS4zMjQyMTkgMC43MTg3NSA5LjMyNDIxOSAwLjkyOTY4OCA5LjExMzI4MSBMIDYgNC4wNDI5NjkgTCAxMS4wNzAzMTIgOS4xMTMyODEgQyAxMS4xNzU3ODEgOS4yMTg3NSAxMS4zMTY0MDYgOS4yNzM0MzggMTEuNDUzMTI1IDkuMjczNDM4IEMgMTEuNTkzNzUgOS4yNzM0MzggMTEuNzM0Mzc1IDkuMjE4NzUgMTEuODM5ODQ0IDkuMTEzMjgxIEMgMTIuMDU0Njg4IDguODk4NDM4IDEyLjA1NDY4OCA4LjU1NDY4OCAxMS44Mzk4NDQgOC4zMzk4NDQgWiBNIDExLjgzOTg0NCA4LjMzOTg0NCAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCGRAPHICSRIGHTSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA5LjExMzI4MSA1LjYxMzI4MSBMIDMuNjYwMTU2IDAuMTYwMTU2IEMgMy40NDUzMTIgLTAuMDU0Njg3NSAzLjEwMTU2MiAtMC4wNTQ2ODc1IDIuODg2NzE5IDAuMTYwMTU2IEMgMi42NzU3ODEgMC4zNzEwOTQgMi42NzU3ODEgMC43MTg3NSAyLjg4NjcxOSAwLjkyOTY4OCBMIDcuOTU3MDMxIDYgTCAyLjg4NjcxOSAxMS4wNzAzMTIgQyAyLjY3NTc4MSAxMS4yODEyNSAyLjY3NTc4MSAxMS42Mjg5MDYgMi44ODY3MTkgMTEuODM5ODQ0IEMgMi45OTIxODggMTEuOTQ1MzEyIDMuMTMyODEyIDEyIDMuMjczNDM4IDEyIEMgMy40MTQwNjIgMTIgMy41NTA3ODEgMTEuOTQ1MzEyIDMuNjYwMTU2IDExLjgzOTg0NCBMIDkuMTEzMjgxIDYuMzg2NzE5IEMgOS4yMTQ4NDQgNi4yODUxNTYgOS4yNzM0MzggNi4xNDQ1MzEgOS4yNzM0MzggNiBDIDkuMjczNDM4IDUuODU1NDY5IDkuMjE0ODQ0IDUuNzE0ODQ0IDkuMTEzMjgxIDUuNjEzMjgxIFogTSA5LjExMzI4MSA1LjYxMzI4MSAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCGRAPHICSLEFTSVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA0LjA0Mjk2OSA2IEwgOS4xMTMyODEgMC45Mjk2ODggQyA5LjMyNDIxOSAwLjcxODc1IDkuMzI0MjE5IDAuMzcxMDk0IDkuMTEzMjgxIDAuMTYwMTU2IEMgOC44OTg0MzggLTAuMDU0Njg3NSA4LjU1NDY4OCAtMC4wNTQ2ODc1IDguMzM5ODQ0IDAuMTYwMTU2IEwgMi44ODY3MTkgNS42MTMyODEgQyAyLjc4NTE1NiA1LjcxNDg0NCAyLjcyNjU2MiA1Ljg1NTQ2OSAyLjcyNjU2MiA2IEMgMi43MjY1NjIgNi4xNDQ1MzEgMi43ODUxNTYgNi4yODUxNTYgMi44ODY3MTkgNi4zODY3MTkgTCA4LjMzOTg0NCAxMS44Mzk4NDQgQyA4LjQ0OTIxOSAxMS45NDUzMTIgOC41ODU5MzggMTIgOC43MjY1NjIgMTIgQyA4Ljg2NzE4OCAxMiA5LjAwNzgxMiAxMS45NDUzMTIgOS4xMTMyODEgMTEuODM5ODQ0IEMgOS4zMjQyMTkgMTEuNjI4OTA2IDkuMzI0MjE5IDExLjI4MTI1IDkuMTEzMjgxIDExLjA3MDMxMiBaIE0gNC4wNDI5NjkgNiAiLz4KPC9nPgo8L3N2Zz4K",this.TMSFNCGRAPHICSCLOSESVG="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTJweCIgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOm5vbnplcm87ZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyIgZD0iTSA3LjA2MjUgNiBMIDExLjc4MTI1IDEuMjgxMjUgQyAxMi4wNzQyMTkgMC45ODgyODEgMTIuMDc0MjE5IDAuNTExNzE5IDExLjc4MTI1IDAuMjE4NzUgQyAxMS40ODgyODEgLTAuMDc0MjE4OCAxMS4wMTE3MTkgLTAuMDc0MjE4OCAxMC43MTg3NSAwLjIxODc1IEwgNiA0LjkzNzUgTCAxLjI4MTI1IDAuMjE4NzUgQyAwLjk4ODI4MSAtMC4wNzQyMTg4IDAuNTExNzE5IC0wLjA3NDIxODggMC4yMTg3NSAwLjIxODc1IEMgLTAuMDc0MjE4OCAwLjUxMTcxOSAtMC4wNzQyMTg4IDAuOTg4MjgxIDAuMjE4NzUgMS4yODEyNSBMIDQuOTM3NSA2IEwgMC4yMTg3NSAxMC43MTg3NSBDIC0wLjA3NDIxODggMTEuMDExNzE5IC0wLjA3NDIxODggMTEuNDg4MjgxIDAuMjE4NzUgMTEuNzgxMjUgQyAwLjM2NzE4OCAxMS45MjU3ODEgMC41NTg1OTQgMTIgMC43NSAxMiBDIDAuOTQxNDA2IDEyIDEuMTMyODEyIDExLjkyNTc4MSAxLjI4MTI1IDExLjc4MTI1IEwgNiA3LjA2MjUgTCAxMC43MTg3NSAxMS43ODEyNSBDIDEwLjg2NzE4OCAxMS45MjU3ODEgMTEuMDU4NTk0IDEyIDExLjI1IDEyIEMgMTEuNDQxNDA2IDEyIDExLjYzMjgxMiAxMS45MjU3ODEgMTEuNzgxMjUgMTEuNzgxMjUgQyAxMi4wNzQyMTkgMTEuNDg4MjgxIDEyLjA3NDIxOSAxMS4wMTE3MTkgMTEuNzgxMjUgMTAuNzE4NzUgWiBNIDcuMDYyNSA2ICIvPgo8L2c+Cjwvc3ZnPgo=",t.$init=function(){pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSCLOSE),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSDOWN),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSRIGHT),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSLEFT),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSEXPAND),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSPIN),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSPIN2),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSDOWN),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSDOWN2),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSUP),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSUP2),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSEXPANDSVG),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSUPSVG),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSRIGHTSVG),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSLEFTSVG),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSDOWNSVG),pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.CreateFromResource(t.TMSFNCGRAPHICSCLOSESVG)}}),["SysUtils","Math","WEBLib.TMSFNCUtils","WEBLib.TMSFNCHTMLEngine","WEBLib.TMSFNCGraphics.General","WEBLib.TMSFNCGraphics.WEB"]),rtl.module("WEBLib.TMSFNCStyles",["System","Classes","WEBLib.Graphics","WEBLib.Controls","WEBLib.Forms","WEBLib.TMSFNCTypes","WEBLib.TMSFNCCustomComponent","WEBLib.TMSFNCGraphicsTypes","JS","WEBLib.JSON"],(function(){"use strict";var t=this;rtl.createClass(this,"TTMSFNCStyles",pas.System.TObject,(function(){this.ExtractColor=function(t){var e=0,i="",s="",n=null,o=0,r=0;function a(t){return pas.SysUtils.StrToInt(pas.SysUtils.Trim(pas.SysUtils.StringReplace(t,"rgb(","",rtl.createSet(0))))}if(e=-1,""!==t)if(i=pas.SysUtils.LowerCase(pas.SysUtils.StringReplace(t," ","",rtl.createSet(0))),1===pas.System.Pos("linear-gradient",i))0===(o=pas.System.Pos("rgb",i))&&(o=pas.System.Pos("#",i)),r=pas.System.Pos$1(")",i,o),s=pas.System.Copy(i,o,r-o+1),0===(o=pas.System.Pos$1("rgb",i,r))&&(o=pas.System.Pos("#",i)),r=pas.System.Pos$1(")",i,o),pas.System.Copy(i,o,r-o+1),e=this.ExtractColor(s);else if(1===pas.System.Pos("rgb",i)){n=pas.Classes.TStringList.$create("Create$1");try{n.SetDelimiter(","),n.SetDelimitedText(i),e=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(a(n.Get(0)),a(n.Get(1)),a(n.Get(2)))}finally{n=rtl.freeLoc(n)}}else 1===pas.System.Pos("#",i)&&(e=pas["WEBLib.Graphics"].HexToColor(i));return e},this.GetStyleBackgroundFill=function(){return this.FindCSSStyleProperty(".TMSFNCGridStyle","background")},this.GetStyleBackgroundStroke=function(){return this.FindCSSStyleProperty(".TMSFNCGridStyle","border-color")},this.GetStyleDefaultButtonFill=function(){return this.FindCSSStyleProperty(".TMSFNCButtonStyle","background")},this.GetStyleSelectionFill=function(){return this.FindCSSStyleProperty(".TMSFNCGridStyle","--selection")},this.GetStyleLineFill=function(){return this.FindCSSStyleProperty(".TMSFNCGridStyle","--linefill")},this.GetStyleTextColor=function(){return this.FindCSSStyleProperty(".TMSFNCHeaderItemStyle","color")},this.FindCSSStyleRule=function(e){var i,s;i=e,s=t.CSSStyleFileName;for(var n=0;n<document.styleSheets.length;n++){var o=document.styleSheets[n].href;if(null!=o&&s==o.substring(o.lastIndexOf("/")+1))for(var r=document.styleSheets[n].rules||document.styleSheets[n].cssRules,a=0;a<r.length;a++)if(r[a].selectorText.startsWith(i))return r[a]}return null},this.FindCSSStyleProperty=function(t,e){var i="",s=null,n="";return i="",null!=(s=this.FindCSSStyleRule(t))&&(n=e,i=s.style.getPropertyValue(n)),i},this.StyleServicesEnabled=function(){return!0,!0},this.GetStyleLineFillColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleLineFill())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleBackgroundFillColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleBackgroundFill())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleBackgroundStrokeColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleBackgroundStroke())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleSelectionFillColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleSelectionFill())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleTextFontColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleTextColor())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e},this.GetStyleDefaultButtonFillColor=function(t){var e=!1,i="",s=0;return e=!1,this.StyleServicesEnabled()&&""!==(i=this.GetStyleDefaultButtonFill())&&(s=this.ExtractColor(i),t.set(s),e=-1!==s),e}})),this.CSSStyleFileName=""}),["WEBLib.TMSFNCUtils","SysUtils","WEBLib.TMSFNCPersistence","WEBLib.TMSFNCGraphics"]),rtl.module("WEBLib.TMSFNCUndo",["System","Classes","WEBLib.TMSFNCTypes"],(function(){"use strict";rtl.createClass(this,"TTMSFNCUndoManager",pas.Classes.TCollection,(function(){}))}),["SysUtils","WEBLib.TMSFNCPersistence"]),rtl.module("WEBLib.TMSFNCCustomControl",["System","Classes","WEBLib.Controls","WEBLib.TMSFNCGraphics","WEBLib.Graphics","WEBLib.TMSFNCStyles","WEBLib.TMSFNCPersistence","WEBLib.TMSFNCUndo","Types","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCTypes","TypInfo","WEBLib.Forms","WEBLib.Menus"],(function(){"use strict";var t=this;rtl.createClass(this,"TTMSFNCCustomDesignerForm",pas["WEBLib.Forms"].TForm,(function(){rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCCustomControlBaseCommon",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FResourceScaleFactor=0,this.FPaintScaleFactor=0,this.FDesigntimeFormPixelsPerInch=0,this.FAllowFocus=!1,this.FAdaptToStyle=!1,this.FAdaptedToStyle=!1,this.FTransparent=!1,this.FBufferedPainting=!1,this.FNativeCanvas=!1,this.FAntiAliasing=!1,this.FOptimizedHTMLDrawing=!1,this.FShowAcceleratorChar=!1,this.FTextQuality=0,this.FOnInternalDblClick=null,this.FOnInternalMouseDown=null,this.FOnInternalMouseMove=null,this.FOnInternalMouseUp=null},this.$final=function(){this.FOnInternalDblClick=void 0,this.FOnInternalMouseDown=void 0,this.FOnInternalMouseMove=void 0,this.FOnInternalMouseUp=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.GetAllowFocus=function(){return this.FAllowFocus},this.SetAllowFocus=function(t){this.FAllowFocus=t},this.SetShowAcceleratorChar=function(t){this.FShowAcceleratorChar!==t&&(this.FShowAcceleratorChar=t,this.Invalidate())},this.ConvertScreenToClient=function(t){var e=pas["WEBLib.TMSFNCTypes"].TPointF.$new(),i=pas.Types.TPoint.$new();return i.$assign(this.ScreenToClient(pas.Types.Point(Math.round(t.X),Math.round(t.Y)))),e.$assign(pas["WEBLib.TMSFNCTypes"].PointF(i.x,i.y)),e},this.GetAdaptToStyle=function(){return this.FAdaptToStyle},this.SetEnabled=function(t){pas["WEBLib.Controls"].TControl.SetEnabled.apply(this,arguments),this.Invalidate()},this.SetDefaultGraphicColors=function(){var t=0;t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return t},set:function(e){t=e}})?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupFillColor=t:pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupFillColor=16777215,t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundStrokeColor({get:function(){return t},set:function(e){t=e}})?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupStrokeColor=t:pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultPopupStrokeColor=12632256,t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleDefaultButtonFillColor({get:function(){return t},set:function(e){t=e}})?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColor=t:pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColor=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(225,225,225),t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleLineFillColor({get:function(){return t},set:function(e){t=e}})?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColor=t:pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColor=11119017,t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleTextFontColor({get:function(){return t},set:function(e){t=e}})?pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultTextFontColor=t:pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultTextFontColor=0,t=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleSelectionFillColor({get:function(){return t},set:function(e){t=e}})?(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultSelectionFillColor=t,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].Blend(t,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColor,25),pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].Blend(t,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColor,30)):(pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultSelectionFillColor=0,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(229,241,251),pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColorFocused=pas["WEBLib.TMSFNCGraphicsTypes"].MakeGraphicsColor(60,127,177)),pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonStrokeColorDisabled=11119017,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.DefaultButtonFillColorDisabled=13882323},this.SetAdaptToStyle=function(t){this.FAdaptToStyle=t,this.InitializeStyle()},this.InitializeStyle=function(){this.SetDefaultGraphicColors(),this.DestroyGraphicElements(),this.GetAdaptToStyle()?(this.FAdaptedToStyle=!0,this.ApplyStyle()):this.FAdaptedToStyle&&(this.ResetToDefaultStyle(),this.FAdaptedToStyle=!1),this.Invalidate()},this.ApplyStyle=function(){},this.ResetToDefaultStyle=function(){},this.HandleMouseLeave=function(){},this.HandleMouseEnter=function(){},this.HandleMouseDown=function(t,e,i,s){},this.HandleMouseMove=function(t,e,i){},this.HandleDblClick=function(t,e){},this.HandleMouseUp=function(t,e,i,s){},this.HandleKeyPress=function(t){},this.HandleKeyDown=function(t,e){},this.HandleDialogKey=function(t,e){},this.HandleKeyUp=function(t,e){},this.HandleMouseWheel=function(t,e,i){},this.HandleDragOver=function(t,e,i){},this.HandleDragDrop=function(t,e){},this.Create$1=function(t){var e=0;return pas["WEBLib.Controls"].TControl.Create$1.apply(this,arguments),e=96,this.FDesigntimeFormPixelsPerInch=e,this.FPaintScaleFactor=1,this.FResourceScaleFactor=1,this.SetDefaultGraphicColors(),this.FAdaptToStyle=!1,this.FAdaptedToStyle=!1,this.FTransparent=!1,this.FNativeCanvas=!1,this.FBufferedPainting=!1,this.FAntiAliasing=!0,this.FOptimizedHTMLDrawing=!0,this.FShowAcceleratorChar=!0,this.FTextQuality=1,this.FAllowFocus=!0,this},this.Destroy=function(){pas["WEBLib.Controls"].TCustomControl.Destroy.call(this)},this.ScalePaintValue=function(t){return pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.MulDivInt(t,Math.round(100*this.FPaintScaleFactor),100)},rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCCustomControlBase",this.TTMSFNCCustomControlBaseCommon,(function(){this.$init=function(){t.TTMSFNCCustomControlBaseCommon.$init.call(this),this.FStored=!1,this.FHitTest=!1},this.MouseWheel=function(t,e,i){pas["WEBLib.Controls"].TControl.MouseWheel.apply(this,arguments),this.HandleMouseWheel(rtl.refSet(t),e,i)},this.DoMouseLeave=function(){pas["WEBLib.Controls"].TControl.DoMouseLeave.call(this),this.HandleMouseLeave()},this.DoMouseEnter=function(){pas["WEBLib.Controls"].TControl.DoMouseEnter.call(this),this.HandleMouseEnter()},this.MouseDown=function(t,e,i,s){pas["WEBLib.Controls"].TControl.MouseDown.apply(this,arguments),this.HandleMouseDown(t,rtl.refSet(e),i,s),null!=this.FOnInternalMouseDown&&this.FOnInternalMouseDown(this)},this.MouseMove=function(t,e,i){pas["WEBLib.Controls"].TControl.MouseMove.apply(this,arguments),this.HandleMouseMove(rtl.refSet(t),e,i),null!=this.FOnInternalMouseMove&&this.FOnInternalMouseMove(this)},this.MouseUp=function(t,e,i,s){pas["WEBLib.Controls"].TControl.MouseUp.apply(this,arguments),this.HandleMouseUp(t,rtl.refSet(e),i,s),null!=this.FOnInternalMouseUp&&this.FOnInternalMouseUp(this)},this.DragOver=function(t,e,i,s,n){pas["WEBLib.Controls"].TControl.DragOver.apply(this,arguments),this.HandleDragOver(t,pas["WEBLib.TMSFNCTypes"].PointF(e,i),n)},this.KeyDown=function(t,e){pas["WEBLib.Controls"].TControl.KeyDown.apply(this,arguments),this.HandleDialogKey(t,rtl.refSet(e)),this.HandleKeyDown(t,rtl.refSet(e)),t.get()},this.KeyPress=function(t){pas["WEBLib.Controls"].TControl.KeyPress.apply(this,arguments),this.HandleKeyPress(t)},this.KeyUp=function(t,e){pas["WEBLib.Controls"].TControl.KeyUp.apply(this,arguments),this.HandleKeyUp(t,rtl.refSet(e))},this.DblClick=function(){var t=pas["WEBLib.TMSFNCTypes"].TPointF.$new();pas["WEBLib.Controls"].TControl.DblClick.call(this),t.$assign(this.ConvertScreenToClient(pas["WEBLib.TMSFNCTypes"].TPointF.$clone(pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetMousePos()))),this.HandleDblClick(t.X,t.Y),null!=this.FOnInternalDblClick&&this.FOnInternalDblClick(this)},this.Create$1=function(e){return t.TTMSFNCCustomControlBaseCommon.Create$1.apply(this,arguments),this.FHitTest=!0,this.FStored=!0,this.FControlStyle=rtl.unionSet(this.FControlStyle,rtl.createSet(0)),this},this.BeginUpdate=function(){pas["WEBLib.Controls"].TControl.BeginUpdate.call(this)},this.EndUpdate=function(){pas["WEBLib.Controls"].TCustomControl.EndUpdate.call(this)},this.DragDrop=function(t,e,i){pas["WEBLib.Controls"].TControl.DragDrop.apply(this,arguments),this.HandleDragDrop(t,pas["WEBLib.TMSFNCTypes"].PointF(e,i))},this.CanFocus=function(){return pas["WEBLib.Controls"].TControl.CanFocus.call(this)&&this.GetAllowFocus()},rtl.addIntf(this,pas.System.IUnknown)})),this.$rtti.$MethodVar("TTMSFNCCustomControlBeforeDrawEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF],["ADefaultDraw",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomControlAfterDrawEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AGraphics",pas["WEBLib.TMSFNCGraphics"].$rtti.TTMSFNCGraphics],["ARect",pas["WEBLib.TMSFNCTypes"].$rtti.TRectF]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomControlCanSavePropertyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AObject",pas.System.$rtti.TObject],["APropertyName",rtl.string],["APropertyType",pas.System.$rtti.TTypeKind],["ACanSave",rtl.boolean,1]]),methodkind:0}),this.$rtti.$MethodVar("TTMSFNCCustomControlCanLoadPropertyEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["AObject",pas.System.$rtti.TObject],["APropertyName",rtl.string],["APropertyType",pas.System.$rtti.TTypeKind],["ACanLoad",rtl.boolean,1]]),methodkind:0}),rtl.createClass(this,"TTMSFNCCustomControl",this.TTMSFNCCustomControlBase,(function(){this.FBlockPersistenceInterface=!1,this.$init=function(){t.TTMSFNCCustomControlBase.$init.call(this),this.FBlockInvalidate=!1,this.FAppearancePersisting=!1,this.FOnBeforeDraw=null,this.FOnAfterDraw=null,this.FOnCanSaveProperty=null,this.FOnCanLoadProperty=null,this.FCheckedChk=null,this.FUnCheckedChk=null,this.FCheckedFocusChk=null,this.FUnCheckedFocusChk=null,this.FCheckedDisabledChk=null,this.FUnCheckedDisabledChk=null,this.FCheckedRd=null,this.FUnCheckedRd=null,this.FCheckedFocusRd=null,this.FUnCheckedFocusRd=null,this.FCheckedDisabledRd=null,this.FUnCheckedDisabledRd=null,this.FDownBtn=null,this.FNormalBtn=null,this.FDownFocusBtn=null,this.FNormalFocusBtn=null,this.FNormalDisabledBtn=null,this.FFill=null,this.FStroke=null,this.FUndoManager=null},this.$final=function(){this.FOnBeforeDraw=void 0,this.FOnAfterDraw=void 0,this.FOnCanSaveProperty=void 0,this.FOnCanLoadProperty=void 0,this.FCheckedChk=void 0,this.FUnCheckedChk=void 0,this.FCheckedFocusChk=void 0,this.FUnCheckedFocusChk=void 0,this.FCheckedDisabledChk=void 0,this.FUnCheckedDisabledChk=void 0,this.FCheckedRd=void 0,this.FUnCheckedRd=void 0,this.FCheckedFocusRd=void 0,this.FUnCheckedFocusRd=void 0,this.FCheckedDisabledRd=void 0,this.FUnCheckedDisabledRd=void 0,this.FDownBtn=void 0,this.FNormalBtn=void 0,this.FDownFocusBtn=void 0,this.FNormalFocusBtn=void 0,this.FNormalDisabledBtn=void 0,this.FFill=void 0,this.FStroke=void 0,this.FUndoManager=void 0,t.TTMSFNCCustomControlBase.$final.call(this)},this.IsAppearanceProperty=function(t,e,i){var s,n=!1,o="",r="";return n=!1,null!=(s=pas.TypInfo.GetPropInfo$2(t,e))&&(o=pas["WEBLib.TMSFNCPersistence"].TTMSFNCPersistence.GetPropInfoName(s),n=(n="TAlphaColor"===(r=pas["WEBLib.TMSFNCPersistence"].TTMSFNCPersistence.GetPropInfoTypeName(s))||"TColor"===r||"TGraphicsColor"===r||"TTMSFNCGraphicsFill"===r||"TTMSFNCGraphicsStroke"===r||pas.System.Pos("Appearance",o)>0)||"Fill"===e||"Stroke"===e||"Font"===e),n},this.CanSaveProperty=function(t,e,i){var s=!1;return s=!(t===this&&!this.FBlockPersistenceInterface)||-1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IndexOfTextInArray(e,pas["WEBLib.TMSFNCPersistence"].ExcludePropertyList),this.FAppearancePersisting&&(s=s&&this.IsAppearanceProperty(t,e,i)),this.DoCanSaveProperty(t,e,i,{get:function(){return s},set:function(t){s=t}}),s},this.CanLoadProperty=function(t,e,i){var s=!1;return s=!(t===this&&!this.FBlockPersistenceInterface)||-1===pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.IndexOfTextInArray(e,pas["WEBLib.TMSFNCPersistence"].ExcludePropertyList),this.DoCanLoadProperty(t,e,i,{get:function(){return s},set:function(t){s=t}}),s},this.SetColor=function(t){pas["WEBLib.Controls"].TControl.SetColor.apply(this,arguments),null!=this.FFill&&this.FFill.SetColor(t),this.Invalidate()},this.RegisterRuntimeClasses=function(){},this.ApplyStyle=function(){var e=0;t.TTMSFNCCustomControlBaseCommon.ApplyStyle.call(this),e=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleBackgroundFillColor({get:function(){return e},set:function(t){e=t}})&&this.FFill.SetColor(e),e=-1,pas["WEBLib.TMSFNCStyles"].TTMSFNCStyles.GetStyleLineFillColor({get:function(){return e},set:function(t){e=t}})&&this.FStroke.SetColor(e)},this.ResetToDefaultStyle=function(){t.TTMSFNCCustomControlBaseCommon.ResetToDefaultStyle.call(this),this.FFill.SetColor(16777215),this.FStroke.SetColor(12632256)},this.DestroyGraphicElements=function(){null!=this.FDownBtn&&(rtl.free(this,"FDownBtn"),this.FDownBtn=null),null!=this.FNormalBtn&&(rtl.free(this,"FNormalBtn"),this.FNormalBtn=null),null!=this.FDownFocusBtn&&(rtl.free(this,"FDownFocusBtn"),this.FDownFocusBtn=null),null!=this.FNormalFocusBtn&&(rtl.free(this,"FNormalFocusBtn"),this.FNormalFocusBtn=null),null!=this.FNormalDisabledBtn&&(rtl.free(this,"FNormalDisabledBtn"),this.FNormalDisabledBtn=null),null!=this.FCheckedChk&&(rtl.free(this,"FCheckedChk"),this.FCheckedChk=null),null!=this.FCheckedFocusChk&&(rtl.free(this,"FCheckedFocusChk"),this.FCheckedFocusChk=null),null!=this.FUnCheckedDisabledChk&&(rtl.free(this,"FUnCheckedDisabledChk"),this.FUnCheckedDisabledChk=null),null!=this.FCheckedDisabledChk&&(rtl.free(this,"FCheckedDisabledChk"),this.FCheckedDisabledChk=null),null!=this.FUnCheckedChk&&(rtl.free(this,"FUnCheckedChk"),this.FUnCheckedChk=null),null!=this.FUnCheckedFocusChk&&(rtl.free(this,"FUnCheckedFocusChk"),this.FUnCheckedFocusChk=null),null!=this.FCheckedRd&&(rtl.free(this,"FCheckedRd"),this.FCheckedRd=null),null!=this.FCheckedFocusRd&&(rtl.free(this,"FCheckedFocusRd"),this.FCheckedFocusRd=null),null!=this.FUnCheckedRd&&(rtl.free(this,"FUnCheckedRd"),this.FUnCheckedRd=null),null!=this.FUnCheckedFocusRd&&(rtl.free(this,"FUnCheckedFocusRd"),this.FUnCheckedFocusRd=null),null!=this.FUnCheckedDisabledRd&&(rtl.free(this,"FUnCheckedDisabledRd"),this.FUnCheckedDisabledRd=null),null!=this.FCheckedDisabledRd&&(rtl.free(this,"FCheckedDisabledRd"),this.FCheckedDisabledRd=null)},this.UpdateControlAfterResize=function(){},this.DoBeforeDraw=function(t,e,i){null!=this.FOnBeforeDraw&&this.FOnBeforeDraw(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),i)},this.DoAfterDraw=function(t,e){null!=this.FOnAfterDraw&&this.FOnAfterDraw(this,t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e))},this.DoCanSaveProperty=function(t,e,i,s){null!=this.FOnCanSaveProperty&&this.FOnCanSaveProperty(this,t,e,i,s)},this.DoCanLoadProperty=function(t,e,i,s){null!=this.FOnCanLoadProperty&&this.FOnCanLoadProperty(this,t,e,i,s)},this.DrawBackground=function(t,e){t.FFill.Assign(this.FFill),t.FFill.SetColor(this.FColor),t.FStroke.Assign(this.FStroke),t.DrawRectangle$2(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(e),2)},this.StrokeChanged=function(t){this.Invalidate()},this.FillChanged=function(t){0!==this.FFill.FKind&&3!==this.FFill.FKind&&-1!==this.FFill.FColor?this.SetColor(this.FFill.FColor):this.SetColor(-1),this.Invalidate()},this.Draw=function(t,e){},this.DrawControl=function(){var t=null,e=null,i=pas["WEBLib.TMSFNCTypes"].TRectF.$new(),s=!1,n=null;this.FBufferedPainting?(t=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[this.GetWidth(),this.GetHeight(),this.FNativeCanvas,!0])).BeginScene():t=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[this.GetCanvas(),this.FNativeCanvas]),t.FOptimizedHTMLDrawing=this.FOptimizedHTMLDrawing,t.GetContext().SetSize(this.GetWidth(),this.GetHeight()),t.GetContext().SetAntiAliasing(this.FAntiAliasing),t.GetContext().SetShowAcceleratorChar(this.FShowAcceleratorChar),t.GetContext().SetTextQuality(this.FTextQuality);try{if(i.$assign(pas["WEBLib.TMSFNCTypes"].RectF(0,0,this.GetWidth(),this.GetHeight())),s=!0,this.DoBeforeDraw(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),{get:function(){return s},set:function(t){s=t}}),s&&(this.DrawBackground(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i)),this.Draw(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i)),this.DoAfterDraw(t,pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i))),this.FBufferedPainting&&t.EndScene(),t.GetContext().Render(),this.FBufferedPainting){n=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3");try{n.Assign(t.FBitmap),e=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("Create$1",[this.GetCanvas(),!1]);try{e.GetContext().SetSize(this.GetWidth(),this.GetHeight()),e.GetContext().SetAntiAliasing(this.FAntiAliasing),e.GetContext().SetShowAcceleratorChar(this.FShowAcceleratorChar),e.GetContext().SetTextQuality(this.FTextQuality),e.DrawBitmap$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(i),n,!0,!1,!0,!1)}finally{e=rtl.freeLoc(e)}}finally{n=rtl.freeLoc(n)}}}finally{t=rtl.freeLoc(t)}},this.Assign=function(e){t.TTMSFNCCustomControl.isPrototypeOf(e)?(this.FFill.Assign(rtl.as(e,t.TTMSFNCCustomControl).FFill),this.FStroke.Assign(rtl.as(e,t.TTMSFNCCustomControl).FStroke)):pas["WEBLib.Controls"].TControl.Assign.apply(this,arguments)},this.Create$1=function(e){return t.TTMSFNCCustomControlBase.Create$1.apply(this,arguments),this.SetColor(16777215),this.FLinkTouchEvents=!0,this.FAllowTouch=!1,this.SetTabStop(!0),this.FFill=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFill.$create("Create$1",[1,16777215,8421504,-1,-1]),this.FStroke=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsStroke.$create("Create$1",[1,12632256]),this.FFill.FOnChanged=rtl.createCallback(this,"FillChanged"),this.FStroke.FOnChanged=rtl.createCallback(this,"StrokeChanged"),this.IsDesignerForm()||this.RegisterRuntimeClasses(),this},this.Destroy=function(){null!=this.FUndoManager&&(rtl.free(this,"FUndoManager"),this.FUndoManager=null),null!=this.FDownBtn&&(rtl.free(this,"FDownBtn"),this.FDownBtn=null),null!=this.FNormalBtn&&(rtl.free(this,"FNormalBtn"),this.FNormalBtn=null),null!=this.FDownFocusBtn&&(rtl.free(this,"FDownFocusBtn"),this.FDownFocusBtn=null),null!=this.FNormalFocusBtn&&(rtl.free(this,"FNormalFocusBtn"),this.FNormalFocusBtn=null),null!=this.FNormalDisabledBtn&&(rtl.free(this,"FNormalDisabledBtn"),this.FNormalDisabledBtn=null),null!=this.FCheckedChk&&(rtl.free(this,"FCheckedChk"),this.FCheckedChk=null),null!=this.FCheckedFocusChk&&(rtl.free(this,"FCheckedFocusChk"),this.FCheckedFocusChk=null),null!=this.FUnCheckedDisabledChk&&(rtl.free(this,"FUnCheckedDisabledChk"),this.FUnCheckedDisabledChk=null),null!=this.FCheckedDisabledChk&&(rtl.free(this,"FCheckedDisabledChk"),this.FCheckedDisabledChk=null),null!=this.FUnCheckedChk&&(rtl.free(this,"FUnCheckedChk"),this.FUnCheckedChk=null),null!=this.FUnCheckedFocusChk&&(rtl.free(this,"FUnCheckedFocusChk"),this.FUnCheckedFocusChk=null),null!=this.FCheckedRd&&(rtl.free(this,"FCheckedRd"),this.FCheckedRd=null),null!=this.FCheckedFocusRd&&(rtl.free(this,"FCheckedFocusRd"),this.FCheckedFocusRd=null),null!=this.FUnCheckedRd&&(rtl.free(this,"FUnCheckedRd"),this.FUnCheckedRd=null),null!=this.FUnCheckedFocusRd&&(rtl.free(this,"FUnCheckedFocusRd"),this.FUnCheckedFocusRd=null),null!=this.FUnCheckedDisabledRd&&(rtl.free(this,"FUnCheckedDisabledRd"),this.FUnCheckedDisabledRd=null),null!=this.FCheckedDisabledRd&&(rtl.free(this,"FCheckedDisabledRd"),this.FCheckedDisabledRd=null),rtl.free(this,"FFill"),rtl.free(this,"FStroke"),t.TTMSFNCCustomControlBaseCommon.Destroy.call(this)},this.IsDesigning=function(){return 4 in this.FComponentState},this.IsDesignerForm=function(){var e,i=!1;return e=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.GetOwnerForm(this),i=this.IsDesigning(),null!=e&&(i=i||t.TTMSFNCCustomDesignerForm.isPrototypeOf(e)),i},this.IsDestroying=function(){return 3 in this.FComponentState},this.Resize=function(){pas["WEBLib.Controls"].TCustomControl.Resize.call(this),this.UpdateControlAfterResize()},this.Paint=function(){pas["WEBLib.Controls"].TCustomControl.Paint.call(this),this.FBlockInvalidate||this.DrawControl()},rtl.addIntf(this,pas["WEBLib.TMSFNCPersistence"].ITMSFNCPersistence),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("AdaptToStyle",3,rtl.boolean,"GetAdaptToStyle","SetAdaptToStyle",{Default:!1}),e.addProperty("AllowFocus",3,rtl.boolean,"GetAllowFocus","SetAllowFocus",{Default:!0}),e.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),e.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),e.addProperty("DoubleBuffered",0,rtl.boolean,"FDoubleBuffered","FDoubleBuffered",{Default:!1}),e.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),e.addProperty("Margins",2,pas["WEBLib.Controls"].$rtti.TMargins,"FMargins","SetMargins"),e.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),e.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),e.addProperty("ParentDoubleBuffered",0,rtl.boolean,"FParentDoubleBuffered","FParentDoubleBuffered",{Default:!0}),e.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),e.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),e.addProperty("Hint",2,rtl.string,"FHint","SetHint"),e.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),e.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),e.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),e.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),e.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),e.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),e.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),e.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),e.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),e.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),e.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),e.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),e.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),e.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),e.addProperty("OnMouseWheel",0,pas["WEBLib.Controls"].$rtti.TMouseWheelEvent,"FOnMouseWheel","FOnMouseWheel"),e.addProperty("OnMouseWheelUp",0,pas["WEBLib.Controls"].$rtti.TMouseWheelUpDownEvent,"FOnMouseWheelUp","FOnMouseWheelUp"),e.addProperty("OnMouseWheelDown",0,pas["WEBLib.Controls"].$rtti.TMouseWheelUpDownEvent,"FOnMouseWheelDown","FOnMouseWheelDown"),e.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),e.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),e.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),e.addProperty("ShowAcceleratorChar",2,rtl.boolean,"FShowAcceleratorChar","SetShowAcceleratorChar",{Default:!0}),e.addProperty("OnBeforeDraw",0,t.$rtti.TTMSFNCCustomControlBeforeDrawEvent,"FOnBeforeDraw","FOnBeforeDraw"),e.addProperty("OnAfterDraw",0,t.$rtti.TTMSFNCCustomControlAfterDrawEvent,"FOnAfterDraw","FOnAfterDraw"),e.addProperty("OnCanSaveProperty",0,t.$rtti.TTMSFNCCustomControlCanSavePropertyEvent,"FOnCanSaveProperty","FOnCanSaveProperty"),e.addProperty("OnCanLoadProperty",0,t.$rtti.TTMSFNCCustomControlCanLoadPropertyEvent,"FOnCanLoadProperty","FOnCanLoadProperty")}))}),["WEBLib.TMSFNCUtils","SysUtils","WEBLib.StdCtrls"]),rtl.module("WEBLib.TMSFNCWebBrowser.WEB",["System"],(function(){"use strict";var t=this.$impl;this.RegisterWebBrowserService=function(){pas["WEBLib.TMSFNCWebBrowser"].TTMSFNCWebBrowserPlatformServices.Current().SupportsPlatformService$1(rtl.getIntfGUIDR(pas["WEBLib.TMSFNCWebBrowser"].ITMSFNCWebBrowserService),{p:t,get:function(){return this.p.WebBrowserService},set:function(t){rtl.setIntfP(this.p,"WebBrowserService",t)}})||(rtl.setIntfP(t,"WebBrowserService",rtl.queryIntfT(t.TTMSFNCWEBWebBrowserService.$create("Create$1"),pas["WEBLib.TMSFNCWebBrowser"].ITMSFNCWebBrowserService),!0),pas["WEBLib.TMSFNCWebBrowser"].TTMSFNCWebBrowserPlatformServices.Current().AddPlatformService(rtl.getIntfGUIDR(pas["WEBLib.TMSFNCWebBrowser"].ITMSFNCWebBrowserService),t.WebBrowserService))},this.$implcode=function(){rtl.createClass(t,"TTMSFNCWEBWebBrowserService",pas["WEBLib.TMSFNCWebBrowser"].TTMSFNCWebBrowserFactoryService,(function(){this.DoCreateWebBrowser=function(e){var i=null,s=!1;try{i=rtl.setIntfL(i,rtl.queryIntfT(t.TTMSFNCWEBWebBrowser.$create("Create$1",[e]),pas["WEBLib.TMSFNCWebBrowser"].ITMSFNCCustomWebBrowser),!0),s=!0}finally{s||rtl._Release(i)}return i},rtl.addIntf(this,pas["WEBLib.TMSFNCWebBrowser"].ITMSFNCWebBrowserService),rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(t,"TTMSFNCWEBWebBrowser",pas.System.TInterfacedObject,(function(){this.$init=function(){pas.System.TInterfacedObject.$init.call(this),this.FCustomObjectMessage=null,this.FExternalBrowser=!1,this.FWebControl=null},this.$final=function(){this.FWebControl=void 0,pas.System.TInterfacedObject.$final.call(this)},this.ClearMethodPointers=function(){this.FCustomObjectMessage=null},this.BeforeChangeParent=function(){},this.SetEnableContextMenu=function(t){},this.SetEnableShowDebugConsole=function(t){},this.SetEnableAcceleratorKeys=function(t){},this.LoadHTML=function(t){null!=this.FWebControl&&null!=this.FWebControl.GetElementHandle()&&(this.FWebControl.GetElementHandle().innerHTML=t)},this.UpdateEnabled=function(){},this.UpdateBounds=function(){},this.Initialize=function(){},this.DeInitialize=function(){},this.ExecuteJavascript=function(t,e,i){var s,n="",o="",r="",a="",l="",h=0,d=null;n=pas.SysUtils.StringReplace(pas["WEBLib.TMSFNCTypes"].CreateNewGUID(),"{","",rtl.createSet(0)),n=pas.SysUtils.StringReplace(n,"}","",rtl.createSet(0)),o="function "+(s="executeScript"+(n=pas.SysUtils.StringReplace(n,"-","",rtl.createSet(0))))+"(){\r\n",pas.System.Pos("function",t)>0?(a=t,h=pas.System.Pos("function ",t)+9,l=pas.System.Copy(t,h,pas.System.Pos("(",t)-h),o=o+" return ("+(a=pas.SysUtils.StringReplace(a,l+"();","",rtl.createSet(0)))+")();\r\n"):o=o+" return "+t+"\r\n",o+="}",d=this.FWebControl.GetElementHandle();var u,c,p=document.createElement("script");p.id=n,p.text=o,d&&d.ownerDocument?(d.ownerDocument.body.append(p),u=d.ownerDocument.defaultView):(document.body.append(p),u=document.body.defaultView),c=u,r=(r=function(t,e,i){try{return new Function("return function() {return this."+e+"("+i+")};")()}catch(t){return function(){}}}(0,s,void 0).apply(c))?r.toString():"",null!=e&&e(r),null!=i&&i(this);var C=document.getElementById(n);C&&C.parentNode.removeChild(C)},this.Create$1=function(t){return this.FExternalBrowser=!1,this.FWebControl=t,this.ClearMethodPointers(),this},rtl.addIntf(this,pas["WEBLib.TMSFNCWebBrowser"].ITMSFNCCustomWebBrowser,{ExecuteJavaScript:"ExecuteJavascript"}),rtl.addIntf(this,pas.System.IUnknown)})),t.WebBrowserService=null}}),["Classes","SysUtils","WEBLib.Controls","WEBLib.TMSFNCWebBrowser","WEBLib.TMSFNCUtils","WEBLib.TMSFNCTypes","Web"]),rtl.module("WEBLib.TMSFNCWebBrowser",["System","Types","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCGraphics","WEBLib.TMSFNCUtils","WEBLib.TMSFNCTypes","Classes","TypInfo","contnrs","WEBLib.StdCtrls","WEBLib.Forms","WEBLib.Controls"],(function(){"use strict";var t=this;this.DESIGNTIMEMESSAGE="Selectable/Draggable area (only active at designtime)",rtl.createInterface(this,"ITMSFNCCustomWebBrowser","{F74562D0-56C7-4ED2-B01B-8C9C16DD9361}",["SetEnableContextMenu","SetEnableShowDebugConsole","SetEnableAcceleratorKeys","LoadHTML","UpdateBounds","UpdateEnabled","BeforeChangeParent","Initialize","DeInitialize","ExecuteJavaScript"],pas.System.IUnknown),rtl.createInterface(this,"ITMSFNCWebBrowserService","{4B7A5FE1-A889-47C6-B40F-A611BB6266E6}",["CreateWebBrowser","DestroyWebBrowser"],pas.System.IUnknown),rtl.createClass(this,"TTMSFNCCustomWebBrowser",pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$init.call(this),this.FDesigntimeEnabled=!1,this.FCanDestroyDispatch=!1,this.FInitialized=!1,this.FWebBrowser=null,this.FExternalBrowser=!1,this.FEnableShowDebugConsole=!1,this.FEnableAcceleratorKeys=!1,this.FEnableContextMenu=!1,this.FOnInitialized=null},this.$final=function(){rtl.setIntfP(this,"FWebBrowser",null),this.FOnInitialized=void 0,pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.$final.call(this)},this.SetEnableContextMenu=function(t){this.FEnableContextMenu=t,null!=this.FWebBrowser&&this.FWebBrowser.SetEnableContextMenu(t)},this.SetEnableShowDebugConsole=function(t){this.FEnableShowDebugConsole=t,null!=this.FWebBrowser&&this.FWebBrowser.SetEnableShowDebugConsole(t)},this.SetDesigntimeEnabled=function(t){this.FDesigntimeEnabled=t,this.IsDesigning()&&(this.FDesigntimeEnabled&&!this.FInitialized?this.Initialize():this.DeInitialize())},this.SetEnabledAcceleratorKeys=function(t){this.FEnableAcceleratorKeys=t,null!=this.FWebBrowser&&this.FWebBrowser.SetEnableAcceleratorKeys(t)},this.CanCreateBrowser=function(){return!0,!0},this.UpdateElement=function(){pas["WEBLib.Controls"].TControl.UpdateElement.call(this),null!=this.GetElementHandle()&&this.GetElementHandle().style.setProperty("overflow","auto")},this.CreateClasses=function(){},this.Initialized=function(){this.FInitialized=!0,null!=this.FOnInitialized&&this.FOnInitialized(this)},this.SetParent=function(t){null!=this.FWebBrowser&&this.FWebBrowser.BeforeChangeParent(),pas["WEBLib.Controls"].TControl.SetParent.apply(this,arguments),this.Initialize(),this.BeginUpdate(),this.EndUpdate()},this.SetEnabled=function(t){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBaseCommon.SetEnabled.apply(this,arguments),null!=this.FWebBrowser&&this.FWebBrowser.UpdateEnabled()},this.Draw=function(e,i){var s="",n=0;pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Draw.apply(this,arguments),this.IsDesigning()&&(e.FFont.SetSize(12),e.FFont.SetName("Montserrat"),s=t.DESIGNTIMEMESSAGE,n=e.CalculateTextHeight$1(s),e.DrawText$1(pas["WEBLib.TMSFNCTypes"].TRectF.$clone(pas["WEBLib.TMSFNCTypes"].RectF(this.ScalePaintValue(5),this.ScalePaintValue(5),this.GetWidth()-this.ScalePaintValue(5),n+this.ScalePaintValue(5))),s,!1,1,0,0,0,-1,-1,!0,!1,-1,-1))},this.Loaded=function(){pas["WEBLib.Controls"].TCustomControl.Loaded.call(this),this.Initialize(),null!=this.FWebBrowser&&this.FWebBrowser.UpdateBounds()},this.ExecuteJavaScript=function(t,e,i){null!=this.FWebBrowser&&(i&&this.FInitialized,this.FWebBrowser.ExecuteJavaScript(t,e,null))},this.LoadHTML=function(t){null!=this.FWebBrowser&&this.FWebBrowser.LoadHTML(t)},this.Initialize=function(){(this.IsDesigning()&&this.FDesigntimeEnabled||!this.IsDesigning())&&null!=this.FWebBrowser&&this.FWebBrowser.Initialize()},this.DeInitialize=function(){this.FInitialized=!1,null!=this.FWebBrowser&&this.FWebBrowser.DeInitialize()},this.Create$1=function(e){var i=null;try{pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Create$1.apply(this,arguments),this.FCanDestroyDispatch=!0,this.FDesigntimeEnabled=!0,this.FExternalBrowser=!1,this.FEnableShowDebugConsole=!0,this.FEnableContextMenu=!0,this.FEnableAcceleratorKeys=!0,this.CanCreateBrowser()&&t.TTMSFNCWebBrowserPlatformServices.Current().SupportsPlatformService$1(rtl.getIntfGUIDR(t.ITMSFNCWebBrowserService),{get:function(){return i},set:function(t){i=rtl.setIntfL(i,t)}})&&rtl.setIntfP(this,"FWebBrowser",i.CreateWebBrowser(this),!0),this.CreateClasses(),this.SetWidth(500),this.SetHeight(350),this.Initialized()}finally{rtl._Release(i)}return this},this.Destroy=function(){var e=null;try{this.CanCreateBrowser()&&t.TTMSFNCWebBrowserPlatformServices.Current().SupportsPlatformService$1(rtl.getIntfGUIDR(t.ITMSFNCWebBrowserService),{get:function(){return e},set:function(t){e=rtl.setIntfL(e,t)}})&&e.DestroyWebBrowser(this.FWebBrowser),null!=this.FWebBrowser&&(this.FWebBrowser.DeInitialize(),rtl.setIntfP(this,"FWebBrowser",null)),pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Destroy.call(this)}finally{rtl._Release(e)}},this.UpdateControlAfterResize=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.UpdateControlAfterResize.call(this),null!=this.FWebBrowser&&this.FWebBrowser.UpdateBounds()},rtl.addIntf(this,pas["WEBLib.TMSFNCPersistence"].ITMSFNCPersistence),rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCWebBrowserList",pas.Classes.TList,(function(){})),rtl.createClass(this,"TTMSFNCWebBrowserFactoryService",pas.System.TInterfacedObject,(function(){this.$init=function(){pas.System.TInterfacedObject.$init.call(this),this.FWebBrowsers=null},this.$final=function(){this.FWebBrowsers=void 0,pas.System.TInterfacedObject.$final.call(this)},this.DoRemoveWebBrowser=function(t){null!==this.FWebBrowsers&&null!==t&&this.FWebBrowsers.Remove(t)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FWebBrowsers=t.TTMSFNCWebBrowserList.$create("Create$1"),this},this.Destroy=function(){pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FWebBrowsers},set:function(t){this.p.FWebBrowsers=t}}),pas.System.TObject.Destroy.call(this)},this.CreateWebBrowser=function(t){var e=null,i=!1;try{e=rtl.setIntfL(e,this.DoCreateWebBrowser(t),!0),this.FWebBrowsers.Add(e),i=!0}finally{i||rtl._Release(e)}return e},this.DestroyWebBrowser=function(t){this.DoRemoveWebBrowser(t)},rtl.addIntf(this,t.ITMSFNCWebBrowserService),rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCWebBrowserPlatformServicesService",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FInterface=null,this.FGUID=""},this.$final=function(){rtl.setIntfP(this,"FInterface",null),pas.System.TObject.$final.call(this)},this.Create$1=function(t,e){return this.FGUID=t,rtl.setIntfP(this,"FInterface",e),this}})),rtl.createClass(this,"TTMSFNCWebBrowserPlatformServicesList",pas.contnrs.TObjectList,(function(){this.GetItem$1=function(t){return this.GetItem(t)},this.GetValue=function(t){var e=null,i=0,s=!1;try{e=rtl.setIntfL(e,null);for(var n=0,o=this.GetCount()-1;n<=o;n++)if(i=n,this.GetItem$1(i).FGUID===t){e=rtl.setIntfL(e,this.GetItem$1(i).FInterface);break}s=!0}finally{s||rtl._Release(e)}return e},this.ContainsKey=function(t){var e=!1,i=0;e=!1;for(var s=0,n=this.GetCount()-1;s<=n;s++)if(i=s,this.GetItem$1(i).FGUID===t){e=!0;break}return e}})),rtl.createClass(this,"TTMSFNCWebBrowserPlatformServices",pas.System.TObject,(function(){this.FCurrent=null,this.FCurrentReleased=!1,this.$init=function(){pas.System.TObject.$init.call(this),this.FServicesList=null},this.$final=function(){this.FServicesList=void 0,pas.System.TObject.$final.call(this)},this.Create$1=function(){return pas.System.TObject.Create.call(this),this.FServicesList=t.TTMSFNCWebBrowserPlatformServicesList.$create("Create$2"),this},this.Destroy=function(){pas.SysUtils.FreeAndNil({p:this,get:function(){return this.p.FServicesList},set:function(t){this.p.FServicesList=t}}),pas.System.TObject.Destroy.call(this)},this.AddPlatformService=function(e,i){var s=null;try{this.FServicesList.ContainsKey(pas.SysUtils.GUIDToString(e))||pas.SysUtils.Supports$1(i,e,{get:function(){return s},set:function(t){s=t}})&&this.FServicesList.Add$1(t.TTMSFNCWebBrowserPlatformServicesService.$create("Create$1",[pas.SysUtils.GUIDToString(e),i]))}finally{rtl._Release(s)}},this.SupportsPlatformService$1=function(t,e){var i=!1,s=rtl.createIntfRefs();try{this.FServicesList.ContainsKey(pas.SysUtils.GUIDToString(t))?i=pas.SysUtils.Supports$1(s.ref(1,this.FServicesList.GetValue(pas.SysUtils.GUIDToString(t))),t,e):(e.set(null),i=!1)}finally{s.free()}return i},this.Current=function(){return null!==this.FCurrent||this.FCurrentReleased||(t.TTMSFNCWebBrowserPlatformServices.FCurrent=t.TTMSFNCWebBrowserPlatformServices.$create("Create$1")),this.FCurrent}})),t.$init=function(){t.TTMSFNCWebBrowserPlatformServices.FCurrentReleased=!1,pas["WEBLib.TMSFNCWebBrowser.WEB"].RegisterWebBrowserService()}}),["SysUtils","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCWebBrowser.WEB"]),rtl.module("WEBLib.TMSFNCCustomWEBControl",["System","Classes","Types","DateUtils","WEBLib.Forms","Web","contnrs","WEBLib.Controls","WEBLib.TMSFNCTypes","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCWebBrowser"],(function(){"use strict";var t=this,e=t.$impl;this.LB="\r",this.TTMSFNCCustomWEBControlLinkKind={0:"mlkLink",mlkLink:0,1:"mlkScript",mlkScript:1,2:"mlkStyle",mlkStyle:2},rtl.createClass(this,"TTMSFNCCustomWEBControlLink",pas.System.TObject,(function(){this.$init=function(){pas.System.TObject.$init.call(this),this.FCharSet="",this.FType="",this.FURL="",this.FContent="",this.FDefer=!1,this.FAsync=!1,this.FRel="",this.FKind=0},this.CreateScript=function(t,e,i,s,n,o){return this.Create$1(1,t,e,i,"",s,n,o),this},this.Create$1=function(t,e,i,s,n,o,r,a){return this.FKind=t,this.FURL=e,this.FType=i,this.FCharSet=s,this.FDefer=r,this.FRel=n,this.FAsync=a,this.FContent=o,this}})),rtl.createClass(this,"TTMSFNCCustomWEBControlLinksList",pas.contnrs.TObjectList,(function(){this.GetItem$1=function(t){return this.GetItem(t)}})),rtl.createClass(this,"TTMSFNCCustomWEBControlEventData",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FEvent="",this.FEventName="",this.FID="",this.FCustomData=""},this.Create$1=function(){return this.FEvent="",this},this.Destroy=function(){pas.System.TObject.Destroy.call(this)};var t=this.$rtti;t.addProperty("ID",0,rtl.string,"FID","FID"),t.addProperty("EventName",0,rtl.string,"FEventName","FEventName")})),rtl.createClass(this,"TTMSFNCCustomWEBControl",pas["WEBLib.TMSFNCWebBrowser"].TTMSFNCCustomWebBrowser,(function(){this.$init=function(){pas["WEBLib.TMSFNCWebBrowser"].TTMSFNCCustomWebBrowser.$init.call(this),this.FControlInitialized=!1,this.FEventData=null,this.FUpdateCount$1=0,this.FRemoveMargins=!1},this.SetControlInitialized=function(t){this.FControlInitialized=t},this.ParseEvent=function(i){var s,n,o="",r="",a=null,l=0,h=0;if(o=i,s=n=1===pas.System.Pos(e.EVENTDATAPREFIX,o),n){l=pas.System.Pos(e.EVENTDATAPREFIX,o),(h=pas.System.Pos(e.CUSTOMDATAPREFIX,o))>0?(r=pas.System.Copy(o,h+e.CUSTOMDATAPREFIX.length,o.length-h-1),o=pas.System.Copy(o,l+e.EVENTDATAPREFIX.length,h-e.EVENTDATAPREFIX.length-1)):(o=pas.System.Copy(o,l+e.EVENTDATAPREFIX.length,o.length-1),r=""),""!==r&&(r=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.URLDecode(r)),o=pas["WEBLib.TMSFNCUtils"].TTMSFNCUtils.URLDecode(o),a=t.TTMSFNCCustomWEBControlEventData.$create("Create$1");try{pas["WEBLib.TMSFNCTypes"].TTMSFNCObjectHelper.FromJSON.call(a,o),a.FCustomData=r,"Initialized"===a.FEventName?(this.SetControlInitialized(!0),this.DoControlInitialized()):this.CallCustomEvent(a)}finally{a=rtl.freeLoc(a)}}return s},this.IsControlReady=function(){return!0,!0},this.Loaded=function(){pas["WEBLib.TMSFNCWebBrowser"].TTMSFNCCustomWebBrowser.Loaded.call(this),this.BeginUpdate(),this.EndUpdate()},this.DestroyControl=function(){null!=this.FEventData&&(this.UnbindEvents(),this.ClearMethodPointers()),this.RemoveStyles(),this.RemoveScripts()},this.DoControlInitialized=function(){},this.Initialized=function(){pas["WEBLib.TMSFNCWebBrowser"].TTMSFNCCustomWebBrowser.Initialized.call(this),this.FControlInitialized=!1,this.InitializeControl(),this.IsDesigning()&&(this.SetEnableContextMenu(!1),this.SetEnableShowDebugConsole(!1),this.SetEnabledAcceleratorKeys(!1))},this.InitializeControl=function(){this.FUpdateCount$1>0||this.IsDestroying()||this.FControlInitialized||(null===this.FEventData&&(this.GetMethodPointers(),this.BindEvents()),this.InitializeHTML())},this.InitializeHTML=function(){this.FUpdateCount$1>0||this.IsDestroying()||this.FControlInitialized||(this.LoadStyles(),!1,this.LoadScripts(!0),this.LoadScripts(!1),this.LoadHTML(this.GetHTML()))},this.LoadScripts=function(e){var i=null,s=0,n=null,o="",r="",a="",l="",h="",d="",u=!1,c=!1,p=!1,C=null;if(this.IsControlReady()){p=e,C=this.GetElementHandle(),i=t.TTMSFNCCustomWEBControlLinksList.$create("Create$2");try{p?this.GetHeadLinks(i,!0):this.GetBodyLinks(i,!0,!0);for(var S=0,F=i.GetCount()-1;S<=F;S++){s=S,n=i.GetItem$1(s),o="WEBLib.TMSFNCWEBControl."+pas.SysUtils.StringReplace(this.GetControlID()," ","",rtl.createSet(0))+".",r=n.FURL,a=n.FType,n.FCharSet,c=n.FDefer,u=n.FAsync,h=n.FRel,d=n.FContent;var g=n.FKind;if(0===g?l="LINK":1===g&&(l="SCRIPT"),o=p?o+l+"HEAD"+pas.SysUtils.IntToStr(s):o+l+"BODY"+pas.SysUtils.IntToStr(s),!(document.getElementById(o)||document.querySelector('script[src="'+r+'"]')||document.querySelector('link[href="'+r+'"]'))){var m=document.createElement(l);m.id=o,""!=a&&(m.type=a),"LINK"==l?(""!=h&&(m.rel=h),""!=r&&(m.href=r)):(m.defer=c,m.async=u,""!=r&&(m.src=r)),m.innerHTML=d,C&&C.ownerDocument?p?C.ownerDocument.head.appendChild(m):C.ownerDocument.body.appendChild(m):p?document.head.appendChild(m):document.body.appendChild(m)}}}finally{i=rtl.freeLoc(i)}}},this.RemoveScripts=function(){var e=0,i="",s="",n=null,o=null;n=t.TTMSFNCCustomWEBControlLinksList.$create("Create$2"),this.GetHeadLinks(n,!1);try{for(var r=0,a=n.GetCount()-1;r<=a;r++){e=r,o=n.GetItem$1(e),s="WEBLib.TMSFNCWEBControl."+pas.SysUtils.StringReplace(this.GetControlID()," ","",rtl.createSet(0))+".";var l=o.FKind;0===l?i="LINK":1===l&&(i="SCRIPT"),s=s+i+"HEAD"+pas.SysUtils.IntToStr(e),(u=document.getElementById(s))&&u.parentNode.removeChild(u)}n.Clear(),this.GetBodyLinks(n,!1,!1);for(var h=0,d=n.GetCount()-1;h<=d;h++){e=h,o=n.GetItem$1(e),s="WEBLib.TMSFNCWEBControl."+pas.SysUtils.StringReplace(this.GetControlID()," ","",rtl.createSet(0))+".";var u,c=o.FKind;0===c?i="LINK":1===c&&(i="SCRIPT"),s=s+i+"BODY"+pas.SysUtils.IntToStr(e),(u=document.getElementById(s))&&u.parentNode.removeChild(u)}}finally{n=rtl.freeLoc(n)}},this.LoadStyles=function(){var t="",e="",i=null;if(this.IsControlReady()){if(i=this.GetElementHandle(),e=this.GetHeadStyle(),t="WEBLib.TMSFNCWEBControl."+pas.SysUtils.StringReplace(this.GetControlID()," ","",rtl.createSet(0))+".Styles",document.getElementById(t))return;(t=document.createElement("style")).id=t,t.innerHTML=e,i&&i.ownerDocument?i.ownerDocument.head.appendChild(t):document.head.appendChild(t)}},this.RemoveStyles=function(){var t;t="WEBLib.TMSFNCWEBControl."+pas.SysUtils.StringReplace(this.GetControlID()," ","",rtl.createSet(0))+".Styles";var e=document.getElementById(t);e&&e.parentNode.removeChild(e)},this.CreateClasses=function(){pas["WEBLib.TMSFNCWebBrowser"].TTMSFNCCustomWebBrowser.CreateClasses.call(this)},this.GetLinks=function(e,i,s){var n="",o="";s&&!this.IsControlReady()||(i?(n=(n=(n=(n=n+this.GetGlobalVariables()+t.LB+t.LB)+"var "+this.GetControlVariable()+" = null;"+t.LB)+this.GetCommunicationLayer()+t.LB+t.LB)+this.GetWaitForInitialization()+t.LB+t.LB,""!==(o=this.GetCustomFunctions())&&(n=n+o+t.LB+t.LB)):n="Include",""!==n&&e.Add$1(t.TTMSFNCCustomWEBControlLink.$create("CreateScript",["","text/javascript","",n,!1,!1])))},this.GetBodyLinks=function(t,e,i){i&&!this.IsControlReady()||this.GetLinks(t,e,i)},this.GetHeadLinks=function(t,e){e&&!this.IsControlReady()||this.LoadLinks(t)},this.LoadLinks=function(t){},this.GetCustomCSS=function(){return"",""},this.HandleDoEventData=function(t){var e;return e=t.detail,this.ParseEvent(e),!0,!0},this.BindEvents=function(){null!=this.GetElementBindHandle()&&(this.GetMethodPointers(),this.GetElementBindHandle().addEventListener(this.GetEventDataName(),this.FEventData))},this.UnbindEvents=function(){null!=this.GetElementBindHandle()&&this.GetElementBindHandle().removeEventListener(this.GetEventDataName(),this.FEventData)},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FEventData=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),null===this.FEventData&&(this.FEventData=rtl.createCallback(this,"HandleDoEventData"))},this.SetName=function(t){this.DestroyControl(),this.FControlInitialized=!1,pas["WEBLib.Controls"].TCustomControl.SetName.apply(this,arguments),this.FUpdateCount$1>0||this.InitializeControl()},this.CallCustomEvent=function(t){},this.GetGlobalVariables=function(){return"",""},this.GetCustomFunctions=function(){return"",""},this.GetCommunicationLayer=function(){return"var "+this.GetControlID()+"sendObjectMessage = function(parameters, customdata = undefined) {"+t.LB+'  var v = "'+e.EVENTDATAPREFIX+'" + parameters;'+t.LB+"  if (customdata) {"+t.LB+'    v = v + "'+e.CUSTOMDATAPREFIX+'" + customdata;'+t.LB+"  }"+t.LB+'  var event = new CustomEvent("'+this.GetEventDataName()+'", {detail: v});'+t.LB+"  if (!"+this.GetControlVariable()+"){"+t.LB+"  "+this.GetControlVariable()+' = document.getElementById("'+this.GetID()+'");'+t.LB+"  }"+t.LB+"  if ("+this.GetControlVariable()+"){"+t.LB+"    "+this.GetControlVariable()+".dispatchEvent(event);"+t.LB+"  }"+t.LB+"};"},this.GetDefaultHTML=function(){return"  <style>"+t.LB+"  #notfound {"+t.LB+"    background: #d7ebf6;"+t.LB+"    padding: 0;"+t.LB+"    border: #000000;"+t.LB+"    width: 100%;"+t.LB+"    height: 100%;"+t.LB+"    margin: 0;"+t.LB+"    padding: 0;"+t.LB+"    border: solid #211b19;"+t.LB+"    border-width: thin;"+t.LB+"    overflow:hidden;"+t.LB+"    display:block;"+t.LB+"    -webkit-box-sizing: border-box;"+t.LB+"            box-sizing: border-box;"+t.LB+"    position: relative;"+t.LB+"  }"+t.LB+"  #notfound .notfound {"+t.LB+"    position: absolute;"+t.LB+"    left: 50%;"+t.LB+"    top: 50%;"+t.LB+"    -webkit-transform: translate(-50%, -50%);"+t.LB+"        -ms-transform: translate(-50%, -50%);"+t.LB+"            transform: translate(-50%, -50%);"+t.LB+"  }"+t.LB+"  .notfound {"+t.LB+"    max-width: 520px;"+t.LB+"    width: 100%;"+t.LB+"    line-height: 1.4;"+t.LB+"    text-align: center;"+t.LB+"  }"+t.LB+"  .notfound .notfound-404 {"+t.LB+"    position: relative;"+t.LB+"    height: 200px;"+t.LB+"    margin: 0px auto 20px;"+t.LB+"    z-index: -1;"+t.LB+"  }"+t.LB+"  .notfound .notfound-404 h2 {"+t.LB+"    font-family: 'Montserrat', sans-serif;"+t.LB+"    font-size: 28px;"+t.LB+"    font-weight: 400;"+t.LB+"    text-transform: uppercase;"+t.LB+"    color: #211b19;"+t.LB+"    background: #d7ebf6;"+t.LB+"    padding: 10px 5px;"+t.LB+"    margin: auto;"+t.LB+"    display: inline-block;"+t.LB+"    position: absolute;"+t.LB+"    bottom: 0px;"+t.LB+"    left: 0;"+t.LB+"    right: 0;"+t.LB+"  }"+t.LB+"  @media only screen and (max-width: 767px) {"+t.LB+"    .notfound .notfound-404 h1 {"+t.LB+"      font-size: 148px;"+t.LB+"    }"+t.LB+"  }"+t.LB+"  @media only screen and (max-width: 480px) {"+t.LB+"    .notfound .notfound-404 {"+t.LB+"      height: 148px;"+t.LB+"      margin: 0px auto 10px;"+t.LB+"    }"+t.LB+"    .notfound .notfound-404 h1 {"+t.LB+"      font-size: 86px;"+t.LB+"    }"+t.LB+"    .notfound .notfound-404 h2 {"+t.LB+"      font-size: 16px;"+t.LB+"    }"+t.LB+"    .notfound a {"+t.LB+"      padding: 7px 15px;"+t.LB+"      font-size: 14px;"+t.LB+"    }"+t.LB+"  }"+t.LB+" </style>"+t.LB+'  <div id="notfound">'+t.LB+'    <div class="notfound">'+t.LB+'      <div class="notfound-404">'+t.LB+"        <h2>"+this.GetDefaultHTMLMessage()+"</h2>"+t.LB+"      </div>"+t.LB+"    </div>"+t.LB+"  </div>"+t.LB},this.GetHeadStyle=function(){var e,i="";return i="",""!==(e=this.GetCustomCSS())&&(i=i+t.LB+e),this.FRemoveMargins&&(i=i+t.LB+"body,html {"+t.LB+"  margin: 0;"+t.LB+"  padding: 0;"+t.LB+"}"),i},this.GetBody=function(){return'<div id="'+this.GetControlID()+'" style="height:100%; width:100%"></div>'},this.GetControlID=function(){return this.FName+"_id"},this.GetControlVariable=function(){return this.FName+"_var"},this.GetEventDataName=function(){return this.FName+"_eventdata"},this.GetDefaultHTMLMessage=function(){return this.FName+"cannot be initialized"},this.GetDefaultEventDataObject=function(){var e="",i=null;i=t.TTMSFNCCustomWEBControlEventData.$create("Create$1");try{e=pas["WEBLib.TMSFNCTypes"].TTMSFNCObjectHelper.ToJSON$1.call(i)}finally{i=rtl.freeLoc(i)}return e},this.GetWaitForInitialization=function(){return"function "+this.GetControlID()+"initialize () {"+t.LB+this.GetWaitInitVariables()+t.LB+"  if ("+this.GetWaitInitCondition()+") {"+t.LB+"    setTimeout("+this.GetControlID()+"initialize, 200);"+t.LB+"  } else {"+t.LB+this.GetWaitInitElseStatement()+t.LB+"    var o = "+this.GetDefaultEventDataObject()+";"+t.LB+'    o["EventName"] = "Initialized";'+t.LB+"    "+this.GetControlID()+"sendObjectMessage(JSON.stringify(o));"+t.LB+"  };"+t.LB+"};"+t.LB+t.LB+this.GetControlID()+"initialize();"},this.GetWaitInitVariables=function(){return"",""},this.GetWaitInitCondition=function(){return"false","false"},this.GetWaitInitElseStatement=function(){return"",""},this.GetHTML=function(){return"",this.IsControlReady()?this.GetBody():this.GetDefaultHTML()},this.Assign=function(e){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Assign.apply(this,arguments),t.TTMSFNCCustomWEBControl.isPrototypeOf(e)},this.Create$1=function(t){return pas["WEBLib.TMSFNCWebBrowser"].TTMSFNCCustomWebBrowser.Create$1.apply(this,arguments),""===this.GetID()&&this.IsDesigning()&&this.SetID(this.GetNewName()),this},this.Destroy=function(){this.DestroyControl(),this.SetControlInitialized(!1),pas["WEBLib.TMSFNCWebBrowser"].TTMSFNCCustomWebBrowser.Destroy.call(this)},this.BeginUpdate=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.BeginUpdate.call(this),this.FUpdateCount$1+=1},this.EndUpdate=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControlBase.EndUpdate.call(this),this.FUpdateCount$1-=1,0===this.FUpdateCount$1&&(this.FControlInitialized||this.InitializeControl())},rtl.addIntf(this,pas["WEBLib.TMSFNCPersistence"].ITMSFNCPersistence),rtl.addIntf(this,pas.System.IUnknown),this.$rtti.addProperty("DesigntimeEnabled",2,rtl.boolean,"FDesigntimeEnabled","SetDesigntimeEnabled",{Default:!0})})),t.$implcode=function(){e.EVENTDATAPREFIX="jsevent://",e.CUSTOMDATAPREFIX="customdata://"}}),["Math","WEBLib.TMSFNCUtils","SysUtils"]),rtl.module("WEBLib.TMSFNCWXCommon",["System","SysUtils","WEBLib.TMSFNCGraphics"],(function(){"use strict";this.TTMSFNCWXLibraryLocation={0:"llOffline",llOffline:0,1:"llOnline",llOnline:1},this.$rtti.$Enum("TTMSFNCWXLibraryLocation",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCWXLibraryLocation}),this.GetDesignHeaderTextHeight=function(t){var e=0,i=null;(i=pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.$create("CreateBitmapCanvas",[1,1,!1,!0])).BeginScene();try{e=Math.round(i.CalculateTextHeight$1("AAA")+t)}finally{i.EndScene(),i=rtl.freeLoc(i)}return e}}),["Classes","WEBLib.TMSFNCUtils"]),rtl.module("WEBLib.TMSFNCWXQRCode.Consts",["System"],(function(){"use strict";var t=this;this.LB="\r",this.QRCODEGET="QRCODEGET",this.CONTROL_ID="#TMSFNCWXQRCODEID#",this.DATA_OBJECT="#TTMSFNCWXQRDATAOBJECT#",this.CREATEQRCODEJS=this.CONTROL_ID+'getQRCode({text: "%s", ecc: %d, width: %d, height: %d, module: %d, colorLight: "%s", colorDark: "%s", dotScale: %f, dotScaleV: %f, dotScaleH: %f, quietZone: %d, quietZoneColor: "%s", potl: "%s", pitl: "%s", potr: "%s", pitr: "%s", pobl: "%s", pibl: "%s", title: "%s", titleFont: "%S", titleColor: "%s", titleBackgroundColor: "%s", titleHeight: %d, titleTop: %d, subTitle: "%s", subTitleFont: "%s", subTitleColor: "%s", subTitleTop: %d, crossOrigin: %s, timingH: "%s", timingV: "%s", logo: "%s", logoWidth: %f, logoHeight: %f, logoMaxWidth: %s, logoMaxHeight: %s, logoBT: %s, logoBC: "%s", bckImg: "%s", bckImgA: %f, autoColor: %s, autoColorD: "%s", autoColorL: "%s"})',this.QRCodeLimitLength$a$clone=function(t){var e=[];e.length=40;for(var i=0;i<40;i++)e[i]=t[i].slice(0);return e},this.QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],this.GetWXQRJavaScriptCode=function(e){return"var "+e+"qr;"+t.LB+"function "+e+"getQRCode(opt) {"+t.LB+"  if (!window.QRCode) return;"+t.LB+"  if ("+e+"qr) { "+e+"qr.clear(); }"+t.LB+"  let cl;"+t.LB+"  switch(opt.ecc) {"+t.LB+"    case 1:"+t.LB+"      cl = QRCode.CorrectLevel.L;"+t.LB+"      break;"+t.LB+"    case 2:"+t.LB+"      cl = QRCode.CorrectLevel.M;"+t.LB+"      break;"+t.LB+"    case 3:"+t.LB+"      cl = QRCode.CorrectLevel.Q;"+t.LB+"      break;"+t.LB+"    default:"+t.LB+"      cl = QRCode.CorrectLevel.H;"+t.LB+"  }"+t.LB+"  let options = {"+t.LB+"      text: opt.text,"+t.LB+"      width: opt.width,"+t.LB+"      height: opt.height,"+t.LB+"      correctLevel: cl,"+t.LB+"      colorLight: opt.colorLight,"+t.LB+"      colorDark: opt.colorDark,"+t.LB+"      version: opt.module,"+t.LB+"      dotScale: opt.dotScale,"+t.LB+"      dotScaleTiming_V: opt.dotScaleV,"+t.LB+"      dotScaleTiming_H: opt.dotScaleH,"+t.LB+"      quietZone: opt.quietZone,"+t.LB+"      quietZonecolor: opt.quietZoneColor,"+t.LB+"      PO_TL: opt.potl,"+t.LB+"      PI_TL: opt.pitl,"+t.LB+"      PO_TR: opt.potr,"+t.LB+"      PI_TR: opt.pitr,"+t.LB+"      PO_BL: opt.pobl,"+t.LB+"      PI_BL: opt.pibl,"+t.LB+"      title: opt.title,"+t.LB+"      titleFont: opt.titleFont,"+t.LB+"      titleColor: opt.titleColor,"+t.LB+"      titleBackgroundColor: opt.titleBackgroundColor,"+t.LB+"      titleHeight: opt.titleHeight,"+t.LB+"      titleTop: opt.titleTop,"+t.LB+"      subTitle: opt.subTitle,"+t.LB+"      subTitleFont: opt.subTitleFont,"+t.LB+"      subTitleColor: opt.subTitleColor,"+t.LB+"      subTitleTop: opt.subTitleTop,"+t.LB+"      crossOrigin: opt.crossOrigin,"+t.LB+"      timing_H: opt.timingH,"+t.LB+"      timing_V: opt.timingV,"+t.LB+"      logo: opt.logo,"+t.LB+"      logoWidth: opt.logoWidth,"+t.LB+"      logoHeight: opt.logoHeight,"+t.LB+"      logoMaxWidth: opt.logoMaxWidth,"+t.LB+"      logoMaxHeight: opt.logoMaxHeight,"+t.LB+"      logoBackgroundTransparent: opt.logoBT,"+t.LB+"      logoBackgroundColor: opt.logoBC,"+t.LB+"      backgroundImage: opt.bckImg,"+t.LB+"      backgroundImageAlpha: opt.bckImgA,"+t.LB+"      autoColor: opt.autoColor,"+t.LB+"      autoColorDark: opt.autoColorD,"+t.LB+"      autoColorLight: opt.autoColorL,"+t.LB+"      onRenderingEnd: function (option, dataURL) {"+t.LB+"        var o = "+t.DATA_OBJECT+";"+t.LB+'        o["EventName"] = "'+t.QRCODEGET+'";'+t.LB+"        var customdata = dataURL;"+t.LB+"        var cd = encodeURIComponent(JSON.stringify(customdata))"+t.LB+"        "+e+"sendObjectMessage(JSON.stringify(o), cd);"+t.LB+"      }"+t.LB+"  };"+t.LB+'  let el = document.getElementById("'+e+'");'+t.LB+"  if (el) { "+e+"qr = new QRCode(el, options); };"+t.LB+"}"}})),rtl.module("WEBLib.TMSFNCWXQRCode",["System","Classes","WEBLib.TMSFNCCustomWEBControl","WEBLib.TMSFNCTypes","WEBLib.TMSFNCWebBrowser","WEBLib.TMSFNCGraphicsTypes","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCWXCommon","WEBLib.JSON","Web","WEBLib.Forms"],(function(){"use strict";var t=this,e=t.$impl;rtl.createClass(this,"TTMSFNCWXQRCodePositionColor",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FBottomRightOuterColor=0,this.FOnChanged=null,this.FTopLeftOuterColor=0,this.FBottomRightInnerColor=0,this.FTopRightOuterColor=0,this.FTopLeftInnerColor=0,this.FTopRightInnerColor=0},this.$final=function(){this.FOnChanged=void 0,pas.Classes.TPersistent.$final.call(this)},this.SetBottomRightInnerColor=function(t){this.FBottomRightInnerColor!==t&&(this.FBottomRightInnerColor=t,this.Change())},this.SetBottomRightOuterColor=function(t){this.FBottomRightOuterColor!==t&&(this.FBottomRightOuterColor=t,this.Change())},this.SetTopLeftInnerColor=function(t){this.FTopLeftInnerColor!==t&&(this.FTopLeftInnerColor=t,this.Change())},this.SetTopLeftOuterColor=function(t){this.FTopLeftOuterColor!==t&&(this.FTopLeftOuterColor=t,this.Change())},this.SetTopRightInnerColor=function(t){this.FTopRightInnerColor!==t&&(this.FTopRightInnerColor=t,this.Change())},this.SetTopRightOuterColor=function(t){this.FTopRightOuterColor!==t&&(this.FTopRightOuterColor=t,this.Change())},this.Change=function(){null!=this.FOnChanged&&this.FOnChanged(this)},this.Create$1=function(){return this.FBottomRightInnerColor=0,this.FBottomRightOuterColor=0,this.FTopLeftInnerColor=0,this.FTopLeftOuterColor=0,this.FTopRightInnerColor=0,this.FTopRightOuterColor=0,this};var t=this.$rtti;t.addProperty("TopLeftOuterColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTopLeftOuterColor","SetTopLeftOuterColor",{Default:0}),t.addProperty("TopLeftInnerColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTopLeftInnerColor","SetTopLeftInnerColor",{Default:0}),t.addProperty("TopRightOuterColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTopRightOuterColor","SetTopRightOuterColor",{Default:0}),t.addProperty("TopRightInnerColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTopRightInnerColor","SetTopRightInnerColor",{Default:0}),t.addProperty("BottomRightOuterColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBottomRightOuterColor","SetBottomRightOuterColor",{Default:0}),t.addProperty("BottomRightInnerColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FBottomRightInnerColor","SetBottomRightInnerColor",{Default:0})})),rtl.createClass(this,"TTMSFNCWXQRCodeSettings",pas.Classes.TPersistent,(function(){this.$init=function(){pas.Classes.TPersistent.$init.call(this),this.FDotScaleTimingHorizontal=0,this.FOnChanged=null,this.FTimingHorizontalColor=0,this.FSubTitleTop=0,this.FQuietZone=0,this.FTitleTop=0,this.FTitleBackgroundColor=0,this.FPositionColor=null,this.FTitleHeight=0,this.FDotScale=0,this.FQuietZoneColor=0,this.FDotScaleTimingVertical=0,this.FTimingVerticalColor=0,this.FColorDark=0,this.FSubTitleFont=null,this.FColorLight=0,this.FTitleFont=null,this.FBackgroundAutoColor=!1,this.FLogoBackgroundTransparent=!1,this.FBackgroundImageAlpha=0,this.FLogoBackgroundColor=0,this.FLogoWidth=0,this.FLogoMaxWidth=0,this.FAutoColorLight=0,this.FLogoHeight=0,this.FLogoMaxHeight=0,this.FAutoColorDarkAlpha=0,this.FAutoColorLightAlpha=0,this.FAutoColorDark=0},this.$final=function(){this.FOnChanged=void 0,this.FPositionColor=void 0,this.FSubTitleFont=void 0,this.FTitleFont=void 0,pas.Classes.TPersistent.$final.call(this)},this.IsDotScaleStored=function(){return 1!==this.FDotScale},this.IsDotScaleTimingHorizontalStored=function(){return 1!==this.FDotScaleTimingHorizontal},this.IsDotScaleTimingVerticalStored=function(){return 1!==this.FDotScaleTimingVertical},this.SetColorDark=function(t){this.FColorDark!==t&&(this.FColorDark=t,this.Change())},this.SetColorLight=function(t){this.FColorLight!==t&&(this.FColorLight=t,this.Change())},this.SetDotScale=function(t){this.FDotScale!==t&&(this.FDotScale=t,this.Change())},this.SetDotScaleTimingHorizontal=function(t){this.FDotScaleTimingHorizontal!==t&&(this.FDotScaleTimingHorizontal=t,this.Change())},this.SetDotScaleTimingVertical=function(t){this.FDotScaleTimingVertical!==t&&(this.FDotScaleTimingVertical=t,this.Change())},this.SetPositionColor=function(t){this.FPositionColor.Assign(t)},this.SetQuietZone=function(t){this.FQuietZone!==t&&(this.FQuietZone=t,this.Change())},this.SetQuietZoneColor=function(t){this.FQuietZoneColor!==t&&(this.FQuietZoneColor=t,this.Change())},this.SetSubTitleFont=function(t){this.FSubTitleFont.AssignSource(t)},this.SetSubTitleTop=function(t){this.FSubTitleTop!==t&&(this.FSubTitleTop=t,this.Change())},this.SetTimingHorizontalColor=function(t){this.FTimingHorizontalColor!==t&&(this.FTimingHorizontalColor=t,this.Change())},this.SetTimingVerticalColor=function(t){this.FTimingVerticalColor!==t&&(this.FTimingVerticalColor=t,this.Change())},this.SetTitleBackgroundColor=function(t){this.FTitleBackgroundColor!==t&&(this.FTitleBackgroundColor=t,this.Change())},this.SetTitleFont=function(t){this.FTitleFont.AssignSource(t)},this.SetTitleHeight=function(t){this.FTitleHeight!==t&&(this.FTitleHeight=t,this.Change())},this.SetTitleTop=function(t){this.FTitleTop!==t&&(this.FTitleTop=t,this.Change())},this.IsBackgroundImageAlphaStored=function(){return 1!==this.FBackgroundImageAlpha},this.SetBackgroundAutoColor=function(t){this.FBackgroundAutoColor!==t&&(this.FBackgroundAutoColor=t,this.Change())},this.SetBackgroundImageAlpha=function(t){this.FBackgroundImageAlpha!==t&&(this.FBackgroundImageAlpha=t,this.Change())},this.SetLogoBackgroundColor=function(t){this.FLogoBackgroundColor!==t&&(this.FLogoBackgroundColor=t,this.Change())},this.SetLogoBackgroundTransparent=function(t){this.FLogoBackgroundTransparent!==t&&(this.FLogoBackgroundTransparent=t,this.Change())},this.IsAutoColorDarkAlphaStored=function(){return.6!==this.FAutoColorDarkAlpha},this.SetAutoColorDarkAlpha=function(t){this.FAutoColorDarkAlpha!==t&&(this.FAutoColorDarkAlpha=t,this.Change())},this.SetAutoColorLight=function(t){this.FAutoColorLight!==t&&(this.FAutoColorLight=t,this.Change())},this.SetAutoColorLightAlpha=function(t){this.FAutoColorLightAlpha!==t&&(this.FAutoColorLightAlpha=t,this.Change())},this.SetLogoHeight=function(t){this.FLogoHeight!==t&&(this.FLogoHeight=t,this.Change())},this.SetLogoMaxHeight=function(t){this.FLogoMaxHeight!==t&&(this.FLogoMaxHeight=t,this.Change())},this.SetLogoMaxWidth=function(t){this.FLogoMaxWidth!==t&&(this.FLogoMaxWidth=t,this.Change())},this.SetLogoWidth=function(t){this.FLogoWidth!==t&&(this.FLogoWidth=t,this.Change())},this.IsAutoColorLightAlphaStored=function(){return.7!==this.FAutoColorLightAlpha},this.SetAutoColorDark=function(t){this.FAutoColorDark!==t&&(this.FAutoColorDark=t,this.Change())},this.Change=function(){null!=this.FOnChanged&&this.FOnChanged(this)},this.DoPositionColorChanged=function(t){this.Change()},this.DoFontChanged=function(t){this.Change()},this.Create$1=function(){return this.FPositionColor=t.TTMSFNCWXQRCodePositionColor.$create("Create$1"),this.FPositionColor.FOnChanged=rtl.createCallback(this,"DoPositionColorChanged"),this.FDotScale=1,this.FDotScaleTimingHorizontal=1,this.FDotScaleTimingVertical=1,this.FColorDark=0,this.FColorLight=16777215,this.FQuietZone=0,this.FQuietZoneColor=16777215,this.FSubTitleFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FSubTitleFont.FOnChanged=rtl.createCallback(this,"DoFontChanged"),this.FSubTitleTop=0,this.FTimingHorizontalColor=0,this.FTimingVerticalColor=0,this.FTitleBackgroundColor=16777215,this.FTitleFont=pas["WEBLib.TMSFNCGraphicsTypes"].TTMSFNCGraphicsFont.$create("Create$2"),this.FTitleFont.FOnChanged=rtl.createCallback(this,"DoFontChanged"),this.FTitleHeight=0,this.FTitleTop=30,this.FLogoBackgroundTransparent=!1,this.FLogoBackgroundColor=16777215,this.FBackgroundAutoColor=!1,this.FBackgroundImageAlpha=1,this.FAutoColorDarkAlpha=.6,this.FAutoColorLightAlpha=.7,this.FLogoWidth=-1,this.FLogoHeight=-1,this.FLogoMaxWidth=-1,this.FLogoMaxHeight=-1,this.FAutoColorLight=16777215,this.FAutoColorDark=0,this},this.Destroy=function(){rtl.free(this,"FPositionColor"),rtl.free(this,"FSubTitleFont"),rtl.free(this,"FTitleFont"),pas.System.TObject.Destroy.call(this)};var e=this.$rtti;e.addProperty("ColorDark",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColorDark","SetColorDark",{Default:0}),e.addProperty("ColorLight",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColorLight","SetColorLight",{Default:16777215}),e.addProperty("DotScale",14,rtl.double,"FDotScale","SetDotScale",{stored:"IsDotScaleStored"}),e.addProperty("DotScaleTimingVertical",14,rtl.double,"FDotScaleTimingVertical","SetDotScaleTimingVertical",{stored:"IsDotScaleTimingVerticalStored"}),e.addProperty("DotScaleTimingHorizontal",14,rtl.double,"FDotScaleTimingHorizontal","SetDotScaleTimingHorizontal",{stored:"IsDotScaleTimingHorizontalStored"}),e.addProperty("LogoBackgroundColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FLogoBackgroundColor","SetLogoBackgroundColor",{Default:16777215}),e.addProperty("BackgroundImageAlpha",14,rtl.double,"FBackgroundImageAlpha","SetBackgroundImageAlpha",{stored:"IsBackgroundImageAlphaStored"}),e.addProperty("BackgroundAutoColor",2,rtl.boolean,"FBackgroundAutoColor","SetBackgroundAutoColor",{Default:!1}),e.addProperty("LogoBackgroundTransparent",2,rtl.boolean,"FLogoBackgroundTransparent","SetLogoBackgroundTransparent",{Default:!1}),e.addProperty("PositionColor",2,t.$rtti.TTMSFNCWXQRCodePositionColor,"FPositionColor","SetPositionColor"),e.addProperty("TimingHorizonalColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTimingHorizontalColor","SetTimingHorizontalColor",{Default:0}),e.addProperty("TimingVerticalColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTimingVerticalColor","SetTimingVerticalColor",{Default:0}),e.addProperty("TitleFont",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FTitleFont","SetTitleFont"),e.addProperty("TitleBackgroundColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FTitleBackgroundColor","SetTitleBackgroundColor",{Default:16777215}),e.addProperty("TitleHeight",2,rtl.longint,"FTitleHeight","SetTitleHeight",{Default:0}),e.addProperty("TitleTop",2,rtl.longint,"FTitleTop","SetTitleTop",{Default:30}),e.addProperty("SubTitleFont",2,pas["WEBLib.TMSFNCGraphicsTypes"].$rtti.TTMSFNCGraphicsFont,"FSubTitleFont","SetSubTitleFont"),e.addProperty("SubTitleTop",2,rtl.longint,"FSubTitleTop","SetSubTitleTop",{Default:0}),e.addProperty("QuietZone",2,rtl.longint,"FQuietZone","SetQuietZone",{Default:0}),e.addProperty("QuietZoneColor",2,pas["WEBLib.Graphics"].$rtti.TColor,"FQuietZoneColor","SetQuietZoneColor",{Default:16777215}),e.addProperty("LogoWidth",2,rtl.longint,"FLogoWidth","SetLogoWidth",{Default:-1}),e.addProperty("LogoHeight",2,rtl.longint,"FLogoHeight","SetLogoHeight",{Default:-1}),e.addProperty("LogoMaxWidth",2,rtl.longint,"FLogoMaxWidth","SetLogoMaxWidth",{Default:-1}),e.addProperty("LogoMaxHeight",2,rtl.longint,"FLogoMaxHeight","SetLogoMaxHeight",{Default:-1}),e.addProperty("AutoColorDark",2,pas["WEBLib.Graphics"].$rtti.TColor,"FAutoColorDark","SetAutoColorDark",{Default:0}),e.addProperty("AutoColorDarkAlpha",14,rtl.double,"FAutoColorDarkAlpha","SetAutoColorDarkAlpha",{stored:"IsAutoColorDarkAlphaStored"}),e.addProperty("AutoColorLight",2,pas["WEBLib.Graphics"].$rtti.TColor,"FAutoColorLight","SetAutoColorLight",{Default:16777215}),e.addProperty("AutoColorLightAlpha",14,rtl.double,"FAutoColorLightAlpha","SetAutoColorLightAlpha",{stored:"IsAutoColorLightAlphaStored"})})),this.TTMSFNCWXQRCodeErrorCorrectionLevel={0:"eclL",eclL:0,1:"eclM",eclM:1,2:"eclQ",eclQ:2,3:"eclH",eclH:3},this.$rtti.$Enum("TTMSFNCWXQRCodeErrorCorrectionLevel",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TTMSFNCWXQRCodeErrorCorrectionLevel}),this.TTMSFNCWXQRCodeCrossOrigin={0:"coNull",coNull:0,1:"coAnonymous",coAnonymous:1},this.$rtti.$Enum("TTMSFNCWXQRCodeCrossOrigin",{minvalue:0,maxvalue:1,ordtype:1,enumtype:this.TTMSFNCWXQRCodeCrossOrigin}),this.$rtti.$MethodVar("TTMSFNCWXQRCodeGetEvent",{procsig:rtl.newTIProcSig([["Sender",pas.System.$rtti.TObject],["ABitmap",pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap]]),methodkind:0}),rtl.createClass(this,"TTMSFNCWXCustomQRCode",pas["WEBLib.TMSFNCCustomWEBControl"].TTMSFNCCustomWEBControl,(function(){this.$init=function(){pas["WEBLib.TMSFNCCustomWEBControl"].TTMSFNCCustomWEBControl.$init.call(this),this.FQRControlInitialized=!1,this.FErrorCorrectionLevel=0,this.FModuleVersion=0,this.FText="",this.FLibraryLocation=0,this.FOnGetQRCode=null,this.FCrossOrigin=0,this.FSettings=null,this.FSubTitle="",this.FTitle="",this.FLogo=null,this.FBackgroundImage=null},this.$final=function(){this.FOnGetQRCode=void 0,this.FSettings=void 0,this.FLogo=void 0,this.FBackgroundImage=void 0,pas["WEBLib.TMSFNCCustomWEBControl"].TTMSFNCCustomWEBControl.$final.call(this)},this.SetModuleVersion=function(t){this.FModuleVersion!==t&&t<41&&(this.FModuleVersion=t,this.Changed())},this.SetText=function(t){this.FText=t,this.Changed()},this.IsTextStored=function(){return""!==this.FText},this.SetSettings=function(t){this.FSettings.Assign(t)},this.SetCrossOrigin=function(t){this.FCrossOrigin=t,this.Changed()},this.IsSubTitleStored=function(){return""!==this.FSubTitle},this.IsTitleStored=function(){return""!==this.FTitle},this.SetSubTitle=function(t){this.FSubTitle=t,this.Changed()},this.SetTitle=function(t){this.FTitle=t,this.Changed()},this.SetLogo=function(t){this.FLogo.Assign(t)},this.SetBackgroundImage=function(t){this.FBackgroundImage.Assign(t)},this.DoControlInitialized=function(){pas["WEBLib.TMSFNCCustomWEBControl"].TTMSFNCCustomWEBControl.DoControlInitialized.call(this),this.FQRControlInitialized=!0,this.Changed()},this.GetCustomFunctions=function(){return pas.StrUtils.ReplaceStr(pas["WEBLib.TMSFNCWXQRCode.Consts"].GetWXQRJavaScriptCode(this.GetControlID()),pas["WEBLib.TMSFNCWXQRCode.Consts"].DATA_OBJECT,this.GetDefaultEventDataObject())},this.GetCustomCSS=function(){return"body,html {"+pas["WEBLib.TMSFNCWXQRCode.Consts"].LB+"  margin: 0;"+pas["WEBLib.TMSFNCWXQRCode.Consts"].LB+"  padding: 0;"+pas["WEBLib.TMSFNCWXQRCode.Consts"].LB+"}"},this.LoadLinks=function(t){pas["WEBLib.TMSFNCCustomWEBControl"].TTMSFNCCustomWEBControl.LoadLinks.apply(this,arguments),t.Add$1(pas["WEBLib.TMSFNCCustomWEBControl"].TTMSFNCCustomWEBControlLink.$create("CreateScript",["https://cdn.jsdelivr.net/npm/easyqrcodejs@latest/dist/easy.qrcode.min.js","","","",!1,!1]))},this.InitializeHTML=function(){pas["WEBLib.TMSFNCCustomWEBControl"].TTMSFNCCustomWEBControl.InitializeHTML.call(this)},this.CallCustomEvent=function(t){if(pas["WEBLib.TMSFNCCustomWEBControl"].TTMSFNCCustomWEBControl.CallCustomEvent.apply(this,arguments),""!==t.FEventName){var e=pas.StrUtils.IndexStr(t.FEventName,[pas["WEBLib.TMSFNCWXQRCode.Consts"].QRCODEGET]);0===e&&this.DoGetQRCode(t.FCustomData)}},this.GetWaitInitVariables=function(){return'  var e = document.getElementById("'+this.GetID()+'");'+pas["WEBLib.TMSFNCWXQRCode.Consts"].LB+'  var e2 = document.getElementById("'+this.GetControlID()+'");'},this.GetWaitInitCondition=function(){return"!window.QRCode || !e || !e2","!window.QRCode || !e || !e2"},this.DoGetQRCode=function(t){var e="",i=null;e=t,e=pas.SysUtils.StringReplace(e,'"',"",rtl.createSet(0)),(i=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3")).SetURL(e),null!=this.FOnGetQRCode&&this.FOnGetQRCode(this,i),i=rtl.freeLoc(i)},this.DoSettingsChanged=function(t){this.Changed()},this.Changed=function(){this.CreateQRCode(this.FText)},this.BitmapChanged=function(t){this.Changed()},this.GetUTF8Length=function(t){return t.length},this.GetJSQRExecuteAsString=function(t){var i,s,n,o,r,a,l,h=0,d=0,u=0,c=0,p=0,C=0,S="",F="",g="",m="",f="",T="",b="",y=0,v=0;h=1;var L=this.FErrorCorrectionLevel;0===L?h=1:1===L?h=2:2===L?h=3:3===L&&(h=4),i=Math.round(this.GetWidth())-2*this.FSettings.FQuietZone,d=""!==this.FTitle||""!==this.FSubTitle?Math.round(this.GetHeight())-this.FSettings.FTitleHeight-2*this.FSettings.FQuietZone:Math.round(this.GetHeight())-2*this.FSettings.FQuietZone,4 in this.FComponentState&&null==pas["WEBLib.Forms"].VSIDE&&(d-=pas["WEBLib.TMSFNCWXCommon"].GetDesignHeaderTextHeight(this.ScalePaintValue(6))),u=Math.round(Math.min(i,d)),c=1,s=this.GetUTF8Length(t);for(C=0;C<=39;C++){p=0;var B=this.FErrorCorrectionLevel;if(0===B?p=pas["WEBLib.TMSFNCWXQRCode.Consts"].QRCodeLimitLength[C][0]:1===B?p=pas["WEBLib.TMSFNCWXQRCode.Consts"].QRCodeLimitLength[C][1]:2===B?p=pas["WEBLib.TMSFNCWXQRCode.Consts"].QRCodeLimitLength[C][2]:3===B&&(p=pas["WEBLib.TMSFNCWXQRCode.Consts"].QRCodeLimitLength[C][3]),s<p)break;c+=1}0!==this.FModuleVersion&&c<this.FModuleVersion&&(c=this.FModuleVersion),n=4*c+17,u=pas.Math.Floor(u/n)*n,y=-1===this.FSettings.FLogoWidth?u/3.5:this.FSettings.FLogoWidth,v=-1===this.FSettings.FLogoHeight?u/3.5:this.FSettings.FLogoHeight,m=-1===this.FSettings.FLogoMaxWidth?"undefined":pas.SysUtils.IntToStr(this.FSettings.FLogoMaxWidth),f=-1===this.FSettings.FLogoMaxHeight?"undefined":pas.SysUtils.IntToStr(this.FSettings.FLogoMaxHeight),T=this.FSettings.FLogoBackgroundTransparent?"true":"false",b=this.FSettings.FBackgroundAutoColor?"true":"false",a=e.GetRGBACSS(this.FSettings.FAutoColorDark,this.FSettings.FAutoColorDarkAlpha),l=e.GetRGBACSS(this.FSettings.FAutoColorLight,this.FSettings.FAutoColorLightAlpha),S="";var M=this.FCrossOrigin;return 0===M?S="null":1===M&&(S='"anonymous"'),null!=this.FLogo.Image()&&(F=this.FLogo.Image().src),null!=this.FBackgroundImage.Image()&&(g=this.FBackgroundImage.Image().src),o=this.GetTitleFont(this.FSettings.FTitleFont),r=this.GetTitleFont(this.FSettings.FSubTitleFont),pas.SysUtils.Format(pas.StrUtils.ReplaceStr(pas["WEBLib.TMSFNCWXQRCode.Consts"].CREATEQRCODEJS,pas["WEBLib.TMSFNCWXQRCode.Consts"].CONTROL_ID,this.GetControlID()),pas.System.VarRecs(18,t,0,h,0,u,0,u,0,this.FModuleVersion,18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FColorLight),18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FColorDark),3,this.FSettings.FDotScale,3,this.FSettings.FDotScaleTimingVertical,3,this.FSettings.FDotScaleTimingHorizontal,0,this.FSettings.FQuietZone,18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FQuietZoneColor),18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FPositionColor.FTopLeftOuterColor),18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FPositionColor.FTopLeftInnerColor),18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FPositionColor.FTopRightOuterColor),18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FPositionColor.FTopRightInnerColor),18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FPositionColor.FBottomRightOuterColor),18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FPositionColor.FBottomRightInnerColor),18,this.FTitle,18,o,18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FTitleFont.FColor),18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FTitleBackgroundColor),0,this.FSettings.FTitleHeight,0,this.FSettings.FTitleTop,18,this.FSubTitle,18,r,18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FSubTitleFont.FColor),0,this.FSettings.FSubTitleTop,18,S,18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FTimingHorizontalColor),18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FTimingVerticalColor),18,F,3,y,3,v,18,m,18,f,18,T,18,pas["WEBLib.TMSFNCGraphics"].TTMSFNCGraphics.ColorToHTML(this.FSettings.FLogoBackgroundColor),18,g,3,this.FSettings.FBackgroundImageAlpha,18,b,18,a,18,l))},this.GetTitleFont=function(t){var e="";return e="normal ",0 in this.FSettings.FTitleFont.FStyle&&(e+="bold "),1 in this.FSettings.FTitleFont.FStyle&&(e+="italic "),3 in this.FSettings.FTitleFont.FStyle&&(e+=" underline "),2 in this.FSettings.FTitleFont.FStyle&&(e+=" line-through "),e=(e+=this.FSettings.FTitleFont.FName)+" "+pas.SysUtils.IntToStr(Math.round(this.FSettings.FTitleFont.FSize))+"pt"},this.Create$1=function(e){return this.FQRControlInitialized=!1,this.FSettings=t.TTMSFNCWXQRCodeSettings.$create("Create$1"),this.FSettings.FOnChanged=rtl.createCallback(this,"DoSettingsChanged"),this.FErrorCorrectionLevel=1,this.FModuleVersion=0,this.FText="123456",this.FLibraryLocation=1,this.FLogo=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FLogo.FOnChange=rtl.createCallback(this,"BitmapChanged"),this.FBackgroundImage=pas["WEBLib.TMSFNCTypes"].TTMSFNCBitmap.$create("Create$3"),this.FBackgroundImage.FOnChange=rtl.createCallback(this,"BitmapChanged"),pas["WEBLib.TMSFNCCustomWEBControl"].TTMSFNCCustomWEBControl.Create$1.apply(this,arguments),this.SetWidth(250),this.SetHeight(250),this},this.Destroy=function(){rtl.free(this,"FSettings"),rtl.free(this,"FLogo"),rtl.free(this,"FBackgroundImage"),pas["WEBLib.TMSFNCCustomWEBControl"].TTMSFNCCustomWEBControl.Destroy.call(this)},this.CreateQRCode=function(t){var e="";this.FQRControlInitialized&&(e=pas.SysUtils.StringReplace(t,"\r\n","\\n",rtl.createSet(0)),e=pas.SysUtils.StringReplace(e,"\r","\\n",rtl.createSet(0)),e=pas.SysUtils.StringReplace(e,"\n","\\n",rtl.createSet(0)),this.ExecuteJavaScript(this.GetJSQRExecuteAsString(e),null,!1))},this.Resize=function(){pas["WEBLib.TMSFNCCustomControl"].TTMSFNCCustomControl.Resize.call(this),this.Changed()},rtl.addIntf(this,pas["WEBLib.TMSFNCPersistence"].ITMSFNCPersistence),rtl.addIntf(this,pas.System.IUnknown)})),rtl.createClass(this,"TTMSFNCWXQRCode",this.TTMSFNCWXCustomQRCode,(function(){rtl.addIntf(this,pas["WEBLib.TMSFNCPersistence"].ITMSFNCPersistence),rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addProperty("ErrorCorrectionLevel",0,t.$rtti.TTMSFNCWXQRCodeErrorCorrectionLevel,"FErrorCorrectionLevel","FErrorCorrectionLevel",{Default:t.TTMSFNCWXQRCodeErrorCorrectionLevel.eclM}),e.addProperty("LibraryLocation",0,pas["WEBLib.TMSFNCWXCommon"].$rtti.TTMSFNCWXLibraryLocation,"FLibraryLocation","FLibraryLocation",{Default:pas["WEBLib.TMSFNCWXCommon"].TTMSFNCWXLibraryLocation.llOnline}),e.addProperty("ModuleVersion",2,rtl.byte,"FModuleVersion","SetModuleVersion",{Default:0}),e.addProperty("Text",14,rtl.string,"FText","SetText",{stored:"IsTextStored"}),e.addProperty("Settings",2,t.$rtti.TTMSFNCWXQRCodeSettings,"FSettings","SetSettings"),e.addProperty("CrossOrigin",2,t.$rtti.TTMSFNCWXQRCodeCrossOrigin,"FCrossOrigin","SetCrossOrigin",{Default:t.TTMSFNCWXQRCodeCrossOrigin.coNull}),e.addProperty("Title",14,rtl.string,"FTitle","SetTitle",{stored:"IsTitleStored"}),e.addProperty("SubTitle",14,rtl.string,"FSubTitle","SetSubTitle",{stored:"IsSubTitleStored"}),e.addProperty("Logo",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FLogo","SetLogo"),e.addProperty("BackgroundImage",2,pas["WEBLib.TMSFNCTypes"].$rtti.TTMSFNCBitmap,"FBackgroundImage","SetBackgroundImage"),e.addProperty("OnGetQRCode",0,t.$rtti.TTMSFNCWXQRCodeGetEvent,"FOnGetQRCode","FOnGetQRCode"),e.attr=[pas.Classes.ComponentPlatformsAttribute,"Create$1",[0]]})),t.$implcode=function(){e.GetRGBACSS=function(t,e){var i,s,n;return"rgba(%d, %d, %d, %f)",i=pas["WEBLib.Graphics"].GetRValue(t),s=pas["WEBLib.Graphics"].GetGValue(t),n=pas["WEBLib.Graphics"].GetBValue(t),pas.SysUtils.Format("rgba(%d, %d, %d, %f)",pas.System.VarRecs(0,i,0,s,0,n,3,e))}}}),["SysUtils","StrUtils","WEBLib.TMSFNCUtils","Types","Math","WEBLib.TMSFNCGraphics","WEBLib.Graphics","WEBLib.TMSFNCWXQRCode.Consts"]),rtl.module("WEBLib.DropDown",["System","Classes","WEBLib.Controls","WEBLib.Forms","Web","JS","WEBLib.Menus","WEBLib.Graphics"],(function(){"use strict";rtl.createClass(this,"TCustomDropDownControl",pas["WEBLib.Menus"].TWebCustomControl,(function(){this.$init=function(){pas["WEBLib.Menus"].TWebCustomControl.$init.call(this),this.FDoClickLayer=null,this.FLayer$1=null,this.FControl=null,this.FDropDown=null,this.FTextElement=null,this.FButton=null,this.FOnCloseUp=null,this.FOnDropDown=null,this.FText="",this.FAutoDropDown=!1,this.FElementInputClassName="",this.FButtonImageURL="",this.FDropDownHeight=0,this.FDropDownWidth=0,this.FDropDownColor=0,this.FDropDownShadow=!1},this.$final=function(){this.FLayer$1=void 0,this.FControl=void 0,this.FDropDown=void 0,this.FTextElement=void 0,this.FButton=void 0,this.FOnCloseUp=void 0,this.FOnDropDown=void 0,pas["WEBLib.Menus"].TWebCustomControl.$final.call(this)},this.SetText=function(t){this.FText=t,this.HasEdit()?this.FTextElement.value=t:this.FTextElement.innerHTML=""!==t?t:"&nbsp;"},this.GetText=function(){var t="";return t=this.FText,this.HasEdit()&&(t=this.FTextElement.value),t},this.SetButtonImageURL=function(t){this.FButtonImageURL!==t&&(this.FButtonImageURL=t,this.UpdateElement())},this.UpdateElementVisual=function(){var t=0;pas["WEBLib.Controls"].TCustomControl.UpdateElementVisual.call(this),this.HasEdit()||1!==this.FBorderStyle||this.GetElementHandle().style.setProperty("border","1px solid silver"),this.GetElementHandle().style.removeProperty("overflow"),t=this.GetHeight()-1,pas["WEBLib.Controls"].SetHTMLElementFont(this.FTextElement,this.FFont,1===this.FElementFont),this.FButton.style.setProperty("height",pas.SysUtils.TIntegerHelper.ToString$1.call({get:function(){return t},set:function(e){t=e}})+"px"),this.FTextElement.style.setProperty("height",pas.SysUtils.TIntegerHelper.ToString$1.call({get:function(){return t},set:function(e){t=e}})+"px"),this.FButton.style.setProperty("line-height",pas.SysUtils.TIntegerHelper.ToString$1.call({get:function(){return t},set:function(e){t=e}})+"px"),this.FTextElement.style.setProperty("line-height",pas.SysUtils.TIntegerHelper.ToString$1.call({get:function(){return t},set:function(e){t=e}})+"px"),""!==this.FButtonImageURL?this.FButton.innerHTML='<img src="'+this.FButtonImageURL+'">':this.FButton.innerHTML='<i class="arrow down"></i>',""!==this.FElementInputClassName?this.FTextElement.classList.add(this.FElementInputClassName):this.FTextElement.classList.contains(this.FElementInputClassName)&&this.FTextElement.classList.remove(this.FElementInputClassName)},this.CreateInitialize=function(){pas["WEBLib.Controls"].TCustomControl.CreateInitialize.call(this),this.FAutoDropDown=!1,this.FDropDownColor=16777215,this.FDropDownWidth=0,this.FDropDownHeight=0,this.FDropDownShadow=!0},this.HandleDoClickLayer=function(t){return this.HideDropDown(),!0,!0},this.Click=function(){pas["WEBLib.Controls"].TControl.Click.call(this),(this.GetElementEvent().target===this.FButton||this.GetElementEvent().target.parentElement===this.FButton||this.FAutoDropDown)&&this.ToggleDropDown()},this.HasEdit=function(){return!1,!1},this.CreateChildElements=function(t){var e=null;this.HasEdit()?(this.FTextElement=document.createElement("INPUT"),this.FTextElement.setAttribute("type","TEXT"),0===this.FElementFont&&pas["WEBLib.Controls"].SetHTMLElementFont(this.FTextElement,this.FFont,1===this.FElementFont)):(this.FTextElement=document.createElement("DIV"),this.FTextElement.setAttribute("type","TEXT"),this.FTextElement.style.setProperty("padding-left","2px"),this.FTextElement.style.setProperty("padding-right","2px"),this.FTextElement.style.setProperty("text-overflow","ellipsis"),0===this.FElementFont&&pas["WEBLib.Controls"].SetHTMLElementFont(this.FTextElement,this.FFont,1===this.FElementFont)),this.FButton=document.createElement("DIV"),this.FTextElement.style.setProperty("display","inline-block"),this.FTextElement.style.setProperty("width","calc(100% - 25px)"),0===(e=t.getBoundingClientRect()).height&&(e.height=26),this.FTextElement.style.setProperty("height",pas.SysUtils.TDoubleHelper.ToString$3.call({p:e,get:function(){return this.p.height},set:function(t){this.p.height=t}})+"px"),this.FTextElement.style.setProperty("box-sizing","border-box"),this.FTextElement.style.setProperty("line-height",pas.SysUtils.TDoubleHelper.ToString$3.call({p:e,get:function(){return this.p.height},set:function(t){this.p.height=t}})+"px"),this.FTextElement.style.setProperty("vertical-align","middle"),this.FButton.style.setProperty("background-color","silver"),this.FButton.style.setProperty("display","inline-block"),this.FButton.style.setProperty("width","25px"),this.FButton.style.setProperty("height",pas.SysUtils.TDoubleHelper.ToString$3.call({p:e,get:function(){return this.p.height},set:function(t){this.p.height=t}})+"px"),this.FButton.style.setProperty("line-height",pas.SysUtils.TDoubleHelper.ToString$3.call({p:e,get:function(){return this.p.height},set:function(t){this.p.height=t}})+"px"),this.FButton.style.setProperty("text-align","center"),this.FButton.style.setProperty("vertical-align","middle"),this.FDropDown=document.createElement("DIV"),this.FDropDown.style.setProperty("position","absolute"),this.FDropDown.style.setProperty("display","none"),this.FDropDown.style.setProperty("background-color","#f1f1f1"),this.FDropDown.style.setProperty("box-shadow","0px 8px 8px 0px rgba(0,0,0,0.2)"),this.FDropDown.style.setProperty("z-index","1"),this.FTextElement.innerHTML="&nbsp;",t.appendChild(this.FTextElement),t.appendChild(this.FButton),this.FLayer$1=document.createElement("SPAN"),this.FLayer$1.style.setProperty("top","0"),this.FLayer$1.style.setProperty("left","0"),this.FLayer$1.style.setProperty("right","0"),this.FLayer$1.style.setProperty("bottom","0"),this.FLayer$1.style.setProperty("webkit-user-select","none"),this.FLayer$1.style.setProperty("moz-user-select","none"),this.FLayer$1.style.setProperty("khtml-user-select","none"),this.FLayer$1.style.setProperty("ms-user-select","none"),this.FLayer$1.style.setProperty("user-select","none"),this.FLayer$1.style.setProperty("position","absolute"),this.AddInstanceStyle(".arrow { border: solid black; border-width: 0 2px 2px 0;  display: inline-block;  padding: 2px;}\r\n.down { transform: rotate(45deg); -webkit-transform: rotate(45deg);};"),this.FButton.innerHTML='<i class="arrow down"></i>'},this.CreateElement=function(){return document.createElement("DIV")},this.ClearMethodPointers=function(){pas["WEBLib.Controls"].TControl.ClearMethodPointers.call(this),this.FDoClickLayer=null},this.GetMethodPointers=function(){pas["WEBLib.Controls"].TControl.GetMethodPointers.call(this),null===this.FDoClickLayer&&(this.FDoClickLayer=rtl.createCallback(this,"HandleDoClickLayer"))},this.DoDropDown=function(){null!=this.FOnDropDown&&this.FOnDropDown(this)},this.DoCloseUp=function(){null!=this.FOnCloseUp&&this.FOnCloseUp(this)},this.ShowDropDown=function(){var t=null,e=0,i=0;null!=this.GetElementHandle()&&(this.FLayer$1.style.setProperty("z-index",pas["WEBLib.Forms"].Application.MaxZIndexStr()),document.body.appendChild(this.FLayer$1),this.FLayer$1.addEventListener("click",this.FDoClickLayer),this.FLayer$1.appendChild(this.FDropDown),this.FDropDown.style.setProperty("display","block"),null!=this.FControl&&(this.FControl.SetLeft(0),this.FControl.SetTop(0),this.FControl.SetElementPosition(0),this.FControl.SetElementFont(this.FElementFont),this.FControl.SetVisible(!0),t=this.GetElementHandle().getBoundingClientRect(),this.FDropDown.style.setProperty("left",pas.SysUtils.TDoubleHelper.ToString$3.call({p:t,get:function(){return this.p.left},set:function(t){this.p.left=t}})+"px"),this.FDropDown.style.setProperty("top",pas.SysUtils.TDoubleHelper.ToString$3.call({p:t,get:function(){return this.p.bottom},set:function(t){this.p.bottom=t}})+"px"),t=this.FControl.GetElementHandle().getBoundingClientRect(),e=this.FDropDownWidth>0?this.FDropDownWidth:Math.max(t.width,this.FControl.GetWidth()),this.FDropDown.style.setProperty("width",pas.SysUtils.TDoubleHelper.ToString$3.call({get:function(){return e},set:function(t){e=t}})+"px"),i=this.FDropDownHeight>0?this.FDropDownHeight:Math.max(t.height,this.FControl.GetHeight()),this.FDropDown.style.setProperty("height",pas.SysUtils.TDoubleHelper.ToString$3.call({get:function(){return i},set:function(t){i=t}})+"px"),-1!==this.FDropDownColor&&this.FDropDown.style.setProperty("background-color",pas["WEBLib.Graphics"].ColorToHTML(this.FDropDownColor)),this.FDropDown.appendChild(this.FControl.GetElementHandle())),this.FDropDownShadow&&this.FDropDown.style.setProperty("box-shadow","0px 8px 8px 0px rgba(0,0,0,0.2)"),this.DoDropDown())},this.HideDropDown=function(){this.DoCloseUp(),this.FLayer$1.removeEventListener("click",this.FDoClickLayer),this.FLayer$1.parentElement.removeChild(this.FLayer$1),this.FDropDown.style.setProperty("display","none"),this.FDropDown.parentElement.removeChild(this.FDropDown)},this.ToggleDropDown=function(){"none"===this.FDropDown.style.getPropertyValue("display")?this.ShowDropDown():this.HideDropDown()},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("AutoDropDown",0,rtl.boolean,"FAutoDropDown","FAutoDropDown",{Default:!1}),t.addProperty("DropDownColor",0,pas["WEBLib.Graphics"].$rtti.TColor,"FDropDownColor","FDropDownColor",{Default:16777215}),t.addProperty("DropDownWidth",0,rtl.longint,"FDropDownWidth","FDropDownWidth",{Default:0}),t.addProperty("DropDownHeight",0,rtl.longint,"FDropDownHeight","FDropDownHeight",{Default:0}),t.addProperty("DropDownShadow",0,rtl.boolean,"FDropDownShadow","FDropDownShadow",{Default:!0}),t.addProperty("OnDropDown",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDropDown","FOnDropDown"),t.addProperty("OnCloseUp",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnCloseUp","FOnCloseUp")})),rtl.createClass(this,"TDropDownControl",this.TCustomDropDownControl,(function(){rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addProperty("Align",2,pas["WEBLib.Controls"].$rtti.TAlign,"FAlign","SetAlign",{Default:pas["WEBLib.Controls"].TAlign.alNone}),t.addProperty("AlignWithMargins",2,rtl.boolean,"FAlignWithMargins","SetAlignWithMargins",{Default:!1}),t.addProperty("Anchors",2,pas["WEBLib.Controls"].$rtti.TAnchors,"FAnchors","SetAnchors",{Default:rtl.createSet(0,1)}),t.addProperty("BiDiMode",2,pas["WEBLib.Controls"].$rtti.TBiDiMode,"FBiDiMode","SetBiDiMode",{Default:pas["WEBLib.Controls"].TBiDiMode.bdLeftToRight}),t.addProperty("BorderStyle",2,pas["WEBLib.Controls"].$rtti.TBorderStyle,"FBorderStyle","SetBorderStyle",{Default:pas["WEBLib.Controls"].TBorderStyle.bsSingle}),t.addProperty("ButtonImageURL",2,rtl.string,"FButtonImageURL","SetButtonImageURL"),t.addProperty("ChildOrder",2,rtl.longint,"FChildOrder","SetChildOrderEx",{Default:0}),t.addProperty("Color",2,pas["WEBLib.Graphics"].$rtti.TColor,"FColor","SetColor"),t.addProperty("Control",0,pas["WEBLib.Menus"].$rtti.TWebCustomControl,"FControl","FControl"),t.addProperty("DragMode",2,pas["WEBLib.Controls"].$rtti.TDragMode,"FDragMode","SetDragMode",{Default:pas["WEBLib.Controls"].TDragMode.dmManual}),t.addProperty("Font",2,pas["WEBLib.Graphics"].$rtti.TFont,"FFont","SetFont"),t.addProperty("ElementClassName",2,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementClassName","SetElementClassName"),t.addProperty("ElementInputClassName",0,pas["WEBLib.Controls"].$rtti.TElementClassName,"FElementInputClassName","FElementInputClassName"),t.addProperty("ElementID",3,pas["WEBLib.Controls"].$rtti.TElementID,"GetID","SetID"),t.addProperty("ElementFont",2,pas["WEBLib.Controls"].$rtti.TElementFont,"FElementFont","SetElementFont",{Default:pas["WEBLib.Controls"].TElementFont.efProperty}),t.addProperty("ElementPosition",2,pas["WEBLib.Controls"].$rtti.TElementPosition,"FElementPosition","SetElementPosition",{Default:pas["WEBLib.Controls"].TElementPosition.epAbsolute}),t.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),t.addProperty("Height",3,rtl.longint,"GetHeight","SetHeight"),t.addProperty("HeightPercent",2,rtl.double,"FHeightPercent","SetHeightPercent",{Default:100}),t.addProperty("HeightStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FHeightStyle","SetHeightStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("Hint",2,rtl.string,"FHint","SetHint"),t.addProperty("Left",3,rtl.longint,"GetLeft","SetLeft"),t.addProperty("ParentColor",2,rtl.boolean,"FParentColor","SetParentColor",{Default:!1}),t.addProperty("ParentFont",2,rtl.boolean,"FParentFont","SetParentFont",{Default:!0}),t.addProperty("PopupMenu",0,pas["WEBLib.Menus"].$rtti.TPopupMenu,"FPopupMenu","FPopupMenu"),t.addProperty("Role",3,rtl.string,"GetRole","SetRole"),t.addProperty("ShowFocus",2,rtl.boolean,"FShowFocus","SetShowFocus",{Default:!1}),t.addProperty("ShowHint",2,rtl.boolean,"FShowHint","SetShowHint",{Default:!1}),t.addProperty("TabOrder",2,rtl.longint,"FTabOrder","SetTabOrder"),t.addProperty("TabStop",2,rtl.boolean,"FTabStop","SetTabStop",{Default:!0}),t.addProperty("Text",3,rtl.string,"GetText","SetText"),t.addProperty("TextDirection",0,pas["WEBLib.Controls"].$rtti.TTextDirection,"FTextDirection","FTextDirection",{Default:pas["WEBLib.Controls"].TTextDirection.tdDefault}),t.addProperty("Top",3,rtl.longint,"GetTop","SetTop"),t.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),t.addProperty("Width",3,rtl.longint,"GetWidth","SetWidth"),t.addProperty("WidthPercent",2,rtl.double,"FWidthPercent","SetWidthPercent",{Default:100}),t.addProperty("WidthStyle",2,pas["WEBLib.Controls"].$rtti.TSizeStyle,"FWidthStyle","SetWidthStyle",{Default:pas["WEBLib.Controls"].TSizeStyle.ssAbsolute}),t.addProperty("OnClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnClick","FOnClick"),t.addProperty("OnCloseUp",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnCloseUp","FOnCloseUp"),t.addProperty("OnDblClick",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDblClick","FOnDblClick"),t.addProperty("OnDropDown",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnDropDown","FOnDropDown"),t.addProperty("OnKeyDown",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyDown","FOnKeyDown"),t.addProperty("OnKeyPress",0,pas["WEBLib.Controls"].$rtti.TKeyPressEvent,"FOnKeyPress","FOnKeyPress"),t.addProperty("OnKeyUp",0,pas["WEBLib.Controls"].$rtti.TKeyEvent,"FOnKeyUp","FOnKeyUp"),t.addProperty("OnMouseDown",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseDown","FOnMouseDown"),t.addProperty("OnMouseUp",0,pas["WEBLib.Controls"].$rtti.TMouseEvent,"FOnMouseUp","FOnMouseUp"),t.addProperty("OnMouseMove",0,pas["WEBLib.Controls"].$rtti.TMouseMoveEvent,"FOnMouseMove","FOnMouseMove"),t.addProperty("OnMouseLeave",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseLeave","FOnMouseLeave"),t.addProperty("OnMouseEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnMouseEnter","FOnMouseEnter"),t.addProperty("OnMouseWheel",0,pas["WEBLib.Controls"].$rtti.TMouseWheelEvent,"FOnMouseWheel","FOnMouseWheel"),t.addProperty("OnEnter",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnEnter","FOnEnter"),t.addProperty("OnExit",0,pas["WEBLib.Controls"].$rtti.TNotifyEvent,"FOnExit","FOnExit"),t.addProperty("OnDragDrop",0,pas["WEBLib.Controls"].$rtti.TDragDropEvent,"FOnDragDrop","FOnDragDrop"),t.addProperty("OnDragOver",0,pas["WEBLib.Controls"].$rtti.TDragOverEvent,"FOnDragOver","FOnDragOver"),t.addProperty("OnEndDrag",0,pas["WEBLib.Controls"].$rtti.TEndDragEvent,"FonEndDrag","FonEndDrag"),t.addProperty("OnStartDrag",0,pas["WEBLib.Controls"].$rtti.TStartDragEvent,"FOnStartDrag","FOnStartDrag")}))}),["SysUtils","Math"]),rtl.module("UnitLogin",["System","SysUtils","Classes","JS","Web","XData.Web.Client","XData.Web.Connection","WEBLib.Graphics","WEBLib.Controls","WEBLib.Forms","WEBLib.Dialogs","WEBLib.StdCtrls","WEBLib.WebCtrls","WEBLib.WebTools","WEBLib.JSON","WEBLib.StdCtrls","WEBLib.Controls","WEBLib.ExtCtrls"],(function(){"use strict";rtl.createClass(this,"TLoginForm",pas["WEBLib.Forms"].TForm,(function(){this.$init=function(){pas["WEBLib.Forms"].TForm.$init.call(this),this.divLoginMain=null,this.WebHTMLDiv3=null,this.WebHTMLDiv4=null,this.edtLoginEMail=null,this.divLoginPasswordHolder=null,this.WebHTMLDiv2=null,this.edtLoginPassword=null,this.divLoginTitle=null,this.divLoginButtons=null,this.btnLogin=null,this.btnForgot=null,this.btnRegister=null,this.labelLoginProgress=null,this.tmrOpen=null},this.$final=function(){this.divLoginMain=void 0,this.WebHTMLDiv3=void 0,this.WebHTMLDiv4=void 0,this.edtLoginEMail=void 0,this.divLoginPasswordHolder=void 0,this.WebHTMLDiv2=void 0,this.edtLoginPassword=void 0,this.divLoginTitle=void 0,this.divLoginButtons=void 0,this.btnLogin=void 0,this.btnForgot=void 0,this.btnRegister=void 0,this.labelLoginProgress=void 0,this.tmrOpen=void 0,pas["WEBLib.Forms"].TForm.$final.call(this)},this.btnLoginClick=async function(t){var e=null,i=void 0,s=void 0,n=null;if(""!==pas["WEBLib.WebTools"].GetQueryParam("Development")?(pas.Unit1.Form1.ServerName="http://localhost:2001/tms/xdata",pas.Unit1.Form1.LogActivity("Development Mode Specified")):pas.Unit1.Form1.ServerName="https://carnival.500foods.com:10101/500Surveys",pas.Unit1.Form1.LogActivity("Connecting to "+pas.Unit1.Form1.ServerName),this.labelLoginProgress.SetCaption(pas.Unit1.Form1.ServerName),!pas.Unit1.Form1.ServerConn.GetConnected()){pas.Unit1.Form1.ServerConn.SetURL(pas.Unit1.Form1.ServerName);try{await pas.Unit1.Form1.ServerConn.OpenAsync(),pas.Unit1.Form1.LogActivity("Connected to "+pas.Unit1.Form1.ServerName),this.labelLoginProgress.SetCaption(pas.Unit1.Form1.ServerName)}catch(t){if(!pas.SysUtils.Exception.isPrototypeOf(t))throw t;var o=t;pas.Unit1.Form1.LogActivity("Connnection Error: ["+o.$classname+"] "+o.fMessage),window.console.log("Connnection Error: ["+o.$classname+"] "+o.fMessage),this.labelLoginProgress.SetCaption("Connection Failed - Please Try Again")}}if(pas.Unit1.Form1.LogActivity(""),pas.Unit1.Form1.LogActivity("Authenticating."),this.labelLoginProgress.SetCaption("Authorizing"),pas.Unit1.Form1.ServerConn.GetConnected())try{(e=pas["XData.Web.Client"].TXDataWebClient.$create("Create$1",[null])).SetConnection(pas.Unit1.Form1.ServerConn),pas.Unit1.Form1.JWT="",i=s=(await e.RawInvokeAsync("ISurveyAdminService.Login",[this.edtLoginEMail.GetText(),this.edtLoginPassword.GetText()])).FResult,i=s.value}catch(t){if(!pas.SysUtils.Exception.isPrototypeOf(t))throw t;o=t;pas.Unit1.Form1.LogActivity("Authorization Error: ["+o.$classname+"] "+o.fMessage),window.console.log("Authorization Error: ["+o.$classname+"] "+o.fMessage),this.labelLoginProgress.SetCaption("Authorization Error - Please Try Again")}(""+i).length>0&&("Bearer "===pas.System.Copy(""+i,1,7)?(pas.Unit1.Form1.JWT=""+i,pas.Unit1.Form1.LogActivity("Authentication Successful."),pas.Unit1.Form1.LogActivity(""),this.labelLoginProgress.SetCaption("Login Successful"),n=rtl.as(pas["WEBLib.JSON"].TJSONObject.ParseJSONValue(window.atob(pas.System.Copy(pas.Unit1.Form1.JWT,pas.System.Pos(".",pas.Unit1.Form1.JWT)+1,pas.SysUtils.LastDelimiter(".",pas.Unit1.Form1.JWT)-pas.System.Pos(".",pas.Unit1.Form1.JWT)-1))),pas["WEBLib.JSON"].TJSONObject),pas.Unit1.Form1.Account_ID=rtl.as(n.Get("account").fjv,pas["WEBLib.JSON"].TJSONString).GetStrValue(),pas.Unit1.Form1.Account_EMail=rtl.as(n.Get("email").fjv,pas["WEBLib.JSON"].TJSONString).GetStrValue(),pas.Unit1.Form1.Account_First=rtl.as(n.Get("first").fjv,pas["WEBLib.JSON"].TJSONString).GetStrValue(),pas.Unit1.Form1.Account_Last=rtl.as(n.Get("last").fjv,pas["WEBLib.JSON"].TJSONString).GetStrValue(),pas.Unit1.Form1.Account_Security=rtl.as(n.Get("security").fjv,pas["WEBLib.JSON"].TJSONString).GetStrValue(),n=rtl.freeLoc(n),"N"===pas.System.Copy(pas.Unit1.Form1.Account_Security,1,1)&&pas.Unit1.Form1.btnSurveys.GetElementHandle().remove(),"N"===pas.System.Copy(pas.Unit1.Form1.Account_Security,2,1)&&pas.Unit1.Form1.btnResponses.GetElementHandle().remove(),"N"===pas.System.Copy(pas.Unit1.Form1.Account_Security,3,1)&&pas.Unit1.Form1.btnQuestions.GetElementHandle().remove(),"N"===pas.System.Copy(pas.Unit1.Form1.Account_Security,4,1)&&pas.Unit1.Form1.btnAccounts.GetElementHandle().remove(),"N"===pas.System.Copy(pas.Unit1.Form1.Account_Security,5,1)&&pas.Unit1.Form1.btnLogging.GetElementHandle().remove(),"N"!==pas.System.Copy(pas.Unit1.Form1.Account_Security,1,1)?pas.Unit1.Form1.btnMainMenuClick(pas.Unit1.Form1.btnSurveys):"N"!==pas.System.Copy(pas.Unit1.Form1.Account_Security,2,1)?pas.Unit1.Form1.btnMainMenuClick(pas.Unit1.Form1.btnResponses):"N"!==pas.System.Copy(pas.Unit1.Form1.Account_Security,3,1)?pas.Unit1.Form1.btnMainMenuClick(pas.Unit1.Form1.btnQuestions):"N"!==pas.System.Copy(pas.Unit1.Form1.Account_Security,4,1)?pas.Unit1.Form1.btnMainMenuClick(pas.Unit1.Form1.btnAccounts):"N"!==pas.System.Copy(pas.Unit1.Form1.Account_Security,5,1)&&pas.Unit1.Form1.btnMainMenuClick(pas.Unit1.Form1.btnLogging),"N"!==pas.System.Copy(pas.Unit1.Form1.Account_Security,1,1)&&pas.Unit1.Form1.btnSurveyReloadClick(t),"N"!==pas.System.Copy(pas.Unit1.Form1.Account_Security,4,1)&&pas.Unit1.Form1.btnAccountsReloadClick(t),"N"!==pas.System.Copy(pas.Unit1.Form1.Account_Security,4,1)&&pas.Unit1.Form1.btnIssuesReloadClick(t),"N"!==pas.System.Copy(pas.Unit1.Form1.Account_Security,5,1)&&pas.Unit1.Form1.btnLoggingReloadClick(t),pas.Unit1.Form1.btnAccount.SetCaption('<div class="mx-2"><i class="fa-solid fa-user me-2 fa-xl"></i>'+pas.Unit1.Form1.Account_First+"</div>"),pas.Unit1.Form1.btnAccount.SetHint("Change Account Settings for "+pas.Unit1.Form1.Account_First+" "+pas.Unit1.Form1.Account_Last),this.SetModalResult(1),pas.Unit1.Form1.divBlocker.SetVisible(!1),pas.Unit1.Form1.divBlocker.SetElementClassName("")):(pas.Unit1.Form1.LogActivity("Incorrect E-Mail / Password. Please Try Again."),this.labelLoginProgress.SetCaption("Incorrect E-Mail or Password - Please Try Again"),this.edtLoginPassword.SetFocus(),this.edtLoginPassword.SelectAll()))},this.edtLoginEMailKeyDown=function(t,e,i){13===e.get()?""===pas.SysUtils.Trim(this.edtLoginEMail.GetText())?this.edtLoginEMail.SetFocus():""===pas.SysUtils.Trim(this.edtLoginPassword.GetText())?this.edtLoginPassword.SetFocus():this.btnLoginClick(t):"Please Login"!==this.labelLoginProgress.FCaption&&this.labelLoginProgress.SetCaption("Please Login")},this.WebFormShow=function(t){this.tmrOpen.SetEnabled(!0),this.divLoginMain.SetTop(rtl.trunc((this.GetHeight()-this.divLoginMain.GetHeight())/2)),this.divLoginMain.SetLeft(rtl.trunc((this.GetWidth()-this.divLoginMain.GetWidth())/2))},this.tmrOpenTimer=function(t){this.tmrOpen.SetEnabled(!1),document.getElementById("edtLoginEMail").focus(),document.body.classList.add("Ready")},this.LoadDFMValues=function(){pas["WEBLib.Forms"].TCustomForm.LoadDFMValues.call(this),this.divLoginMain=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLoginMain"]),this.labelLoginProgress=pas["WEBLib.StdCtrls"].TLabel.$create("Create$2",["labelLoginProgress"]),this.WebHTMLDiv3=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLoginEMailHolder"]),this.WebHTMLDiv4=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLoginUsernameLabel"]),this.edtLoginEMail=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtLoginEMail"]),this.divLoginPasswordHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLoginPasswordHolder"]),this.WebHTMLDiv2=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLoginPasswordLabel"]),this.edtLoginPassword=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtLoginPassword"]),this.divLoginTitle=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLoginTitle"]),this.divLoginButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLoginButtons"]),this.btnLogin=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLogin"]),this.btnForgot=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnForgot"]),this.btnRegister=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnRegister"]),this.tmrOpen=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.divLoginMain.BeforeLoadDFMValues(),this.labelLoginProgress.BeforeLoadDFMValues(),this.WebHTMLDiv3.BeforeLoadDFMValues(),this.WebHTMLDiv4.BeforeLoadDFMValues(),this.edtLoginEMail.BeforeLoadDFMValues(),this.divLoginPasswordHolder.BeforeLoadDFMValues(),this.WebHTMLDiv2.BeforeLoadDFMValues(),this.edtLoginPassword.BeforeLoadDFMValues(),this.divLoginTitle.BeforeLoadDFMValues(),this.divLoginButtons.BeforeLoadDFMValues(),this.btnLogin.BeforeLoadDFMValues(),this.btnForgot.BeforeLoadDFMValues(),this.btnRegister.BeforeLoadDFMValues(),this.tmrOpen.BeforeLoadDFMValues();try{this.SetName("LoginForm"),this.SetWidth(375),this.SetHeight(214),this.SetAlign(5),this.SetCaption("Login"),this.SetColor(-1),this.FCSSLibrary=1,this.SetElementClassName("border border-0 LoginForm"),this.SetElementFont(1),this.SetElementPosition(2),this.FFont.FCharset=1,this.FFont.SetColor(65793),this.FFont.SetHeight(-15),this.FFont.SetName("Tahoma"),this.FFont.SetStyle({}),this.SetParentFont(!1),this.SetShadow(!1),this.SetEvent(this,"OnKeyDown","edtLoginEMailKeyDown"),this.SetEvent(this,"OnResize","WebFormShow"),this.SetEvent(this,"OnShow","WebFormShow"),this.divLoginMain.SetParentComponent(this),this.divLoginMain.SetName("divLoginMain"),this.divLoginMain.SetLeft(5),this.divLoginMain.SetTop(5),this.divLoginMain.SetWidth(365),this.divLoginMain.SetHeight(202),this.divLoginMain.SetElementClassName("draggable rounded border border-2 border-danger bg-dark"),this.divLoginMain.SetChildOrderEx(2),this.divLoginMain.SetElementFont(1),this.divLoginMain.SetRole(""),this.labelLoginProgress.SetParentComponent(this.divLoginMain),this.labelLoginProgress.SetName("labelLoginProgress"),this.labelLoginProgress.SetAlignWithMargins(!0),this.labelLoginProgress.SetLeft(8),this.labelLoginProgress.SetTop(116),this.labelLoginProgress.SetWidth(349),this.labelLoginProgress.SetHeight(32),this.labelLoginProgress.FMargins.SetLeft(8),this.labelLoginProgress.FMargins.SetTop(8),this.labelLoginProgress.FMargins.SetRight(8),this.labelLoginProgress.FMargins.SetBottom(0),this.labelLoginProgress.SetAlign(1),this.labelLoginProgress.SetAlignment(2),this.labelLoginProgress.SetAutoSize(!1),this.labelLoginProgress.SetCaption("Please Login"),this.labelLoginProgress.SetElementClassName("LoginProgress rounded border border-secondary border-2 bg-dark text-white"),this.labelLoginProgress.SetElementFont(1),this.labelLoginProgress.SetHeightPercent(100),this.labelLoginProgress.SetLayout(1),this.labelLoginProgress.FShowAccelChar=!1,this.labelLoginProgress.SetWidthPercent(100),this.SetEvent$1(this.labelLoginProgress,this,"OnClick","btnLoginClick"),this.WebHTMLDiv3.SetParentComponent(this.divLoginMain),this.WebHTMLDiv3.SetName("WebHTMLDiv3"),this.WebHTMLDiv3.SetAlignWithMargins(!0),this.WebHTMLDiv3.SetLeft(8),this.WebHTMLDiv3.SetTop(36),this.WebHTMLDiv3.SetWidth(349),this.WebHTMLDiv3.SetHeight(32),this.WebHTMLDiv3.FMargins.SetLeft(8),this.WebHTMLDiv3.FMargins.SetTop(8),this.WebHTMLDiv3.FMargins.SetRight(8),this.WebHTMLDiv3.FMargins.SetBottom(0),this.WebHTMLDiv3.SetElementClassName("overflow-hidden rounded border border-secondary bg-secondary"),this.WebHTMLDiv3.SetAlign(1),this.WebHTMLDiv3.SetChildOrderEx(1),this.WebHTMLDiv3.SetElementFont(1),this.WebHTMLDiv3.SetRole(""),this.WebHTMLDiv4.SetParentComponent(this.WebHTMLDiv3),this.WebHTMLDiv4.SetName("WebHTMLDiv4"),this.WebHTMLDiv4.SetLeft(0),this.WebHTMLDiv4.SetTop(0),this.WebHTMLDiv4.SetWidth(100),this.WebHTMLDiv4.SetHeight(32),this.WebHTMLDiv4.SetElementClassName("ConfigLoginLabel"),this.WebHTMLDiv4.SetAlign(3),this.WebHTMLDiv4.SetElementFont(1),this.WebHTMLDiv4.FHTML.BeginUpdate();try{this.WebHTMLDiv4.FHTML.Clear(),this.WebHTMLDiv4.FHTML.Add("E-Mail Address")}finally{this.WebHTMLDiv4.FHTML.EndUpdate()}this.WebHTMLDiv4.SetRole(""),this.edtLoginEMail.SetParentComponent(this.WebHTMLDiv3),this.edtLoginEMail.SetName("edtLoginEMail"),this.edtLoginEMail.SetAlignWithMargins(!0),this.edtLoginEMail.SetLeft(104),this.edtLoginEMail.SetTop(3),this.edtLoginEMail.SetWidth(242),this.edtLoginEMail.SetHeight(26),this.edtLoginEMail.FMargins.SetLeft(4),this.edtLoginEMail.SetAlign(5),this.edtLoginEMail.SetAutoCompletion(7),this.edtLoginEMail.SetChildOrderEx(1),this.edtLoginEMail.SetElementClassName("LoginEdit rounded-1 ps-2 border border-0"),this.edtLoginEMail.SetElementFont(1),this.edtLoginEMail.SetHeightPercent(100),this.edtLoginEMail.SetMaxLength(50),this.edtLoginEMail.SetSpellCheck(!1),this.edtLoginEMail.SetWidthPercent(100),this.SetEvent$1(this.edtLoginEMail,this,"OnKeyDown","edtLoginEMailKeyDown"),this.divLoginPasswordHolder.SetParentComponent(this.divLoginMain),this.divLoginPasswordHolder.SetName("divLoginPasswordHolder"),this.divLoginPasswordHolder.SetAlignWithMargins(!0),this.divLoginPasswordHolder.SetLeft(8),this.divLoginPasswordHolder.SetTop(76),this.divLoginPasswordHolder.SetWidth(349),this.divLoginPasswordHolder.SetHeight(32),this.divLoginPasswordHolder.FMargins.SetLeft(8),this.divLoginPasswordHolder.FMargins.SetTop(8),this.divLoginPasswordHolder.FMargins.SetRight(8),this.divLoginPasswordHolder.FMargins.SetBottom(0),this.divLoginPasswordHolder.SetElementClassName("overflow-hidden rounded border border-secondary bg-secondary"),this.divLoginPasswordHolder.SetAlign(1),this.divLoginPasswordHolder.SetChildOrderEx(1),this.divLoginPasswordHolder.SetElementFont(1),this.divLoginPasswordHolder.SetRole(""),this.WebHTMLDiv2.SetParentComponent(this.divLoginPasswordHolder),this.WebHTMLDiv2.SetName("WebHTMLDiv2"),this.WebHTMLDiv2.SetLeft(0),this.WebHTMLDiv2.SetTop(0),this.WebHTMLDiv2.SetWidth(100),this.WebHTMLDiv2.SetHeight(32),this.WebHTMLDiv2.SetElementClassName("ConfigLoginLabel"),this.WebHTMLDiv2.SetAlign(3),this.WebHTMLDiv2.SetElementFont(1),this.WebHTMLDiv2.FHTML.BeginUpdate();try{this.WebHTMLDiv2.FHTML.Clear(),this.WebHTMLDiv2.FHTML.Add("Password")}finally{this.WebHTMLDiv2.FHTML.EndUpdate()}this.WebHTMLDiv2.SetRole(""),this.edtLoginPassword.SetParentComponent(this.divLoginPasswordHolder),this.edtLoginPassword.SetName("edtLoginPassword"),this.edtLoginPassword.SetAlignWithMargins(!0),this.edtLoginPassword.SetLeft(104),this.edtLoginPassword.SetTop(3),this.edtLoginPassword.SetWidth(242),this.edtLoginPassword.SetHeight(26),this.edtLoginPassword.FMargins.SetLeft(4),this.edtLoginPassword.SetAlign(5),this.edtLoginPassword.SetAutoCompletion(10),this.edtLoginPassword.SetChildOrderEx(1),this.edtLoginPassword.SetElementClassName("LoginEdit rounded-1 ps-2 border border-0"),this.edtLoginPassword.SetElementFont(1),this.edtLoginPassword.SetHeightPercent(100),this.edtLoginPassword.SetMaxLength(50),this.edtLoginPassword.SetPasswordChar("#"),this.edtLoginPassword.SetSpellCheck(!1),this.edtLoginPassword.SetWidthPercent(100),this.SetEvent$1(this.edtLoginPassword,this,"OnKeyDown","edtLoginEMailKeyDown"),this.divLoginTitle.SetParentComponent(this.divLoginMain),this.divLoginTitle.SetName("divLoginTitle"),this.divLoginTitle.SetLeft(0),this.divLoginTitle.SetTop(0),this.divLoginTitle.SetWidth(365),this.divLoginTitle.SetHeight(28),this.divLoginTitle.SetElementClassName("bg-danger text-white"),this.divLoginTitle.SetAlign(1),this.divLoginTitle.SetChildOrderEx(2),this.divLoginTitle.SetElementFont(1),this.divLoginTitle.FHTML.BeginUpdate();try{this.divLoginTitle.FHTML.Clear(),this.divLoginTitle.FHTML.Add('<div style="width:100%; text-align:center;">Survey Admin Client Login</div>')}finally{this.divLoginTitle.FHTML.EndUpdate()}this.divLoginTitle.SetRole(""),this.divLoginButtons.SetParentComponent(this.divLoginMain),this.divLoginButtons.SetName("divLoginButtons"),this.divLoginButtons.SetAlignWithMargins(!0),this.divLoginButtons.SetLeft(4),this.divLoginButtons.SetTop(156),this.divLoginButtons.SetWidth(357),this.divLoginButtons.SetHeight(32),this.divLoginButtons.FMargins.SetLeft(4),this.divLoginButtons.FMargins.SetTop(8),this.divLoginButtons.FMargins.SetRight(4),this.divLoginButtons.FMargins.SetBottom(0),this.divLoginButtons.SetElementClassName("d-flex align-items-center justify-content-stretch"),this.divLoginButtons.SetAlign(1),this.divLoginButtons.SetChildOrderEx(4),this.divLoginButtons.SetElementFont(1),this.divLoginButtons.SetRole(""),this.btnLogin.SetParentComponent(this.divLoginButtons),this.btnLogin.SetName("btnLogin"),this.btnLogin.SetAlignWithMargins(!0),this.btnLogin.SetLeft(258),this.btnLogin.SetTop(0),this.btnLogin.SetWidth(50),this.btnLogin.SetHeight(32),this.btnLogin.FMargins.SetLeft(0),this.btnLogin.FMargins.SetTop(0),this.btnLogin.FMargins.SetRight(0),this.btnLogin.FMargins.SetBottom(0),this.btnLogin.SetCaption('<i class="fa-solid fa-right-to-bracket fa-xl text-light me-1 "></i> Login'),this.btnLogin.SetChildOrderEx(2),this.btnLogin.SetElementClassName("order-2 LoginButton flex-fill btn btn-primary btn-sm"),this.btnLogin.SetElementFont(1),this.btnLogin.SetElementPosition(1),this.btnLogin.SetHeightPercent(100),this.btnLogin.SetWidthStyle(2),this.btnLogin.SetWidthPercent(100),this.SetEvent$1(this.btnLogin,this,"OnClick","btnLoginClick"),this.SetEvent$1(this.btnLogin,this,"OnKeyDown","edtLoginEMailKeyDown"),this.btnForgot.SetParentComponent(this.divLoginButtons),this.btnForgot.SetName("btnForgot"),this.btnForgot.FTag$1=1,this.btnForgot.SetAlignWithMargins(!0),this.btnForgot.SetLeft(140),this.btnForgot.SetTop(0),this.btnForgot.SetWidth(50),this.btnForgot.SetHeight(32),this.btnForgot.FMargins.SetLeft(8),this.btnForgot.FMargins.SetTop(0),this.btnForgot.FMargins.SetRight(8),this.btnForgot.FMargins.SetBottom(0),this.btnForgot.SetCaption('<i class="fa-solid fa-fish-fins text-warning fa-xl me-2"></i>Forgot'),this.btnForgot.SetChildOrderEx(1),this.btnForgot.SetElementClassName("order-1 LoginButton flex-fill btn btn-danger btn-sm"),this.btnForgot.SetElementFont(1),this.btnForgot.SetElementPosition(1),this.btnForgot.SetHeightPercent(100),this.btnForgot.SetWidthStyle(2),this.btnForgot.SetWidthPercent(100),this.SetEvent$1(this.btnForgot,this,"OnKeyDown","edtLoginEMailKeyDown"),this.btnRegister.SetParentComponent(this.divLoginButtons),this.btnRegister.SetName("btnRegister"),this.btnRegister.FTag$1=2,this.btnRegister.SetAlignWithMargins(!0),this.btnRegister.SetLeft(31),this.btnRegister.SetTop(0),this.btnRegister.SetWidth(50),this.btnRegister.SetHeight(32),this.btnRegister.FMargins.SetLeft(0),this.btnRegister.FMargins.SetTop(0),this.btnRegister.FMargins.SetRight(0),this.btnRegister.FMargins.SetBottom(0),this.btnRegister.SetCaption('<i class="fa-solid fa-user-plus fa-lg text-light me-1"></i> Register'),this.btnRegister.SetElementClassName("order-0 LoginButton flex-fill  btn btn-success btn-sm"),this.btnRegister.SetElementFont(1),this.btnRegister.SetElementPosition(1),this.btnRegister.SetHeightPercent(100),this.btnRegister.SetWidthStyle(2),this.btnRegister.SetWidthPercent(100),this.SetEvent$1(this.btnRegister,this,"OnKeyDown","edtLoginEMailKeyDown"),this.tmrOpen.SetParentComponent(this),this.tmrOpen.SetName("tmrOpen"),this.tmrOpen.SetEnabled(!1),this.tmrOpen.SetInterval(500),this.SetEvent$1(this.tmrOpen,this,"OnTimer","tmrOpenTimer"),this.tmrOpen.SetLeft(56),this.tmrOpen.SetTop(120)}finally{this.divLoginMain.AfterLoadDFMValues(),this.labelLoginProgress.AfterLoadDFMValues(),this.WebHTMLDiv3.AfterLoadDFMValues(),this.WebHTMLDiv4.AfterLoadDFMValues(),this.edtLoginEMail.AfterLoadDFMValues(),this.divLoginPasswordHolder.AfterLoadDFMValues(),this.WebHTMLDiv2.AfterLoadDFMValues(),this.edtLoginPassword.AfterLoadDFMValues(),this.divLoginTitle.AfterLoadDFMValues(),this.divLoginButtons.AfterLoadDFMValues(),this.btnLogin.AfterLoadDFMValues(),this.btnForgot.AfterLoadDFMValues(),this.btnRegister.AfterLoadDFMValues(),this.tmrOpen.AfterLoadDFMValues()}},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addField("divLoginMain",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("WebHTMLDiv3",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("WebHTMLDiv4",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("edtLoginEMail",pas["WEBLib.StdCtrls"].$rtti.TEdit),t.addField("divLoginPasswordHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("WebHTMLDiv2",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("edtLoginPassword",pas["WEBLib.StdCtrls"].$rtti.TEdit),t.addField("divLoginTitle",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("divLoginButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("btnLogin",pas["WEBLib.StdCtrls"].$rtti.TButton),t.addField("btnForgot",pas["WEBLib.StdCtrls"].$rtti.TButton),t.addField("btnRegister",pas["WEBLib.StdCtrls"].$rtti.TButton),t.addField("labelLoginProgress",pas["WEBLib.StdCtrls"].$rtti.TLabel),t.addField("tmrOpen",pas["WEBLib.ExtCtrls"].$rtti.TTimer),t.addMethod("btnLoginClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),t.addMethod("edtLoginEMailKeyDown",0,[["Sender",pas.System.$rtti.TObject],["Key",rtl.word,1],["Shift",pas.Classes.$rtti.TShiftState]]),t.addMethod("WebFormShow",0,[["Sender",pas.System.$rtti.TObject]]),t.addMethod("tmrOpenTimer",0,[["Sender",pas.System.$rtti.TObject]])}))}),["Unit1"]),rtl.module("UnitNote",["System","SysUtils","Classes","JS","Web","WEBLib.Graphics","WEBLib.Controls","WEBLib.Forms","WEBLib.Dialogs","WEBLib.WebCtrls","WEBLib.Controls","WEBLib.StdCtrls","WEBLib.StdCtrls"],(function(){"use strict";rtl.createClass(this,"TNoteForm",pas["WEBLib.Forms"].TForm,(function(){this.$init=function(){pas["WEBLib.Forms"].TForm.$init.call(this),this.divNoteHolder=null,this.divNoteHeader=null,this.divNoteFooter=null,this.divNoteContent=null,this.divNoteTitleHolder=null,this.divNoteTitle=null,this.btnNoteCancel=null,this.btnNoteSave=null,this.divCategoriesHolder=null,this.comboCategories=null},this.$final=function(){this.divNoteHolder=void 0,this.divNoteHeader=void 0,this.divNoteFooter=void 0,this.divNoteContent=void 0,this.divNoteTitleHolder=void 0,this.divNoteTitle=void 0,this.btnNoteCancel=void 0,this.btnNoteSave=void 0,this.divCategoriesHolder=void 0,this.comboCategories=void 0,pas["WEBLib.Forms"].TForm.$final.call(this)},this.WebFormCreate=function(t){var e={mode:"classic",resizingBar:!0,charCounter:!0,charCounterLabel:"Character Count: ",showPathLabel:!0,addTagsWhitelist:"i svg",codeMirror:window.CodeMirror,katex:katex,font:["Roboto","Roboto Condensed","Cairo"],buttonList:[["undo","redo"],["font","fontSize","formatBlock"],["paragraphStyle","blockquote","horizontalRule"],["bold","underline","italic","strike","subscript","superscript","math"],["fontColor","hiliteColor","textStyle","removeFormat"],["list","outdent","indent","align","lineHeight"],["table","link","image","video","audio"],["fullScreen","showBlocks","codeView","print"]],icons:{undo:'<span><i class="fas fa-undo"></i></span>',save:'<span class="HTMLSave" style="margin-top: -2px;"><i class="fas fa-check fa-xl"></i></span>',redo:'<span><i class="fas fa-redo"></i></span>',paragraph_style:'<span><i class="fas fa-paragraph"></i></span>',blockquote:'<span><i class="fas fa-quote-left"></i></span>',bold:'<span><i class="fas fa-bold"></i></span>',underline:'<span><i class="fas fa-underline"></i></span>',italic:'<span><i class="fas fa-italic"></i></span>',strike:'<span><i class="fas fa-strikethrough"></i></span>',subscript:'<span><i class="fas fa-subscript"></i></span>',superscript:'<span><i class="fas fa-superscript"></i></span>',math:'<span><i class="fas fa-square-root-variable"></i></span>',font_color:'<span><i class="fas fa-pen-nib"></i></span>',highlight_color:'<span><i class="fas fa-highlighter"></i></span>',erase:'<span><i class="fas fa-eraser"></i></span>',list_bullets:'<span><i class="fas fa-list"></i></span>',list_number:'<span><i class="fas fa-list-ol"></i></span>',outdent:'<span><i class="fas fa-outdent"></i></span>',indent:'<span><i class="fas fa-indent"></i></span>',align_left:'<span><i class="fas fa-align-left"></i></span>',align_right:'<span><i class="fas fa-align-right"></i></span>',align_justify:'<span><i class="fas fa-align-justify"></i></span>',align_center:'<span><i class="fas fa-align-center"></i></span>',line_height:'<span><i class="fas fa-text-height"></i></span>',table:'<span><i class="fas fa-table"></i></span>',link:'<span><i class="fas fa-link"></i></span>',image:'<span><i class="fas fa-image"></i></span>',video:'<span><i class="fas fa-video"></i></span>',audio:'<span><i class="fas fa-microphone"></i></span>',expansion:'<span><i class="fas fa-expand"></i></span>',reduction:'<span><i class="fas fa-compress"></i></span>',show_blocks:'<span><i class="fas fa-tasks-alt"></i></span>',code_view:'<span><i class="fas fa-code"></i></span>',print:'<span><i class="fas fa-print"></i></span>'},resizingBarContainer:"#divNoteFooter",toolbarContainer:"#divNoteHeader"};this.suneditorNote=SUNEDITOR.create("divNoteContentText",e)},this.btnNoteCancelClick=function(t){this.SetModalResult(2)},this.btnNoteSaveClick=function(t){this.SetModalResult(1)},this.comboCategoriesChange=function(t){this.comboCategories.GetItemIndex()>0?this.divNoteTitle.FHTML.SetTextStr('<div style="width:100%; text-align:center;">Report '+this.comboCategories.GetText()+"</div>"):this.divNoteTitle.FHTML.SetTextStr('<div style="width:100%; text-align:center;">Report an Issue</div>')},this.LoadDFMValues=function(){pas["WEBLib.Forms"].TCustomForm.LoadDFMValues.call(this),this.divNoteHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divNoteHolder"]),this.divNoteHeader=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divNoteHeader"]),this.divNoteFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divNoteFooter"]),this.divNoteContent=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divNoteContent"]),this.divNoteTitleHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divNoteTitleHolder"]),this.divNoteTitle=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divNoteTitle"]),this.btnNoteCancel=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnNoteCancel"]),this.btnNoteSave=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnNoteSave"]),this.divCategoriesHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divCategoriesHolder"]),this.comboCategories=pas["WEBLib.StdCtrls"].TComboBox.$create("Create$2",["comboCategories"]),this.divNoteHolder.BeforeLoadDFMValues(),this.divNoteHeader.BeforeLoadDFMValues(),this.divNoteFooter.BeforeLoadDFMValues(),this.divNoteContent.BeforeLoadDFMValues(),this.divNoteTitleHolder.BeforeLoadDFMValues(),this.divNoteTitle.BeforeLoadDFMValues(),this.btnNoteCancel.BeforeLoadDFMValues(),this.btnNoteSave.BeforeLoadDFMValues(),this.divCategoriesHolder.BeforeLoadDFMValues(),this.comboCategories.BeforeLoadDFMValues();try{this.SetName("NoteForm"),this.SetWidth(640),this.SetHeight(480),this.FCSSLibrary=1,this.SetElementClassName("border border-0 NoteForm"),this.SetElementFont(1),this.FFont.FCharset=1,this.FFont.SetColor(65793),this.FFont.SetHeight(-15),this.FFont.SetName("Tahoma"),this.FFont.SetStyle({}),this.SetParentFont(!1),this.SetShadow(!1),this.SetEvent(this,"OnCreate","WebFormCreate"),this.divNoteHolder.SetParentComponent(this),this.divNoteHolder.SetName("divNoteHolder"),this.divNoteHolder.SetAlignWithMargins(!0),this.divNoteHolder.SetLeft(4),this.divNoteHolder.SetTop(2),this.divNoteHolder.SetWidth(632),this.divNoteHolder.SetHeight(474),this.divNoteHolder.FMargins.SetLeft(4),this.divNoteHolder.FMargins.SetTop(2),this.divNoteHolder.FMargins.SetRight(4),this.divNoteHolder.FMargins.SetBottom(4),this.divNoteHolder.SetElementClassName("d-flex resize-drag overflow-hidden rounded flex-column border border-3 border-danger"),this.divNoteHolder.SetAlign(5),this.divNoteHolder.SetChildOrderEx(2),this.divNoteHolder.SetElementFont(1),this.divNoteHolder.SetRole(""),this.divNoteHeader.SetParentComponent(this.divNoteHolder),this.divNoteHeader.SetName("divNoteHeader"),this.divNoteHeader.SetLeft(0),this.divNoteHeader.SetTop(60),this.divNoteHeader.SetWidth(632),this.divNoteHeader.SetHeight(50),this.divNoteHeader.SetElementClassName("order-2 align-self-start sun-editor"),this.divNoteHeader.SetHeightStyle(2),this.divNoteHeader.SetWidthStyle(0),this.divNoteHeader.SetAlign(1),this.divNoteHeader.SetElementPosition(1),this.divNoteHeader.SetElementFont(1),this.divNoteHeader.SetRole(""),this.divNoteFooter.SetParentComponent(this.divNoteHolder),this.divNoteFooter.SetName("divNoteFooter"),this.divNoteFooter.SetLeft(0),this.divNoteFooter.SetTop(456),this.divNoteFooter.SetWidth(632),this.divNoteFooter.SetHeight(18),this.divNoteFooter.SetElementClassName("order-4 align-self-end sun-editor d-flex overflow-hidden"),this.divNoteFooter.SetWidthStyle(0),this.divNoteFooter.SetAlign(2),this.divNoteFooter.SetChildOrderEx(1),this.divNoteFooter.SetElementPosition(1),this.divNoteFooter.SetElementFont(1),this.divNoteFooter.SetRole(""),this.divNoteContent.SetParentComponent(this.divNoteHolder),this.divNoteContent.SetName("divNoteContent"),this.divNoteContent.SetAlignWithMargins(!0),this.divNoteContent.SetLeft(0),this.divNoteContent.SetTop(110),this.divNoteContent.SetWidth(632),this.divNoteContent.SetHeight(345),this.divNoteContent.FMargins.SetLeft(0),this.divNoteContent.FMargins.SetTop(0),this.divNoteContent.FMargins.SetRight(0),this.divNoteContent.FMargins.SetBottom(1),this.divNoteContent.SetElementClassName("order-3 align-self-stretch flex-fill"),this.divNoteContent.SetWidthStyle(0),this.divNoteContent.SetAlign(5),this.divNoteContent.SetChildOrderEx(2),this.divNoteContent.SetElementPosition(1),this.divNoteContent.SetElementFont(1),this.divNoteContent.FHTML.BeginUpdate();try{this.divNoteContent.FHTML.Clear(),this.divNoteContent.FHTML.Add('<textarea id="divNoteContentText">')}finally{this.divNoteContent.FHTML.EndUpdate()}this.divNoteContent.SetRole(""),this.divNoteTitleHolder.SetParentComponent(this.divNoteHolder),this.divNoteTitleHolder.SetName("divNoteTitleHolder"),this.divNoteTitleHolder.SetLeft(0),this.divNoteTitleHolder.SetTop(0),this.divNoteTitleHolder.SetWidth(632),this.divNoteTitleHolder.SetHeight(28),this.divNoteTitleHolder.SetElementClassName("bg-danger text-white order-0 align-self-start"),this.divNoteTitleHolder.SetWidthStyle(0),this.divNoteTitleHolder.SetAlign(1),this.divNoteTitleHolder.SetChildOrderEx(3),this.divNoteTitleHolder.SetElementPosition(1),this.divNoteTitleHolder.SetElementFont(1),this.divNoteTitleHolder.SetRole(""),this.divNoteTitle.SetParentComponent(this.divNoteTitleHolder),this.divNoteTitle.SetName("divNoteTitle"),this.divNoteTitle.SetLeft(0),this.divNoteTitle.SetTop(0),this.divNoteTitle.SetWidth(632),this.divNoteTitle.SetHeight(28),this.divNoteTitle.SetWidthStyle(0),this.divNoteTitle.SetAlign(5),this.divNoteTitle.SetElementPosition(1),this.divNoteTitle.SetElementFont(1),this.divNoteTitle.FHTML.BeginUpdate();try{this.divNoteTitle.FHTML.Clear(),this.divNoteTitle.FHTML.Add('<div style="width:100%; text-align:center;">Add Project Note to abc/def</div>')}finally{this.divNoteTitle.FHTML.EndUpdate()}this.divNoteTitle.SetRole(""),this.btnNoteCancel.SetParentComponent(this.divNoteTitleHolder),this.btnNoteCancel.SetName("btnNoteCancel"),this.btnNoteCancel.SetAlignWithMargins(!0),this.btnNoteCancel.SetLeft(416),this.btnNoteCancel.SetTop(0),this.btnNoteCancel.SetWidth(96),this.btnNoteCancel.SetHeight(32),this.btnNoteCancel.FMargins.SetRight(0),this.btnNoteCancel.FMargins.SetBottom(5),this.btnNoteCancel.SetCaption('<i class="fa-solid fa-xmark fa-lg"></i>'),this.btnNoteCancel.SetChildOrderEx(3),this.btnNoteCancel.SetElementClassName("btn btn-danger btn-sm text-white m-0 p-0"),this.btnNoteCancel.SetElementFont(1),this.btnNoteCancel.SetElementPosition(2),this.btnNoteCancel.SetHeightPercent(100),this.btnNoteCancel.SetTabOrder(60),this.btnNoteCancel.SetWidthStyle(2),this.btnNoteCancel.SetWidthPercent(100),this.SetEvent$1(this.btnNoteCancel,this,"OnClick","btnNoteCancelClick"),this.btnNoteSave.SetParentComponent(this.divNoteTitleHolder),this.btnNoteSave.SetName("btnNoteSave"),this.btnNoteSave.SetAlignWithMargins(!0),this.btnNoteSave.SetLeft(512),this.btnNoteSave.SetTop(0),this.btnNoteSave.SetWidth(96),this.btnNoteSave.SetHeight(32),this.btnNoteSave.FMargins.SetLeft(0),this.btnNoteSave.FMargins.SetRight(0),this.btnNoteSave.FMargins.SetBottom(5),this.btnNoteSave.SetCaption('<i class="fa-solid fa-check fa-lg"></i>'),this.btnNoteSave.SetChildOrderEx(1),this.btnNoteSave.SetElementClassName("btn btn-danger btn-sm text-warning m-0 p-0"),this.btnNoteSave.SetElementFont(1),this.btnNoteSave.SetElementPosition(2),this.btnNoteSave.SetHeightPercent(100),this.btnNoteSave.SetTabOrder(61),this.btnNoteSave.SetWidthStyle(2),this.btnNoteSave.SetWidthPercent(100),this.SetEvent$1(this.btnNoteSave,this,"OnClick","btnNoteSaveClick"),this.divCategoriesHolder.SetParentComponent(this.divNoteHolder),this.divCategoriesHolder.SetName("divCategoriesHolder"),this.divCategoriesHolder.SetLeft(0),this.divCategoriesHolder.SetTop(28),this.divCategoriesHolder.SetWidth(632),this.divCategoriesHolder.SetHeight(32),this.divCategoriesHolder.SetElementClassName("d-none justify-content-center order-1  bg-secondary"),this.divCategoriesHolder.SetWidthStyle(0),this.divCategoriesHolder.SetAlign(1),this.divCategoriesHolder.SetChildOrderEx(4),this.divCategoriesHolder.SetElementPosition(1),this.divCategoriesHolder.SetElementFont(1),this.divCategoriesHolder.SetRole(""),this.comboCategories.SetParentComponent(this.divCategoriesHolder),this.comboCategories.SetName("comboCategories"),this.comboCategories.SetLeft(232),this.comboCategories.SetTop(6),this.comboCategories.SetWidth(175),this.comboCategories.SetHeight(26),this.comboCategories.SetElementClassName("rounded-1 border border-1 border-dark"),this.comboCategories.SetElementFont(1),this.comboCategories.SetElementPosition(1),this.comboCategories.SetHeightPercent(100),this.comboCategories.SetText("Please Select a Category..."),this.comboCategories.SetWidthPercent(100),this.SetEvent$1(this.comboCategories,this,"OnChange","comboCategoriesChange"),this.comboCategories.SetItemIndex(0),this.comboCategories.FItems.BeginUpdate();try{this.comboCategories.FItems.Clear(),this.comboCategories.FItems.Add("Please Select a Category..."),this.comboCategories.FItems.Add("Billing Issue"),this.comboCategories.FItems.Add("Questions Issue"),this.comboCategories.FItems.Add("Responses Issue"),this.comboCategories.FItems.Add("Website Issue"),this.comboCategories.FItems.Add("Other Issue")}finally{this.comboCategories.FItems.EndUpdate()}}finally{this.divNoteHolder.AfterLoadDFMValues(),this.divNoteHeader.AfterLoadDFMValues(),this.divNoteFooter.AfterLoadDFMValues(),this.divNoteContent.AfterLoadDFMValues(),this.divNoteTitleHolder.AfterLoadDFMValues(),this.divNoteTitle.AfterLoadDFMValues(),this.btnNoteCancel.AfterLoadDFMValues(),this.btnNoteSave.AfterLoadDFMValues(),this.divCategoriesHolder.AfterLoadDFMValues(),this.comboCategories.AfterLoadDFMValues()}},rtl.addIntf(this,pas.System.IUnknown);var t=this.$rtti;t.addField("divNoteHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("divNoteHeader",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("divNoteFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("divNoteContent",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("divNoteTitleHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("divNoteTitle",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("btnNoteCancel",pas["WEBLib.StdCtrls"].$rtti.TButton),t.addField("btnNoteSave",pas["WEBLib.StdCtrls"].$rtti.TButton),t.addField("divCategoriesHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),t.addField("comboCategories",pas["WEBLib.StdCtrls"].$rtti.TComboBox),t.addMethod("WebFormCreate",0,[["Sender",pas.System.$rtti.TObject]]),t.addMethod("btnNoteCancelClick",0,[["Sender",pas.System.$rtti.TObject]]),t.addMethod("btnNoteSaveClick",0,[["Sender",pas.System.$rtti.TObject]]),t.addMethod("comboCategoriesChange",0,[["Sender",pas.System.$rtti.TObject]])}))})),rtl.module("Unit1",["System","SysUtils","Classes","Types","Math","DateUtils","JS","Web","XData.Web.Client","XData.Web.Connection","WEBLib.Graphics","WEBLib.Controls","WEBLib.Forms","WEBLib.Dialogs","WEBLib.StdCtrls","WEBLib.ExtCtrls","WEBLib.ComCtrls","WEBLib.WebCtrls","WEBLib.WebTools","WEBLib.JSON","WEBLib.Controls","WEBLib.StdCtrls","WEBLib.TMSFNCCustomControl","WEBLib.TMSFNCWebBrowser","WEBLib.TMSFNCCustomWEBControl","WEBLib.TMSFNCWXQRCode","WEBLib.DropDown"],(function(){"use strict";var t=this;rtl.createClass(this,"TForm1",pas["WEBLib.Forms"].TForm,(function(){this.$init=function(){pas["WEBLib.Forms"].TForm.$init.call(this),this.divTop=null,this.divBottom=null,this.pagecontrolMain=null,this.pageSurveys=null,this.pageResponses=null,this.pageQuestions=null,this.panelTopLeft=null,this.btnSurveys=null,this.btnResponses=null,this.btnQuestions=null,this.btnAccounts=null,this.panelTopRight=null,this.btnAccount=null,this.btnLogout=null,this.pageAccounts=null,this.panelBottomRight=null,this.btnBlog=null,this.btnGitHub=null,this.panelBottomLeft=null,this.btnEmail=null,this.btnDiscord=null,this.tmrLaunch=null,this.divSurveysSurveyHolder=null,this.splitterSurveyMain=null,this.divSurveysMain=null,this.pageControlSurveys=null,this.pageConfig=null,this.pageQuestion=null,this.pagePreview=null,this.divSurveysOptions=null,this.splitterSurveyConfig=null,this.pagecontrolSurveysConfig=null,this.pageConfigBasic=null,this.pageBanner=null,this.pageChangeHistory=null,this.divSurveysButtons=null,this.divSurveysSurveyList=null,this.btnSurveyNew=null,this.btnSurveyDelete=null,this.btnSurveyClone=null,this.divSurveyMenu=null,this.divSurveyMenuLeft=null,this.btnSurveyOptions=null,this.btnSurveyQuestions=null,this.btnSurveyPreview=null,this.divSurveyMenuRight=null,this.btnSurveyCancel=null,this.btnSurveySave=null,this.scrollConfigBasic=null,this.divConfigBasicName=null,this.divConfigBasicNameLabel=null,this.divConfigBasicID=null,this.divConfigBasicIDLabel=null,this.divConfigBasicLink=null,this.divConfigBasicLinkLabel=null,this.edtConfigBasicName=null,this.scrollConfigBanner=null,this.divConfigBannerTitle=null,this.divConfigBannerTitleLabel=null,this.edtConfigBannerTitle=null,this.divConfigBannerFooter=null,this.divConfigBannerFooterLabel=null,this.edtConfigBannerFooter=null,this.edtConfigBasicID=null,this.edtConfigBasicLink=null,this.ServerConn=null,this.btnSurveyReload=null,this.divBlocker=null,this.btnLogging=null,this.pageLogging=null,this.divConfigBasicGroup=null,this.divConfigBasicGroupLabel=null,this.edtConfigBasicGroup=null,this.btnSurveyPermissions=null,this.divLoggingHolder=null,this.divLoggingButtons=null,this.btnLoggingToday=null,this.btnLogging7Days=null,this.btnLoggingAllData=null,this.divLogging=null,this.btnTicket=null,this.pagePermissions=null,this.btnLoggingReload=null,this.divChangeHistoryHolder=null,this.divChangeHistoryButtons=null,this.btnChangeHistoryReload=null,this.divChangeHistory=null,this.pageAvailability=null,this.pageBannerPre=null,this.pageBannerPause=null,this.pageBannerPost=null,this.pageAbout=null,this.pageFeedback=null,this.pageNotes=null,this.divAvailabilityHolder=null,this.divAvailabilityButtons=null,this.btnAvailabilityAdd=null,this.divAvailability=null,this.labelAvailabilityCountdown=null,this.labelAvailabilityStatus=null,this.btnAvailabilityDelete=null,this.divSurveyInfoHolder=null,this.divSurveyInfoButtons=null,this.btnSurveyInfoReload=null,this.divSurveyInfo=null,this.divConfigBannerContentHolder=null,this.divConfigBannerContentHeader=null,this.divConfigBannerContentFooter=null,this.divConfigBannerContent=null,this.divNotesHolder=null,this.divNotesButtons=null,this.btnNotesAdd=null,this.btnNotesDelete=null,this.divNotes=null,this.scrollConfigBannerPause=null,this.divConfigBannerPauseTitle=null,this.divConfigBannerPauseTitleLabel=null,this.edtConfigBannerPauseTitle=null,this.divConfigBannerPauseFooter=null,this.divConfigBannerPauseFooterLabel=null,this.edtConfigBannerPauseFooter=null,this.divConfigBannerPauseContentHolder=null,this.divConfigBannerPauseContentHeader=null,this.divConfigBannerPauseContentFooter=null,this.divConfigBannerPauseContent=null,this.scrollConfigBannerPre=null,this.divConfigBannerPreTitle=null,this.divConfigBannerPreTitleLabel=null,this.edtConfigBannerPreTitle=null,this.divConfigBannerPreFooter=null,this.divConfigBannerPreFooterLabel=null,this.edtConfigBannerPreFooter=null,this.divConfigBannerPreContentHolder=null,this.divConfigBannerPreContentHeader=null,this.divConfigBannerPreContentFooter=null,this.divConfigBannerPreContent=null,this.scrollConfigBannerPost=null,this.divConfigBannerPostTitle=null,this.divConfigBannerPostTitleLabel=null,this.edtConfigBannerPostTitle=null,this.divConfigBannerPostFooter=null,this.divConfigBannerPostFooterLabel=null,this.edtConfigBannerPostFooter=null,this.divConfigBannerPostContentHolder=null,this.divConfigBannerPostContentHeader=null,this.divConfigBannerPostContentFooter=null,this.divConfigBannerPostContent=null,this.scrollConfigFeedback=null,this.divConfigFeedbackTitle=null,this.divConfigFeedbackTitleLabel=null,this.edtConfigFeedbackTitle=null,this.divConfigFeedbackContentHolder=null,this.divConfigFeedbackContentHeader=null,this.divConfigFeedbackContentFooter=null,this.divConfigFeedbackContent=null,this.scrollConfigAbout=null,this.divConfigAboutTitle=null,this.divConfigAboutTitleLabel=null,this.edtConfigAboutTitle=null,this.divConfigAboutContentHolder=null,this.divConfigAboutContentHeader=null,this.divConfigAboutContentFooter=null,this.divConfigAboutContent=null,this.divConfigBasicLiveLinkHolder=null,this.divConfigBasicLiveLinkLabel=null,this.divConfigBasicTestLinkHolder=null,this.divConfigBasicTestLinkLabel=null,this.divConfigBasicTestLink=null,this.divConfigBasicLiveLink=null,this.pageQRCode=null,this.divQRCodeHolder=null,this.divQRCodeConstraints=null,this.qrcode=null,this.btnNotesReload=null,this.btnLoggingPrint=null,this.btnAvailabilityPrint=null,this.btnChangeHistoryPrint=null,this.btnNotesPrint=null,this.divAccountsHolder=null,this.divAccountsButtons=null,this.btnAccountsReload=null,this.btnAccountsPrint=null,this.divAccounts=null,this.divIssuesHolder=null,this.divIssuesButtons=null,this.btnIssuesReload=null,this.btnIssuesPrint=null,this.divIssues=null,this.splitterAccounts=null,this.btnAddUser=null,this.btnDeleteUser=null,this.btnSetPassword=null,this.edtSetPassword=null,this.btnIssueStatusNew=null,this.btnIssueStatusInProgress=null,this.btnIssueStatusClosed=null,this.divPermissionsHolder=null,this.WebHTMLDiv2=null,this.btnPermissionsReload=null,this.btnPermissionsPrint=null,this.divPermissions=null,this.divPreviewHolder=null,this.WebHTMLDiv3=null,this.btnPreviewReload=null,this.scrollPreview=null,this.divPreview=null,this.WebPanel1=null,this.btnPreviewSize0=null,this.btnPreviewSize2=null,this.btnPreviewSize3=null,this.btnPreviewSize4=null,this.btnPreviewSize1=null,this.btnViewActivityLog=null,this.divResponsesHolder=null,this.divResponsesButtons=null,this.btnResponsesReload=null,this.btnResponsesPrint=null,this.divResponses=null,this.divFeedbackHolder=null,this.divFeedbackButtons=null,this.btnFeedbackReload=null,this.btnFeedbackPrint=null,this.btnFeedbackStatusNew=null,this.btnFeedbackStatusInProgress=null,this.btnFeedbackStatusClosed=null,this.btnFeedbackActivityLog=null,this.divFeedback=null,this.splitterResponses=null,this.WebPanel2=null,this.btnPreviewActive=null,this.btnPreviewPause=null,this.btnPreviewPost=null,this.btnPreviewPre=null,this.btnPreviewAuto=null,this.btnAvailabilityReload=null,this.tmrCountdown=null,this.divQuestionsHolder=null,this.splitterQuestions=null,this.divQuestion=null,this.divQuestionTypeHolder=null,this.divQuestionType=null,this.divQuestionNameHolder=null,this.divQuestionName=null,this.edtQuestionName=null,this.divQuestionIDHolder=null,this.divQuestionID=null,this.edtQuestionID=null,this.divQuestionContentHolder=null,this.divQuestionContentHeader=null,this.divQuestionContentFooter=null,this.divQuestionContent=null,this.divLibrary=null,this.divLibraryTypeHolder=null,this.divLibraryType=null,this.edtLibraryType=null,this.divLibraryNameHolder=null,this.divLibraryName=null,this.edtLibraryName=null,this.divLibraryIDHolder=null,this.divLibraryID=null,this.edtLibraryID=null,this.divLibraryContentHolder=null,this.divLibraryContentHeader=null,this.divLibraryContentFooter=null,this.divLibraryContent=null,this.splitterLibrary=null,this.divQuestionsButtons=null,this.btnQuestionsNew=null,this.btnQuestionsDelete=null,this.btnQuestionsClone=null,this.btnQuestionsReload=null,this.divQuestions=null,this.divLibraryListHolder=null,this.divLibraryButtons=null,this.btnLibraryListNew=null,this.btnLibraryListDelete=null,this.btnLibraryListClone=null,this.btnLibraryListReload=null,this.divLibraryList=null,this.panelQuestionTypes=null,this.ddQuestionType=null,this.divQuestionOptionsHolder=null,this.divQuestionOptions=null,this.edtQuestionOptions=null,this.divQuestionOptionsInfo=null,this.divQuestionTitleHolder=null,this.divQuestionTitle=null,this.edtQuestionTitle=null,this.divQuestionFooterHolder=null,this.divQuestionFooter=null,this.edtQuestionFooter=null,this.AppVer="",this.AppRel="",this.ActivityLog=null,this.ServerName="",this.JWT="",this.CountdownTimer="",this.Account_ID="",this.Account_EMail="",this.Account_First="",this.Account_Last="",this.Account_Security="",this.tabSurveys=void 0,this.tabChangeHistory=void 0,this.tabLogging=void 0,this.tabSurveyInfo=void 0,this.tabNotes=void 0,this.tabAccounts=void 0,this.tabIssues=void 0,this.tabPermissions=void 0,this.tabFeedback=void 0,this.tabQuestions=void 0,this.tabResponses=void 0,this.CurrentSurveyID="",this.CurrentSurveyName="",this.CurrentSurveyGroup="",this.CurrentSurveyLink="",this.CurrentSurveyPermissions="",this.CurrentSurveyData="",this.CurrentSurveyQuestions="",this.NewSurveyName="",this.NewSurveyGroup="",this.NewSurveyLink="",this.NewSurveyData="",this.NewSurveyDifferences=""},this.$final=function(){this.divTop=void 0,this.divBottom=void 0,this.pagecontrolMain=void 0,this.pageSurveys=void 0,this.pageResponses=void 0,this.pageQuestions=void 0,this.panelTopLeft=void 0,this.btnSurveys=void 0,this.btnResponses=void 0,this.btnQuestions=void 0,this.btnAccounts=void 0,this.panelTopRight=void 0,this.btnAccount=void 0,this.btnLogout=void 0,this.pageAccounts=void 0,this.panelBottomRight=void 0,this.btnBlog=void 0,this.btnGitHub=void 0,this.panelBottomLeft=void 0,this.btnEmail=void 0,this.btnDiscord=void 0,this.tmrLaunch=void 0,this.divSurveysSurveyHolder=void 0,this.splitterSurveyMain=void 0,this.divSurveysMain=void 0,this.pageControlSurveys=void 0,this.pageConfig=void 0,this.pageQuestion=void 0,this.pagePreview=void 0,this.divSurveysOptions=void 0,this.splitterSurveyConfig=void 0,this.pagecontrolSurveysConfig=void 0,this.pageConfigBasic=void 0,this.pageBanner=void 0,this.pageChangeHistory=void 0,this.divSurveysButtons=void 0,this.divSurveysSurveyList=void 0,this.btnSurveyNew=void 0,this.btnSurveyDelete=void 0,this.btnSurveyClone=void 0,this.divSurveyMenu=void 0,this.divSurveyMenuLeft=void 0,this.btnSurveyOptions=void 0,this.btnSurveyQuestions=void 0,this.btnSurveyPreview=void 0,this.divSurveyMenuRight=void 0,this.btnSurveyCancel=void 0,this.btnSurveySave=void 0,this.scrollConfigBasic=void 0,this.divConfigBasicName=void 0,this.divConfigBasicNameLabel=void 0,this.divConfigBasicID=void 0,this.divConfigBasicIDLabel=void 0,this.divConfigBasicLink=void 0,this.divConfigBasicLinkLabel=void 0,this.edtConfigBasicName=void 0,this.scrollConfigBanner=void 0,this.divConfigBannerTitle=void 0,this.divConfigBannerTitleLabel=void 0,this.edtConfigBannerTitle=void 0,this.divConfigBannerFooter=void 0,this.divConfigBannerFooterLabel=void 0,this.edtConfigBannerFooter=void 0,this.edtConfigBasicID=void 0,this.edtConfigBasicLink=void 0,this.ServerConn=void 0,this.btnSurveyReload=void 0,this.divBlocker=void 0,this.btnLogging=void 0,this.pageLogging=void 0,this.divConfigBasicGroup=void 0,this.divConfigBasicGroupLabel=void 0,this.edtConfigBasicGroup=void 0,this.btnSurveyPermissions=void 0,this.divLoggingHolder=void 0,this.divLoggingButtons=void 0,this.btnLoggingToday=void 0,this.btnLogging7Days=void 0,this.btnLoggingAllData=void 0,this.divLogging=void 0,this.btnTicket=void 0,this.pagePermissions=void 0,this.btnLoggingReload=void 0,this.divChangeHistoryHolder=void 0,this.divChangeHistoryButtons=void 0,this.btnChangeHistoryReload=void 0,this.divChangeHistory=void 0,this.pageAvailability=void 0,this.pageBannerPre=void 0,this.pageBannerPause=void 0,this.pageBannerPost=void 0,this.pageAbout=void 0,this.pageFeedback=void 0,this.pageNotes=void 0,this.divAvailabilityHolder=void 0,this.divAvailabilityButtons=void 0,this.btnAvailabilityAdd=void 0,this.divAvailability=void 0,this.labelAvailabilityCountdown=void 0,this.labelAvailabilityStatus=void 0,this.btnAvailabilityDelete=void 0,this.divSurveyInfoHolder=void 0,this.divSurveyInfoButtons=void 0,this.btnSurveyInfoReload=void 0,this.divSurveyInfo=void 0,this.divConfigBannerContentHolder=void 0,this.divConfigBannerContentHeader=void 0,this.divConfigBannerContentFooter=void 0,this.divConfigBannerContent=void 0,this.divNotesHolder=void 0,this.divNotesButtons=void 0,this.btnNotesAdd=void 0,this.btnNotesDelete=void 0,this.divNotes=void 0,this.scrollConfigBannerPause=void 0,this.divConfigBannerPauseTitle=void 0,this.divConfigBannerPauseTitleLabel=void 0,this.edtConfigBannerPauseTitle=void 0,this.divConfigBannerPauseFooter=void 0,this.divConfigBannerPauseFooterLabel=void 0,this.edtConfigBannerPauseFooter=void 0,this.divConfigBannerPauseContentHolder=void 0,this.divConfigBannerPauseContentHeader=void 0,this.divConfigBannerPauseContentFooter=void 0,this.divConfigBannerPauseContent=void 0,this.scrollConfigBannerPre=void 0,this.divConfigBannerPreTitle=void 0,this.divConfigBannerPreTitleLabel=void 0,this.edtConfigBannerPreTitle=void 0,this.divConfigBannerPreFooter=void 0,this.divConfigBannerPreFooterLabel=void 0,this.edtConfigBannerPreFooter=void 0,this.divConfigBannerPreContentHolder=void 0,this.divConfigBannerPreContentHeader=void 0,this.divConfigBannerPreContentFooter=void 0,this.divConfigBannerPreContent=void 0,this.scrollConfigBannerPost=void 0,this.divConfigBannerPostTitle=void 0,this.divConfigBannerPostTitleLabel=void 0,this.edtConfigBannerPostTitle=void 0,this.divConfigBannerPostFooter=void 0,this.divConfigBannerPostFooterLabel=void 0,this.edtConfigBannerPostFooter=void 0,this.divConfigBannerPostContentHolder=void 0,this.divConfigBannerPostContentHeader=void 0,this.divConfigBannerPostContentFooter=void 0,this.divConfigBannerPostContent=void 0,this.scrollConfigFeedback=void 0,this.divConfigFeedbackTitle=void 0,this.divConfigFeedbackTitleLabel=void 0,this.edtConfigFeedbackTitle=void 0,this.divConfigFeedbackContentHolder=void 0,this.divConfigFeedbackContentHeader=void 0,this.divConfigFeedbackContentFooter=void 0,this.divConfigFeedbackContent=void 0,this.scrollConfigAbout=void 0,this.divConfigAboutTitle=void 0,this.divConfigAboutTitleLabel=void 0,this.edtConfigAboutTitle=void 0,this.divConfigAboutContentHolder=void 0,this.divConfigAboutContentHeader=void 0,this.divConfigAboutContentFooter=void 0,this.divConfigAboutContent=void 0,this.divConfigBasicLiveLinkHolder=void 0,this.divConfigBasicLiveLinkLabel=void 0,this.divConfigBasicTestLinkHolder=void 0,this.divConfigBasicTestLinkLabel=void 0,this.divConfigBasicTestLink=void 0,this.divConfigBasicLiveLink=void 0,this.pageQRCode=void 0,this.divQRCodeHolder=void 0,this.divQRCodeConstraints=void 0,this.qrcode=void 0,this.btnNotesReload=void 0,this.btnLoggingPrint=void 0,this.btnAvailabilityPrint=void 0,this.btnChangeHistoryPrint=void 0,this.btnNotesPrint=void 0,this.divAccountsHolder=void 0,this.divAccountsButtons=void 0,this.btnAccountsReload=void 0,this.btnAccountsPrint=void 0,this.divAccounts=void 0,this.divIssuesHolder=void 0,this.divIssuesButtons=void 0,this.btnIssuesReload=void 0,this.btnIssuesPrint=void 0,this.divIssues=void 0,this.splitterAccounts=void 0,this.btnAddUser=void 0,this.btnDeleteUser=void 0,this.btnSetPassword=void 0,this.edtSetPassword=void 0,this.btnIssueStatusNew=void 0,this.btnIssueStatusInProgress=void 0,this.btnIssueStatusClosed=void 0,this.divPermissionsHolder=void 0,this.WebHTMLDiv2=void 0,this.btnPermissionsReload=void 0,this.btnPermissionsPrint=void 0,this.divPermissions=void 0,this.divPreviewHolder=void 0,this.WebHTMLDiv3=void 0,this.btnPreviewReload=void 0,this.scrollPreview=void 0,this.divPreview=void 0,this.WebPanel1=void 0,this.btnPreviewSize0=void 0,this.btnPreviewSize2=void 0,this.btnPreviewSize3=void 0,this.btnPreviewSize4=void 0,this.btnPreviewSize1=void 0,this.btnViewActivityLog=void 0,this.divResponsesHolder=void 0,this.divResponsesButtons=void 0,this.btnResponsesReload=void 0,this.btnResponsesPrint=void 0,this.divResponses=void 0,this.divFeedbackHolder=void 0,this.divFeedbackButtons=void 0,this.btnFeedbackReload=void 0,this.btnFeedbackPrint=void 0,this.btnFeedbackStatusNew=void 0,this.btnFeedbackStatusInProgress=void 0,this.btnFeedbackStatusClosed=void 0,this.btnFeedbackActivityLog=void 0,this.divFeedback=void 0,this.splitterResponses=void 0,this.WebPanel2=void 0,this.btnPreviewActive=void 0,this.btnPreviewPause=void 0,this.btnPreviewPost=void 0,this.btnPreviewPre=void 0,this.btnPreviewAuto=void 0,this.btnAvailabilityReload=void 0,this.tmrCountdown=void 0,this.divQuestionsHolder=void 0,this.splitterQuestions=void 0,this.divQuestion=void 0,this.divQuestionTypeHolder=void 0,this.divQuestionType=void 0,this.divQuestionNameHolder=void 0,this.divQuestionName=void 0,this.edtQuestionName=void 0,this.divQuestionIDHolder=void 0,this.divQuestionID=void 0,this.edtQuestionID=void 0,this.divQuestionContentHolder=void 0,this.divQuestionContentHeader=void 0,this.divQuestionContentFooter=void 0,this.divQuestionContent=void 0,this.divLibrary=void 0,this.divLibraryTypeHolder=void 0,this.divLibraryType=void 0,this.edtLibraryType=void 0,this.divLibraryNameHolder=void 0,this.divLibraryName=void 0,this.edtLibraryName=void 0,this.divLibraryIDHolder=void 0,this.divLibraryID=void 0,this.edtLibraryID=void 0,this.divLibraryContentHolder=void 0,this.divLibraryContentHeader=void 0,this.divLibraryContentFooter=void 0,this.divLibraryContent=void 0,this.splitterLibrary=void 0,this.divQuestionsButtons=void 0,this.btnQuestionsNew=void 0,this.btnQuestionsDelete=void 0,this.btnQuestionsClone=void 0,this.btnQuestionsReload=void 0,this.divQuestions=void 0,this.divLibraryListHolder=void 0,this.divLibraryButtons=void 0,this.btnLibraryListNew=void 0,this.btnLibraryListDelete=void 0,this.btnLibraryListClone=void 0,this.btnLibraryListReload=void 0,this.divLibraryList=void 0,this.panelQuestionTypes=void 0,this.ddQuestionType=void 0,this.divQuestionOptionsHolder=void 0,this.divQuestionOptions=void 0,this.edtQuestionOptions=void 0,this.divQuestionOptionsInfo=void 0,this.divQuestionTitleHolder=void 0,this.divQuestionTitle=void 0,this.edtQuestionTitle=void 0,this.divQuestionFooterHolder=void 0,this.divQuestionFooter=void 0,this.edtQuestionFooter=void 0,this.ActivityLog=void 0,pas["WEBLib.Forms"].TForm.$final.call(this)},this.btnMainMenuClick=function(e){var i=0;if(pas["WEBLib.StdCtrls"].TButton.isPrototypeOf(e)){for(var s=0,n=rtl.length(t.MainMenuButtons)-1;s<=n;s++)i=s,rtl.as(e,pas["WEBLib.StdCtrls"].TButton)===t.MainMenuButtons[i]?t.MainMenuButtons[i].GetElementHandle().classList.replace("btn-dark","btn-primary"):t.MainMenuButtons[i].GetElementHandle().classList.replace("btn-primary","btn-dark");this.pagecontrolMain.SetTabIndex(rtl.as(e,pas["WEBLib.StdCtrls"].TButton).FTag$1)}},this.btnSurveyMenuClick=function(e){var i=0;if(pas["WEBLib.StdCtrls"].TButton.isPrototypeOf(e)){for(var s=0,n=rtl.length(t.SurveyMenuButtons)-1;s<=n;s++)i=s,rtl.as(e,pas["WEBLib.StdCtrls"].TButton)===t.SurveyMenuButtons[i]?t.SurveyMenuButtons[i].GetElementHandle().classList.replace("btn-dark","btn-primary"):t.SurveyMenuButtons[i].GetElementHandle().classList.replace("btn-primary","btn-dark");this.pageControlSurveys.SetTabIndex(rtl.as(e,pas["WEBLib.StdCtrls"].TButton).FTag$1)}},this.btnPreviewSizeClick=function(e){var i=0;if(pas["WEBLib.StdCtrls"].TButton.isPrototypeOf(e)){for(var s=0,n=rtl.length(t.PreviewSizeButtons)-1;s<=n;s++)i=s,rtl.as(e,pas["WEBLib.StdCtrls"].TButton)===t.PreviewSizeButtons[i]?t.PreviewSizeButtons[i].GetElementHandle().classList.replace("btn-dark","btn-primary"):t.PreviewSizeButtons[i].GetElementHandle().classList.replace("btn-primary","btn-dark");t.PreviewSize=rtl.as(e,pas["WEBLib.StdCtrls"].TButton).FTag$1,this.btnPreviewReloadClick(e)}},this.btnPreviewTimeClick=function(e){var i=0;if(pas["WEBLib.StdCtrls"].TButton.isPrototypeOf(e)){for(var s=0,n=rtl.length(t.PreviewTimeButtons)-1;s<=n;s++)i=s,rtl.as(e,pas["WEBLib.StdCtrls"].TButton)===t.PreviewTimeButtons[i]?t.PreviewTimeButtons[i].GetElementHandle().classList.replace("btn-dark","btn-primary"):t.PreviewTimeButtons[i].GetElementHandle().classList.replace("btn-primary","btn-dark");t.PreviewTime=rtl.as(e,pas["WEBLib.StdCtrls"].TButton).FTag$1,this.btnPreviewReloadClick(e)}},this.WebFormCreate=function(e){this.AppVer=ProjectName.replaceAll("_",".").substr(ProjectName.indexOf("_")+1),this.AppRel=document.lastModified,this.ActivityLog=pas.Classes.TStringList.$create("Create$1"),this.LogActivity("Survey Admin Client App Initializing"),this.LogActivity(""),this.LogActivity("AppVersion: "+this.AppVer),this.LogActivity("AppRelease: "+this.AppRel),this.LogActivity("TMSWEBCore: "+pas["WEBLib.Forms"].Application.Version()),this.LogActivity(""),window.console.log(this.ActivityLog.GetTextStr()),this.SetCaption("Survey Admin Client "+this.AppVer),this.CurrentSurveyData="[]",this.CurrentSurveyQuestions="[]",this.SwitchOption(0),this.pagecontrolMain.SetTabIndex(0),this.pageControlSurveys.SetTabIndex(0),this.pagecontrolSurveysConfig.SetTabIndex(0),t.MainMenuButtons=rtl.arraySetLength(t.MainMenuButtons,null,5),t.MainMenuButtons[0]=this.btnSurveys,t.MainMenuButtons[1]=this.btnResponses,t.MainMenuButtons[2]=this.btnQuestions,t.MainMenuButtons[3]=this.btnAccounts,t.MainMenuButtons[4]=this.btnLogging,t.SurveyMenuButtons=rtl.arraySetLength(t.SurveyMenuButtons,null,4),t.SurveyMenuButtons[0]=this.btnSurveyOptions,t.SurveyMenuButtons[1]=this.btnSurveyQuestions,t.SurveyMenuButtons[2]=this.btnSurveyPermissions,t.SurveyMenuButtons[3]=this.btnSurveyPreview,t.PreviewSizeButtons=rtl.arraySetLength(t.PreviewSizeButtons,null,5),t.PreviewSizeButtons[0]=this.btnPreviewSize0,t.PreviewSizeButtons[1]=this.btnPreviewSize1,t.PreviewSizeButtons[2]=this.btnPreviewSize2,t.PreviewSizeButtons[3]=this.btnPreviewSize3,t.PreviewSizeButtons[4]=this.btnPreviewSize4,t.PreviewSize=2,t.PreviewSizeButtons=rtl.arraySetLength(t.PreviewSizeButtons,null,5),t.PreviewTimeButtons[0]=this.btnPreviewAuto,t.PreviewTimeButtons[1]=this.btnPreviewActive,t.PreviewTimeButtons[2]=this.btnPreviewPre,t.PreviewTimeButtons[3]=this.btnPreviewPause,t.PreviewTimeButtons[4]=this.btnPreviewPost,t.PreviewTime=0,Tabulator.defaultOptions.layout="fitColumns",Tabulator.defaultOptions.index="ID",Tabulator.defaultOptions.selectable=1,Tabulator.defaultOptions.columnHeaderSortMulti=!0,Tabulator.defaultOptions.clipboard="copy",Tabulator.defaultOptions.placeholder="No Data",Tabulator.defaultOptions.columnDefaults={headerSortTristate:!0,resizable:!1},this.tabSurveys=new Tabulator("#divSurveysSurveyList",{data:JSON.parse(this.CurrentSurveyData),groupBy:"survey_group",columnCalcs:"table",headerVisible:!1,index:"survey_id",initialSort:[{column:"survey_name",dir:"asc"},{column:"survey_group",dir:"asc"}],columns:[{title:"ID",field:"survey_id",visible:!1},{title:"Group",field:"survey_group",visible:!1},{title:"Survey",field:"survey_name",bottomCalc:"count"},{title:"Permissions",field:"permissions",minWidth:28,width:28,formatter:function(t,e,i){var s="Y"==t.getValue().substr(0,1),n="Y"==t.getValue().substr(1,1),o="Y"==t.getValue().substr(2,1),r="Y"==t.getValue().substr(3,1);t.getValue().substr(4,1);return s?'<i class="fa-solid fa-key fa-fw"></i>':n?'<i class="fa-solid fa-pencil fa-fw"></i>':o?'<i class="fa-solid fa-eye fa-fw"></i>':r?'<i class="fa-solid fa-clipboard fa-fw"></i>':'<i class="fa-solid fa-ban fa-fw"></i>'}}]}),this.tabSurveys.on("rowClick",(function(t,e){e.select(),pas.Unit1.Form1.SurveySelect(e.getCell("survey_id").getValue())}));this.tabSurveyOptions=new Tabulator("#divSurveysOptions",{data:[{ID:1,OPTION:"Basic Information"},{ID:11,OPTION:"Survey QR Code"},{ID:2,OPTION:"Project Notes"},{ID:3,OPTION:"Availability"},{ID:4,OPTION:"Banner Active"},{ID:5,OPTION:"Banner Pre"},{ID:6,OPTION:"Banner Pause"},{ID:7,OPTION:"Banner Post"},{ID:8,OPTION:"About Page"},{ID:9,OPTION:"Feedback Page"},{ID:10,OPTION:"Change History"}],headerVisible:!1,columns:[{title:"ID",field:"ID",visible:!1},{title:"Options",field:"OPTION",bottomCalc:"count"},{title:"Items",field:"ITEMS",width:40,minWidth:45,formatter:function(t,e,i){return void 0!==t.getValue()&&0!==t.getValue()?'<div class="d-flex justify-content-end align-items-start"><div style="height: 22px; line-height:12px; font-size: 12px;" class="btn btn-sm text-white btn-secondary rounded-pill">'+t.getValue()+"</div></div>":""}}]}),this.tabSurveyOptions.on("tableBuilt",(function(){this.getRow(1).select()})),this.tabSurveyOptions.on("rowClick",(function(t,e){e.select(),pas.Unit1.Form1.SwitchOption(e.getCell("ID").getValue()-1)})),this.tabAvailability=new Tabulator("#divAvailability",{initialSort:[{column:"opening",dir:"asc"}],columns:[{title:"ID",field:"ID",visible:!1},{title:"Open",field:"opening",visible:!0,width:200,bottomCalc:"min",bottomCalc:"min",editor:"input",cellEdited:function(t){pas.Unit1.Form1.btnAvailabilityReloadClick(null),pas.Unit1.Form1.SurveyChanged(null)},formatter:"datetime",formatterParams:{inputFormat:"iso",outputFormat:"yyyy-MMM-dd (ccc) HH:mm"},bottomCalc:function(t,e,i){if(t.length>0){const e=t.map(t=>new Date(t));return luxon.DateTime.fromJSDate(new Date(Math.min(...e))).toFormat("yyyy-MMM-dd (ccc) HH:mm")}}},{title:"Close",field:"closing",visible:!0,width:200,bottomCalc:"max",bottomCalc:"max",editor:"input",cellEdited:function(t){pas.Unit1.Form1.btnAvailabilityReloadClick(null),pas.Unit1.Form1.SurveyChanged(null)},formatter:"datetime",formatterParams:{inputFormat:"iso",outputFormat:"yyyy-MMM-dd (ccc) HH:mm"},bottomCalc:function(t,e,i){if(t.length>0){const e=t.map(t=>new Date(t));return luxon.DateTime.fromJSDate(new Date(Math.max(...e))).toFormat("yyyy-MMM-dd (ccc) HH:mm")}}},{title:"Description",field:"description",visible:!0,minWidth:250,bottomCalc:"count",editor:"input",cellEdited:function(t){pas.Unit1.Form1.SurveyChanged(null)}}]}),this.tabAvailability.on("rowClick",(function(t,e){e.select()})),this.tabSurveyInfo=new Tabulator("#divSurveyInfo",{headerVisible:!1,columns:[{title:"ID",field:"ID",visible:!1},{title:"Key",field:"KEY",visible:!0,width:200},{title:"Value",field:"VALUE"}]}),this.tabSurveyInfo.on("rowClick",(function(t,e){e.select()})),this.tabAccounts=new Tabulator("#divAccounts",{index:"account_id",columns:[{title:"ID",field:"account_id",visible:!1},{title:"First",field:"first_name",visible:!0,bottomCalc:"count",editor:"input",cellEdited:function(t){pas.Unit1.Form1.AccountChanged(t.getRow().getCell("account_id").getValue())}},{title:"Last",field:"last_name",visible:!0,editor:"input",cellEdited:function(t){pas.Unit1.Form1.AccountChanged(t.getRow().getCell("account_id").getValue())}},{title:"E-Mail",field:"email",widthGrow:2,visible:!0,editor:"input",cellEdited:function(t){pas.Unit1.Form1.AccountChanged(t.getRow().getCell("account_id").getValue())}},{title:'<i class="fa-solid fa-tag"></i>',field:"openissues",width:50,visible:!0,bottomCalc:"sum"}]}),this.tabAccounts.on("rowClick",(function(t,e){e.select()}));var i='<i class="fa-solid fa-caret-right fa-fw mx-1"></i>',s='style="border-radius:4px; padding:2px 1px; margin-left:8px !important; border-color:#000;"',n=[{ID:0,HINT:"Undefined",ICON:"<i class='fa-solid fa-question ms-2 fa-fw'></i>",DESC:"Question not defined",INFO:i+"Question will be ignored in survey"},{ID:1,HINT:"Opening",ICON:"<i class='fa-solid fa-flag ms-2 fa-fw'></i>",DESC:"Start of survey",INFO:i+"Triggers start of the overall Survey Timer<br />"+i+"<em>Prev:</em> Defaults to <em>Reload</em><br />"+i+"<em>Next:</em> Defaults to <em>Next</em>"},{ID:2,HINT:"Info",ICON:"<i class='fa-solid fa-scroll ms-2 fa-fw'></i>",DESC:"Static page",INFO:i+"<em>Prev:</em> Defaults to <em>Prev</em><br />"+i+"<em>Next:</em> Defaults to <em>Next</em>"},{ID:3,HINT:"Closing",ICON:"<i class='fa-solid fa-flag-checkered ms-2 fa-fw'></i>",DESC:"End of survey",INFO:i+"Triggers finish of the overall survey timer<br />"+i+"<em>Prev:</em> Defaults to <em>Disabled</em><br />"+i+"<em>Next:</em> Defaults to <em>Disabled</em><br />"+i+"<em>Effects:</em> Other effects, Eg: <em>Fireworks</em>"},{ID:4,HINT:"Disabled",ICON:"<i class='fa-solid fa-xmark ms-2 fa-fw'></i>",DESC:"Question will be skipped",INFO:i+"Question will be skipped in survey</br >"+i+"<em>Prev:</em> Not Used<br />"+i+"<em>Next:</em> Not Used"},{ID:5,HINT:"Redirect",ICON:"<i class='fa-solid fa-signs-post ms-2 fa-fw'></i>",DESC:"Automatically advances to <em>Next</em>",INFO:i+"<em>Prev:</em> Not used<br />"+i+"<em>Next:</em> Defaults to <em>Next</em>"},{ID:6,HINT:"Random",ICON:"<i class='fa-solid fa-shuffle ms-2 fa-fw'></i>",DESC:"Automatically advances to random <em>Question</em>",INFO:i+"<em>Prev:</em> Not used<br />"+i+"<em>Next:</em> Not used<br />"+i+"<em>Choices:</em> List of <em>Questions</em><br />"+i+"<em>Weights:</em> List of <em>Weights</em><br />"+i+"Eg: Choices: Page 1, Page 2 Weights: 0.75, 0.25"},{ID:7,HINT:"Text Multi",ICON:"<i class='fa-solid fa-pencil ms-2 fa-fw'></i>",DESC:"General freeform text entry field",INFO:i+"<em>Prev:</em> Defaults to <em>Prev</em><br />"+i+"<em>Next:</em> Defaults to <em>Next</em><br />"+i+"<em>Chars:</em> Maximum number of characters<br />"+i+"<em>Lines:</em> Number of input lines to show"},{ID:8,HINT:"Text Single",ICON:"<i class='fa-solid fa-pencil fa-fw fa-border' "+s+"></i>",DESC:"Enter a single line of text",INFO:i+"<em>Prev:</em> Defaults to <em>Prev</em><br />"+i+"<em>Next:</em> Defaults to <em>Next</em><br />"+i+"<em>Max:</em> Maximum number of characters"},{ID:9,HINT:"Pick One",ICON:"<i class='fa-solid fa-circle-check ms-2 fa-fw'></i>",DESC:"Select exactly one <em>Item</em> from a list",INFO:i+"<em>Prev:</em> Defaults to <em>Prev</em><br />"+i+"<em>Next:</em> Defaults to <em>Next</em>"},{ID:10,HINT:"Pick One+",ICON:"<i class='fa-solid fa-circle-check fa-fw fa-border' "+s+"></i>",DESC:"Select exactly one <em>Item</em> plus an <em>Other</em> field",INFO:i+"<em>Prev:</em> Defaults to <em>Prev</em><br />"+i+"<em>Next:</em> Defaults to <em>Next</em>"},{ID:11,HINT:"Pick Many",ICON:"<i class='fa-solid fa-square-check ms-2 fa-fw'></i>",DESC:"Select zero or more items from a list",INFO:i+"<em>Prev:</em> Defaults to <em>Prev</em><br />"+i+"<em>Next:</em> Defaults to <em>Next</em><br />"+i+"<em>Min:</em> Minimum selection count<br />"+i+"<em>Max:</em> Maximum selection count"},{ID:12,HINT:"Pick Many+",ICON:"<i class='fa-solid fa-square-check fa-fw fa-border' "+s+"></i>",DESC:"Select zero or more items plus an <em>Other</em> field",INFO:i+"<em>Prev:</em> Defaults to <em>Prev</em><br />"+i+"<em>Next:</em> Defaults to <em>Next</em><br />"+i+"<em>Min:</em> Minimum selection count<br />"+i+"<em>Max:</em> Maximum selection count"},{ID:13,HINT:"Order Lst",ICON:"<i class='fa-solid fa-bars-staggered ms-2 fa-fw'></i>",DESC:"Order elements of a list",INFO:i+"<em>Prev:</em> Defaults to <em>Prev</em><br />"+i+"<em>Next:</em> Defaults to <em>Next</em>"},{ID:14,HINT:"Order List+",ICON:"<i class='fa-solid fa-bars-staggered fa-fw fa-border' "+s+"></i>",DESC:"Order elements plus an <em>Other</em> field",INFO:i+"<em>Prev:</em> Defaults to <em>Prev</em><br />"+i+"<em>Next:</em> Defaults to <em>Next</em>"}];window.typedata=n,this.tabQuestionTypes=new Tabulator("#panelQuestionTypes",{data:n,headerVisible:!1,columns:[{title:"ID",field:"ID",visible:!1},{title:"ICON",field:"ICON",visible:!0,formatter:"html",width:43,minWidth:43,maxWidth:43},{title:"HINT",field:"HINT",visible:!0,width:100},{title:"DESC",field:"DESC",visible:!0,formatter:"html"},{title:"INFO",field:"INFO",visible:!1}]}),this.tabQuestionTypes.on("rowClick",(function(t,e){e.select();var i=e.getCell("ID").getValue(),s=e.getCell("ICON").getValue(),n=e.getCell("HINT").getValue().slice(),o=e.getCell("DESC").getValue().slice(),r=e.getCell("INFO").getValue().slice(),a=pas.Unit1.Form1.tabQuestions.getSelectedRows();if(a.length>0){var l=a[0].getCell("question_id").getValue();pas.Unit1.Form1.NewQuestionTypeSelected(l,i,s,n,o,r,!0)}})),this.tabQuestions=new Tabulator("#divQuestions",{data:JSON.parse(this.CurrentSurveyQuestions),headerVisible:!1,index:"question_id",movableRows:!0,columns:[{title:"ID",field:"question_id",visible:!1},{title:"Type",field:"question_type",visible:!0,width:40,bottomCalc:"count",formatter:function(t,e,i){var s=n[0].ICON,o=n[0].HINT;return void 0!==t&&(s=n[parseInt(t.getValue())].ICON,o=n[parseInt(t.getValue())].HINT),t.getElement().setAttribute("title",o),s}},{title:"Name",field:"question_name",visible:!0},{title:"Title",field:"question_title",visible:!1},{title:"Footer",field:"question_footer",visible:!1},{title:"Options",field:"question_options",visible:!1},{title:"Question",field:"question",visible:!1}]}),this.tabQuestions.on("rowClick",(function(t,e){e.select(),pas.Unit1.Form1.QuestionSelect(e.getCell("question_id").getValue())})),this.tabQuestions.on("rowMoved",(function(t,e){pas.Unit1.Form1.SurveyChanged(null)})),this.tabLibrary=new Tabulator("#divLibraryList",{initialSort:[{column:"library_name",dir:"desc"}],headerVisible:!1,index:"library_id",columns:[{title:"ID",field:"library_id",visible:!1},{title:"library Type",field:"library_type",visible:!0,width:45,bottomCalc:"count",formatter:function(t,e,i){var s=n[0];return void 0!==t&&(s=n[parseInt(t.getValue())]),s}},{title:"library Name",field:"library_name",visible:!0}]}),this.tabLibrary.on("rowClick",(function(t,e){e.select()})),this.tabNotes=new Tabulator("#divNotes",{initialSort:[{column:"utc_stamp",dir:"desc"}],index:"note_id",resizableRows:!0,columns:[{title:"ID",field:"note_id",visible:!1},{title:"When",field:"utc_stamp",visible:!0,width:200,bottomCalc:"count",formatterPrint:!1,formatter:function(t,e,i){var s=luxon.DateTime.fromFormat(t.getValue(),"yyyy-MM-dd HH:mm:ss.SSS"),n=luxon.DateTime.now().diff(s).shiftTo("years","months","days","hours","minutes","seconds").toObject(),o="",r=0;for(var a in n)0!==n[a]&&"seconds"!==a&&r<2&&(1==n[a]?o+=n[a]+" "+a.slice(0,-1)+" ":o+=n[a]+" "+a+" ",r++);return""==o?o="just now":o+="ago",s.toFormat("yyyy-MMM-dd (ccc) HH:mm")+'<br /><span class="text-secondary">'+o+"</span>"}},{title:"Who",field:"first_name",visible:!0,width:200,resizable:!0,formatter:function(t,e,i){return t.getValue()+" "+t.getRow().getCell("last_name").getValue()+'<br /><a href="mailto:'+t.getRow().getCell("email").getValue()+'">'+t.getRow().getCell("email").getValue()+"</a>"}},{title:"Last Name",field:"last_name",visible:!1},{title:"E-Mail",field:"email",visible:!1},{title:"Notes",field:"note",visible:!0,minWidth:250,resizable:!0,cssClass:"HTMLOverflow",formatter:"html"}]}),this.tabNotes.on("rowClick",(function(t,e){e.select()})),this.tabPermissions=new Tabulator("#divPermissions",{index:"account_id",columns:[{title:"ID",field:"account_id",visible:!1},{title:'<i class="fa-solid fa-eye fa-fw fa-lg "></i>',field:"access",width:60,bottomCalc:"count",formatter:"tickCross",formatterParams:{allowEmpty:!0,allowTruthy:!0,tickElement:"<i class='fa-solid fa-check fa-fw fa-lg text-success'></i>",crossElement:"<i class='fa-solid fa-times fa-fw fa-lg text-danger'></i>"},cellClick:function(t,e){pas.Unit1.Form1.TogglePermissions(e.getRow().getCell("account_id").getValue(),e.getRow().getCell("first_name").getValue(),e.getRow().getCell("last_name").getValue(),e.getValue())}},{title:"First",field:"first_name"},{title:"Last",field:"last_name"},{title:"EMail",field:"email",widthGrow:2},{title:"Permissions",field:"permissions",width:200}]}),this.tabPermissions.on("rowClick",(function(t,e){e.select()})),this.tabIssues=new Tabulator("#divIssues",{initialSort:[{column:"utc_stamp",dir:"desc"}],resizableRows:!0,index:"issue_id",columns:[{title:"ID",field:"issue_id",visible:!1},{title:"When",field:"utc_stamp",visible:!0,width:200,bottomCalc:"count",formatterPrint:!1,formatter:function(t,e,i){if(void 0!==t.getValue()){var s=luxon.DateTime.fromFormat(t.getValue(),"yyyy-MM-dd HH:mm:ss.SSS"),n=luxon.DateTime.now().diff(s).shiftTo("years","months","days","hours","minutes","seconds").toObject(),o="",r=0;for(var a in n)0!==n[a]&&"seconds"!==a&&r<2&&(1==n[a]?o+=n[a]+" "+a.slice(0,-1)+" ":o+=n[a]+" "+a+" ",r++);return""==o?o="just now":o+="ago",s.toFormat("yyyy-MMM-dd (ccc) HH:mm")+'<br /><span class="text-secondary">'+o+"</span>"}return""}},{title:"Who",field:"first_name",visible:!0,width:200,resizable:!0,formatter:function(t,e,i){return t.getValue()+" "+t.getRow().getCell("last_name").getValue()+'<br /><a href="mailto:'+t.getRow().getCell("email").getValue()+'">'+t.getRow().getCell("email").getValue()+"</a>"}},{title:"Last Name",field:"last_name",visible:!1},{title:"E-Mail",field:"email",visible:!1},{title:"Category",field:"category",visible:!0,width:200,resizable:!0,formatterPrint:!1,formatter:function(t,e,i){var s="",n="text-secondary",o=t.getRow().getCell("resolution").getValue();return void 0!==o&&(o.indexOf("New")>-1&&(s="var(--bs-warning)"),o.indexOf("In Progress")>-1&&(s="var(--bs-primary)",n="text-info"),o.indexOf("Closed")>-1&&(s="var(--bs-success)",n="text-white"),""!==s&&(t.getElement().style.backgroundColor=s)),t.getValue()+'<br /><span class="'+n+'">'+t.getRow().getCell("resolution").getValue()+"</span> [ "+(parseInt(t.getRow().getCell("activitylog_size").getValue()/1024)+1)+" kB ]"}},{title:"Resolution",field:"resolution",visible:!1},{title:"Log Size",field:"activitylog_size",visible:!1},{title:"Issue",field:"issue",visible:!0,resizable:!0,cssClass:"HTMLOverflow",formatter:"html"}]}),this.tabIssues.on("rowClick",(function(t,e){e.select()})),this.tabResponses=new Tabulator("#divResponses",{columns:[{title:"SurveyID",field:"SurveyID",visible:!1},{title:"Group",field:"SurveyGroup",visible:!0,minWidth:200,headerFilter:!0,bottomCalc:"count"},{title:"Name",field:"SurveyName",visible:!0,minWidth:200,headerFilter:!0},{title:"Time",field:"SurveyTime",visible:!0,minWidth:200,headerFilter:!0},{title:"Question",field:"QuestionName",visible:!0,minWidth:200,headerFilter:!0},{title:"Response",field:"Response",visible:!0,minWidth:200,headerFilter:!0}]}),this.tabFeedback=new Tabulator("#divFeedback",{initialSort:[{column:"utc_stamp",dir:"desc"}],resizableRows:!0,index:"feedback_id",columns:[{title:"ID",field:"feedback_id",visible:!1},{title:"When",field:"utc_stamp",visible:!0,width:200,bottomCalc:"count",formatterPrint:!1,formatter:function(t,e,i){if(void 0!==t.getValue()){var s=luxon.DateTime.fromFormat(t.getValue(),"yyyy-MM-dd HH:mm:ss.SSS"),n=luxon.DateTime.now().diff(s).shiftTo("years","months","days","hours","minutes","seconds").toObject(),o="",r=0;for(var a in n)0!==n[a]&&"seconds"!==a&&r<2&&(1==n[a]?o+=n[a]+" "+a.slice(0,-1)+" ":o+=n[a]+" "+a+" ",r++);return""==o?o="just now":o+="ago",s.toFormat("yyyy-MMM-dd (ccc) HH:mm")+'<br /><span class="text-secondary">'+o+"</span>"}return""}},{title:"Survey Name",field:"survey_name",visible:!0,width:200,resizable:!0,formatter:function(t,e,i){return t.getRow().getCell("survey_group").getValue()+"<br />"+t.getValue()}},{title:"Survey Group",field:"survey_group",visible:!1},{title:"Stage",field:"stage",visible:!0,width:200,resizable:!0,formatterPrint:!1,formatter:function(t,e,i){var s="",n="text-secondary",o=t.getRow().getCell("resolution").getValue();return void 0!==o&&(o.indexOf("New")>-1&&(s="var(--bs-warning)"),o.indexOf("In Progress")>-1&&(s="var(--bs-primary)",n="text-info"),o.indexOf("Closed")>-1&&(s="var(--bs-success)",n="text-white"),""!==s&&(t.getElement().style.backgroundColor=s)),t.getValue()+'<br /><span class="'+n+'">'+t.getRow().getCell("resolution").getValue()+"</span> [ "+(parseInt(t.getRow().getCell("activitylog_size").getValue()/1024)+1)+" kB ]"}},{title:"Resolution",field:"resolution",visible:!1},{title:"Log Size",field:"activitylog_size",visible:!1},{title:"Feedback",field:"feedback",visible:!0,resizable:!0,cssClass:"HTMLOverflow",formatter:"html"}]}),this.tabFeedback.on("rowClick",(function(t,e){e.select()})),this.tabChangeHistory=new Tabulator("#divChangeHistory",{initialSort:[{column:"utc_stamp",dir:"desc"}],columns:[{title:"ID",field:"ID",visible:!1},{title:"When",field:"utc_stamp",visible:!0,width:200,bottomCalc:"count",formatterPrint:!1,formatter:function(t,e,i){var s=luxon.DateTime.fromFormat(t.getValue(),"yyyy-MM-dd HH:mm:ss.SSS"),n=luxon.DateTime.now().diff(s).shiftTo("years","months","days","hours","minutes","seconds").toObject(),o="",r=0;for(var a in n)0!==n[a]&&"seconds"!==a&&r<2&&(1==n[a]?o+=n[a]+" "+a.slice(0,-1)+" ":o+=n[a]+" "+a+" ",r++);return""==o?o="just now":o+="ago",s.toFormat("yyyy-MMM-dd (ccc) HH:mm")+'<br /><span class="text-secondary">'+o+"</span>"}},{title:"Who",field:"first_name",visible:!0,width:200,resizable:!0,formatter:function(t,e,i){return t.getValue()+" "+t.getRow().getCell("last_name").getValue()+'<br /><a href="mailto:'+t.getRow().getCell("email").getValue()+'">'+t.getRow().getCell("email").getValue()+"</a>"}},{title:"Last Name",field:"last_name",visible:!1},{title:"E-Mail",field:"email",visible:!1},{title:"What",field:"change",visible:!0,minWidth:250,resizable:!0,formatter:"html"}]}),this.tabChangeHistory.on("rowClick",(function(t,e){e.select()}));var o=function(t,e,i){return new Set(t).size};this.tabLogging=new Tabulator("#divLogging",{printAsHtml:!0,columns:[{title:"ID",field:"ID",visible:!1},{title:"Timestamp",field:"utc_stamp",visible:!0,width:200,bottomCalc:"count",headerFilter:!0},{title:"IP Address",field:"ipaddr",visible:!0,width:150,resizable:!0,headerFilter:!0,bottomCalc:o},{title:"Endpoint",field:"endpoint",visible:!0,minWidth:250,widthGrow:4,resizable:!0,headerFilter:!0,bottomCalc:o,formatterPrint:!1,formatter:function(t,e,i){var s="";return void 0!==t.getValue()&&(t.getValue().indexOf(" Started")>-1&&(s="yellow"),t.getValue().indexOf("Database Created")>-1&&(s="yellow"),t.getValue().indexOf("Version: ")>-1&&(s="yellow"),t.getValue().indexOf("Release: ")>-1&&(s="yellow"),t.getValue().indexOf("Login [ Successful")>-1&&(s="lightgreen"),t.getValue().indexOf("Login [ Failed")>-1&&(s="lightpink"),""!==s&&(t.getElement().style.backgroundColor=s)),t.getValue()}},{title:"First Name",field:"first_name",visible:!0,minWidth:100,resizable:!0,headerFilter:!0,bottomCalc:o},{title:"Last Name",field:"last_name",visible:!0,minWidth:100,resizable:!0,headerFilter:!0,bottomCalc:o},{title:"E-Mail",field:"email",visible:!0,minWidth:200,widthGrow:2,resizable:!0,headerFilter:!0,bottomCalc:o}]}),this.tabLogging.on("rowClick",(function(t,e){e.select()}));var r={mode:"classic",resizingBar:!0,charCounter:!0,charCounterLabel:"Character Count: ",showPathLabel:!0,addTagsWhitelist:"i|svg|label|input|select|option|textarea",attributesWhitelist:{input:"type|id|value|name",label:"id|for",textarea:"id|maxlength|rows|cols"},codeMirror:window.CodeMirror,katex:katex,font:["Roboto","Roboto Condensed","Cairo"],buttonList:[["undo","redo"],["font","fontSize","formatBlock"],["paragraphStyle","blockquote","horizontalRule"],["bold","underline","italic","strike","subscript","superscript","math"],["fontColor","hiliteColor","textStyle","removeFormat"],["list","outdent","indent","align","lineHeight"],["table","link","image","video","audio"],["fullScreen","showBlocks","codeView","print"]],icons:{undo:'<span><i class="fas fa-undo"></i></span>',save:'<span class="HTMLSave" style="margin-top: -2px;"><i class="fas fa-check fa-xl"></i></span>',redo:'<span><i class="fas fa-redo"></i></span>',paragraph_style:'<span><i class="fas fa-paragraph"></i></span>',blockquote:'<span><i class="fas fa-quote-left"></i></span>',bold:'<span><i class="fas fa-bold"></i></span>',underline:'<span><i class="fas fa-underline"></i></span>',italic:'<span><i class="fas fa-italic"></i></span>',strike:'<span><i class="fas fa-strikethrough"></i></span>',subscript:'<span><i class="fas fa-subscript"></i></span>',superscript:'<span><i class="fas fa-superscript"></i></span>',math:'<span><i class="fas fa-square-root-variable"></i></span>',font_color:'<span><i class="fas fa-pen-nib"></i></span>',highlight_color:'<span><i class="fas fa-highlighter"></i></span>',erase:'<span><i class="fas fa-eraser"></i></span>',list_bullets:'<span><i class="fas fa-list"></i></span>',list_number:'<span><i class="fas fa-list-ol"></i></span>',outdent:'<span><i class="fas fa-outdent"></i></span>',indent:'<span><i class="fas fa-indent"></i></span>',align_left:'<span><i class="fas fa-align-left"></i></span>',align_right:'<span><i class="fas fa-align-right"></i></span>',align_justify:'<span><i class="fas fa-align-justify"></i></span>',align_center:'<span><i class="fas fa-align-center"></i></span>',line_height:'<span><i class="fas fa-text-height"></i></span>',table:'<span><i class="fas fa-table"></i></span>',link:'<span><i class="fas fa-link"></i></span>',image:'<span><i class="fas fa-image"></i></span>',video:'<span><i class="fas fa-video"></i></span>',audio:'<span><i class="fas fa-microphone"></i></span>',expansion:'<span><i class="fas fa-expand"></i></span>',reduction:'<span><i class="fas fa-compress"></i></span>',show_blocks:'<span><i class="fas fa-tasks-alt"></i></span>',code_view:'<span><i class="fas fa-code"></i></span>',print:'<span><i class="fas fa-print"></i></span>'}};r.resizingBarContainer="#divConfigBannerContentFooter",r.toolbarContainer="#divConfigBannerContentHeader",this.suneditorBannerContent=SUNEDITOR.create("divConfigBannerContentText",r),this.suneditorBannerContent.onChange=function(t,e){pas.Unit1.Form1.SurveyChanged(null)},r.resizingBarContainer="#divConfigBannerPreContentFooter",r.toolbarContainer="#divConfigBannerPreContentHeader",this.suneditorBannerPreContent=SUNEDITOR.create("divConfigBannerPreContentText",r),this.suneditorBannerPreContent.onChange=function(t,e){pas.Unit1.Form1.SurveyChanged(null)},r.resizingBarContainer="#divConfigBannerPauseContentFooter",r.toolbarContainer="#divConfigBannerPauseContentHeader",this.suneditorBannerPauseContent=SUNEDITOR.create("divConfigBannerPauseContentText",r),this.suneditorBannerPauseContent.onChange=function(t,e){pas.Unit1.Form1.SurveyChanged(null)},r.resizingBarContainer="#divConfigBannerPostContentFooter",r.toolbarContainer="#divConfigBannerPostContentHeader",this.suneditorBannerPostContent=SUNEDITOR.create("divConfigBannerPostContentText",r),this.suneditorBannerPostContent.onChange=function(t,e){pas.Unit1.Form1.SurveyChanged(null)},r.resizingBarContainer="#divConfigAboutContentFooter",r.toolbarContainer="#divConfigAboutContentHeader",this.suneditorAboutContent=SUNEDITOR.create("divConfigAboutContentText",r),this.suneditorAboutContent.onChange=function(t,e){pas.Unit1.Form1.SurveyChanged(null)},r.resizingBarContainer="#divConfigFeedbackContentFooter",r.toolbarContainer="#divConfigFeedbackContentHeader",this.suneditorFeedbackContent=SUNEDITOR.create("divConfigFeedbackContentText",r),this.suneditorFeedbackContent.onChange=function(t,e){pas.Unit1.Form1.SurveyChanged(null)},r.resizingBarContainer="#divQuestionContentFooter",r.toolbarContainer="#divQuestionContentHeader",this.suneditorQuestionContent=SUNEDITOR.create("divQuestionContentText",r),this.suneditorQuestionContent.onChange=function(t,e){pas.Unit1.Form1.QuestionChanged(null)},r.resizingBarContainer="#divLibraryContentFooter",r.toolbarContainer="#divLibraryContentHeader",this.suneditorLibraryContent=SUNEDITOR.create("divLibraryContentText",r),this.suneditorLibraryContent.onChange=function(t,e){pas.Unit1.Form1.SurveyChanged(null)},window.draggableListener=function(t){var e=t.target,i=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,s=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.style.transform="translate("+i+"px, "+s+"px)",e.setAttribute("data-x",i),e.setAttribute("data-y",s)},interact(".draggable").draggable({listeners:{move:window.draggableListener},inertia:!0}),interact(".resize-drag").resizable({edges:{left:!0,right:!0,bottom:!0,top:!0},margin:20,listeners:{move(t){var e=t.target,i=parseFloat(e.getAttribute("data-x"))||0,s=parseFloat(e.getAttribute("data-y"))||0;e.style.width=t.rect.width+"px",e.style.height=t.rect.height+"px",i+=t.deltaRect.left,s+=t.deltaRect.top,e.style.transform="translate("+i+"px,"+s+"px)",e.setAttribute("data-x",i),e.setAttribute("data-y",s)}}}).draggable({listeners:{move:window.draggableListener},ignoreFrom:".sun-editor"}).pointerEvents({ignoreFrom:".sun-editor"})},this.WebFormShow=function(t){this.tmrLaunch.SetEnabled(!0),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},0)},this.tmrLaunchTimer=function(t){this.tmrLaunch.SetEnabled(!1),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},0),this.Login()},this.splitterSurveyMainMove=function(t){this.divSurveysSurveyHolder.GetWidth()<250&&this.divSurveysSurveyHolder.SetWidth(250),this.divSurveysSurveyHolder.GetWidth()>750&&this.divSurveysSurveyHolder.SetWidth(750)},this.btnLogoutClick=async function(t){this.divBlocker.SetElementClassName("Close"),this.divBlocker.SetVisible(!0),window.location.reload(!0),window.location.href=window.location.href},this.ServerConnRequest=function(t){t.FRequest.GetHeaders().SetValue("Authorization",this.JWT)},this.btnAccountClick=async function(t){},this.Login=async function(){var t=null;(t=pas.UnitLogin.TLoginForm.$create("Create$1",[this])).FPopup=!0,t.FPopupOpacity=.7,await t.Load(),t.divLoginTitle.FHTML.SetTextStr('<div style="width:100%; text-align:center;">Survey Admin Client v'+this.AppVer);try{await t.Execute()}finally{t=rtl.freeLoc(t)}},this.btnSurveyReloadClick=async function(t){var e="";e=this.CurrentSurveyID,await this.UpdateTable("ISurveyAdminService.GetSurveys",[],this.tabSurveys,this.btnSurveyReload),""!==e?this.tabSurveys.selectRow(e):this.tabSurveys.getDataCount()>0&&(this.tabSurveys.selectRow(this.tabSurveys.getRows()[0]),e=this.tabSurveys.getRows()[0].getCell("survey_id").getValue()),""!==e&&this.SurveySelect(e),this.btnSurveySave.SetEnabled(!1),this.btnSurveyCancel.SetEnabled(!1)},this.UpdateTable=async function(e,i,s,n){var o,r=null,a=void 0;o=pas.SysUtils.Now(),this.LogActivity("["+e+"] Requested.");try{if(null!==n&&n.SetCaption('<i class="fa-solid fa-rotate fa-spin"></i>'),this.ServerConn.GetConnected())try{(r=pas["XData.Web.Client"].TXDataWebClient.$create("Create$1",[null])).SetConnection(this.ServerConn),a=(await r.RawInvokeAsync(e,i)).FResult,s&&s.setData(await a.text()).then((function(){s.redraw(!0)}))}catch(i){if(!pas.SysUtils.Exception.isPrototypeOf(i))throw i;var l=i;t.Form1.LogActivity(e+" Error: ["+l.$classname+"] "+l.fMessage),window.console.log(e+" Error: ["+l.$classname+"] "+l.fMessage)}}finally{null!==n&&n.SetCaption('<i class="fa-solid fa-rotate"></i>')}this.LogActivity("["+e+"] Complete. "+pas.SysUtils.IntToStr(pas.DateUtils.MilliSecondsBetween(pas.SysUtils.Now(),o))+"ms")},this.GetQueryData=async function(e,i,s){var n,o="",r=null,a=void 0;o="",n=pas.SysUtils.Now(),this.LogActivity("["+e+"] Expected");try{if(null!==s&&s.SetCaption('<i class="fa-solid fa-rotate fa-spin"></i>'),this.ServerConn.GetConnected())try{(r=pas["XData.Web.Client"].TXDataWebClient.$create("Create$1",[null])).SetConnection(this.ServerConn),a=(await r.RawInvokeAsync(e,i)).FResult,o=await a.text()}catch(i){if(!pas.SysUtils.Exception.isPrototypeOf(i))throw i;var l=i;t.Form1.LogActivity(e+" Error: ["+l.$classname+"] "+l.fMessage),window.console.log(e+" Error: ["+l.$classname+"] "+l.fMessage)}}finally{null!==s&&s.SetCaption('<i class="fa-solid fa-rotate"></i>')}return this.LogActivity("["+e+"] Complete "+pas.SysUtils.IntToStr(pas.DateUtils.MilliSecondsBetween(pas.SysUtils.Now(),n))+"ms"),o},this.btnSurveyNewClick=async function(t){var e,i="",s=null;e=pas.SysUtils.TGuidHelper.ToString.call(pas.SysUtils.TGuidHelper.NewGuid(),!1),i=""===this.CurrentSurveyGroup?"New Survey Group":this.CurrentSurveyGroup,(s=pas["WEBLib.JSON"].TJSONObject.$create("Create$2")).AddPair$2("SurveyID",e),s.AddPair$2("SurveyName","New Survey"),s.AddPair$2("SurveyGroup",i),s.AddPair$2("SurveyLink","LINK"),await this.UpdateTable("ISurveyAdminService.NewSurvey",[e,"New Survey",i,"LINK",s.ToString(),"New Survey Created"],this.tabSurveys,this.btnSurveyReload),this.CurrentSurveyID=e,this.btnSurveyReloadClick(t)},this.btnSurveyDeleteClick=async function(t){var e="";e=this.CurrentSurveyID;var i=this.tabSurveys.getRow(e);e=!1!==i.getNextRow()?i.getNextRow().getCell("survey_id").getValue():!1!==i.getPrevRow()?i.getPrevRow().getCell("survey_id").getValue():"",await this.UpdateTable("ISurveyAdminService.DeleteSurvey",[this.CurrentSurveyID,this.CurrentSurveyGroup,this.CurrentSurveyName],this.tabSurveys,this.btnSurveyReload),this.CurrentSurveyID=e,this.btnSurveyReloadClick(t)},this.btnSurveyCloneClick=async function(t){var e,i,s,n,o=null;e=pas.SysUtils.TGuidHelper.ToString.call(pas.SysUtils.TGuidHelper.NewGuid(),!1),i=this.CurrentSurveyName+" (clone)",s=this.CurrentSurveyGroup,(o=rtl.as(pas["WEBLib.JSON"].TJSONObject.ParseJSONValue(this.CurrentSurveyData),pas["WEBLib.JSON"].TJSONObject)).AddPair$2("SurveyID",e),o.AddPair$2("SurveyName",i),o.AddPair$2("SurveyGroup",s),o.AddPair$2("SurveyLink","LINK"),n="Survey Cloned From "+this.CurrentSurveyGroup+"/"+this.CurrentSurveyName,await this.UpdateTable("ISurveyAdminService.NewSurvey",[e,i,s,"LINK",o.ToString(),n],this.tabSurveys,this.btnSurveyReload),this.CurrentSurveyID=e,this.btnSurveyReloadClick(t)},this.SurveySelect=async function(t){var e,i,s,n,o,r=null,a="",l=Tabulator.findTable("#divSurveysSurveyList")[0].getRow(t).getData();if(e=l.survey_id,i=l.survey_name,s=l.survey_group,n=l.survey_link,o=l.permissions,this.CurrentSurveyID=e,this.edtConfigBasicID.SetText(e),this.CurrentSurveyName=i,this.edtConfigBasicName.SetText(i),this.CurrentSurveyGroup=s,this.edtConfigBasicGroup.SetText(s),this.CurrentSurveyLink=n,this.edtConfigBasicLink.SetText(n),""!==pas["WEBLib.WebTools"].GetQueryParam("Development")?(this.divConfigBasicTestLink.FHTML.SetTextStr('<a class="text-decoration-none text-dark" href="http://localhost:8000/SurveyClient/Project1.html?SurveyID='+this.edtConfigBasicLink.GetText()+'&Development=True&Testing=True" target="_blank">http://localhost:8000/SurveyClient/Project1.html?SurveyID='+this.edtConfigBasicLink.GetText()+"&Testing=True</a>"),this.divConfigBasicLiveLink.FHTML.SetTextStr('<a class="text-decoration-none text-dark" href="http://localhost:8000/SurveyClient/Project1.html?SurveyID='+this.edtConfigBasicLink.GetText()+'&Development=True" target="_blank">http://localhost:8000/SurveyClient/Project1.html?SurveyID='+this.edtConfigBasicLink.GetText()+"</a>")):(this.divConfigBasicTestLink.FHTML.SetTextStr('<a class="text-decoration-none text-dark" href="https://www.500surveys.ca/?SurveyID='+this.edtConfigBasicLink.GetText()+'&Testing=True" target="_blank">https://www.500surveys.ca/?SurveyID='+this.edtConfigBasicLink.GetText()+"&Testing=True</a>"),this.divConfigBasicLiveLink.FHTML.SetTextStr('<a class="text-decoration-none text-dark" href="https://www.500surveys.ca/?SurveyID='+this.edtConfigBasicLink.GetText()+'" target="_blank">https://www.500surveys.ca/?SurveyID='+this.edtConfigBasicLink.GetText()+"</a>")),""!==pas.SysUtils.Trim(this.edtConfigBasicLink.GetText())&&this.qrcode.SetText("https://www.500surveys.ca/?SurveyID="+this.edtConfigBasicLink.GetText()),this.CurrentSurveyPermissions=o,this.CurrentSurveyData=await this.GetSurveyByID(this.CurrentSurveyID,this.CurrentSurveyName,this.CurrentSurveyGroup),null!==(r=rtl.as(pas["WEBLib.JSON"].TJSONObject.ParseJSONValue(this.CurrentSurveyData),pas["WEBLib.JSON"].TJSONObject)).GetValue$1("Availability")){a=rtl.as(r.GetValue$1("Availability"),pas["WEBLib.JSON"].TJSONString).GetStrValue(),this.tabAvailability.setData(JSON.parse(a));var h=this.tabAvailability.getDataCount();this.tabSurveyOptions.getRow(3).getCell("ITEMS").setValue(h),this.btnAvailabilityReloadClick(null)}else{this.tabAvailability.clearData(),this.tabSurveyOptions.getRow(3).getCell("ITEMS").setValue(0)}null!==r.GetValue$1("Banner-Title")?(this.edtConfigBannerTitle.SetText(rtl.as(r.GetValue$1("Banner-Title"),pas["WEBLib.JSON"].TJSONString).GetStrValue()),this.edtConfigBannerFooter.SetText(rtl.as(r.GetValue$1("Banner-Footer"),pas["WEBLib.JSON"].TJSONString).GetStrValue()),a=rtl.as(r.GetValue$1("Banner-Content"),pas["WEBLib.JSON"].TJSONString).GetStrValue(),this.suneditorBannerContent.setContents(a)):(this.edtConfigBannerTitle.SetText(""),this.edtConfigBannerFooter.SetText(""),this.suneditorBannerContent.setContents("")),null!==r.GetValue$1("Banner-Pre-Title")&&(this.edtConfigBannerPreTitle.SetText(rtl.as(r.GetValue$1("Banner-Pre-Title"),pas["WEBLib.JSON"].TJSONString).GetStrValue()),this.edtConfigBannerPreFooter.SetText(rtl.as(r.GetValue$1("Banner-Pre-Footer"),pas["WEBLib.JSON"].TJSONString).GetStrValue()),a=rtl.as(r.GetValue$1("Banner-Pre-Content"),pas["WEBLib.JSON"].TJSONString).GetStrValue(),this.suneditorBannerPreContent.setContents(a)),null!==r.GetValue$1("Banner-Pause-Title")&&(this.edtConfigBannerPauseTitle.SetText(rtl.as(r.GetValue$1("Banner-Pause-Title"),pas["WEBLib.JSON"].TJSONString).GetStrValue()),this.edtConfigBannerPauseFooter.SetText(rtl.as(r.GetValue$1("Banner-Pause-Footer"),pas["WEBLib.JSON"].TJSONString).GetStrValue()),a=rtl.as(r.GetValue$1("Banner-Pause-Content"),pas["WEBLib.JSON"].TJSONString).GetStrValue(),this.suneditorBannerPauseContent.setContents(a)),null!==r.GetValue$1("Banner-Post-Title")&&(this.edtConfigBannerPostTitle.SetText(rtl.as(r.GetValue$1("Banner-Post-Title"),pas["WEBLib.JSON"].TJSONString).GetStrValue()),this.edtConfigBannerPostFooter.SetText(rtl.as(r.GetValue$1("Banner-Post-Footer"),pas["WEBLib.JSON"].TJSONString).GetStrValue()),a=rtl.as(r.GetValue$1("Banner-Post-Content"),pas["WEBLib.JSON"].TJSONString).GetStrValue(),this.suneditorBannerPostContent.setContents(a)),null!==r.GetValue$1("About-Title")&&(this.edtConfigAboutTitle.SetText(rtl.as(r.GetValue$1("About-Title"),pas["WEBLib.JSON"].TJSONString).GetStrValue()),a=rtl.as(r.GetValue$1("About-Content"),pas["WEBLib.JSON"].TJSONString).GetStrValue(),this.suneditorAboutContent.setContents(a)),null!==r.GetValue$1("Feedback-Title")&&(this.edtConfigFeedbackTitle.SetText(rtl.as(r.GetValue$1("Feedback-Title"),pas["WEBLib.JSON"].TJSONString).GetStrValue()),a=rtl.as(r.GetValue$1("Feedback-Content"),pas["WEBLib.JSON"].TJSONString).GetStrValue(),this.suneditorFeedbackContent.setContents(a)),this.btnSurveyInfoReloadClick(null),this.btnNotesReloadClick(null),this.btnChangeHistoryReloadClick(null),this.btnPermissionsReloadClick(null),this.btnQuestionsReloadClick(null),this.btnSurveySave.SetEnabled(!1),this.btnSurveyCancel.SetEnabled(!1)},this.QuestionSelect=async function(t){var e="",i=0,s="",n="",o="";e="",i=0,s="",n="",o="";var r="",a=window.typedata,l=this.tabQuestions.getRow(t);void 0!==l&&(e=l.getCell("question_name").getValue(),i=l.getCell("question_type").getValue(),s=l.getCell("question_title").getValue(),n=l.getCell("question_footer").getValue(),o=l.getCell("question_options").getValue(),r=l.getCell("question").getValue(),pas.Unit1.Form1.NewQuestionTypeSelected(t,i,a[i].ICON,a[i].HINT,a[i].DESC,a[i].INFO,!1)),this.edtQuestionID.SetText(t),this.edtQuestionName.SetText(e),this.edtQuestionTitle.SetText(s),this.edtQuestionFooter.SetText(n),this.edtQuestionOptions.SetText(o),this.suneditorQuestionContent.setContents(r)},this.SurveyChanged=function(t){var e,i,s=null,n=null,o=null,r="",a=0;if(n=rtl.as(pas["WEBLib.JSON"].TJSONObject.ParseJSONValue(this.CurrentSurveyData),pas["WEBLib.JSON"].TJSONObject),s=pas["WEBLib.JSON"].TJSONObject.$create("Create$2"),this.NewSurveyName=pas.SysUtils.Trim(this.edtConfigBasicName.GetText()),this.NewSurveyGroup=pas.SysUtils.Trim(this.edtConfigBasicGroup.GetText()),this.NewSurveyLink=pas.SysUtils.Trim(this.edtConfigBasicLink.GetText()),s.AddPair$2("SurveyID",this.CurrentSurveyID),s.AddPair$2("SurveyName",this.NewSurveyName),s.AddPair$2("SurveyGroup",this.NewSurveyGroup),s.AddPair$2("SurveyLink",this.NewSurveyLink),e=JSON.stringify(this.tabAvailability.getData()),s.AddPair$2("Availability",e),s.AddPair$2("Banner-Title",pas.SysUtils.Trim(this.edtConfigBannerTitle.GetText())),s.AddPair$2("Banner-Footer",pas.SysUtils.Trim(this.edtConfigBannerFooter.GetText())),r=this.suneditorBannerContent.getContents(!1),s.AddPair$2("Banner-Content",r),s.AddPair$2("Banner-Pre-Title",pas.SysUtils.Trim(this.edtConfigBannerPreTitle.GetText())),s.AddPair$2("Banner-Pre-Footer",pas.SysUtils.Trim(this.edtConfigBannerPreFooter.GetText())),r=this.suneditorBannerPreContent.getContents(!1),s.AddPair$2("Banner-Pre-Content",r),s.AddPair$2("Banner-Pause-Title",pas.SysUtils.Trim(this.edtConfigBannerPauseTitle.GetText())),s.AddPair$2("Banner-Pause-Footer",pas.SysUtils.Trim(this.edtConfigBannerPauseFooter.GetText())),r=this.suneditorBannerPauseContent.getContents(!1),s.AddPair$2("Banner-Pause-Content",r),s.AddPair$2("Banner-Post-Title",pas.SysUtils.Trim(this.edtConfigBannerPostTitle.GetText())),s.AddPair$2("Banner-Post-Footer",pas.SysUtils.Trim(this.edtConfigBannerPostFooter.GetText())),r=this.suneditorBannerPostContent.getContents(!1),s.AddPair$2("Banner-Post-Content",r),s.AddPair$2("About-Title",pas.SysUtils.Trim(this.edtConfigAboutTitle.GetText())),r=this.suneditorAboutContent.getContents(!1),s.AddPair$2("About-Content",r),s.AddPair$2("Feedback-Title",pas.SysUtils.Trim(this.edtConfigFeedbackTitle.GetText())),r=this.suneditorFeedbackContent.getContents(!1),s.AddPair$2("Feedback-Content",r),this.NewSurveyData=s.ToString(),"",i=JSON.stringify(this.tabQuestions.getData()),this.NewSurveyData===this.CurrentSurveyData&&i===this.CurrentSurveyQuestions)this.btnSurveySave.SetEnabled(!1),this.btnSurveyCancel.SetEnabled(!1);else{this.btnSurveySave.SetEnabled(!0),this.btnSurveyCancel.SetEnabled(!0),(o=pas.Classes.TStringList.$create("Create$1")).SetSorted(!0),o.FDuplicates=0;for(var l=0,h=s.GetCount()-1;l<=h;l++)a=l,null!==n.GetValue$1(s.GetPair(a).fjs.GetStrValue())?n.GetValue$1(s.GetPair(a).fjs.GetStrValue()).GetStrValue()!==s.GetValue$1(s.GetPair(a).fjs.GetStrValue()).GetStrValue()&&(0===pas.System.Pos("Content",s.GetPair(a).fjs.GetStrValue())&&0===pas.System.Pos("Availability",s.GetPair(a).fjs.GetStrValue())?o.Add("Updated "+s.GetPair(a).fjs.GetStrValue()+" [ "+s.GetValue$1(s.GetPair(a).fjs.GetStrValue()).GetStrValue()+" ]<br />"):o.Add("Updated "+s.GetPair(a).fjs.GetStrValue()+"<br />")):0===pas.System.Pos("Content",s.GetPair(a).fjs.GetStrValue())&&0===pas.System.Pos("Availability",s.GetPair(a).fjs.GetStrValue())?o.Add("Added "+s.GetPair(a).fjs.GetStrValue()+" [ "+s.GetValue$1(s.GetPair(a).fjs.GetStrValue()).GetStrValue()+" ]<br />"):o.Add("Added "+s.GetPair(a).fjs.GetStrValue()+"<br />");for(var d=0,u=n.GetCount()-1;d<=u;d++)a=d,null===s.GetValue$1(n.GetPair(a).fjs.GetStrValue())&&(0===pas.System.Pos("Content",n.GetPair(a).fjs.GetStrValue())&&0===pas.System.Pos("Availability",n.GetPair(a).fjs.GetStrValue())?o.Add("Removed "+n.GetPair(a).fjs.GetStrValue()+" [ "+n.GetValue$1(n.GetPair(a).fjs.GetStrValue()).GetStrValue()+" ]<br />"):o.Add("Removed "+n.GetPair(a).fjs.GetStrValue()+"<br />"));i!==this.CurrentSurveyQuestions&&o.Add("Changed Survey Questions"),this.NewSurveyDifferences=o.GetTextStr(),o=rtl.freeLoc(o)}s=rtl.freeLoc(s),n=rtl.freeLoc(n)},this.QuestionChanged=function(t){var e,i,s,n,o,r;if(e=this.edtQuestionID.GetText(),i=this.edtQuestionName.GetText(),s=this.ddQuestionType.FTag$1,n=this.edtQuestionTitle.GetText(),o=this.edtQuestionFooter.GetText(),r=this.edtQuestionOptions.GetText(),""!==e){var a=this.suneditorQuestionContent.getContents(!1),l=this.tabQuestions.getRow(e);void 0!==l&&l.update({question_name:i,question_type:s,question_title:n,question_footer:o,question_options:r,question:a})}this.SurveyChanged(t)},this.btnLoggingTodayClick=function(t){this.UpdateTable("ISurveyAdminService.GetHistory",[1],this.tabLogging,this.btnLoggingReload),this.btnLoggingReload.FTag$1=1},this.btnLogging7DaysClick=function(t){this.UpdateTable("ISurveyAdminService.GetHistory",[7],this.tabLogging,this.btnLoggingReload),this.btnLoggingReload.FTag$1=7},this.btnLoggingAllDataClick=function(t){this.UpdateTable("ISurveyAdminService.GetHistory",[99999],this.tabLogging,this.btnLoggingReload),this.btnLoggingReload.FTag$1=0},this.btnSurveySaveClick=async function(t){var e,i="";this.CurrentSurveyQuestions,i="",e=JSON.stringify(this.tabQuestions.getData());var s=this.tabQuestions.getSelectedRows();s.length>0&&(i=s[0].getCell("question_id").getValue()),e!==this.CurrentSurveyQuestions&&await this.UpdateTable("ISurveyAdminService.SetQuestions",[this.CurrentSurveyID,e],this.tabQuestions,this.btnQuestionsReload),await this.UpdateTable("ISurveyAdminService.UpdateSurvey",[this.CurrentSurveyID,this.NewSurveyGroup,this.NewSurveyName,this.NewSurveyLink,this.NewSurveyData,this.NewSurveyDifferences],this.tabSurveys,this.btnSurveyReload),this.btnSurveyReloadClick(t),""!==i&&this.tabQuestions.selectRow(i)},this.btnSurveyCancelClick=function(t){this.btnSurveyReloadClick(t)},this.GetSurveyByID=async function(e,i,s){var n="",o=null,r=void 0;if(n="",this.ServerConn.GetConnected())try{(o=pas["XData.Web.Client"].TXDataWebClient.$create("Create$1",[null])).SetConnection(this.ServerConn),r=(await o.RawInvokeAsync("ISurveyAdminService.GetSurveyByID",[e,i,s])).FResult,n=await r.text()}catch(e){if(!pas.SysUtils.Exception.isPrototypeOf(e))throw e;var a=e;t.Form1.LogActivity("ISurveyAdminService.GetSurveyByID Error: ["+a.$classname+"] "+a.fMessage),window.console.log("ISurveyAdminService.GetSurveyByID Error: ["+a.$classname+"] "+a.fMessage)}return n},this.btnLoggingReloadClick=function(t){1===this.btnLoggingReload.FTag$1&&this.btnLoggingTodayClick(t),7===this.btnLoggingReload.FTag$1&&this.btnLogging7DaysClick(t),0===this.btnLoggingReload.FTag$1&&this.btnLoggingAllDataClick(t)},this.btnChangeHistoryReloadClick=async function(t){await this.UpdateTable("ISurveyAdminService.GetSurveyChangeHistory",[this.CurrentSurveyID,this.CurrentSurveyName,this.CurrentSurveyGroup],this.tabChangeHistory,this.btnChangeHistoryReload);var e=this.tabChangeHistory.getDataCount();this.tabSurveyOptions.getRow(10).getCell("ITEMS").setValue(e)},this.WebFormResize=function(t){setTimeout(()=>{window.dispatchEvent(new Event("resize")),pas.Unit1.Form1.ResizeQRCode()},0)},this.btnAvailabilityDeleteClick=function(t){var e=!1,i=this.tabAvailability.getSelectedRows();if(i.length>0){!1!==i[0].getNextRow()?e=i[0].getNextRow():!1!==i[0].getPrevRow()&&(e=i[0].getPrevRow()),i[0].delete(),!1!==e&&this.tabAvailability.selectRow(e);var s=this.tabAvailability.getDataCount();this.tabSurveyOptions.getRow(3).getCell("ITEMS").setValue(s)}this.btnAvailabilityReloadClick(t),this.SurveyChanged(t)},this.btnAvailabilityAddClick=function(t){var e;e=pas.SysUtils.TGuidHelper.ToString.call(pas.SysUtils.TGuidHelper.NewGuid(),!1),this.tabAvailability.addRow({ID:e,opening:luxon.DateTime.now().toISO(),closing:luxon.DateTime.now().plus({days:7}).toISO(),description:"New Availability"}),this.tabAvailability.deselectRow(),this.tabAvailability.selectRow(e);var i=this.tabAvailability.getDataCount();this.tabSurveyOptions.getRow(3).getCell("ITEMS").setValue(i),this.btnAvailabilityReloadClick(t),this.SurveyChanged(t)},this.btnSurveyInfoReloadClick=function(t){this.UpdateTable("ISurveyAdminService.GetSurveyInfo",[this.CurrentSurveyID,this.CurrentSurveyName,this.CurrentSurveyGroup],this.tabSurveyInfo,this.btnSurveyInfoReload)},this.splitterSurveyConfigMove=function(t){this.divSurveysOptions.GetWidth()<150&&this.divSurveysOptions.SetWidth(150),this.divSurveysOptions.GetWidth()>450&&this.divSurveysOptions.SetWidth(450),this.ResizeQRCode()},this.edtConfigBasicLinkChange=function(t){this.SurveyChanged(t),""!==pas["WEBLib.WebTools"].GetQueryParam("Development")?(this.divConfigBasicTestLink.FHTML.SetTextStr('<a class="text-decoration-none text-dark" href="http://localhost:8000/SurveyClient/Project1.html?SurveyID='+this.edtConfigBasicLink.GetText()+'&Testing=True" target="_blank">http://localhost:8000/SurveyClient/Project1.html?SurveyID='+this.edtConfigBasicLink.GetText()+"&Testing=True</a>"),this.divConfigBasicLiveLink.FHTML.SetTextStr('<a class="text-decoration-none text-dark" href="http://localhost:8000/SurveyClient/Project1.html?SurveyID='+this.edtConfigBasicLink.GetText()+'" target="_blank">http://localhost:8000/SurveyClient/Project1.html?SurveyID='+this.edtConfigBasicLink.GetText()+"</a>")):(this.divConfigBasicTestLink.FHTML.SetTextStr('<a class="text-decoration-none text-dark" href="https://www.500surveys.ca/?SurveyID='+this.edtConfigBasicLink.GetText()+'&Testing=True" target="_blank">https://www.500surveys.ca/?SurveyID='+this.edtConfigBasicLink.GetText()+"&Testing=True</a>"),this.divConfigBasicLiveLink.FHTML.SetTextStr('<a class="text-decoration-none text-dark" href="https://www.500surveys.ca/?SurveyID='+this.edtConfigBasicLink.GetText()+'" target="_blank">https://www.500surveys.ca/?SurveyID='+this.edtConfigBasicLink.GetText()+"</a>")),""!==pas.SysUtils.Trim(this.edtConfigBasicLink.GetText())&&this.qrcode.SetText("https://www.500surveys.ca/?SurveyID="+this.edtConfigBasicLink.GetText())},this.edtConfigBasicLiveLinkClick=function(t){pas["WEBLib.Dialogs"].ShowMessage("ot a clik here")},this.ResizeQRCode=function(){""!==pas.SysUtils.Trim(this.edtConfigBasicLink.GetText())&&this.qrcode.SetText("https://www.500surveys.ca/?SurveyID="+this.edtConfigBasicLink.GetText()),this.divQRCodeConstraints.SetWidth(Math.min(400,this.divQRCodeHolder.GetWidth())),this.divQRCodeConstraints.SetHeight(Math.min(400,this.divQRCodeHolder.GetHeight())),this.divQRCodeConstraints.SetWidth(Math.min(this.divQRCodeConstraints.GetWidth(),this.divQRCodeConstraints.GetHeight())),this.divQRCodeConstraints.SetHeight(Math.min(this.divQRCodeConstraints.GetWidth(),this.divQRCodeConstraints.GetHeight())),this.divQRCodeConstraints.SetLeft(rtl.trunc((this.divQRCodeHolder.GetWidth()-this.divQRCodeConstraints.GetWidth())/2)),this.divQRCodeConstraints.SetTop(rtl.trunc((this.divQRCodeHolder.GetHeight()-this.divQRCodeConstraints.GetHeight())/2))},this.btnNotesReloadClick=async function(t){await this.UpdateTable("ISurveyAdminService.GetSurveyNotes",[this.CurrentSurveyID,this.CurrentSurveyName,this.CurrentSurveyGroup],this.tabNotes,this.btnNotesReload);var e=this.tabNotes.getDataCount();this.tabSurveyOptions.getRow(2).getCell("ITEMS").setValue(e)},this.btnNotesAddClick=async function(t){var e=null,i="",s="";(e=pas.UnitNote.TNoteForm.$create("Create$1",[this])).FPopup=!0,e.FPopupOpacity=.7,await e.Load(),e.divNoteTitle.FHTML.SetTextStr('<div style="width:100%; text-align:center;">Add Project Note to '+this.CurrentSurveyGroup+" / "+this.CurrentSurveyName+"</div>");try{if(1===await e.Execute()){s=pas.SysUtils.TGuidHelper.ToString.call(pas.SysUtils.TGuidHelper.NewGuid(),!1),i=e.suneditorNote.getContents(!1),await this.UpdateTable("ISurveyAdminService.AddSurveyNote",[this.CurrentSurveyID,s,i,this.CurrentSurveyName,this.CurrentSurveyGroup],this.tabNotes,this.btnNotesReload);var n=this.tabNotes.getDataCount();this.tabSurveyOptions.getRow(2).getCell("ITEMS").setValue(n)}}finally{e=rtl.freeLoc(e)}},this.btnNotesDeleteClick=async function(t){var e="",i="";e="",i="";var s=this.tabNotes.getSelectedRows();if(s.length>0&&(e=s[0].getCell("note_id").getValue(),!1!==s[0].getNextRow()?i=s[0].getNextRow().getCell("note_id").getValue():!1!==s[0].getPrevRow()&&(i=s[0].getPrevRow().getCell("note_id").getValue())),""!==e){await this.UpdateTable("ISurveyAdminService.DeleteSurveyNote",[this.CurrentSurveyID,e,this.CurrentSurveyName,this.CurrentSurveyGroup],this.tabNotes,this.btnNotesReload),""!==i&&this.tabNotes.selectRow(i);var n=this.tabNotes.getDataCount();this.tabSurveyOptions.getRow(2).getCell("ITEMS").setValue(n)}},this.btnLoggingPrintClick=function(t){this.tabLogging.print()},this.btnAvailabilityPrintClick=function(t){this.tabAvailability.print()},this.btnChangeHistoryPrintClick=function(t){this.tabChangeHistory.print()},this.btnNotesPrintClick=function(t){this.tabNotes.print()},this.btnDiscordClick=function(t){window.open("https://discord.gg/U3jBJ2vMfn","_blank")},this.btnEmailClick=function(t){window.open("mailto:concierge@500surveys.ca","_blank")},this.btnTicketClick=async function(t){var e=null,i="",s="",n="";(e=pas.UnitNote.TNoteForm.$create("Create$1",[this])).FPopup=!0,e.FPopupOpacity=.7,await e.Load(),e.divNoteTitle.FHTML.SetTextStr('<div style="width:100%; text-align:center;">Report an Issue</div>'),e.divCategoriesHolder.GetElementHandle().classList.replace("d-none","d-flex");try{1===await e.Execute()&&(e.divNoteTitle.FHTML.SetTextStr('<div style="width:100%; text-align:center;">Submitting Issue...</div>'),s=pas.SysUtils.TGuidHelper.ToString.call(pas.SysUtils.TGuidHelper.NewGuid(),!1),n=e.comboCategories.GetItemIndex()>0?e.comboCategories.GetText():"Uncategorized Issue",i=e.suneditorNote.getContents(!1),await this.UpdateTable("ISurveyAdminService.ReportIssue",[this.CurrentSurveyID,s,i,n,this.CurrentSurveyName,this.CurrentSurveyGroup,this.ActivityLog.GetTextStr(),this.ActivityLog.GetTextStr().length],null,null))}finally{e=rtl.freeLoc(e)}},this.btnAccountsReloadClick=async function(t){await this.UpdateTable("ISurveyAdminService.GetAccounts",[],this.tabAccounts,this.btnAccountsReload),this.tabAccounts.getDataCount()>0&&this.tabAccounts.selectRow(this.tabAccounts.getRows()[0])},this.btnGitHubClick=function(t){window.open("https://github.com/500Foods/TMS-Web-Core-SurveyAdminClient","_blank")},this.AccountChanged=async function(t){var e,i,s,n=this.tabAccounts.getRow(t);e=n.getCell("first_name").getValue(),i=n.getCell("last_name").getValue(),s=n.getCell("email").getValue(),await this.UpdateTable("ISurveyAdminService.UpdateAccount",[t,e,i,s],this.tabAccounts,this.btnAccountsReload),this.tabAccounts.selectRow(t)},this.btnIssuesPrintClick=function(t){this.tabIssues.print()},this.btnIssuesReloadClick=async function(t){await this.UpdateTable("ISurveyAdminService.GetAllIssues",[],this.tabIssues,this.btnIssuesReload)},this.btnAccountsPrintClick=function(t){this.tabAccounts.print()},this.btnAddUserClick=async function(t){var e,i="";e=pas.SysUtils.TGuidHelper.ToString.call(pas.SysUtils.TGuidHelper.NewGuid(),!1),i=""===this.edtSetPassword.GetText()?"password1234":this.edtSetPassword.GetText(),await this.UpdateTable("ISurveyAdminService.NewAccount",[e,"New","User","email@address.com",i,"WWWWW"],this.tabAccounts,this.btnAccountsReload),this.tabAccounts.selectRow(e)},this.btnDeleteUserClick=async function(t){var e="",i="",s="",n="",o="";e="",i="";var r=this.tabAccounts.getSelectedRows();r.length>0&&(i=r[0].getCell("account_id").getValue(),s=r[0].getCell("first_name").getValue(),n=r[0].getCell("last_name").getValue(),o=r[0].getCell("email").getValue(),!1!==r[0].getNextRow()?e=r[0].getNextRow().getCell("account_id").getValue():!1!==r[0].getPrevRow()&&(e=r[0].getPrevRow().getCell("account_id").getValue())),""!==i&&await this.UpdateTable("ISurveyAdminService.DeleteAccount",[i,s,n,o],this.tabAccounts,this.btnAccountsReload),""!==e&&this.tabAccounts.selectRow(e)},this.btnSetPasswordClick=async function(t){var e="",i="",s="",n="",o="",r=this.tabAccounts.getSelectedRows();r.length>0&&(e=r[0].getCell("account_id").getValue(),i=r[0].getCell("first_name").getValue(),s=r[0].getCell("last_name").getValue(),n=r[0].getCell("email").getValue()),o=""!==this.edtSetPassword.GetText()?this.edtSetPassword.GetText():pas.SysUtils.TGuidHelper.ToString.call(pas.SysUtils.TGuidHelper.NewGuid(),!1),await this.UpdateTable("ISurveyAdminService.SetPassword",[e,i,s,n,o],this.tabAccounts,this.btnAccountsReload),this.tabAccounts.selectRow(e)},this.btnIssueStatusNewClick=async function(t){var e="",i="";t===this.btnIssueStatusNew?i="New":t===this.btnIssueStatusInProgress?i="In Progress":t===this.btnIssueStatusClosed&&(i="Closed");var s=this.tabIssues.getSelectedRows();s.length>0&&(e=s[0].getCell("issue_id").getValue()),""!==e&&await this.UpdateTable("ISurveyAdminService.SetIssueStatus",[e,i],this.tabIssues,this.btnIssuesReload),this.tabIssues.selectRow(e)},this.btnPermissionsPrintClick=function(t){this.tabPermissions.print()},this.btnPermissionsReloadClick=function(t){this.UpdateTable("ISurveyAdminService.GetSurveyPermissions",[this.CurrentSurveyID,this.CurrentSurveyName,this.CurrentSurveyGroup],this.tabPermissions,this.btnPermissionsReload)},this.TogglePermissions=async function(t,e,i,s){var n="";n=0===s?"YYYYY":"NNNNN",await this.UpdateTable("ISurveyAdminService.SetSurveyPermissions",[this.CurrentSurveyID,this.CurrentSurveyName,this.CurrentSurveyGroup,t,e,i,n],this.tabPermissions,this.btnPermissionsReload),this.tabPermissions.selectRow(t)},this.btnPreviewReloadClick=function(e){var i,s,n="",o="";s=pas.SysUtils.FormatDateTime("yyyyMMddHHnnsszzz",pas.SysUtils.Now()),divPreview.classList.replace("align-items-top","align-items-center"),n=0===t.PreviewSize?"width=300 height=500":1===t.PreviewSize?"width=350 height=600":2===t.PreviewSize?"width=375 height=750":3===t.PreviewSize?"width=400 height=800":"width=500 height=900",o=0===t.PreviewTime?"":1===t.PreviewTime?"&Status=Active":2===t.PreviewTime?"&Status=Pre":3===t.PreviewTime?"&Status=Pause":"&Status=Post",i=this.divConfigBasicTestLink.GetElementHandle().firstElementChild.toString(),this.divPreview.FHTML.SetTextStr('<div style="position:absolute; top:5px; left:5px; font-size:12px;" class="text-secondary">'+this.divConfigBasicTestLink.FHTML.GetTextStr()+"<br />"+n+'<br /></div><iframe src="'+i+"&CacheBuster="+s+o+'" '+n+">"),divPreview.lastElementChild.offsetTop<0&&divPreview.classList.replace("align-items-center","align-items-top")},this.btnViewActivityLogClick=async function(t){var e=null,i="",s="",n=this.tabIssues.getSelectedRows();if(n.length>0&&(s=n[0].getCell("issue_id").getValue()),""!==s){i=await this.GetQueryData("ISurveyAdminService.GetIssueActivityLog",[s],this.btnIssuesReload),(e=pas.UnitNote.TNoteForm.$create("Create$1",[this])).FPopup=!0,e.FPopupOpacity=.7,await e.Load(),e.divNoteTitle.FHTML.SetTextStr('<div style="width:100%; text-align:center;">Activity Log</div>'),e.divCategoriesHolder.GetElementHandle().classList.replace("d-flex","d-none"),e.divNoteHeader.SetVisible(!1),e.btnNoteCancel.SetVisible(!1);var o=JSON.parse(i)[0].activitylog;e.suneditorNote.setContents("<pre>"+o.split("\n").join("<br>")+"</pre>"),e.suneditorNote.readOnly(!0);try{await e.Execute()}finally{e=rtl.freeLoc(e)}}},this.btnBlogClick=function(t){window.open("https://www.tmssoftware.com/site/blog.asp?post=1015","_blank")},this.btnFeedbackReloadClick=async function(t){await this.UpdateTable("ISurveyAdminService.GetAllFeedback",[],this.tabFeedback,this.btnFeedbackReload)},this.btnFeedbackActivityLogClick=async function(t){var e=null,i="",s="",n=this.tabFeedback.getSelectedRows();if(n.length>0&&(s=n[0].getCell("feedback_id").getValue()),""!==s){i=await this.GetQueryData("ISurveyAdminService.GetFeedbackActivityLog",[s],this.btnIssuesReload),(e=pas.UnitNote.TNoteForm.$create("Create$1",[this])).FPopup=!0,e.FPopupOpacity=.7,await e.Load(),e.divNoteTitle.FHTML.SetTextStr('<div style="width:100%; text-align:center;">Activity Log</div>'),e.divCategoriesHolder.GetElementHandle().classList.replace("d-flex","d-none"),e.divNoteHeader.SetVisible(!1),e.btnNoteCancel.SetVisible(!1);var o=JSON.parse(i)[0].activitylog;e.suneditorNote.setContents("<pre>"+o.split("\n").join("<br>")+"</pre>"),e.suneditorNote.readOnly(!0);try{await e.Execute()}finally{e=rtl.freeLoc(e)}}},this.btnAvailabilityReloadClick=function(t){var e="",i="",s="";e="",i="",s="btn-secondary";var n=this.tabAvailability.getRows();if(n.length>0){for(var o=luxon.DateTime.now(),r=luxon.DateTime.now().plus({years:100}),a=0;a<n.length;a++){var l=luxon.DateTime.fromISO(n[a].getCell("opening").getValue()),h=luxon.DateTime.fromISO(n[a].getCell("closing").getValue());if(l>h){e="Error",s="btn-danger";break}l<o&&h>o?(e+="Active ",r=l):l>o?(e+="Pre ",r>l&&(r=l)):h<o&&(e+="Post ")}""==e||e.indexOf("Active")>-1?(e="Active",s="btn-success"):e.indexOf("Pre")>-1&&-1==e.indexOf("Post")?(e="Pre",i=r.toISO(),s="btn-primary"):e.indexOf("Post")>-1&&-1==e.indexOf("Pre")?(e="Post",i="",s="btn-secondary"):-1==e.indexOf("Error")&&(e="Pause",s="btn-primary",i=r.toISO())}""===e&&(e="Active"),this.labelAvailabilityStatus.SetCaption(e),this.labelAvailabilityStatus.SetElementClassName("ShortButton btn "+s),""===i?(this.labelAvailabilityCountdown.SetCaption(""),this.labelAvailabilityCountdown.SetVisible(!1),this.tmrCountdown.SetEnabled(!1)):(this.CountdownTimer=i,this.labelAvailabilityCountdown.SetCaption("0d 00h 00m 00s"),this.labelAvailabilityCountdown.SetVisible(!0),this.tmrCountdown.SetEnabled(!0))},this.tmrCountdownTimer=function(t){var e="";if(""===this.CountdownTimer)this.tmrCountdown.SetEnabled(!1);else{e="";var i=luxon.DateTime.fromISO(this.CountdownTimer),s=luxon.DateTime.now(),n=i.diff(s).shiftTo("days","hours","minutes","seconds","milliseconds").toObject();e=n.days+"d "+String(n.hours).padStart(2,"0")+"h "+String(n.minutes).padStart(2,"0")+"m "+String(n.seconds).padStart(2,"0")+"s ",s>i&&pas.Unit1.Form1.btnAvailabilityReloadClick(null),this.labelAvailabilityCountdown.SetCaption(e)}},this.splitterLibraryMove=function(t){this.divLibraryListHolder.GetWidth()<250&&this.divLibraryListHolder.SetWidth(250),this.divLibraryListHolder.GetWidth()>750&&this.divLibraryListHolder.SetWidth(750)},this.splitterQuestionsMove=function(t){this.divQuestionsHolder.GetWidth()<250&&this.divQuestionsHolder.SetWidth(250),this.divQuestionsHolder.GetWidth()>750&&this.divQuestionsHolder.SetWidth(750)},this.splitterAccountsMove=function(t){this.divAccountsHolder.GetWidth()<400&&this.divAccountsHolder.SetWidth(400),this.divAccountsHolder.GetWidth()>800&&this.divAccountsHolder.SetWidth(800)},this.splitterResponsesMove=function(t){this.divResponsesHolder.GetWidth()<400&&this.divResponsesHolder.SetWidth(400)},this.btnQuestionsReloadClick=async function(t){var e,i="";i="";var s=this.tabQuestions.getSelectedRows();s.length>0&&(i=s[0].getCell("question_id").getValue()),await this.UpdateTable("ISurveyAdminService.GetQuestions",[this.CurrentSurveyID],this.tabQuestions,this.btnQuestionsReload),""!==i?this.tabQuestions.selectRow(i):this.tabQuestions.getDataCount()>0&&(this.tabQuestions.selectRow(this.tabQuestions.getRows()[0]),i=this.tabQuestions.getRows()[0].getCell("question_id").getValue()),""!==i&&this.QuestionSelect(i),e=JSON.stringify(this.tabQuestions.getData()),this.CurrentSurveyQuestions=e,this.SurveyChanged(t)},this.NewQuestionTypeSelected=function(t,e,i,s,n,o,r){if(this.ddQuestionType.SetText('<div style="margin-left: 2px; margin-right:10px;">'+i+'</div><div class="btn btn-sm btn-secondary bg-info text-dark me-2">'+s+'</div><div style="margin-bottom:2px;">'+n+"</div>"),this.ddQuestionType.FTag$1=e,this.divQuestionOptionsInfo.FHTML.SetTextStr(o),r&&""!==t){var a=this.tabQuestions.getRow(t);void 0!==a&&a.update({question_type:e}),this.SurveyChanged(null)}setTimeout(()=>{window.dispatchEvent(new Event("resize"))},0)},this.ddQuestionTypeDropDown=function(t){this.tabQuestionTypes.redraw(!0)},this.btnQuestionsNewClick=function(t){var e;e=pas.SysUtils.TGuidHelper.ToString.call(pas.SysUtils.TGuidHelper.NewGuid(),!1),this.tabQuestions.addRow({question_id:e,question_name:"New Question",question_type:2,question_title:"",question_footer:"",question_options:"",question:"",false:false}),this.tabQuestions.deselectRow(),this.tabQuestions.selectRow(e),this.QuestionSelect(e),this.SurveyChanged(t)},this.btnQuestionsDeleteClick=function(t){var e="";e="";var i=!1,s=this.tabQuestions.getSelectedRows();s.length>0&&(!1!==s[0].getNextRow()?i=s[0].getNextRow():!1!==s[0].getPrevRow()&&(i=s[0].getPrevRow()),s[0].delete(),!1!==i&&(this.tabQuestions.selectRow(i),e=i.getCell("question_id").getValue())),""!==e&&this.QuestionSelect(e),this.SurveyChanged(t)},this.btnResponsesReloadClick=async function(t){await this.UpdateTable("ISurveyAdminService.GetAllResponses",[],this.tabResponses,this.btnResponsesReload)},this.SwitchOption=function(t){this.pagecontrolSurveysConfig.SetTabIndex(t),10===t&&this.ResizeQRCode()},this.LogActivity=function(t){this.ActivityLog.Add(pas.SysUtils.FormatDateTime("yyyy-mm-dd hh:nn:ss.zzz",pas.SysUtils.Now())+"  "+t)},this.LoadDFMValues=function(){pas["WEBLib.Forms"].TCustomForm.LoadDFMValues.call(this),this.divTop=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divTop"]),this.panelTopLeft=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$2",["panelTopMenu"]),this.btnSurveys=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSurveys"]),this.btnResponses=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnReponses"]),this.btnQuestions=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnQuestions"]),this.btnAccounts=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnAccounts"]),this.btnLogging=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLogging"]),this.panelTopRight=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$2",["panelTopMenu"]),this.btnAccount=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnAccount"]),this.btnLogout=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLogout"]),this.divBottom=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divBottom"]),this.panelBottomRight=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$2",["panelTopMenu"]),this.btnBlog=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnBlog"]),this.btnGitHub=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnGitHub"]),this.panelBottomLeft=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$2",["panelTopMenu"]),this.btnEmail=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnEMail"]),this.btnDiscord=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnDiscord"]),this.btnTicket=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnTicket"]),this.pagecontrolMain=pas["WEBLib.ComCtrls"].TPageControl.$create("Create$2",["pagecontrolMain"]),this.pageSurveys=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageSurveys"]),this.divSurveysSurveyHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divSurveysSurveyHolder"]),this.divSurveysButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divSurveysButtons"]),this.btnSurveyNew=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSurveyNew"]),this.btnSurveyDelete=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSurveyDelete"]),this.btnSurveyClone=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSurveyClone"]),this.btnSurveyReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSurveyReload"]),this.divSurveysSurveyList=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divSurveysSurveyList"]),this.splitterSurveyMain=pas["WEBLib.ExtCtrls"].TSplitter.$create("Create$2",["splitterSurveyMain"]),this.divSurveysMain=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divSurveysMain"]),this.pageControlSurveys=pas["WEBLib.ComCtrls"].TPageControl.$create("Create$2",["pagecontrolSurveys"]),this.pageConfig=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageConfig"]),this.divSurveysOptions=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divSurveysOptions"]),this.splitterSurveyConfig=pas["WEBLib.ExtCtrls"].TSplitter.$create("Create$2",["splitterSurveysMain"]),this.pagecontrolSurveysConfig=pas["WEBLib.ComCtrls"].TPageControl.$create("Create$1",[this]),this.pageConfigBasic=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$1",[this]),this.scrollConfigBasic=pas["WEBLib.ExtCtrls"].TScrollBox.$create("Create$2",["scrollConfigBasic"]),this.divConfigBasicName=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicName"]),this.divConfigBasicNameLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicNameLabel"]),this.edtConfigBasicName=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBasicName"]),this.divConfigBasicID=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicIDHolder"]),this.divConfigBasicIDLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicIDLabel"]),this.edtConfigBasicID=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBasicID"]),this.divConfigBasicLink=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicLink"]),this.divConfigBasicLinkLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicLinkLabel"]),this.edtConfigBasicLink=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBasicLink"]),this.divConfigBasicGroup=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicLink"]),this.divConfigBasicGroupLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicNameLabel"]),this.edtConfigBasicGroup=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBasicGroup"]),this.divSurveyInfoHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divSurveyInfoHolder"]),this.divSurveyInfoButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divSurveyInfoButtons"]),this.btnSurveyInfoReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSurveyInfoReload"]),this.divSurveyInfo=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divSurveyInfo"]),this.divConfigBasicLiveLinkHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicLiveLinkHolder"]),this.divConfigBasicLiveLinkLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicLiveLinkLabel"]),this.divConfigBasicLiveLink=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicLiveLink"]),this.divConfigBasicTestLinkHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicTestLinkHolder"]),this.divConfigBasicTestLinkLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicTestLinkLabel"]),this.divConfigBasicTestLink=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBasicTestLink"]),this.pageNotes=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageNotes"]),this.divNotesHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divNotesHolder"]),this.divNotesButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divNotesButtons"]),this.btnNotesAdd=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnNotesAdd"]),this.btnNotesDelete=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnNotesDelete"]),this.btnNotesReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnNotesReload"]),this.btnNotesPrint=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnNotesPrint"]),this.divNotes=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divNotes"]),this.pageAvailability=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageAvailability"]),this.divAvailabilityHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divAvailabilityHolder"]),this.divAvailabilityButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divAvailabilityButtons"]),this.labelAvailabilityCountdown=pas["WEBLib.StdCtrls"].TLabel.$create("Create$2",["labelAvailabilityCountdown"]),this.labelAvailabilityStatus=pas["WEBLib.StdCtrls"].TLabel.$create("Create$2",["labelAvailabilityStatus"]),this.btnAvailabilityAdd=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnAvailabilityAdd"]),this.btnAvailabilityDelete=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnAvailabilityDelete"]),this.btnAvailabilityPrint=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnAvailabilityPrint"]),this.btnAvailabilityReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnAvailabilityReload"]),this.divAvailability=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divAvailability"]),this.pageBanner=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageBanner"]),this.scrollConfigBanner=pas["WEBLib.ExtCtrls"].TScrollBox.$create("Create$2",["scrollConfigBanner"]),this.divConfigBannerTitle=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerTitle"]),this.divConfigBannerTitleLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerTitleLabel"]),this.edtConfigBannerTitle=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBannerTitle"]),this.divConfigBannerFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerFooter"]),this.divConfigBannerFooterLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerFooterLabel"]),this.edtConfigBannerFooter=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBannerFooter"]),this.divConfigBannerContentHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerContentHolder"]),this.divConfigBannerContentHeader=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerContentHeader"]),this.divConfigBannerContentFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerContentFooter"]),this.divConfigBannerContent=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerContent"]),this.pageBannerPre=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageBannerPre"]),this.scrollConfigBannerPre=pas["WEBLib.ExtCtrls"].TScrollBox.$create("Create$2",["scrollConfigBannerPre"]),this.divConfigBannerPreTitle=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPreTitle"]),this.divConfigBannerPreTitleLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPreTitleLabel"]),this.edtConfigBannerPreTitle=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBannerPreTitle"]),this.divConfigBannerPreFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPreFooter"]),this.divConfigBannerPreFooterLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPreFooterLabel"]),this.edtConfigBannerPreFooter=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBannerPreFooter"]),this.divConfigBannerPreContentHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPreContentHolder"]),this.divConfigBannerPreContentHeader=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPreContentHeader"]),this.divConfigBannerPreContentFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPreContentFooter"]),this.divConfigBannerPreContent=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPreContent"]),this.pageBannerPause=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageBannerPause"]),this.scrollConfigBannerPause=pas["WEBLib.ExtCtrls"].TScrollBox.$create("Create$2",["scrollConfigBannerPause"]),this.divConfigBannerPauseTitle=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPauseTitle"]),this.divConfigBannerPauseTitleLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPauseTitleLabel"]),this.edtConfigBannerPauseTitle=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBannerPauseTitle"]),this.divConfigBannerPauseFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPauseFooter"]),this.divConfigBannerPauseFooterLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPauseFooterLabel"]),this.edtConfigBannerPauseFooter=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBannerPauseFooter"]),this.divConfigBannerPauseContentHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPauseContentHolder"]),this.divConfigBannerPauseContentHeader=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPauseContentHeader"]),this.divConfigBannerPauseContentFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPauseContentFooter"]),this.divConfigBannerPauseContent=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPauseContent"]),this.pageBannerPost=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageBannerPost"]),this.scrollConfigBannerPost=pas["WEBLib.ExtCtrls"].TScrollBox.$create("Create$2",["scrollConfigBannerPost"]),this.divConfigBannerPostTitle=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPostTitle"]),this.divConfigBannerPostTitleLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPostTitleLabel"]),this.edtConfigBannerPostTitle=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBannerPostTitle"]),this.divConfigBannerPostFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPostFooter"]),this.divConfigBannerPostFooterLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPostFooterLabel"]),this.edtConfigBannerPostFooter=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigBannerPostFooter"]),this.divConfigBannerPostContentHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPostContentHolder"]),this.divConfigBannerPostContentHeader=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPostContentHeader"]),this.divConfigBannerPostContentFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPostContentFooter"]),this.divConfigBannerPostContent=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigBannerPostContent"]),this.pageAbout=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageAbout"]),this.scrollConfigAbout=pas["WEBLib.ExtCtrls"].TScrollBox.$create("Create$2",["scrollConfigAbout"]),this.divConfigAboutTitle=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigAboutTitle"]),this.divConfigAboutTitleLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigAboutTitleLabel"]),this.edtConfigAboutTitle=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigAboutTitle"]),this.divConfigAboutContentHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigAboutContentHolder"]),this.divConfigAboutContentHeader=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigAboutContentHeader"]),this.divConfigAboutContentFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigAboutContentFooter"]),this.divConfigAboutContent=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigAboutContent"]),this.pageFeedback=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageFeedback"]),this.scrollConfigFeedback=pas["WEBLib.ExtCtrls"].TScrollBox.$create("Create$2",["scrollConfigFeedback"]),this.divConfigFeedbackTitle=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigFeedbackTitle"]),this.divConfigFeedbackTitleLabel=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigFeedbackTitleLabel"]),this.edtConfigFeedbackTitle=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtConfigFeedbackTitle"]),this.divConfigFeedbackContentHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigFeedbackContentHolder"]),this.divConfigFeedbackContentHeader=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigFeedbackContentHeader"]),this.divConfigFeedbackContentFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigFeedbackContentFooter"]),this.divConfigFeedbackContent=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divConfigFeedbackContent"]),this.pageChangeHistory=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageChangeHistory"]),this.divChangeHistoryHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divChangeHistoryHolder"]),this.divChangeHistoryButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divChangeHistoryButtons"]),this.btnChangeHistoryReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnChangeHistoryReload"]),this.btnChangeHistoryPrint=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnChangeHistoryPrint"]),this.divChangeHistory=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divChangeHistory"]),this.pageQRCode=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageQRCode"]),this.divQRCodeHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQRCodeHolder"]),this.divQRCodeConstraints=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQRCodeConstraints"]),this.qrcode=pas["WEBLib.TMSFNCWXQRCode"].TTMSFNCWXQRCode.$create("Create$1",[this]),this.pageQuestion=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageQuestion"]),this.divQuestionsHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionsHolder"]),this.divQuestionsButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionsButtons"]),this.btnQuestionsNew=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnQuestionsNew"]),this.btnQuestionsDelete=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnQuestionsDelete"]),this.btnQuestionsClone=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnQuestionsClone"]),this.btnQuestionsReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnQuestionsReload"]),this.divQuestions=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestions"]),this.splitterQuestions=pas["WEBLib.ExtCtrls"].TSplitter.$create("Create$2",["splitterQuestions"]),this.divQuestion=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestion"]),this.divQuestionTypeHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionTypeHolder"]),this.divQuestionType=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionType"]),this.ddQuestionType=pas["WEBLib.DropDown"].TDropDownControl.$create("Create$2",["ddQuestionType"]),this.divQuestionNameHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionNameHolder"]),this.divQuestionName=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionName"]),this.edtQuestionName=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtQuestionName"]),this.divQuestionIDHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionIDHolder"]),this.divQuestionID=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionID"]),this.edtQuestionID=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtQuestionID"]),this.divQuestionContentHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionContentHolder"]),this.divQuestionContentHeader=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionContentHeader"]),this.divQuestionContentFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionContentFooter"]),this.divQuestionContent=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionContent"]),this.divQuestionOptionsHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionOptionsHolder"]),this.divQuestionOptions=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionOptions"]),this.edtQuestionOptions=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtQuestionOptions"]),this.divQuestionOptionsInfo=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionOptionsInfo"]),this.divQuestionTitleHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionTitleHolder"]),this.divQuestionTitle=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionTitle"]),this.edtQuestionTitle=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtQuestionTitle"]),this.divQuestionFooterHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionFooterHolder"]),this.divQuestionFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divQuestionFooter"]),this.edtQuestionFooter=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtQuestionFooter"]),this.pagePermissions=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pagePermissions"]),this.divPermissionsHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divPermissionsHolder"]),this.WebHTMLDiv2=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divIssuesButtons"]),this.btnPermissionsReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["divPermissionsReload"]),this.btnPermissionsPrint=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["divPermissionsPrint"]),this.divPermissions=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divPermissions"]),this.pagePreview=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pagePreview"]),this.divPreviewHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divPreviewHolder"]),this.WebHTMLDiv3=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divIssuesButtons"]),this.btnPreviewReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["divPermissionsReload"]),this.WebPanel1=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$2",["panelTopMenu"]),this.btnPreviewSize0=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnPreviewSize0"]),this.btnPreviewSize2=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnPreviewSize2"]),this.btnPreviewSize3=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnPreviewSize3"]),this.btnPreviewSize4=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnPreviewSize4"]),this.btnPreviewSize1=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnPreviewSize1"]),this.WebPanel2=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$2",["panelTopMenu"]),this.btnPreviewActive=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnPreviewActive"]),this.btnPreviewPause=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnPreviewPause"]),this.btnPreviewPost=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnPreviewPost"]),this.btnPreviewPre=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnPreviewPre"]),this.btnPreviewAuto=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnPreviewAuto"]),this.scrollPreview=pas["WEBLib.ExtCtrls"].TScrollBox.$create("Create$2",["scrollPreview"]),this.divPreview=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divPreview"]),this.divSurveyMenu=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divSurveyMenu"]),this.divSurveyMenuLeft=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$2",["divSurveyMenuLeft"]),this.btnSurveyOptions=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSurveys"]),this.btnSurveyQuestions=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnReponses"]),this.btnSurveyPreview=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnQuestions"]),this.btnSurveyPermissions=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSurveyPermissions"]),this.divSurveyMenuRight=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$2",["divSurveyMenuRight"]),this.btnSurveyCancel=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSurveyCancel"]),this.btnSurveySave=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSurveySave"]),this.pageResponses=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageResponses"]),this.divResponsesHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divResponsesHolder"]),this.divResponsesButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divResponsesButtons"]),this.btnResponsesReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnResponsesReload"]),this.btnResponsesPrint=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnResponsesPrint"]),this.divResponses=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divResponses"]),this.divFeedbackHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divFeedbackHolder"]),this.divFeedbackButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divFeedbackButtons"]),this.btnFeedbackReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnFeedbackReload"]),this.btnFeedbackPrint=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnFeedbackPrint"]),this.btnFeedbackStatusNew=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnFeedbackStatusNew"]),this.btnFeedbackStatusInProgress=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnFeedbackStatusInProgress"]),this.btnFeedbackStatusClosed=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnFeedbackStatusClosed"]),this.btnFeedbackActivityLog=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnFeedbackActivityLog"]),this.divFeedback=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divFeedback"]),this.splitterResponses=pas["WEBLib.ExtCtrls"].TSplitter.$create("Create$2",["splitterResponses"]),this.pageQuestions=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageLibrary"]),this.divLibrary=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibrary"]),this.divLibraryTypeHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryTypeHolder"]),this.divLibraryType=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryType"]),this.edtLibraryType=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtLibraryType"]),this.divLibraryNameHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryNameHolder"]),this.divLibraryName=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryName"]),this.edtLibraryName=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtLibraryName"]),this.divLibraryIDHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryIDHolder"]),this.divLibraryID=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryID"]),this.edtLibraryID=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtLibraryID"]),this.divLibraryContentHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryContentHolder"]),this.divLibraryContentHeader=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryContentHeader"]),this.divLibraryContentFooter=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryContentFooter"]),this.divLibraryContent=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryContent"]),this.splitterLibrary=pas["WEBLib.ExtCtrls"].TSplitter.$create("Create$2",["splitterLibrary"]),this.divLibraryListHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryListHolder"]),this.divLibraryButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryButtons"]),this.btnLibraryListNew=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLibraryListNew"]),this.btnLibraryListDelete=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLibraryListDelete"]),this.btnLibraryListClone=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLibraryListClone"]),this.btnLibraryListReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLibraryListReload"]),this.divLibraryList=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLibraryList"]),this.pageAccounts=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageAccounts"]),this.divAccountsHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divAccountsHolder"]),this.divAccountsButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divAccountsButtons"]),this.btnAccountsReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnAccountsReload"]),this.btnAccountsPrint=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnAcountsPrint"]),this.btnAddUser=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnAddUser"]),this.btnDeleteUser=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnDeleteUser"]),this.btnSetPassword=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnSetPassword"]),this.edtSetPassword=pas["WEBLib.StdCtrls"].TEdit.$create("Create$2",["edtSetPassword"]),this.divAccounts=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divAccounts"]),this.divIssuesHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divIssuesHolder"]),this.divIssuesButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divIssuesButtons"]),this.btnIssuesReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnIssuesReload"]),this.btnIssuesPrint=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnIssuesPrint"]),this.btnIssueStatusNew=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnIssueStatusNew"]),this.btnIssueStatusInProgress=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnIssueStatusInProgress"]),this.btnIssueStatusClosed=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnIssueStatusClosed"]),this.btnViewActivityLog=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnViewActivityLog"]),this.divIssues=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divIssues"]),this.splitterAccounts=pas["WEBLib.ExtCtrls"].TSplitter.$create("Create$2",["splitterAccounts"]),this.pageLogging=pas["WEBLib.ComCtrls"].TTabSheet.$create("Create$2",["pageLogging"]),this.divLoggingHolder=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLoggingHolder"]),this.divLoggingButtons=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLoggingButtons"]),this.btnLoggingToday=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLoggingToday"]),this.btnLogging7Days=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLogging7Days"]),this.btnLoggingAllData=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLoggingAllData"]),this.btnLoggingReload=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLoggingReload"]),this.btnLoggingPrint=pas["WEBLib.StdCtrls"].TButton.$create("Create$2",["btnLoggingPrint"]),this.divLogging=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divLogging"]),this.divBlocker=pas["WEBLib.WebCtrls"].THTMLDiv.$create("Create$2",["divBlocker"]),this.panelQuestionTypes=pas["WEBLib.ExtCtrls"].TPanel.$create("Create$2",["panelQuestionTypes"]),this.tmrLaunch=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.ServerConn=pas["XData.Web.Connection"].TXDataWebConnection.$create("Create$1",[this]),this.tmrCountdown=pas["WEBLib.ExtCtrls"].TTimer.$create("Create$1",[this]),this.divTop.BeforeLoadDFMValues(),this.panelTopLeft.BeforeLoadDFMValues(),this.btnSurveys.BeforeLoadDFMValues(),this.btnResponses.BeforeLoadDFMValues(),this.btnQuestions.BeforeLoadDFMValues(),this.btnAccounts.BeforeLoadDFMValues(),this.btnLogging.BeforeLoadDFMValues(),this.panelTopRight.BeforeLoadDFMValues(),this.btnAccount.BeforeLoadDFMValues(),this.btnLogout.BeforeLoadDFMValues(),this.divBottom.BeforeLoadDFMValues(),this.panelBottomRight.BeforeLoadDFMValues(),this.btnBlog.BeforeLoadDFMValues(),this.btnGitHub.BeforeLoadDFMValues(),this.panelBottomLeft.BeforeLoadDFMValues(),this.btnEmail.BeforeLoadDFMValues(),this.btnDiscord.BeforeLoadDFMValues(),this.btnTicket.BeforeLoadDFMValues(),this.pagecontrolMain.BeforeLoadDFMValues(),this.pageSurveys.BeforeLoadDFMValues(),this.divSurveysSurveyHolder.BeforeLoadDFMValues(),this.divSurveysButtons.BeforeLoadDFMValues(),this.btnSurveyNew.BeforeLoadDFMValues(),this.btnSurveyDelete.BeforeLoadDFMValues(),this.btnSurveyClone.BeforeLoadDFMValues(),this.btnSurveyReload.BeforeLoadDFMValues(),this.divSurveysSurveyList.BeforeLoadDFMValues(),this.splitterSurveyMain.BeforeLoadDFMValues(),this.divSurveysMain.BeforeLoadDFMValues(),this.pageControlSurveys.BeforeLoadDFMValues(),this.pageConfig.BeforeLoadDFMValues(),this.divSurveysOptions.BeforeLoadDFMValues(),this.splitterSurveyConfig.BeforeLoadDFMValues(),this.pagecontrolSurveysConfig.BeforeLoadDFMValues(),this.pageConfigBasic.BeforeLoadDFMValues(),this.scrollConfigBasic.BeforeLoadDFMValues(),this.divConfigBasicName.BeforeLoadDFMValues(),this.divConfigBasicNameLabel.BeforeLoadDFMValues(),this.edtConfigBasicName.BeforeLoadDFMValues(),this.divConfigBasicID.BeforeLoadDFMValues(),this.divConfigBasicIDLabel.BeforeLoadDFMValues(),this.edtConfigBasicID.BeforeLoadDFMValues(),this.divConfigBasicLink.BeforeLoadDFMValues(),this.divConfigBasicLinkLabel.BeforeLoadDFMValues(),this.edtConfigBasicLink.BeforeLoadDFMValues(),this.divConfigBasicGroup.BeforeLoadDFMValues(),this.divConfigBasicGroupLabel.BeforeLoadDFMValues(),this.edtConfigBasicGroup.BeforeLoadDFMValues(),this.divSurveyInfoHolder.BeforeLoadDFMValues(),this.divSurveyInfoButtons.BeforeLoadDFMValues(),this.btnSurveyInfoReload.BeforeLoadDFMValues(),this.divSurveyInfo.BeforeLoadDFMValues(),this.divConfigBasicLiveLinkHolder.BeforeLoadDFMValues(),this.divConfigBasicLiveLinkLabel.BeforeLoadDFMValues(),this.divConfigBasicLiveLink.BeforeLoadDFMValues(),this.divConfigBasicTestLinkHolder.BeforeLoadDFMValues(),this.divConfigBasicTestLinkLabel.BeforeLoadDFMValues(),this.divConfigBasicTestLink.BeforeLoadDFMValues(),this.pageNotes.BeforeLoadDFMValues(),this.divNotesHolder.BeforeLoadDFMValues(),this.divNotesButtons.BeforeLoadDFMValues(),this.btnNotesAdd.BeforeLoadDFMValues(),this.btnNotesDelete.BeforeLoadDFMValues(),this.btnNotesReload.BeforeLoadDFMValues(),this.btnNotesPrint.BeforeLoadDFMValues(),this.divNotes.BeforeLoadDFMValues(),this.pageAvailability.BeforeLoadDFMValues(),this.divAvailabilityHolder.BeforeLoadDFMValues(),this.divAvailabilityButtons.BeforeLoadDFMValues(),this.labelAvailabilityCountdown.BeforeLoadDFMValues(),this.labelAvailabilityStatus.BeforeLoadDFMValues(),this.btnAvailabilityAdd.BeforeLoadDFMValues(),this.btnAvailabilityDelete.BeforeLoadDFMValues(),this.btnAvailabilityPrint.BeforeLoadDFMValues(),this.btnAvailabilityReload.BeforeLoadDFMValues(),this.divAvailability.BeforeLoadDFMValues(),this.pageBanner.BeforeLoadDFMValues(),this.scrollConfigBanner.BeforeLoadDFMValues(),this.divConfigBannerTitle.BeforeLoadDFMValues(),this.divConfigBannerTitleLabel.BeforeLoadDFMValues(),this.edtConfigBannerTitle.BeforeLoadDFMValues(),this.divConfigBannerFooter.BeforeLoadDFMValues(),this.divConfigBannerFooterLabel.BeforeLoadDFMValues(),this.edtConfigBannerFooter.BeforeLoadDFMValues(),this.divConfigBannerContentHolder.BeforeLoadDFMValues(),this.divConfigBannerContentHeader.BeforeLoadDFMValues(),this.divConfigBannerContentFooter.BeforeLoadDFMValues(),this.divConfigBannerContent.BeforeLoadDFMValues(),this.pageBannerPre.BeforeLoadDFMValues(),this.scrollConfigBannerPre.BeforeLoadDFMValues(),this.divConfigBannerPreTitle.BeforeLoadDFMValues(),this.divConfigBannerPreTitleLabel.BeforeLoadDFMValues(),this.edtConfigBannerPreTitle.BeforeLoadDFMValues(),this.divConfigBannerPreFooter.BeforeLoadDFMValues(),this.divConfigBannerPreFooterLabel.BeforeLoadDFMValues(),this.edtConfigBannerPreFooter.BeforeLoadDFMValues(),this.divConfigBannerPreContentHolder.BeforeLoadDFMValues(),this.divConfigBannerPreContentHeader.BeforeLoadDFMValues(),this.divConfigBannerPreContentFooter.BeforeLoadDFMValues(),this.divConfigBannerPreContent.BeforeLoadDFMValues(),this.pageBannerPause.BeforeLoadDFMValues(),this.scrollConfigBannerPause.BeforeLoadDFMValues(),this.divConfigBannerPauseTitle.BeforeLoadDFMValues(),this.divConfigBannerPauseTitleLabel.BeforeLoadDFMValues(),this.edtConfigBannerPauseTitle.BeforeLoadDFMValues(),this.divConfigBannerPauseFooter.BeforeLoadDFMValues(),this.divConfigBannerPauseFooterLabel.BeforeLoadDFMValues(),this.edtConfigBannerPauseFooter.BeforeLoadDFMValues(),this.divConfigBannerPauseContentHolder.BeforeLoadDFMValues(),this.divConfigBannerPauseContentHeader.BeforeLoadDFMValues(),this.divConfigBannerPauseContentFooter.BeforeLoadDFMValues(),this.divConfigBannerPauseContent.BeforeLoadDFMValues(),this.pageBannerPost.BeforeLoadDFMValues(),this.scrollConfigBannerPost.BeforeLoadDFMValues(),this.divConfigBannerPostTitle.BeforeLoadDFMValues(),this.divConfigBannerPostTitleLabel.BeforeLoadDFMValues(),this.edtConfigBannerPostTitle.BeforeLoadDFMValues(),this.divConfigBannerPostFooter.BeforeLoadDFMValues(),this.divConfigBannerPostFooterLabel.BeforeLoadDFMValues(),this.edtConfigBannerPostFooter.BeforeLoadDFMValues(),this.divConfigBannerPostContentHolder.BeforeLoadDFMValues(),this.divConfigBannerPostContentHeader.BeforeLoadDFMValues(),this.divConfigBannerPostContentFooter.BeforeLoadDFMValues(),this.divConfigBannerPostContent.BeforeLoadDFMValues(),this.pageAbout.BeforeLoadDFMValues(),this.scrollConfigAbout.BeforeLoadDFMValues(),this.divConfigAboutTitle.BeforeLoadDFMValues(),this.divConfigAboutTitleLabel.BeforeLoadDFMValues(),this.edtConfigAboutTitle.BeforeLoadDFMValues(),this.divConfigAboutContentHolder.BeforeLoadDFMValues(),this.divConfigAboutContentHeader.BeforeLoadDFMValues(),this.divConfigAboutContentFooter.BeforeLoadDFMValues(),this.divConfigAboutContent.BeforeLoadDFMValues(),this.pageFeedback.BeforeLoadDFMValues(),this.scrollConfigFeedback.BeforeLoadDFMValues(),this.divConfigFeedbackTitle.BeforeLoadDFMValues(),this.divConfigFeedbackTitleLabel.BeforeLoadDFMValues(),this.edtConfigFeedbackTitle.BeforeLoadDFMValues(),this.divConfigFeedbackContentHolder.BeforeLoadDFMValues(),this.divConfigFeedbackContentHeader.BeforeLoadDFMValues(),this.divConfigFeedbackContentFooter.BeforeLoadDFMValues(),this.divConfigFeedbackContent.BeforeLoadDFMValues(),this.pageChangeHistory.BeforeLoadDFMValues(),this.divChangeHistoryHolder.BeforeLoadDFMValues(),this.divChangeHistoryButtons.BeforeLoadDFMValues(),this.btnChangeHistoryReload.BeforeLoadDFMValues(),this.btnChangeHistoryPrint.BeforeLoadDFMValues(),this.divChangeHistory.BeforeLoadDFMValues(),this.pageQRCode.BeforeLoadDFMValues(),this.divQRCodeHolder.BeforeLoadDFMValues(),this.divQRCodeConstraints.BeforeLoadDFMValues(),this.qrcode.BeforeLoadDFMValues(),this.pageQuestion.BeforeLoadDFMValues(),this.divQuestionsHolder.BeforeLoadDFMValues(),this.divQuestionsButtons.BeforeLoadDFMValues(),this.btnQuestionsNew.BeforeLoadDFMValues(),this.btnQuestionsDelete.BeforeLoadDFMValues(),this.btnQuestionsClone.BeforeLoadDFMValues(),this.btnQuestionsReload.BeforeLoadDFMValues(),this.divQuestions.BeforeLoadDFMValues(),this.splitterQuestions.BeforeLoadDFMValues(),this.divQuestion.BeforeLoadDFMValues(),this.divQuestionTypeHolder.BeforeLoadDFMValues(),this.divQuestionType.BeforeLoadDFMValues(),this.ddQuestionType.BeforeLoadDFMValues(),this.divQuestionNameHolder.BeforeLoadDFMValues(),this.divQuestionName.BeforeLoadDFMValues(),this.edtQuestionName.BeforeLoadDFMValues(),this.divQuestionIDHolder.BeforeLoadDFMValues(),this.divQuestionID.BeforeLoadDFMValues(),this.edtQuestionID.BeforeLoadDFMValues(),this.divQuestionContentHolder.BeforeLoadDFMValues(),this.divQuestionContentHeader.BeforeLoadDFMValues(),this.divQuestionContentFooter.BeforeLoadDFMValues(),this.divQuestionContent.BeforeLoadDFMValues(),this.divQuestionOptionsHolder.BeforeLoadDFMValues(),this.divQuestionOptions.BeforeLoadDFMValues(),this.edtQuestionOptions.BeforeLoadDFMValues(),this.divQuestionOptionsInfo.BeforeLoadDFMValues(),this.divQuestionTitleHolder.BeforeLoadDFMValues(),this.divQuestionTitle.BeforeLoadDFMValues(),this.edtQuestionTitle.BeforeLoadDFMValues(),this.divQuestionFooterHolder.BeforeLoadDFMValues(),this.divQuestionFooter.BeforeLoadDFMValues(),this.edtQuestionFooter.BeforeLoadDFMValues(),this.pagePermissions.BeforeLoadDFMValues(),this.divPermissionsHolder.BeforeLoadDFMValues(),this.WebHTMLDiv2.BeforeLoadDFMValues(),this.btnPermissionsReload.BeforeLoadDFMValues(),this.btnPermissionsPrint.BeforeLoadDFMValues(),this.divPermissions.BeforeLoadDFMValues(),this.pagePreview.BeforeLoadDFMValues(),this.divPreviewHolder.BeforeLoadDFMValues(),this.WebHTMLDiv3.BeforeLoadDFMValues(),this.btnPreviewReload.BeforeLoadDFMValues(),this.WebPanel1.BeforeLoadDFMValues(),this.btnPreviewSize0.BeforeLoadDFMValues(),this.btnPreviewSize2.BeforeLoadDFMValues(),this.btnPreviewSize3.BeforeLoadDFMValues(),this.btnPreviewSize4.BeforeLoadDFMValues(),this.btnPreviewSize1.BeforeLoadDFMValues(),this.WebPanel2.BeforeLoadDFMValues(),this.btnPreviewActive.BeforeLoadDFMValues(),this.btnPreviewPause.BeforeLoadDFMValues(),this.btnPreviewPost.BeforeLoadDFMValues(),this.btnPreviewPre.BeforeLoadDFMValues(),this.btnPreviewAuto.BeforeLoadDFMValues(),this.scrollPreview.BeforeLoadDFMValues(),this.divPreview.BeforeLoadDFMValues(),this.divSurveyMenu.BeforeLoadDFMValues(),this.divSurveyMenuLeft.BeforeLoadDFMValues(),this.btnSurveyOptions.BeforeLoadDFMValues(),this.btnSurveyQuestions.BeforeLoadDFMValues(),this.btnSurveyPreview.BeforeLoadDFMValues(),this.btnSurveyPermissions.BeforeLoadDFMValues(),this.divSurveyMenuRight.BeforeLoadDFMValues(),this.btnSurveyCancel.BeforeLoadDFMValues(),this.btnSurveySave.BeforeLoadDFMValues(),this.pageResponses.BeforeLoadDFMValues(),this.divResponsesHolder.BeforeLoadDFMValues(),this.divResponsesButtons.BeforeLoadDFMValues(),this.btnResponsesReload.BeforeLoadDFMValues(),this.btnResponsesPrint.BeforeLoadDFMValues(),this.divResponses.BeforeLoadDFMValues(),this.divFeedbackHolder.BeforeLoadDFMValues(),this.divFeedbackButtons.BeforeLoadDFMValues(),this.btnFeedbackReload.BeforeLoadDFMValues(),this.btnFeedbackPrint.BeforeLoadDFMValues(),this.btnFeedbackStatusNew.BeforeLoadDFMValues(),this.btnFeedbackStatusInProgress.BeforeLoadDFMValues(),this.btnFeedbackStatusClosed.BeforeLoadDFMValues(),this.btnFeedbackActivityLog.BeforeLoadDFMValues(),this.divFeedback.BeforeLoadDFMValues(),this.splitterResponses.BeforeLoadDFMValues(),this.pageQuestions.BeforeLoadDFMValues(),this.divLibrary.BeforeLoadDFMValues(),this.divLibraryTypeHolder.BeforeLoadDFMValues(),this.divLibraryType.BeforeLoadDFMValues(),this.edtLibraryType.BeforeLoadDFMValues(),this.divLibraryNameHolder.BeforeLoadDFMValues(),this.divLibraryName.BeforeLoadDFMValues(),this.edtLibraryName.BeforeLoadDFMValues(),this.divLibraryIDHolder.BeforeLoadDFMValues(),this.divLibraryID.BeforeLoadDFMValues(),this.edtLibraryID.BeforeLoadDFMValues(),this.divLibraryContentHolder.BeforeLoadDFMValues(),this.divLibraryContentHeader.BeforeLoadDFMValues(),this.divLibraryContentFooter.BeforeLoadDFMValues(),this.divLibraryContent.BeforeLoadDFMValues(),this.splitterLibrary.BeforeLoadDFMValues(),this.divLibraryListHolder.BeforeLoadDFMValues(),this.divLibraryButtons.BeforeLoadDFMValues(),this.btnLibraryListNew.BeforeLoadDFMValues(),this.btnLibraryListDelete.BeforeLoadDFMValues(),this.btnLibraryListClone.BeforeLoadDFMValues(),this.btnLibraryListReload.BeforeLoadDFMValues(),this.divLibraryList.BeforeLoadDFMValues(),this.pageAccounts.BeforeLoadDFMValues(),this.divAccountsHolder.BeforeLoadDFMValues(),this.divAccountsButtons.BeforeLoadDFMValues(),this.btnAccountsReload.BeforeLoadDFMValues(),this.btnAccountsPrint.BeforeLoadDFMValues(),this.btnAddUser.BeforeLoadDFMValues(),this.btnDeleteUser.BeforeLoadDFMValues(),this.btnSetPassword.BeforeLoadDFMValues(),this.edtSetPassword.BeforeLoadDFMValues(),this.divAccounts.BeforeLoadDFMValues(),this.divIssuesHolder.BeforeLoadDFMValues(),this.divIssuesButtons.BeforeLoadDFMValues(),this.btnIssuesReload.BeforeLoadDFMValues(),this.btnIssuesPrint.BeforeLoadDFMValues(),this.btnIssueStatusNew.BeforeLoadDFMValues(),this.btnIssueStatusInProgress.BeforeLoadDFMValues(),this.btnIssueStatusClosed.BeforeLoadDFMValues(),this.btnViewActivityLog.BeforeLoadDFMValues(),this.divIssues.BeforeLoadDFMValues(),this.splitterAccounts.BeforeLoadDFMValues(),this.pageLogging.BeforeLoadDFMValues(),this.divLoggingHolder.BeforeLoadDFMValues(),this.divLoggingButtons.BeforeLoadDFMValues(),this.btnLoggingToday.BeforeLoadDFMValues(),this.btnLogging7Days.BeforeLoadDFMValues(),this.btnLoggingAllData.BeforeLoadDFMValues(),this.btnLoggingReload.BeforeLoadDFMValues(),this.btnLoggingPrint.BeforeLoadDFMValues(),this.divLogging.BeforeLoadDFMValues(),this.divBlocker.BeforeLoadDFMValues(),this.panelQuestionTypes.BeforeLoadDFMValues(),this.tmrLaunch.BeforeLoadDFMValues(),this.ServerConn.BeforeLoadDFMValues(),this.tmrCountdown.BeforeLoadDFMValues();try{this.SetName("Form1"),this.SetWidth(956),this.SetHeight(587),this.SetAlign(5),this.SetColor(0),this.FCSSLibrary=1,this.SetElementFont(1),this.FFont.FCharset=1,this.FFont.SetColor(65793),this.FFont.SetHeight(-15),this.FFont.SetName("Tahoma"),this.FFont.SetStyle({}),this.SetParentFont(!1),this.SetShowHint(!0),this.SetEvent(this,"OnCreate","WebFormCreate"),this.SetEvent(this,"OnResize","WebFormResize"),this.SetEvent(this,"OnShow","WebFormShow"),this.divTop.SetParentComponent(this),this.divTop.SetName("divTop"),this.divTop.SetLeft(0),this.divTop.SetTop(0),this.divTop.SetWidth(956),this.divTop.SetHeight(50),this.divTop.SetAlign(1),this.divTop.SetElementFont(1),this.divTop.SetRole(""),this.panelTopLeft.SetParentComponent(this.divTop),this.panelTopLeft.SetName("panelTopLeft"),this.panelTopLeft.SetAlignWithMargins(!0),this.panelTopLeft.SetLeft(8),this.panelTopLeft.SetTop(4),this.panelTopLeft.SetWidth(481),this.panelTopLeft.SetHeight(42),this.panelTopLeft.FMargins.SetLeft(8),this.panelTopLeft.FMargins.SetTop(4),this.panelTopLeft.FMargins.SetRight(4),this.panelTopLeft.FMargins.SetBottom(4),this.panelTopLeft.SetElementClassName("rounded border border-dark bg-white"),this.panelTopLeft.SetWidthStyle(2),this.panelTopLeft.SetAlign(3),this.panelTopLeft.SetBorderColor(-1),this.panelTopLeft.SetBorderStyle(0),this.panelTopLeft.SetColor(16777215),this.panelTopLeft.FElementBodyClassName="btn-group m-1",this.panelTopLeft.SetElementFont(1),this.btnSurveys.SetParentComponent(this.panelTopLeft),this.btnSurveys.SetName("btnSurveys"),this.btnSurveys.SetAlignWithMargins(!0),this.btnSurveys.SetLeft(3),this.btnSurveys.SetTop(3),this.btnSurveys.SetWidth(50),this.btnSurveys.SetHeight(34),this.btnSurveys.FMargins.SetRight(0),this.btnSurveys.FMargins.SetBottom(5),this.btnSurveys.SetAlign(3),this.btnSurveys.SetCaption('<div class="mx-2"><i class="fa-solid fa-clipboard-list me-2 fa-xl"></i> Surveys</div>'),this.btnSurveys.SetElementClassName("btn btn-dark btn-sm"),this.btnSurveys.SetElementFont(1),this.btnSurveys.SetElementPosition(1),this.btnSurveys.SetHeightPercent(100),this.btnSurveys.SetTabOrder(10),this.btnSurveys.SetWidthStyle(2),this.btnSurveys.SetWidthPercent(100),this.SetEvent$1(this.btnSurveys,this,"OnClick","btnMainMenuClick"),this.btnResponses.SetParentComponent(this.panelTopLeft),this.btnResponses.SetName("btnResponses"),this.btnResponses.FTag$1=1,this.btnResponses.SetAlignWithMargins(!0),this.btnResponses.SetLeft(53),this.btnResponses.SetTop(3),this.btnResponses.SetWidth(50),this.btnResponses.SetHeight(34),this.btnResponses.FMargins.SetLeft(0),this.btnResponses.FMargins.SetRight(0),this.btnResponses.FMargins.SetBottom(5),this.btnResponses.SetAlign(3),this.btnResponses.SetCaption('<div class="mx-2"><i class="fa-solid fa-clipboard-check me-2 fa-xl"></i> Responses</div>'),this.btnResponses.SetChildOrderEx(1),this.btnResponses.SetElementClassName("btn btn-dark btn-sm"),this.btnResponses.SetElementFont(1),this.btnResponses.SetElementPosition(1),this.btnResponses.SetHeightPercent(100),this.btnResponses.SetTabOrder(11),this.btnResponses.SetWidthStyle(2),this.btnResponses.SetWidthPercent(100),this.SetEvent$1(this.btnResponses,this,"OnClick","btnMainMenuClick"),this.btnQuestions.SetParentComponent(this.panelTopLeft),this.btnQuestions.SetName("btnQuestions"),this.btnQuestions.FTag$1=2,this.btnQuestions.SetAlignWithMargins(!0),this.btnQuestions.SetLeft(103),this.btnQuestions.SetTop(3),this.btnQuestions.SetWidth(50),this.btnQuestions.SetHeight(34),this.btnQuestions.FMargins.SetLeft(0),this.btnQuestions.FMargins.SetRight(0),this.btnQuestions.FMargins.SetBottom(5),this.btnQuestions.SetAlign(3),this.btnQuestions.SetCaption('<div class="mx-2"><i class="fa-solid fa-clipboard-question me-2 fa-xl"></i> Library</div>'),this.btnQuestions.SetChildOrderEx(2),this.btnQuestions.SetElementClassName("btn btn-dark btn-sm"),this.btnQuestions.SetElementFont(1),this.btnQuestions.SetElementPosition(1),this.btnQuestions.SetHeightPercent(100),this.btnQuestions.SetTabOrder(12),this.btnQuestions.SetWidthStyle(2),this.btnQuestions.SetWidthPercent(100),this.SetEvent$1(this.btnQuestions,this,"OnClick","btnMainMenuClick"),this.btnAccounts.SetParentComponent(this.panelTopLeft),this.btnAccounts.SetName("btnAccounts"),this.btnAccounts.FTag$1=3,this.btnAccounts.SetAlignWithMargins(!0),this.btnAccounts.SetLeft(153),this.btnAccounts.SetTop(3),this.btnAccounts.SetWidth(50),this.btnAccounts.SetHeight(34),this.btnAccounts.FMargins.SetLeft(0),this.btnAccounts.FMargins.SetBottom(5),this.btnAccounts.SetAlign(3),this.btnAccounts.SetCaption('<div class="mx-2"><i class="fa-solid fa-clipboard-user me-2 fa-xl"></i> Administration</div>'),this.btnAccounts.SetChildOrderEx(3),this.btnAccounts.SetElementClassName("btn btn-dark btn-sm"),this.btnAccounts.SetElementFont(1),this.btnAccounts.SetElementPosition(1),this.btnAccounts.SetHeightPercent(100),this.btnAccounts.SetTabOrder(13),this.btnAccounts.SetWidthStyle(2),this.btnAccounts.SetWidthPercent(100),this.SetEvent$1(this.btnAccounts,this,"OnClick","btnMainMenuClick"),this.btnLogging.SetParentComponent(this.panelTopLeft),this.btnLogging.SetName("btnLogging"),this.btnLogging.FTag$1=4,this.btnLogging.SetAlignWithMargins(!0),this.btnLogging.SetLeft(206),this.btnLogging.SetTop(3),this.btnLogging.SetWidth(50),this.btnLogging.SetHeight(34),this.btnLogging.FMargins.SetLeft(0),this.btnLogging.FMargins.SetBottom(5),this.btnLogging.SetAlign(3),this.btnLogging.SetCaption('<div class="mx-2"><i class="fa-solid fa-clipboard me-2 fa-xl"></i> Server Log</div>'),this.btnLogging.SetChildOrderEx(4),this.btnLogging.SetElementClassName("btn btn-dark btn-sm"),this.btnLogging.SetElementFont(1),this.btnLogging.SetElementPosition(1),this.btnLogging.SetHeightPercent(100),this.btnLogging.SetTabOrder(14),this.btnLogging.SetWidthStyle(2),this.btnLogging.SetWidthPercent(100),this.SetEvent$1(this.btnLogging,this,"OnClick","btnMainMenuClick"),this.panelTopRight.SetParentComponent(this.divTop),this.panelTopRight.SetName("panelTopRight"),this.panelTopRight.SetAlignWithMargins(!0),this.panelTopRight.SetLeft(584),this.panelTopRight.SetTop(4),this.panelTopRight.SetWidth(364),this.panelTopRight.SetHeight(42),this.panelTopRight.FMargins.SetLeft(4),this.panelTopRight.FMargins.SetTop(4),this.panelTopRight.FMargins.SetRight(8),this.panelTopRight.FMargins.SetBottom(4),this.panelTopRight.SetElementClassName("rounded border border-dark bg-white"),this.panelTopRight.SetWidthStyle(2),this.panelTopRight.SetAlign(4),this.panelTopRight.SetBorderColor(-1),this.panelTopRight.SetBorderStyle(0),this.panelTopRight.SetChildOrderEx(1),this.panelTopRight.SetColor(16777215),this.panelTopRight.FElementBodyClassName=" m-1",this.panelTopRight.SetElementFont(1),this.btnAccount.SetParentComponent(this.panelTopRight),this.btnAccount.SetName("btnAccount"),this.btnAccount.SetAlignWithMargins(!0),this.btnAccount.SetLeft(172),this.btnAccount.SetTop(3),this.btnAccount.SetWidth(96),this.btnAccount.SetHeight(34),this.btnAccount.FMargins.SetRight(0),this.btnAccount.FMargins.SetBottom(5),this.btnAccount.SetAlign(4),this.btnAccount.SetCaption('<div class="mx-2"><i class="fa-solid fa-user me-2 fa-xl"></i>Account</div>'),this.btnAccount.SetElementClassName("btn btn-success btn-sm me-1"),this.btnAccount.SetElementFont(1),this.btnAccount.SetElementPosition(1),this.btnAccount.SetHeightPercent(100),this.btnAccount.SetTabOrder(15),this.btnAccount.SetWidthStyle(2),this.btnAccount.SetWidthPercent(100),this.SetEvent$1(this.btnAccount,this,"OnClick","btnAccountClick"),this.btnLogout.SetParentComponent(this.panelTopRight),this.btnLogout.SetName("btnLogout"),this.btnLogout.SetAlignWithMargins(!0),this.btnLogout.SetLeft(268),this.btnLogout.SetTop(3),this.btnLogout.SetWidth(96),this.btnLogout.SetHeight(34),this.btnLogout.FMargins.SetLeft(0),this.btnLogout.FMargins.SetRight(0),this.btnLogout.FMargins.SetBottom(5),this.btnLogout.SetAlign(4),this.btnLogout.SetCaption('<div class="mx-2"><i class="fa-solid fa-right-from-bracket me-2 fa-xl"></i> Logout</div>'),this.btnLogout.SetChildOrderEx(1),this.btnLogout.SetElementClassName("btn btn-danger btn-sm"),this.btnLogout.SetElementFont(1),this.btnLogout.SetElementPosition(1),this.btnLogout.SetHeightPercent(100),this.btnLogout.SetTabOrder(16),this.btnLogout.SetWidthStyle(2),this.btnLogout.SetWidthPercent(100),this.SetEvent$1(this.btnLogout,this,"OnClick","btnLogoutClick"),this.divBottom.SetParentComponent(this),this.divBottom.SetName("divBottom"),this.divBottom.SetLeft(0),this.divBottom.SetTop(539),this.divBottom.SetWidth(956),this.divBottom.SetHeight(48),this.divBottom.SetAlign(2),this.divBottom.SetChildOrderEx(1),this.divBottom.SetElementFont(1),this.divBottom.SetRole(""),this.panelBottomRight.SetParentComponent(this.divBottom),this.panelBottomRight.SetName("panelBottomRight"),this.panelBottomRight.SetAlignWithMargins(!0),this.panelBottomRight.SetLeft(676),this.panelBottomRight.SetTop(4),this.panelBottomRight.SetWidth(272),this.panelBottomRight.SetHeight(40),this.panelBottomRight.FMargins.SetLeft(4),this.panelBottomRight.FMargins.SetTop(4),this.panelBottomRight.FMargins.SetRight(8),this.panelBottomRight.FMargins.SetBottom(4),this.panelBottomRight.SetElementClassName("rounded border border-dark bg-white"),this.panelBottomRight.SetWidthStyle(2),this.panelBottomRight.SetAlign(4),this.panelBottomRight.SetBorderColor(-1),this.panelBottomRight.SetBorderStyle(0),this.panelBottomRight.SetChildOrderEx(1),this.panelBottomRight.SetColor(16777215),this.panelBottomRight.FElementBodyClassName=" m-1",this.panelBottomRight.SetElementFont(1),this.btnBlog.SetParentComponent(this.panelBottomRight),this.btnBlog.SetName("btnBlog"),this.btnBlog.SetAlignWithMargins(!0),this.btnBlog.SetLeft(80),this.btnBlog.SetTop(3),this.btnBlog.SetWidth(96),this.btnBlog.SetHeight(32),this.btnBlog.FMargins.SetRight(0),this.btnBlog.FMargins.SetBottom(5),this.btnBlog.SetAlign(4),this.btnBlog.SetCaption('<div class="mx-2"><i class="fa-solid fa-feather-pointed me-2 fa-xl"></i>Blog</div>'),this.btnBlog.SetElementClassName("btn btn-secondary btn-sm me-1"),this.btnBlog.SetElementFont(1),this.btnBlog.SetElementPosition(1),this.btnBlog.SetHeightPercent(100),this.btnBlog.SetTabOrder(20),this.btnBlog.SetWidthStyle(2),this.btnBlog.SetWidthPercent(100),this.SetEvent$1(this.btnBlog,this,"OnClick","btnBlogClick"),this.btnGitHub.SetParentComponent(this.panelBottomRight),this.btnGitHub.SetName("btnGitHub"),this.btnGitHub.SetAlignWithMargins(!0),this.btnGitHub.SetLeft(176),this.btnGitHub.SetTop(3),this.btnGitHub.SetWidth(96),this.btnGitHub.SetHeight(32),this.btnGitHub.FMargins.SetLeft(0),this.btnGitHub.FMargins.SetRight(0),this.btnGitHub.FMargins.SetBottom(5),this.btnGitHub.SetAlign(4),this.btnGitHub.SetCaption('<div class="mx-2"><i class="fa-brands fa-github me-2 fa-xl"></i> GitHub</div>'),this.btnGitHub.SetChildOrderEx(1),this.btnGitHub.SetElementClassName("btn btn-secondary btn-sm"),this.btnGitHub.SetElementFont(1),this.btnGitHub.SetElementPosition(1),this.btnGitHub.SetHeightPercent(100),this.btnGitHub.SetTabOrder(21),this.btnGitHub.SetWidthStyle(2),this.btnGitHub.SetWidthPercent(100),this.SetEvent$1(this.btnGitHub,this,"OnClick","btnGitHubClick"),this.panelBottomLeft.SetParentComponent(this.divBottom),this.panelBottomLeft.SetName("panelBottomLeft"),this.panelBottomLeft.SetAlignWithMargins(!0),this.panelBottomLeft.SetLeft(8),this.panelBottomLeft.SetTop(4),this.panelBottomLeft.SetWidth(272),this.panelBottomLeft.SetHeight(40),this.panelBottomLeft.FMargins.SetLeft(8),this.panelBottomLeft.FMargins.SetTop(4),this.panelBottomLeft.FMargins.SetRight(4),this.panelBottomLeft.FMargins.SetBottom(4),this.panelBottomLeft.SetElementClassName("rounded border border-dark bg-white"),this.panelBottomLeft.SetWidthStyle(2),this.panelBottomLeft.SetAlign(3),this.panelBottomLeft.SetBorderColor(-1),this.panelBottomLeft.SetBorderStyle(0),this.panelBottomLeft.SetChildOrderEx(1),this.panelBottomLeft.SetColor(16777215),this.panelBottomLeft.FElementBodyClassName=" m-1",this.panelBottomLeft.SetElementFont(1),this.btnEmail.SetParentComponent(this.panelBottomLeft),this.btnEmail.SetName("btnEmail"),this.btnEmail.SetAlignWithMargins(!0),this.btnEmail.SetLeft(99),this.btnEmail.SetTop(3),this.btnEmail.SetWidth(96),this.btnEmail.SetHeight(32),this.btnEmail.FMargins.SetRight(0),this.btnEmail.FMargins.SetBottom(5),this.btnEmail.SetAlign(3),this.btnEmail.SetCaption('<div class="mx-2"><i class="fa-solid fa-paper-plane me-2 fa-xl"></i>E-Mail Support</div>'),this.btnEmail.SetChildOrderEx(1),this.btnEmail.SetElementClassName("btn btn-success btn-sm me-1"),this.btnEmail.SetElementFont(1),this.btnEmail.SetElementPosition(1),this.btnEmail.SetHeightPercent(100),this.btnEmail.SetTabOrder(17),this.btnEmail.SetWidthStyle(2),this.btnEmail.SetWidthPercent(100),this.SetEvent$1(this.btnEmail,this,"OnClick","btnEmailClick"),this.btnDiscord.SetParentComponent(this.panelBottomLeft),this.btnDiscord.SetName("btnDiscord"),this.btnDiscord.SetAlignWithMargins(!0),this.btnDiscord.SetLeft(195),this.btnDiscord.SetTop(3),this.btnDiscord.SetWidth(96),this.btnDiscord.SetHeight(32),this.btnDiscord.FMargins.SetLeft(0),this.btnDiscord.FMargins.SetRight(0),this.btnDiscord.FMargins.SetBottom(5),this.btnDiscord.SetAlign(3),this.btnDiscord.SetCaption('<div class="mx-2"><i class="fa-brands fa-discord me-2 fa-xl"></i> Discord</div>'),this.btnDiscord.SetChildOrderEx(2),this.btnDiscord.SetElementClassName("btn btn-primary btn-sm"),this.btnDiscord.SetElementFont(1),this.btnDiscord.SetElementPosition(1),this.btnDiscord.SetHeightPercent(100),this.btnDiscord.SetTabOrder(19),this.btnDiscord.SetWidthStyle(2),this.btnDiscord.SetWidthPercent(100),this.SetEvent$1(this.btnDiscord,this,"OnClick","btnDiscordClick"),this.btnTicket.SetParentComponent(this.panelBottomLeft),this.btnTicket.SetName("btnTicket"),this.btnTicket.SetAlignWithMargins(!0),this.btnTicket.SetLeft(0),this.btnTicket.SetTop(3),this.btnTicket.SetWidth(96),this.btnTicket.SetHeight(32),this.btnTicket.FMargins.SetLeft(0),this.btnTicket.FMargins.SetRight(0),this.btnTicket.FMargins.SetBottom(5),this.btnTicket.SetAlign(3),this.btnTicket.SetCaption('<div class="mx-2"><i class="fa-solid fa-tag me-2 fa-xl"></i> Report an Issue</div>'),this.btnTicket.SetElementClassName("btn btn-danger btn-sm me-1"),this.btnTicket.SetElementFont(1),this.btnTicket.SetElementPosition(1),this.btnTicket.SetHeightPercent(100),this.btnTicket.SetTabOrder(18),this.btnTicket.SetWidthStyle(2),this.btnTicket.SetWidthPercent(100),this.SetEvent$1(this.btnTicket,this,"OnClick","btnTicketClick"),this.pagecontrolMain.SetParentComponent(this),this.pagecontrolMain.SetName("pagecontrolMain"),this.pagecontrolMain.SetAlignWithMargins(!0),this.pagecontrolMain.SetLeft(8),this.pagecontrolMain.SetTop(50),this.pagecontrolMain.SetWidth(940),this.pagecontrolMain.SetHeight(487),this.pagecontrolMain.FMargins.SetLeft(8),this.pagecontrolMain.FMargins.SetTop(0),this.pagecontrolMain.FMargins.SetRight(8),this.pagecontrolMain.FMargins.SetBottom(2),this.pagecontrolMain.SetElementClassName("overflow-visible"),this.pagecontrolMain.SetAlign(5),this.pagecontrolMain.SetChildOrderEx(2),this.pagecontrolMain.SetElementFont(1),this.pagecontrolMain.SetTabIndex(1),this.pagecontrolMain.SetShowTabs(!1),this.pagecontrolMain.SetTabOrder(2),this.pageSurveys.SetParentComponent(this.pagecontrolMain),this.pageSurveys.SetName("pageSurveys"),this.pageSurveys.SetAlignWithMargins(!0),this.pageSurveys.SetLeft(0),this.pageSurveys.SetTop(20),this.pageSurveys.SetWidth(940),this.pageSurveys.SetHeight(467),this.pageSurveys.FMargins.SetLeft(0),this.pageSurveys.FMargins.SetTop(0),this.pageSurveys.FMargins.SetRight(0),this.pageSurveys.SetElementClassName("rounded border border-dark bg-light"),this.pageSurveys.SetAlign(5),this.pageSurveys.SetCaption("Surveys"),this.pageSurveys.SetElementFont(1),this.divSurveysSurveyHolder.SetParentComponent(this.pageSurveys),this.divSurveysSurveyHolder.SetName("divSurveysSurveyHolder"),this.divSurveysSurveyHolder.SetAlignWithMargins(!0),this.divSurveysSurveyHolder.SetLeft(4),this.divSurveysSurveyHolder.SetTop(4),this.divSurveysSurveyHolder.SetWidth(250),this.divSurveysSurveyHolder.SetHeight(459),this.divSurveysSurveyHolder.FMargins.SetLeft(4),this.divSurveysSurveyHolder.FMargins.SetTop(4),this.divSurveysSurveyHolder.FMargins.SetRight(4),this.divSurveysSurveyHolder.FMargins.SetBottom(4),this.divSurveysSurveyHolder.SetElementClassName("overflow-hidden rounded border border-dark  bg-white"),this.divSurveysSurveyHolder.SetAlign(3),this.divSurveysSurveyHolder.SetElementFont(1),this.divSurveysSurveyHolder.SetRole(""),this.divSurveysButtons.SetParentComponent(this.divSurveysSurveyHolder),this.divSurveysButtons.SetName("divSurveysButtons"),this.divSurveysButtons.SetAlignWithMargins(!0),this.divSurveysButtons.SetLeft(4),this.divSurveysButtons.SetTop(0),this.divSurveysButtons.SetWidth(244),this.divSurveysButtons.SetHeight(32),this.divSurveysButtons.FMargins.SetLeft(4),this.divSurveysButtons.FMargins.SetTop(0),this.divSurveysButtons.FMargins.SetRight(2),this.divSurveysButtons.FMargins.SetBottom(0),this.divSurveysButtons.SetElementClassName("d-flex align-items-center justify-content-stretch"),this.divSurveysButtons.SetAlign(1),this.divSurveysButtons.SetElementFont(1),this.divSurveysButtons.SetRole(""),this.btnSurveyNew.SetParentComponent(this.divSurveysButtons),this.btnSurveyNew.SetName("btnSurveyNew"),this.btnSurveyNew.SetAlignWithMargins(!0),this.btnSurveyNew.SetLeft(3),this.btnSurveyNew.SetTop(3),this.btnSurveyNew.SetWidth(50),this.btnSurveyNew.SetHeight(24),this.btnSurveyNew.FMargins.SetLeft(0),this.btnSurveyNew.FMargins.SetTop(0),this.btnSurveyNew.FMargins.SetRight(1),this.btnSurveyNew.FMargins.SetBottom(0),this.btnSurveyNew.SetCaption('<i class="fa-solid fa-plus me-1 "></i> New'),this.btnSurveyNew.SetChildOrderEx(1),this.btnSurveyNew.SetElementClassName("ShortButton flex-fill btn btn-primary btn-sm"),this.btnSurveyNew.SetElementFont(1),this.btnSurveyNew.SetElementPosition(1),this.btnSurveyNew.SetHeightPercent(100),this.btnSurveyNew.SetTabOrder(31),this.btnSurveyNew.SetWidthStyle(2),this.btnSurveyNew.SetWidthPercent(100),this.SetEvent$1(this.btnSurveyNew,this,"OnClick","btnSurveyNewClick"),this.btnSurveyDelete.SetParentComponent(this.divSurveysButtons),this.btnSurveyDelete.SetName("btnSurveyDelete"),this.btnSurveyDelete.FTag$1=1,this.btnSurveyDelete.SetAlignWithMargins(!0),this.btnSurveyDelete.SetLeft(53),this.btnSurveyDelete.SetTop(3),this.btnSurveyDelete.SetWidth(50),this.btnSurveyDelete.SetHeight(24),this.btnSurveyDelete.FMargins.SetLeft(0),this.btnSurveyDelete.FMargins.SetTop(0),this.btnSurveyDelete.FMargins.SetRight(1),this.btnSurveyDelete.FMargins.SetBottom(0),this.btnSurveyDelete.SetCaption('<i class="fa-solid fa-trash-can me-1"></i>Delete'),this.btnSurveyDelete.SetChildOrderEx(2),this.btnSurveyDelete.SetElementClassName("ShortButton flex-fill btn btn-danger btn-sm"),this.btnSurveyDelete.SetElementFont(1),this.btnSurveyDelete.SetElementPosition(1),this.btnSurveyDelete.SetHeightPercent(100),this.btnSurveyDelete.SetTabOrder(32),this.btnSurveyDelete.SetWidthStyle(2),this.btnSurveyDelete.SetWidthPercent(100),this.SetEvent$1(this.btnSurveyDelete,this,"OnClick","btnSurveyDeleteClick"),this.btnSurveyClone.SetParentComponent(this.divSurveysButtons),this.btnSurveyClone.SetName("btnSurveyClone"),this.btnSurveyClone.FTag$1=2,this.btnSurveyClone.SetAlignWithMargins(!0),this.btnSurveyClone.SetLeft(103),this.btnSurveyClone.SetTop(3),this.btnSurveyClone.SetWidth(50),this.btnSurveyClone.SetHeight(24),this.btnSurveyClone.FMargins.SetLeft(0),this.btnSurveyClone.FMargins.SetTop(0),this.btnSurveyClone.FMargins.SetRight(0),this.btnSurveyClone.FMargins.SetBottom(0),this.btnSurveyClone.SetCaption('<i class="fa-solid fa-clone me-1"></i> Clone'),this.btnSurveyClone.SetChildOrderEx(3),this.btnSurveyClone.SetElementClassName("ShortButton flex-fill  btn btn-success btn-sm"),this.btnSurveyClone.SetElementFont(1),this.btnSurveyClone.SetElementPosition(1),this.btnSurveyClone.SetHeightPercent(100),this.btnSurveyClone.SetTabOrder(33),this.btnSurveyClone.SetWidthStyle(2),this.btnSurveyClone.SetWidthPercent(100),this.SetEvent$1(this.btnSurveyClone,this,"OnClick","btnSurveyCloneClick"),this.btnSurveyReload.SetParentComponent(this.divSurveysButtons),this.btnSurveyReload.SetName("btnSurveyReload"),this.btnSurveyReload.FTag$1=2,this.btnSurveyReload.SetAlignWithMargins(!0),this.btnSurveyReload.SetLeft(153),this.btnSurveyReload.SetTop(3),this.btnSurveyReload.SetWidth(50),this.btnSurveyReload.SetHeight(24),this.btnSurveyReload.FMargins.SetLeft(0),this.btnSurveyReload.FMargins.SetTop(0),this.btnSurveyReload.FMargins.SetRight(0),this.btnSurveyReload.FMargins.SetBottom(0),this.btnSurveyReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnSurveyReload.SetElementClassName("ShortButton flex-fill  btn btn-secondary btn-sm"),this.btnSurveyReload.SetElementFont(1),this.btnSurveyReload.SetElementPosition(1),this.btnSurveyReload.SetHeightPercent(100),this.btnSurveyReload.SetTabOrder(30),this.btnSurveyReload.SetWidthStyle(2),this.btnSurveyReload.SetWidthPercent(100),this.SetEvent$1(this.btnSurveyReload,this,"OnClick","btnSurveyReloadClick"),this.divSurveysSurveyList.SetParentComponent(this.divSurveysSurveyHolder),this.divSurveysSurveyList.SetName("divSurveysSurveyList"),this.divSurveysSurveyList.SetLeft(0),this.divSurveysSurveyList.SetTop(32),this.divSurveysSurveyList.SetWidth(250),this.divSurveysSurveyList.SetHeight(427),this.divSurveysSurveyList.SetElementClassName("overflow-hidden border border-0"),this.divSurveysSurveyList.SetAlign(5),this.divSurveysSurveyList.SetChildOrderEx(1),this.divSurveysSurveyList.SetElementFont(1),this.divSurveysSurveyList.SetRole(""),this.splitterSurveyMain.SetParentComponent(this.pageSurveys),this.splitterSurveyMain.SetName("splitterSurveyMain"),this.splitterSurveyMain.SetAlignWithMargins(!0),this.splitterSurveyMain.SetLeft(258),this.splitterSurveyMain.SetTop(50),this.splitterSurveyMain.SetWidth(6),this.splitterSurveyMain.SetHeight(367),this.splitterSurveyMain.SetControlCursor(14),this.splitterSurveyMain.FMargins.SetLeft(0),this.splitterSurveyMain.FMargins.SetTop(50),this.splitterSurveyMain.FMargins.SetRight(0),this.splitterSurveyMain.FMargins.SetBottom(50),this.splitterSurveyMain.SetElementClassName("rounded"),this.splitterSurveyMain.SetAlign(3),this.splitterSurveyMain.SetChildOrderEx(2),this.splitterSurveyMain.SetColor(8222060),this.splitterSurveyMain.SetGripColor(8222060),this.SetEvent$1(this.splitterSurveyMain,this,"OnMove","splitterSurveyMainMove"),this.divSurveysMain.SetParentComponent(this.pageSurveys),this.divSurveysMain.SetName("divSurveysMain"),this.divSurveysMain.SetLeft(264),this.divSurveysMain.SetTop(0),this.divSurveysMain.SetWidth(676),this.divSurveysMain.SetHeight(467),this.divSurveysMain.FMargins.SetLeft(4),this.divSurveysMain.FMargins.SetTop(4),this.divSurveysMain.FMargins.SetRight(4),this.divSurveysMain.FMargins.SetBottom(4),this.divSurveysMain.SetAlign(5),this.divSurveysMain.SetChildOrderEx(1),this.divSurveysMain.SetElementFont(1),this.divSurveysMain.SetRole(""),this.pageControlSurveys.SetParentComponent(this.divSurveysMain),this.pageControlSurveys.SetName("pageControlSurveys"),this.pageControlSurveys.SetAlignWithMargins(!0),this.pageControlSurveys.SetLeft(0),this.pageControlSurveys.SetTop(48),this.pageControlSurveys.SetWidth(676),this.pageControlSurveys.SetHeight(418),this.pageControlSurveys.FMargins.SetLeft(0),this.pageControlSurveys.FMargins.SetTop(0),this.pageControlSurveys.FMargins.SetRight(0),this.pageControlSurveys.FMargins.SetBottom(1),this.pageControlSurveys.SetElementClassName("overflow-visible"),this.pageControlSurveys.SetAlign(5),this.pageControlSurveys.SetChildOrderEx(1),this.pageControlSurveys.SetElementFont(1),this.pageControlSurveys.SetTabIndex(0),this.pageControlSurveys.SetShowTabs(!1),this.pageControlSurveys.SetTabOrder(0),this.pageConfig.SetParentComponent(this.pageControlSurveys),this.pageConfig.SetName("pageConfig"),this.pageConfig.SetAlignWithMargins(!0),this.pageConfig.SetLeft(0),this.pageConfig.SetTop(20),this.pageConfig.SetWidth(676),this.pageConfig.SetHeight(398),this.pageConfig.FMargins.SetLeft(0),this.pageConfig.FMargins.SetTop(0),this.pageConfig.FMargins.SetRight(0),this.pageConfig.SetElementClassName("bg-light"),this.pageConfig.SetCaption("Config"),this.pageConfig.SetElementFont(1),this.divSurveysOptions.SetParentComponent(this.pageConfig),this.divSurveysOptions.SetName("divSurveysOptions"),this.divSurveysOptions.SetAlignWithMargins(!0),this.divSurveysOptions.SetLeft(4),this.divSurveysOptions.SetTop(0),this.divSurveysOptions.SetWidth(169),this.divSurveysOptions.SetHeight(394),this.divSurveysOptions.FMargins.SetLeft(4),this.divSurveysOptions.FMargins.SetTop(0),this.divSurveysOptions.FMargins.SetRight(4),this.divSurveysOptions.FMargins.SetBottom(4),this.divSurveysOptions.SetElementClassName("overflow-hidden rounded border border-dark  bg-white"),this.divSurveysOptions.SetAlign(3),this.divSurveysOptions.SetElementFont(1),this.divSurveysOptions.SetRole(""),this.splitterSurveyConfig.SetParentComponent(this.pageConfig),this.splitterSurveyConfig.SetName("splitterSurveyConfig"),this.splitterSurveyConfig.SetAlignWithMargins(!0),this.splitterSurveyConfig.SetLeft(177),this.splitterSurveyConfig.SetTop(50),this.splitterSurveyConfig.SetWidth(6),this.splitterSurveyConfig.SetHeight(298),this.splitterSurveyConfig.SetControlCursor(14),this.splitterSurveyConfig.FMargins.SetLeft(0),this.splitterSurveyConfig.FMargins.SetTop(50),this.splitterSurveyConfig.FMargins.SetRight(0),this.splitterSurveyConfig.FMargins.SetBottom(50),this.splitterSurveyConfig.SetElementClassName("rounded"),this.splitterSurveyConfig.SetAlign(3),this.splitterSurveyConfig.SetChildOrderEx(2),this.splitterSurveyConfig.SetColor(8222060),this.splitterSurveyConfig.SetGripColor(8222060),this.SetEvent$1(this.splitterSurveyConfig,this,"OnMove","splitterSurveyConfigMove"),this.pagecontrolSurveysConfig.SetParentComponent(this.pageConfig),this.pagecontrolSurveysConfig.SetName("pagecontrolSurveysConfig"),this.pagecontrolSurveysConfig.SetAlignWithMargins(!0),this.pagecontrolSurveysConfig.SetLeft(187),this.pagecontrolSurveysConfig.SetTop(0),this.pagecontrolSurveysConfig.SetWidth(485),this.pagecontrolSurveysConfig.SetHeight(393),this.pagecontrolSurveysConfig.FMargins.SetLeft(4),this.pagecontrolSurveysConfig.FMargins.SetTop(0),this.pagecontrolSurveysConfig.FMargins.SetRight(4),this.pagecontrolSurveysConfig.FMargins.SetBottom(5),this.pagecontrolSurveysConfig.SetElementClassName(" overflow-visible bg-info"),this.pagecontrolSurveysConfig.SetAlign(5),this.pagecontrolSurveysConfig.SetChildOrderEx(2),this.pagecontrolSurveysConfig.SetElementFont(1),this.pagecontrolSurveysConfig.SetTabIndex(0),this.pagecontrolSurveysConfig.SetShowTabs(!1),this.pagecontrolSurveysConfig.SetTabOrder(2),this.pageConfigBasic.SetParentComponent(this.pagecontrolSurveysConfig),this.pageConfigBasic.SetName("pageConfigBasic"),this.pageConfigBasic.SetAlignWithMargins(!0),this.pageConfigBasic.SetLeft(0),this.pageConfigBasic.SetTop(20),this.pageConfigBasic.SetWidth(485),this.pageConfigBasic.SetHeight(373),this.pageConfigBasic.FMargins.SetLeft(4),this.pageConfigBasic.FMargins.SetTop(0),this.pageConfigBasic.FMargins.SetRight(4),this.pageConfigBasic.FMargins.SetBottom(5),this.pageConfigBasic.SetElementClassName("rounded border border-dark  bg-info"),this.pageConfigBasic.SetCaption("Base"),this.pageConfigBasic.SetElementFont(1),this.scrollConfigBasic.SetParentComponent(this.pageConfigBasic),this.scrollConfigBasic.SetName("scrollConfigBasic"),this.scrollConfigBasic.SetLeft(0),this.scrollConfigBasic.SetTop(0),this.scrollConfigBasic.SetWidth(485),this.scrollConfigBasic.SetHeight(373),this.scrollConfigBasic.SetElementClassName("rounded "),this.scrollConfigBasic.SetAlign(5),this.scrollConfigBasic.SetBorderStyle(0),this.scrollConfigBasic.SetColor(16711422),this.divConfigBasicName.SetParentComponent(this.scrollConfigBasic),this.divConfigBasicName.SetName("divConfigBasicName"),this.divConfigBasicName.SetAlignWithMargins(!0),this.divConfigBasicName.SetLeft(4),this.divConfigBasicName.SetTop(76),this.divConfigBasicName.SetWidth(477),this.divConfigBasicName.SetHeight(32),this.divConfigBasicName.FMargins.SetLeft(4),this.divConfigBasicName.FMargins.SetTop(2),this.divConfigBasicName.FMargins.SetRight(4),this.divConfigBasicName.FMargins.SetBottom(2),this.divConfigBasicName.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBasicName.SetAlign(1),this.divConfigBasicName.SetChildOrderEx(2),this.divConfigBasicName.SetElementFont(1),this.divConfigBasicName.SetRole(""),this.divConfigBasicNameLabel.SetParentComponent(this.divConfigBasicName),this.divConfigBasicNameLabel.SetName("divConfigBasicNameLabel"),this.divConfigBasicNameLabel.SetLeft(0),this.divConfigBasicNameLabel.SetTop(0),this.divConfigBasicNameLabel.SetWidth(100),this.divConfigBasicNameLabel.SetHeight(32),this.divConfigBasicNameLabel.SetElementClassName("ConfigLabel"),this.divConfigBasicNameLabel.SetAlign(3),this.divConfigBasicNameLabel.SetElementFont(1),this.divConfigBasicNameLabel.FHTML.BeginUpdate();try{this.divConfigBasicNameLabel.FHTML.Clear(),this.divConfigBasicNameLabel.FHTML.Add("Survey Name")}finally{this.divConfigBasicNameLabel.FHTML.EndUpdate()}this.divConfigBasicNameLabel.SetRole(""),this.edtConfigBasicName.SetParentComponent(this.divConfigBasicName),this.edtConfigBasicName.SetName("edtConfigBasicName"),this.edtConfigBasicName.SetAlignWithMargins(!0),this.edtConfigBasicName.SetLeft(102),this.edtConfigBasicName.SetTop(2),this.edtConfigBasicName.SetWidth(373),this.edtConfigBasicName.SetHeight(28),this.edtConfigBasicName.FMargins.SetLeft(2),this.edtConfigBasicName.FMargins.SetTop(2),this.edtConfigBasicName.FMargins.SetRight(2),this.edtConfigBasicName.FMargins.SetBottom(2),this.edtConfigBasicName.SetAlign(5),this.edtConfigBasicName.SetChildOrderEx(1),this.edtConfigBasicName.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBasicName.SetElementFont(1),this.edtConfigBasicName.SetHeightPercent(100),this.edtConfigBasicName.SetSpellCheck(!1),this.edtConfigBasicName.SetTabOrder(102),this.edtConfigBasicName.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBasicName,this,"OnChange","SurveyChanged"),this.divConfigBasicID.SetParentComponent(this.scrollConfigBasic),this.divConfigBasicID.SetName("divConfigBasicID"),this.divConfigBasicID.SetAlignWithMargins(!0),this.divConfigBasicID.SetLeft(4),this.divConfigBasicID.SetTop(4),this.divConfigBasicID.SetWidth(477),this.divConfigBasicID.SetHeight(32),this.divConfigBasicID.FMargins.SetLeft(4),this.divConfigBasicID.FMargins.SetTop(4),this.divConfigBasicID.FMargins.SetRight(4),this.divConfigBasicID.FMargins.SetBottom(2),this.divConfigBasicID.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBasicID.SetAlign(1),this.divConfigBasicID.SetElementFont(1),this.divConfigBasicID.SetRole(""),this.divConfigBasicIDLabel.SetParentComponent(this.divConfigBasicID),this.divConfigBasicIDLabel.SetName("divConfigBasicIDLabel"),this.divConfigBasicIDLabel.SetLeft(0),this.divConfigBasicIDLabel.SetTop(0),this.divConfigBasicIDLabel.SetWidth(100),this.divConfigBasicIDLabel.SetHeight(32),this.divConfigBasicIDLabel.SetElementClassName("ConfigLabel"),this.divConfigBasicIDLabel.SetAlign(3),this.divConfigBasicIDLabel.SetElementFont(1),this.divConfigBasicIDLabel.FHTML.BeginUpdate();try{this.divConfigBasicIDLabel.FHTML.Clear(),this.divConfigBasicIDLabel.FHTML.Add("Survey ID")}finally{this.divConfigBasicIDLabel.FHTML.EndUpdate()}this.divConfigBasicIDLabel.SetRole(""),this.edtConfigBasicID.SetParentComponent(this.divConfigBasicID),this.edtConfigBasicID.SetName("edtConfigBasicID"),this.edtConfigBasicID.SetAlignWithMargins(!0),this.edtConfigBasicID.SetLeft(102),this.edtConfigBasicID.SetTop(2),this.edtConfigBasicID.SetWidth(373),this.edtConfigBasicID.SetHeight(28),this.edtConfigBasicID.FMargins.SetLeft(2),this.edtConfigBasicID.FMargins.SetTop(2),this.edtConfigBasicID.FMargins.SetRight(2),this.edtConfigBasicID.FMargins.SetBottom(2),this.edtConfigBasicID.SetAlign(5),this.edtConfigBasicID.SetChildOrderEx(1),this.edtConfigBasicID.SetElementClassName("rounded-1 ps-2 border border-dark bg-info text-dark"),this.edtConfigBasicID.SetElementFont(1),this.edtConfigBasicID.SetHeightPercent(100),this.edtConfigBasicID.SetReadOnly(!0),this.edtConfigBasicID.SetSpellCheck(!1),this.edtConfigBasicID.SetTabOrder(100),this.edtConfigBasicID.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBasicID,this,"OnChange","SurveyChanged"),this.divConfigBasicLink.SetParentComponent(this.scrollConfigBasic),this.divConfigBasicLink.SetName("divConfigBasicLink"),this.divConfigBasicLink.SetAlignWithMargins(!0),this.divConfigBasicLink.SetLeft(4),this.divConfigBasicLink.SetTop(112),this.divConfigBasicLink.SetWidth(477),this.divConfigBasicLink.SetHeight(32),this.divConfigBasicLink.FMargins.SetLeft(4),this.divConfigBasicLink.FMargins.SetTop(2),this.divConfigBasicLink.FMargins.SetRight(4),this.divConfigBasicLink.FMargins.SetBottom(4),this.divConfigBasicLink.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBasicLink.SetAlign(1),this.divConfigBasicLink.SetChildOrderEx(3),this.divConfigBasicLink.SetElementFont(1),this.divConfigBasicLink.SetRole(""),this.divConfigBasicLinkLabel.SetParentComponent(this.divConfigBasicLink),this.divConfigBasicLinkLabel.SetName("divConfigBasicLinkLabel"),this.divConfigBasicLinkLabel.SetLeft(0),this.divConfigBasicLinkLabel.SetTop(0),this.divConfigBasicLinkLabel.SetWidth(100),this.divConfigBasicLinkLabel.SetHeight(32),this.divConfigBasicLinkLabel.SetElementClassName("ConfigLabel"),this.divConfigBasicLinkLabel.SetAlign(3),this.divConfigBasicLinkLabel.SetElementFont(1),this.divConfigBasicLinkLabel.FHTML.BeginUpdate();try{this.divConfigBasicLinkLabel.FHTML.Clear(),this.divConfigBasicLinkLabel.FHTML.Add("Link Identifier")}finally{this.divConfigBasicLinkLabel.FHTML.EndUpdate()}this.divConfigBasicLinkLabel.SetRole(""),this.edtConfigBasicLink.SetParentComponent(this.divConfigBasicLink),this.edtConfigBasicLink.SetName("edtConfigBasicLink"),this.edtConfigBasicLink.SetAlignWithMargins(!0),this.edtConfigBasicLink.SetLeft(102),this.edtConfigBasicLink.SetTop(2),this.edtConfigBasicLink.SetWidth(373),this.edtConfigBasicLink.SetHeight(28),this.edtConfigBasicLink.FMargins.SetLeft(2),this.edtConfigBasicLink.FMargins.SetTop(2),this.edtConfigBasicLink.FMargins.SetRight(2),this.edtConfigBasicLink.FMargins.SetBottom(2),this.edtConfigBasicLink.SetAlign(5),this.edtConfigBasicLink.SetChildOrderEx(1),this.edtConfigBasicLink.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBasicLink.SetElementFont(1),this.edtConfigBasicLink.SetHeightPercent(100),this.edtConfigBasicLink.SetMaxLength(20),this.edtConfigBasicLink.SetSpellCheck(!1),this.edtConfigBasicLink.SetTabOrder(103),this.edtConfigBasicLink.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBasicLink,this,"OnChange","edtConfigBasicLinkChange"),this.divConfigBasicGroup.SetParentComponent(this.scrollConfigBasic),this.divConfigBasicGroup.SetName("divConfigBasicGroup"),this.divConfigBasicGroup.SetAlignWithMargins(!0),this.divConfigBasicGroup.SetLeft(4),this.divConfigBasicGroup.SetTop(40),this.divConfigBasicGroup.SetWidth(477),this.divConfigBasicGroup.SetHeight(32),this.divConfigBasicGroup.FMargins.SetLeft(4),this.divConfigBasicGroup.FMargins.SetTop(2),this.divConfigBasicGroup.FMargins.SetRight(4),this.divConfigBasicGroup.FMargins.SetBottom(2),this.divConfigBasicGroup.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBasicGroup.SetAlign(1),this.divConfigBasicGroup.SetChildOrderEx(1),this.divConfigBasicGroup.SetElementFont(1),this.divConfigBasicGroup.SetRole(""),this.divConfigBasicGroupLabel.SetParentComponent(this.divConfigBasicGroup),this.divConfigBasicGroupLabel.SetName("divConfigBasicGroupLabel"),this.divConfigBasicGroupLabel.SetLeft(0),this.divConfigBasicGroupLabel.SetTop(0),this.divConfigBasicGroupLabel.SetWidth(100),this.divConfigBasicGroupLabel.SetHeight(32),this.divConfigBasicGroupLabel.SetElementClassName("ConfigLabel"),this.divConfigBasicGroupLabel.SetAlign(3),this.divConfigBasicGroupLabel.SetElementFont(1),this.divConfigBasicGroupLabel.FHTML.BeginUpdate();try{this.divConfigBasicGroupLabel.FHTML.Clear(),this.divConfigBasicGroupLabel.FHTML.Add("Survey Group")}finally{this.divConfigBasicGroupLabel.FHTML.EndUpdate()}this.divConfigBasicGroupLabel.SetRole(""),this.edtConfigBasicGroup.SetParentComponent(this.divConfigBasicGroup),this.edtConfigBasicGroup.SetName("edtConfigBasicGroup"),this.edtConfigBasicGroup.SetAlignWithMargins(!0),this.edtConfigBasicGroup.SetLeft(102),this.edtConfigBasicGroup.SetTop(2),this.edtConfigBasicGroup.SetWidth(373),this.edtConfigBasicGroup.SetHeight(28),this.edtConfigBasicGroup.FMargins.SetLeft(2),this.edtConfigBasicGroup.FMargins.SetTop(2),this.edtConfigBasicGroup.FMargins.SetRight(2),this.edtConfigBasicGroup.FMargins.SetBottom(2),this.edtConfigBasicGroup.SetAlign(5),this.edtConfigBasicGroup.SetChildOrderEx(1),this.edtConfigBasicGroup.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBasicGroup.SetElementFont(1),this.edtConfigBasicGroup.SetHeightPercent(100),this.edtConfigBasicGroup.SetSpellCheck(!1),this.edtConfigBasicGroup.SetTabOrder(101),this.edtConfigBasicGroup.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBasicGroup,this,"OnChange","SurveyChanged"),this.divSurveyInfoHolder.SetParentComponent(this.scrollConfigBasic),this.divSurveyInfoHolder.SetName("divSurveyInfoHolder"),this.divSurveyInfoHolder.SetAlignWithMargins(!0),this.divSurveyInfoHolder.SetLeft(4),this.divSurveyInfoHolder.SetTop(224),this.divSurveyInfoHolder.SetWidth(477),this.divSurveyInfoHolder.SetHeight(145),this.divSurveyInfoHolder.FMargins.SetLeft(4),this.divSurveyInfoHolder.FMargins.SetTop(0),this.divSurveyInfoHolder.FMargins.SetRight(4),this.divSurveyInfoHolder.FMargins.SetBottom(4),this.divSurveyInfoHolder.SetElementClassName("overflow-hidden rounded border border-dark  bg-dark"),this.divSurveyInfoHolder.SetAlign(5),this.divSurveyInfoHolder.SetChildOrderEx(4),this.divSurveyInfoHolder.SetElementFont(1),this.divSurveyInfoHolder.SetRole(""),this.divSurveyInfoButtons.SetParentComponent(this.divSurveyInfoHolder),this.divSurveyInfoButtons.SetName("divSurveyInfoButtons"),this.divSurveyInfoButtons.SetAlignWithMargins(!0),this.divSurveyInfoButtons.SetLeft(0),this.divSurveyInfoButtons.SetTop(0),this.divSurveyInfoButtons.SetWidth(477),this.divSurveyInfoButtons.SetHeight(32),this.divSurveyInfoButtons.FMargins.SetLeft(0),this.divSurveyInfoButtons.FMargins.SetTop(0),this.divSurveyInfoButtons.FMargins.SetRight(0),this.divSurveyInfoButtons.FMargins.SetBottom(0),this.divSurveyInfoButtons.SetElementClassName("bg-white"),this.divSurveyInfoButtons.SetAlign(1),this.divSurveyInfoButtons.SetElementFont(1),this.divSurveyInfoButtons.SetRole(""),this.btnSurveyInfoReload.SetParentComponent(this.divSurveyInfoButtons),this.btnSurveyInfoReload.SetName("btnSurveyInfoReload"),this.btnSurveyInfoReload.FTag$1=1,this.btnSurveyInfoReload.SetAlignWithMargins(!0),this.btnSurveyInfoReload.SetLeft(4),this.btnSurveyInfoReload.SetTop(4),this.btnSurveyInfoReload.SetWidth(50),this.btnSurveyInfoReload.SetHeight(24),this.btnSurveyInfoReload.FMargins.SetLeft(0),this.btnSurveyInfoReload.FMargins.SetTop(0),this.btnSurveyInfoReload.FMargins.SetRight(0),this.btnSurveyInfoReload.FMargins.SetBottom(0),this.btnSurveyInfoReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnSurveyInfoReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnSurveyInfoReload.SetElementFont(1),this.btnSurveyInfoReload.SetHeightPercent(100),this.btnSurveyInfoReload.SetTabOrder(104),this.btnSurveyInfoReload.SetWidthStyle(2),this.btnSurveyInfoReload.SetWidthPercent(100),this.SetEvent$1(this.btnSurveyInfoReload,this,"OnClick","btnSurveyInfoReloadClick"),this.divSurveyInfo.SetParentComponent(this.divSurveyInfoHolder),this.divSurveyInfo.SetName("divSurveyInfo"),this.divSurveyInfo.SetAlignWithMargins(!0),this.divSurveyInfo.SetLeft(0),this.divSurveyInfo.SetTop(32),this.divSurveyInfo.SetWidth(477),this.divSurveyInfo.SetHeight(113),this.divSurveyInfo.FMargins.SetLeft(0),this.divSurveyInfo.FMargins.SetTop(0),this.divSurveyInfo.FMargins.SetRight(0),this.divSurveyInfo.FMargins.SetBottom(0),this.divSurveyInfo.SetElementClassName("overflow-hidden border border-0"),this.divSurveyInfo.SetAlign(5),this.divSurveyInfo.SetChildOrderEx(1),this.divSurveyInfo.SetElementFont(1),this.divSurveyInfo.SetRole(""),this.divConfigBasicLiveLinkHolder.SetParentComponent(this.scrollConfigBasic),this.divConfigBasicLiveLinkHolder.SetName("divConfigBasicLiveLinkHolder"),this.divConfigBasicLiveLinkHolder.SetAlignWithMargins(!0),this.divConfigBasicLiveLinkHolder.SetLeft(4),this.divConfigBasicLiveLinkHolder.SetTop(188),this.divConfigBasicLiveLinkHolder.SetWidth(477),this.divConfigBasicLiveLinkHolder.SetHeight(32),this.divConfigBasicLiveLinkHolder.FMargins.SetLeft(4),this.divConfigBasicLiveLinkHolder.FMargins.SetTop(2),this.divConfigBasicLiveLinkHolder.FMargins.SetRight(4),this.divConfigBasicLiveLinkHolder.FMargins.SetBottom(4),this.divConfigBasicLiveLinkHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBasicLiveLinkHolder.SetAlign(1),this.divConfigBasicLiveLinkHolder.SetChildOrderEx(3),this.divConfigBasicLiveLinkHolder.SetElementFont(1),this.divConfigBasicLiveLinkHolder.SetRole(""),this.divConfigBasicLiveLinkLabel.SetParentComponent(this.divConfigBasicLiveLinkHolder),this.divConfigBasicLiveLinkLabel.SetName("divConfigBasicLiveLinkLabel"),this.divConfigBasicLiveLinkLabel.SetLeft(0),this.divConfigBasicLiveLinkLabel.SetTop(0),this.divConfigBasicLiveLinkLabel.SetWidth(100),this.divConfigBasicLiveLinkLabel.SetHeight(32),this.divConfigBasicLiveLinkLabel.SetElementClassName("ConfigLabel"),this.divConfigBasicLiveLinkLabel.SetAlign(3),this.divConfigBasicLiveLinkLabel.SetElementFont(1),this.divConfigBasicLiveLinkLabel.FHTML.BeginUpdate();try{this.divConfigBasicLiveLinkLabel.FHTML.Clear(),this.divConfigBasicLiveLinkLabel.FHTML.Add("Live Link")}finally{this.divConfigBasicLiveLinkLabel.FHTML.EndUpdate()}this.divConfigBasicLiveLinkLabel.SetRole(""),this.divConfigBasicLiveLink.SetParentComponent(this.divConfigBasicLiveLinkHolder),this.divConfigBasicLiveLink.SetName("divConfigBasicLiveLink"),this.divConfigBasicLiveLink.SetAlignWithMargins(!0),this.divConfigBasicLiveLink.SetLeft(102),this.divConfigBasicLiveLink.SetTop(2),this.divConfigBasicLiveLink.SetWidth(373),this.divConfigBasicLiveLink.SetHeight(28),this.divConfigBasicLiveLink.FMargins.SetLeft(2),this.divConfigBasicLiveLink.FMargins.SetTop(2),this.divConfigBasicLiveLink.FMargins.SetRight(2),this.divConfigBasicLiveLink.FMargins.SetBottom(2),this.divConfigBasicLiveLink.SetElementClassName("text-decoration-none bg-info rounded-1 ps-2 border border-dark text-white"),this.divConfigBasicLiveLink.SetAlign(5),this.divConfigBasicLiveLink.SetChildOrderEx(1),this.divConfigBasicLiveLink.SetElementFont(1),this.divConfigBasicLiveLink.SetRole(""),this.divConfigBasicTestLinkHolder.SetParentComponent(this.scrollConfigBasic),this.divConfigBasicTestLinkHolder.SetName("divConfigBasicTestLinkHolder"),this.divConfigBasicTestLinkHolder.SetAlignWithMargins(!0),this.divConfigBasicTestLinkHolder.SetLeft(4),this.divConfigBasicTestLinkHolder.SetTop(150),this.divConfigBasicTestLinkHolder.SetWidth(477),this.divConfigBasicTestLinkHolder.SetHeight(32),this.divConfigBasicTestLinkHolder.FMargins.SetLeft(4),this.divConfigBasicTestLinkHolder.FMargins.SetTop(2),this.divConfigBasicTestLinkHolder.FMargins.SetRight(4),this.divConfigBasicTestLinkHolder.FMargins.SetBottom(4),this.divConfigBasicTestLinkHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBasicTestLinkHolder.SetAlign(1),this.divConfigBasicTestLinkHolder.SetChildOrderEx(3),this.divConfigBasicTestLinkHolder.SetElementFont(1),this.divConfigBasicTestLinkHolder.SetRole(""),this.divConfigBasicTestLinkLabel.SetParentComponent(this.divConfigBasicTestLinkHolder),this.divConfigBasicTestLinkLabel.SetName("divConfigBasicTestLinkLabel"),this.divConfigBasicTestLinkLabel.SetLeft(0),this.divConfigBasicTestLinkLabel.SetTop(0),this.divConfigBasicTestLinkLabel.SetWidth(100),this.divConfigBasicTestLinkLabel.SetHeight(32),this.divConfigBasicTestLinkLabel.SetElementClassName("ConfigLabel"),this.divConfigBasicTestLinkLabel.SetAlign(3),this.divConfigBasicTestLinkLabel.SetElementFont(1),this.divConfigBasicTestLinkLabel.FHTML.BeginUpdate();try{this.divConfigBasicTestLinkLabel.FHTML.Clear(),this.divConfigBasicTestLinkLabel.FHTML.Add("Test Link")}finally{this.divConfigBasicTestLinkLabel.FHTML.EndUpdate()}this.divConfigBasicTestLinkLabel.SetRole(""),this.divConfigBasicTestLink.SetParentComponent(this.divConfigBasicTestLinkHolder),this.divConfigBasicTestLink.SetName("divConfigBasicTestLink"),this.divConfigBasicTestLink.SetAlignWithMargins(!0),this.divConfigBasicTestLink.SetLeft(102),this.divConfigBasicTestLink.SetTop(2),this.divConfigBasicTestLink.SetWidth(373),this.divConfigBasicTestLink.SetHeight(28),this.divConfigBasicTestLink.FMargins.SetLeft(2),this.divConfigBasicTestLink.FMargins.SetTop(2),this.divConfigBasicTestLink.FMargins.SetRight(2),this.divConfigBasicTestLink.FMargins.SetBottom(2),this.divConfigBasicTestLink.SetElementClassName("text-decoration-none bg-info rounded-1 ps-2 border border-dark text-white"),this.divConfigBasicTestLink.SetAlign(5),this.divConfigBasicTestLink.SetChildOrderEx(1),this.divConfigBasicTestLink.SetElementFont(1),this.divConfigBasicTestLink.SetRole(""),this.pageNotes.SetParentComponent(this.pagecontrolSurveysConfig),this.pageNotes.SetName("pageNotes"),this.pageNotes.SetLeft(0),this.pageNotes.SetTop(20),this.pageNotes.SetWidth(485),this.pageNotes.SetHeight(373),this.pageNotes.SetElementClassName("border border-0"),this.pageNotes.SetCaption("Nts"),this.pageNotes.SetChildOrderEx(9),this.pageNotes.SetElementFont(1),this.divNotesHolder.SetParentComponent(this.pageNotes),this.divNotesHolder.SetName("divNotesHolder"),this.divNotesHolder.SetAlignWithMargins(!0),this.divNotesHolder.SetLeft(0),this.divNotesHolder.SetTop(0),this.divNotesHolder.SetWidth(485),this.divNotesHolder.SetHeight(373),this.divNotesHolder.FMargins.SetLeft(0),this.divNotesHolder.FMargins.SetTop(0),this.divNotesHolder.FMargins.SetRight(0),this.divNotesHolder.FMargins.SetBottom(0),this.divNotesHolder.SetElementClassName("overflow-hidden rounded-1 border border-dark  bg-white"),this.divNotesHolder.SetAlign(5),this.divNotesHolder.SetElementFont(1),this.divNotesHolder.SetRole(""),this.divNotesButtons.SetParentComponent(this.divNotesHolder),this.divNotesButtons.SetName("divNotesButtons"),this.divNotesButtons.SetAlignWithMargins(!0),this.divNotesButtons.SetLeft(4),this.divNotesButtons.SetTop(0),this.divNotesButtons.SetWidth(479),this.divNotesButtons.SetHeight(32),this.divNotesButtons.FMargins.SetLeft(4),this.divNotesButtons.FMargins.SetTop(0),this.divNotesButtons.FMargins.SetRight(2),this.divNotesButtons.FMargins.SetBottom(0),this.divNotesButtons.SetElementClassName("d-flex align-items-center "),this.divNotesButtons.SetAlign(1),this.divNotesButtons.SetElementFont(1),this.divNotesButtons.SetRole(""),this.btnNotesAdd.SetParentComponent(this.divNotesButtons),this.btnNotesAdd.SetName("btnNotesAdd"),this.btnNotesAdd.FTag$1=1,this.btnNotesAdd.SetAlignWithMargins(!0),this.btnNotesAdd.SetLeft(50),this.btnNotesAdd.SetTop(0),this.btnNotesAdd.SetWidth(50),this.btnNotesAdd.SetHeight(24),this.btnNotesAdd.FMargins.SetLeft(0),this.btnNotesAdd.FMargins.SetTop(0),this.btnNotesAdd.FMargins.SetRight(0),this.btnNotesAdd.FMargins.SetBottom(0),this.btnNotesAdd.SetCaption('<i class="fa-solid fa-plus me-1"></i> Add '),this.btnNotesAdd.SetChildOrderEx(1),this.btnNotesAdd.SetElementClassName("ShortButton btn btn-primary btn-sm"),this.btnNotesAdd.SetElementFont(1),this.btnNotesAdd.SetElementPosition(1),this.btnNotesAdd.SetHeightPercent(100),this.btnNotesAdd.SetWidthStyle(2),this.btnNotesAdd.SetWidthPercent(100),this.SetEvent$1(this.btnNotesAdd,this,"OnClick","btnNotesAddClick"),this.btnNotesDelete.SetParentComponent(this.divNotesButtons),this.btnNotesDelete.SetName("btnNotesDelete"),this.btnNotesDelete.FTag$1=1,this.btnNotesDelete.SetAlignWithMargins(!0),this.btnNotesDelete.SetLeft(90),this.btnNotesDelete.SetTop(0),this.btnNotesDelete.SetWidth(50),this.btnNotesDelete.SetHeight(24),this.btnNotesDelete.FMargins.SetLeft(0),this.btnNotesDelete.FMargins.SetTop(0),this.btnNotesDelete.FMargins.SetRight(0),this.btnNotesDelete.FMargins.SetBottom(0),this.btnNotesDelete.SetCaption('<i class="fa-solid fa-trash-can me-1"></i> Delete'),this.btnNotesDelete.SetChildOrderEx(2),this.btnNotesDelete.SetElementClassName("ShortButton btn btn-danger btn-sm"),this.btnNotesDelete.SetElementFont(1),this.btnNotesDelete.SetElementPosition(1),this.btnNotesDelete.SetHeightPercent(100),this.btnNotesDelete.SetWidthStyle(2),this.btnNotesDelete.SetWidthPercent(100),this.SetEvent$1(this.btnNotesDelete,this,"OnClick","btnNotesDeleteClick"),this.btnNotesReload.SetParentComponent(this.divNotesButtons),this.btnNotesReload.SetName("btnNotesReload"),this.btnNotesReload.FTag$1=1,this.btnNotesReload.SetAlignWithMargins(!0),this.btnNotesReload.SetLeft(0),this.btnNotesReload.SetTop(0),this.btnNotesReload.SetWidth(50),this.btnNotesReload.SetHeight(24),this.btnNotesReload.FMargins.SetLeft(0),this.btnNotesReload.FMargins.SetTop(0),this.btnNotesReload.FMargins.SetRight(0),this.btnNotesReload.FMargins.SetBottom(0),this.btnNotesReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnNotesReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnNotesReload.SetElementFont(1),this.btnNotesReload.SetElementPosition(1),this.btnNotesReload.SetHeightPercent(100),this.btnNotesReload.SetWidthStyle(2),this.btnNotesReload.SetWidthPercent(100),this.SetEvent$1(this.btnNotesReload,this,"OnClick","btnNotesReloadClick"),this.btnNotesPrint.SetParentComponent(this.divNotesButtons),this.btnNotesPrint.SetName("btnNotesPrint"),this.btnNotesPrint.FTag$1=1,this.btnNotesPrint.SetAlignWithMargins(!0),this.btnNotesPrint.SetLeft(140),this.btnNotesPrint.SetTop(0),this.btnNotesPrint.SetWidth(50),this.btnNotesPrint.SetHeight(24),this.btnNotesPrint.FMargins.SetLeft(0),this.btnNotesPrint.FMargins.SetTop(0),this.btnNotesPrint.FMargins.SetRight(0),this.btnNotesPrint.FMargins.SetBottom(0),this.btnNotesPrint.SetCaption('<i class="fa-solid fa-print me-1"></i> Print'),this.btnNotesPrint.SetChildOrderEx(3),this.btnNotesPrint.SetElementClassName("ShortButton btn btn-dark btn-sm"),this.btnNotesPrint.SetElementFont(1),this.btnNotesPrint.SetElementPosition(1),this.btnNotesPrint.SetHeightPercent(100),this.btnNotesPrint.SetTabOrder(131),this.btnNotesPrint.SetWidthStyle(2),this.btnNotesPrint.SetWidthPercent(100),this.SetEvent$1(this.btnNotesPrint,this,"OnClick","btnNotesPrintClick"),this.divNotes.SetParentComponent(this.divNotesHolder),this.divNotes.SetName("divNotes"),this.divNotes.SetAlignWithMargins(!0),this.divNotes.SetLeft(0),this.divNotes.SetTop(32),this.divNotes.SetWidth(485),this.divNotes.SetHeight(341),this.divNotes.FMargins.SetLeft(0),this.divNotes.FMargins.SetTop(0),this.divNotes.FMargins.SetRight(0),this.divNotes.FMargins.SetBottom(0),this.divNotes.SetElementClassName("overflow-hidden border border-0"),this.divNotes.SetAlign(5),this.divNotes.SetChildOrderEx(1),this.divNotes.SetElementFont(1),this.divNotes.SetRole(""),this.pageAvailability.SetParentComponent(this.pagecontrolSurveysConfig),this.pageAvailability.SetName("pageAvailability"),this.pageAvailability.SetLeft(0),this.pageAvailability.SetTop(20),this.pageAvailability.SetWidth(485),this.pageAvailability.SetHeight(373),this.pageAvailability.SetElementClassName("border border-0"),this.pageAvailability.SetCaption("Avail"),this.pageAvailability.SetChildOrderEx(3),this.pageAvailability.SetElementFont(1),this.divAvailabilityHolder.SetParentComponent(this.pageAvailability),this.divAvailabilityHolder.SetName("divAvailabilityHolder"),this.divAvailabilityHolder.SetAlignWithMargins(!0),this.divAvailabilityHolder.SetLeft(0),this.divAvailabilityHolder.SetTop(0),this.divAvailabilityHolder.SetWidth(485),this.divAvailabilityHolder.SetHeight(373),this.divAvailabilityHolder.FMargins.SetLeft(0),this.divAvailabilityHolder.FMargins.SetTop(0),this.divAvailabilityHolder.FMargins.SetRight(0),this.divAvailabilityHolder.FMargins.SetBottom(0),this.divAvailabilityHolder.SetElementClassName("overflow-hidden rounded border border-dark  bg-white"),this.divAvailabilityHolder.SetAlign(5),this.divAvailabilityHolder.SetElementFont(1),this.divAvailabilityHolder.SetRole(""),this.divAvailabilityButtons.SetParentComponent(this.divAvailabilityHolder),this.divAvailabilityButtons.SetName("divAvailabilityButtons"),this.divAvailabilityButtons.SetAlignWithMargins(!0),this.divAvailabilityButtons.SetLeft(4),this.divAvailabilityButtons.SetTop(0),this.divAvailabilityButtons.SetWidth(479),this.divAvailabilityButtons.SetHeight(32),this.divAvailabilityButtons.FMargins.SetLeft(4),this.divAvailabilityButtons.FMargins.SetTop(0),this.divAvailabilityButtons.FMargins.SetRight(2),this.divAvailabilityButtons.FMargins.SetBottom(0),this.divAvailabilityButtons.SetElementClassName("d-flex align-items-center "),this.divAvailabilityButtons.SetAlign(1),this.divAvailabilityButtons.SetElementFont(1),this.divAvailabilityButtons.SetRole(""),this.labelAvailabilityCountdown.SetParentComponent(this.divAvailabilityButtons),this.labelAvailabilityCountdown.SetName("labelAvailabilityCountdown"),this.labelAvailabilityCountdown.SetAlignWithMargins(!0),this.labelAvailabilityCountdown.SetLeft(366),this.labelAvailabilityCountdown.SetTop(3),this.labelAvailabilityCountdown.SetWidth(110),this.labelAvailabilityCountdown.SetHeight(26),this.labelAvailabilityCountdown.SetAlign(4),this.labelAvailabilityCountdown.SetAlignment(2),this.labelAvailabilityCountdown.SetAutoSize(!1),this.labelAvailabilityCountdown.SetCaption("Countdown: 0d 0h 0m 0s"),this.labelAvailabilityCountdown.SetElementClassName("ShortButton CountDown btn btn-warning px-2"),this.labelAvailabilityCountdown.SetElementFont(1),this.labelAvailabilityCountdown.SetHeightPercent(100),this.labelAvailabilityCountdown.SetWidthPercent(100),this.labelAvailabilityStatus.SetParentComponent(this.divAvailabilityButtons),this.labelAvailabilityStatus.SetName("labelAvailabilityStatus"),this.labelAvailabilityStatus.SetAlignWithMargins(!0),this.labelAvailabilityStatus.SetLeft(302),this.labelAvailabilityStatus.SetTop(3),this.labelAvailabilityStatus.SetWidth(60),this.labelAvailabilityStatus.SetHeight(26),this.labelAvailabilityStatus.FMargins.SetRight(1),this.labelAvailabilityStatus.SetAlign(4),this.labelAvailabilityStatus.SetAlignment(2),this.labelAvailabilityStatus.SetAutoSize(!1),this.labelAvailabilityStatus.SetCaption("Status"),this.labelAvailabilityStatus.SetChildOrderEx(4),this.labelAvailabilityStatus.SetElementClassName("ShortButton btn btn-secondary"),this.labelAvailabilityStatus.SetElementFont(1),this.labelAvailabilityStatus.SetHeightPercent(100),this.labelAvailabilityStatus.SetWidthPercent(100),this.btnAvailabilityAdd.SetParentComponent(this.divAvailabilityButtons),this.btnAvailabilityAdd.SetName("btnAvailabilityAdd"),this.btnAvailabilityAdd.FTag$1=1,this.btnAvailabilityAdd.SetAlignWithMargins(!0),this.btnAvailabilityAdd.SetLeft(0),this.btnAvailabilityAdd.SetTop(8),this.btnAvailabilityAdd.SetWidth(50),this.btnAvailabilityAdd.SetHeight(24),this.btnAvailabilityAdd.FMargins.SetLeft(0),this.btnAvailabilityAdd.FMargins.SetTop(0),this.btnAvailabilityAdd.FMargins.SetRight(0),this.btnAvailabilityAdd.FMargins.SetBottom(0),this.btnAvailabilityAdd.SetCaption('<i class="fa-solid fa-plus me-1"></i> Add '),this.btnAvailabilityAdd.SetChildOrderEx(1),this.btnAvailabilityAdd.SetElementClassName("ShortButton btn btn-primary btn-sm"),this.btnAvailabilityAdd.SetElementFont(1),this.btnAvailabilityAdd.SetElementPosition(1),this.btnAvailabilityAdd.SetHeightPercent(100),this.btnAvailabilityAdd.SetTabOrder(130),this.btnAvailabilityAdd.SetWidthStyle(2),this.btnAvailabilityAdd.SetWidthPercent(100),this.SetEvent$1(this.btnAvailabilityAdd,this,"OnClick","btnAvailabilityAddClick"),this.btnAvailabilityDelete.SetParentComponent(this.divAvailabilityButtons),this.btnAvailabilityDelete.SetName("btnAvailabilityDelete"),this.btnAvailabilityDelete.FTag$1=1,this.btnAvailabilityDelete.SetAlignWithMargins(!0),this.btnAvailabilityDelete.SetLeft(50),this.btnAvailabilityDelete.SetTop(8),this.btnAvailabilityDelete.SetWidth(50),this.btnAvailabilityDelete.SetHeight(24),this.btnAvailabilityDelete.FMargins.SetLeft(0),this.btnAvailabilityDelete.FMargins.SetTop(0),this.btnAvailabilityDelete.FMargins.SetRight(0),this.btnAvailabilityDelete.FMargins.SetBottom(0),this.btnAvailabilityDelete.SetCaption('<i class="fa-solid fa-trash-can me-1"></i> Delete'),this.btnAvailabilityDelete.SetChildOrderEx(2),this.btnAvailabilityDelete.SetElementClassName("ShortButton btn btn-danger btn-sm"),this.btnAvailabilityDelete.SetElementFont(1),this.btnAvailabilityDelete.SetElementPosition(1),this.btnAvailabilityDelete.SetHeightPercent(100),this.btnAvailabilityDelete.SetTabOrder(131),this.btnAvailabilityDelete.SetWidthStyle(2),this.btnAvailabilityDelete.SetWidthPercent(100),this.SetEvent$1(this.btnAvailabilityDelete,this,"OnClick","btnAvailabilityDeleteClick"),this.btnAvailabilityPrint.SetParentComponent(this.divAvailabilityButtons),this.btnAvailabilityPrint.SetName("btnAvailabilityPrint"),this.btnAvailabilityPrint.FTag$1=1,this.btnAvailabilityPrint.SetAlignWithMargins(!0),this.btnAvailabilityPrint.SetLeft(103),this.btnAvailabilityPrint.SetTop(8),this.btnAvailabilityPrint.SetWidth(50),this.btnAvailabilityPrint.SetHeight(24),this.btnAvailabilityPrint.FMargins.SetLeft(0),this.btnAvailabilityPrint.FMargins.SetTop(0),this.btnAvailabilityPrint.FMargins.SetRight(0),this.btnAvailabilityPrint.FMargins.SetBottom(0),this.btnAvailabilityPrint.SetCaption('<i class="fa-solid fa-print me-1"></i> Print'),this.btnAvailabilityPrint.SetChildOrderEx(3),this.btnAvailabilityPrint.SetElementClassName("ShortButton btn btn-dark btn-sm"),this.btnAvailabilityPrint.SetElementFont(1),this.btnAvailabilityPrint.SetElementPosition(1),this.btnAvailabilityPrint.SetHeightPercent(100),this.btnAvailabilityPrint.SetTabOrder(131),this.btnAvailabilityPrint.SetWidthStyle(2),this.btnAvailabilityPrint.SetWidthPercent(100),this.SetEvent$1(this.btnAvailabilityPrint,this,"OnClick","btnAvailabilityPrintClick"),this.btnAvailabilityReload.SetParentComponent(this.divAvailabilityButtons),this.btnAvailabilityReload.SetName("btnAvailabilityReload"),this.btnAvailabilityReload.FTag$1=1,this.btnAvailabilityReload.SetAlignWithMargins(!0),this.btnAvailabilityReload.SetLeft(153),this.btnAvailabilityReload.SetTop(8),this.btnAvailabilityReload.SetWidth(70),this.btnAvailabilityReload.SetHeight(24),this.btnAvailabilityReload.FMargins.SetLeft(0),this.btnAvailabilityReload.FMargins.SetTop(0),this.btnAvailabilityReload.FMargins.SetRight(0),this.btnAvailabilityReload.FMargins.SetBottom(0),this.btnAvailabilityReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnAvailabilityReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnAvailabilityReload.SetElementFont(1),this.btnAvailabilityReload.SetElementPosition(1),this.btnAvailabilityReload.SetHeightPercent(100),this.btnAvailabilityReload.SetWidthStyle(2),this.btnAvailabilityReload.SetWidthPercent(100),this.SetEvent$1(this.btnAvailabilityReload,this,"OnClick","btnAvailabilityReloadClick"),this.divAvailability.SetParentComponent(this.divAvailabilityHolder),this.divAvailability.SetName("divAvailability"),this.divAvailability.SetAlignWithMargins(!0),this.divAvailability.SetLeft(0),this.divAvailability.SetTop(32),this.divAvailability.SetWidth(485),this.divAvailability.SetHeight(341),this.divAvailability.FMargins.SetLeft(0),this.divAvailability.FMargins.SetTop(0),this.divAvailability.FMargins.SetRight(0),this.divAvailability.FMargins.SetBottom(0),this.divAvailability.SetElementClassName("overflow-hidden border border-0"),this.divAvailability.SetAlign(5),this.divAvailability.SetChildOrderEx(1),this.divAvailability.SetElementFont(1),this.divAvailability.SetRole(""),this.pageBanner.SetParentComponent(this.pagecontrolSurveysConfig),this.pageBanner.SetName("pageBanner"),this.pageBanner.SetAlignWithMargins(!0),this.pageBanner.SetLeft(0),this.pageBanner.SetTop(20),this.pageBanner.SetWidth(485),this.pageBanner.SetHeight(373),this.pageBanner.FMargins.SetLeft(4),this.pageBanner.FMargins.SetTop(4),this.pageBanner.FMargins.SetRight(4),this.pageBanner.FMargins.SetBottom(4),this.pageBanner.SetElementClassName("rounded border border-dark  bg-info"),this.pageBanner.SetCaption("Bnr"),this.pageBanner.SetChildOrderEx(1),this.pageBanner.SetElementFont(1),this.scrollConfigBanner.SetParentComponent(this.pageBanner),this.scrollConfigBanner.SetName("scrollConfigBanner"),this.scrollConfigBanner.SetLeft(0),this.scrollConfigBanner.SetTop(0),this.scrollConfigBanner.SetWidth(485),this.scrollConfigBanner.SetHeight(373),this.scrollConfigBanner.SetElementClassName("rounded "),this.scrollConfigBanner.SetAlign(5),this.scrollConfigBanner.SetBorderStyle(0),this.scrollConfigBanner.SetColor(16711422),this.divConfigBannerTitle.SetParentComponent(this.scrollConfigBanner),this.divConfigBannerTitle.SetName("divConfigBannerTitle"),this.divConfigBannerTitle.SetAlignWithMargins(!0),this.divConfigBannerTitle.SetLeft(4),this.divConfigBannerTitle.SetTop(4),this.divConfigBannerTitle.SetWidth(477),this.divConfigBannerTitle.SetHeight(32),this.divConfigBannerTitle.FMargins.SetLeft(4),this.divConfigBannerTitle.FMargins.SetTop(4),this.divConfigBannerTitle.FMargins.SetRight(4),this.divConfigBannerTitle.FMargins.SetBottom(2),this.divConfigBannerTitle.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerTitle.SetAlign(1),this.divConfigBannerTitle.SetChildOrderEx(2),this.divConfigBannerTitle.SetElementFont(1),this.divConfigBannerTitle.SetRole(""),this.divConfigBannerTitleLabel.SetParentComponent(this.divConfigBannerTitle),this.divConfigBannerTitleLabel.SetName("divConfigBannerTitleLabel"),this.divConfigBannerTitleLabel.SetLeft(0),this.divConfigBannerTitleLabel.SetTop(0),this.divConfigBannerTitleLabel.SetWidth(100),this.divConfigBannerTitleLabel.SetHeight(32),this.divConfigBannerTitleLabel.SetElementClassName("ConfigLabel"),this.divConfigBannerTitleLabel.SetAlign(3),this.divConfigBannerTitleLabel.SetElementFont(1),this.divConfigBannerTitleLabel.FHTML.BeginUpdate();try{this.divConfigBannerTitleLabel.FHTML.Clear(),this.divConfigBannerTitleLabel.FHTML.Add("Banner Title")}finally{this.divConfigBannerTitleLabel.FHTML.EndUpdate()}this.divConfigBannerTitleLabel.SetRole(""),this.edtConfigBannerTitle.SetParentComponent(this.divConfigBannerTitle),this.edtConfigBannerTitle.SetName("edtConfigBannerTitle"),this.edtConfigBannerTitle.SetAlignWithMargins(!0),this.edtConfigBannerTitle.SetLeft(102),this.edtConfigBannerTitle.SetTop(2),this.edtConfigBannerTitle.SetWidth(373),this.edtConfigBannerTitle.SetHeight(28),this.edtConfigBannerTitle.FMargins.SetLeft(2),this.edtConfigBannerTitle.FMargins.SetTop(2),this.edtConfigBannerTitle.FMargins.SetRight(2),this.edtConfigBannerTitle.FMargins.SetBottom(2),this.edtConfigBannerTitle.SetAlign(5),this.edtConfigBannerTitle.SetChildOrderEx(1),this.edtConfigBannerTitle.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBannerTitle.SetElementFont(1),this.edtConfigBannerTitle.SetHeightPercent(100),this.edtConfigBannerTitle.SetTabOrder(140),this.edtConfigBannerTitle.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBannerTitle,this,"OnChange","SurveyChanged"),this.divConfigBannerFooter.SetParentComponent(this.scrollConfigBanner),this.divConfigBannerFooter.SetName("divConfigBannerFooter"),this.divConfigBannerFooter.SetAlignWithMargins(!0),this.divConfigBannerFooter.SetLeft(4),this.divConfigBannerFooter.SetTop(40),this.divConfigBannerFooter.SetWidth(477),this.divConfigBannerFooter.SetHeight(32),this.divConfigBannerFooter.FMargins.SetLeft(4),this.divConfigBannerFooter.FMargins.SetTop(2),this.divConfigBannerFooter.FMargins.SetRight(4),this.divConfigBannerFooter.FMargins.SetBottom(2),this.divConfigBannerFooter.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerFooter.SetAlign(1),this.divConfigBannerFooter.SetChildOrderEx(2),this.divConfigBannerFooter.SetElementFont(1),this.divConfigBannerFooter.SetRole(""),this.divConfigBannerFooterLabel.SetParentComponent(this.divConfigBannerFooter),this.divConfigBannerFooterLabel.SetName("divConfigBannerFooterLabel"),this.divConfigBannerFooterLabel.SetLeft(0),this.divConfigBannerFooterLabel.SetTop(0),this.divConfigBannerFooterLabel.SetWidth(100),this.divConfigBannerFooterLabel.SetHeight(32),this.divConfigBannerFooterLabel.SetElementClassName("ConfigLabel"),this.divConfigBannerFooterLabel.SetAlign(3),this.divConfigBannerFooterLabel.SetElementFont(1),this.divConfigBannerFooterLabel.FHTML.BeginUpdate();try{this.divConfigBannerFooterLabel.FHTML.Clear(),this.divConfigBannerFooterLabel.FHTML.Add("Banner Footer")}finally{this.divConfigBannerFooterLabel.FHTML.EndUpdate()}this.divConfigBannerFooterLabel.SetRole(""),this.edtConfigBannerFooter.SetParentComponent(this.divConfigBannerFooter),this.edtConfigBannerFooter.SetName("edtConfigBannerFooter"),this.edtConfigBannerFooter.SetAlignWithMargins(!0),this.edtConfigBannerFooter.SetLeft(102),this.edtConfigBannerFooter.SetTop(2),this.edtConfigBannerFooter.SetWidth(373),this.edtConfigBannerFooter.SetHeight(28),this.edtConfigBannerFooter.FMargins.SetLeft(2),this.edtConfigBannerFooter.FMargins.SetTop(2),this.edtConfigBannerFooter.FMargins.SetRight(2),this.edtConfigBannerFooter.FMargins.SetBottom(2),this.edtConfigBannerFooter.SetAlign(5),this.edtConfigBannerFooter.SetChildOrderEx(1),this.edtConfigBannerFooter.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBannerFooter.SetElementFont(1),this.edtConfigBannerFooter.SetHeightPercent(100),this.edtConfigBannerFooter.SetTabOrder(141),this.edtConfigBannerFooter.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBannerFooter,this,"OnChange","SurveyChanged"),this.divConfigBannerContentHolder.SetParentComponent(this.scrollConfigBanner),this.divConfigBannerContentHolder.SetName("divConfigBannerContentHolder"),this.divConfigBannerContentHolder.SetAlignWithMargins(!0),this.divConfigBannerContentHolder.SetLeft(4),this.divConfigBannerContentHolder.SetTop(76),this.divConfigBannerContentHolder.SetWidth(477),this.divConfigBannerContentHolder.SetHeight(293),this.divConfigBannerContentHolder.FMargins.SetLeft(4),this.divConfigBannerContentHolder.FMargins.SetTop(2),this.divConfigBannerContentHolder.FMargins.SetRight(4),this.divConfigBannerContentHolder.FMargins.SetBottom(4),this.divConfigBannerContentHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerContentHolder.SetAlign(5),this.divConfigBannerContentHolder.SetChildOrderEx(2),this.divConfigBannerContentHolder.SetElementFont(1),this.divConfigBannerContentHolder.SetRole(""),this.divConfigBannerContentHeader.SetParentComponent(this.divConfigBannerContentHolder),this.divConfigBannerContentHeader.SetName("divConfigBannerContentHeader"),this.divConfigBannerContentHeader.SetLeft(0),this.divConfigBannerContentHeader.SetTop(0),this.divConfigBannerContentHeader.SetWidth(477),this.divConfigBannerContentHeader.SetHeight(50),this.divConfigBannerContentHeader.SetElementClassName("sun-editor"),this.divConfigBannerContentHeader.SetHeightStyle(2),this.divConfigBannerContentHeader.SetWidthStyle(0),this.divConfigBannerContentHeader.SetAlign(1),this.divConfigBannerContentHeader.SetElementFont(1),this.divConfigBannerContentHeader.SetRole(""),this.divConfigBannerContentFooter.SetParentComponent(this.divConfigBannerContentHolder),this.divConfigBannerContentFooter.SetName("divConfigBannerContentFooter"),this.divConfigBannerContentFooter.SetLeft(0),this.divConfigBannerContentFooter.SetTop(275),this.divConfigBannerContentFooter.SetWidth(477),this.divConfigBannerContentFooter.SetHeight(18),this.divConfigBannerContentFooter.SetElementClassName("sun-editor d-flex overflow-hidden"),this.divConfigBannerContentFooter.SetWidthStyle(0),this.divConfigBannerContentFooter.SetAlign(2),this.divConfigBannerContentFooter.SetChildOrderEx(1),this.divConfigBannerContentFooter.SetElementFont(1),this.divConfigBannerContentFooter.SetRole(""),this.divConfigBannerContent.SetParentComponent(this.divConfigBannerContentHolder),this.divConfigBannerContent.SetName("divConfigBannerContent"),this.divConfigBannerContent.SetAlignWithMargins(!0),this.divConfigBannerContent.SetLeft(0),this.divConfigBannerContent.SetTop(50),this.divConfigBannerContent.SetWidth(477),this.divConfigBannerContent.SetHeight(224),this.divConfigBannerContent.FMargins.SetLeft(0),this.divConfigBannerContent.FMargins.SetTop(0),this.divConfigBannerContent.FMargins.SetRight(0),this.divConfigBannerContent.FMargins.SetBottom(1),this.divConfigBannerContent.SetAlign(5),this.divConfigBannerContent.SetChildOrderEx(2),this.divConfigBannerContent.SetElementFont(1),this.divConfigBannerContent.FHTML.BeginUpdate();try{this.divConfigBannerContent.FHTML.Clear(),this.divConfigBannerContent.FHTML.Add('<textarea id="divConfigBannerContentText">')}finally{this.divConfigBannerContent.FHTML.EndUpdate()}this.divConfigBannerContent.SetRole(""),this.pageBannerPre.SetParentComponent(this.pagecontrolSurveysConfig),this.pageBannerPre.SetName("pageBannerPre"),this.pageBannerPre.SetAlignWithMargins(!0),this.pageBannerPre.SetLeft(0),this.pageBannerPre.SetTop(20),this.pageBannerPre.SetWidth(485),this.pageBannerPre.SetHeight(373),this.pageBannerPre.FMargins.SetLeft(4),this.pageBannerPre.FMargins.SetTop(4),this.pageBannerPre.FMargins.SetRight(4),this.pageBannerPre.FMargins.SetBottom(4),this.pageBannerPre.SetElementClassName("rounded border border-dark  bg-info"),this.pageBannerPre.SetCaption("Pre"),this.pageBannerPre.SetChildOrderEx(4),this.pageBannerPre.SetElementFont(1),this.scrollConfigBannerPre.SetParentComponent(this.pageBannerPre),this.scrollConfigBannerPre.SetName("scrollConfigBannerPre"),this.scrollConfigBannerPre.SetLeft(0),this.scrollConfigBannerPre.SetTop(0),this.scrollConfigBannerPre.SetWidth(485),this.scrollConfigBannerPre.SetHeight(373),this.scrollConfigBannerPre.SetElementClassName("rounded "),this.scrollConfigBannerPre.SetAlign(5),this.scrollConfigBannerPre.SetBorderStyle(0),this.scrollConfigBannerPre.SetColor(16711422),this.divConfigBannerPreTitle.SetParentComponent(this.scrollConfigBannerPre),this.divConfigBannerPreTitle.SetName("divConfigBannerPreTitle"),this.divConfigBannerPreTitle.SetAlignWithMargins(!0),this.divConfigBannerPreTitle.SetLeft(4),this.divConfigBannerPreTitle.SetTop(4),this.divConfigBannerPreTitle.SetWidth(477),this.divConfigBannerPreTitle.SetHeight(32),this.divConfigBannerPreTitle.FMargins.SetLeft(4),this.divConfigBannerPreTitle.FMargins.SetTop(4),this.divConfigBannerPreTitle.FMargins.SetRight(4),this.divConfigBannerPreTitle.FMargins.SetBottom(2),this.divConfigBannerPreTitle.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerPreTitle.SetAlign(1),this.divConfigBannerPreTitle.SetChildOrderEx(2),this.divConfigBannerPreTitle.SetElementFont(1),this.divConfigBannerPreTitle.SetRole(""),this.divConfigBannerPreTitleLabel.SetParentComponent(this.divConfigBannerPreTitle),this.divConfigBannerPreTitleLabel.SetName("divConfigBannerPreTitleLabel"),this.divConfigBannerPreTitleLabel.SetLeft(0),this.divConfigBannerPreTitleLabel.SetTop(0),this.divConfigBannerPreTitleLabel.SetWidth(100),this.divConfigBannerPreTitleLabel.SetHeight(32),this.divConfigBannerPreTitleLabel.SetElementClassName("ConfigLabel"),this.divConfigBannerPreTitleLabel.SetAlign(3),this.divConfigBannerPreTitleLabel.SetElementFont(1),this.divConfigBannerPreTitleLabel.FHTML.BeginUpdate();try{this.divConfigBannerPreTitleLabel.FHTML.Clear(),this.divConfigBannerPreTitleLabel.FHTML.Add("Pre Title")}finally{this.divConfigBannerPreTitleLabel.FHTML.EndUpdate()}this.divConfigBannerPreTitleLabel.SetRole(""),this.edtConfigBannerPreTitle.SetParentComponent(this.divConfigBannerPreTitle),this.edtConfigBannerPreTitle.SetName("edtConfigBannerPreTitle"),this.edtConfigBannerPreTitle.SetAlignWithMargins(!0),this.edtConfigBannerPreTitle.SetLeft(102),this.edtConfigBannerPreTitle.SetTop(2),this.edtConfigBannerPreTitle.SetWidth(373),this.edtConfigBannerPreTitle.SetHeight(28),this.edtConfigBannerPreTitle.FMargins.SetLeft(2),this.edtConfigBannerPreTitle.FMargins.SetTop(2),this.edtConfigBannerPreTitle.FMargins.SetRight(2),this.edtConfigBannerPreTitle.FMargins.SetBottom(2),this.edtConfigBannerPreTitle.SetAlign(5),this.edtConfigBannerPreTitle.SetChildOrderEx(1),this.edtConfigBannerPreTitle.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBannerPreTitle.SetElementFont(1),this.edtConfigBannerPreTitle.SetHeightPercent(100),this.edtConfigBannerPreTitle.SetTabOrder(150),this.edtConfigBannerPreTitle.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBannerPreTitle,this,"OnChange","SurveyChanged"),this.divConfigBannerPreFooter.SetParentComponent(this.scrollConfigBannerPre),this.divConfigBannerPreFooter.SetName("divConfigBannerPreFooter"),this.divConfigBannerPreFooter.SetAlignWithMargins(!0),this.divConfigBannerPreFooter.SetLeft(4),this.divConfigBannerPreFooter.SetTop(40),this.divConfigBannerPreFooter.SetWidth(477),this.divConfigBannerPreFooter.SetHeight(32),this.divConfigBannerPreFooter.FMargins.SetLeft(4),this.divConfigBannerPreFooter.FMargins.SetTop(2),this.divConfigBannerPreFooter.FMargins.SetRight(4),this.divConfigBannerPreFooter.FMargins.SetBottom(2),this.divConfigBannerPreFooter.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerPreFooter.SetAlign(1),this.divConfigBannerPreFooter.SetChildOrderEx(2),this.divConfigBannerPreFooter.SetElementFont(1),this.divConfigBannerPreFooter.SetRole(""),this.divConfigBannerPreFooterLabel.SetParentComponent(this.divConfigBannerPreFooter),this.divConfigBannerPreFooterLabel.SetName("divConfigBannerPreFooterLabel"),this.divConfigBannerPreFooterLabel.SetLeft(0),this.divConfigBannerPreFooterLabel.SetTop(0),this.divConfigBannerPreFooterLabel.SetWidth(100),this.divConfigBannerPreFooterLabel.SetHeight(32),this.divConfigBannerPreFooterLabel.SetElementClassName("ConfigLabel"),this.divConfigBannerPreFooterLabel.SetAlign(3),this.divConfigBannerPreFooterLabel.SetElementFont(1),this.divConfigBannerPreFooterLabel.FHTML.BeginUpdate();try{this.divConfigBannerPreFooterLabel.FHTML.Clear(),this.divConfigBannerPreFooterLabel.FHTML.Add("Pre Footer")}finally{this.divConfigBannerPreFooterLabel.FHTML.EndUpdate()}this.divConfigBannerPreFooterLabel.SetRole(""),this.edtConfigBannerPreFooter.SetParentComponent(this.divConfigBannerPreFooter),this.edtConfigBannerPreFooter.SetName("edtConfigBannerPreFooter"),this.edtConfigBannerPreFooter.SetAlignWithMargins(!0),this.edtConfigBannerPreFooter.SetLeft(102),this.edtConfigBannerPreFooter.SetTop(2),this.edtConfigBannerPreFooter.SetWidth(373),this.edtConfigBannerPreFooter.SetHeight(28),this.edtConfigBannerPreFooter.FMargins.SetLeft(2),this.edtConfigBannerPreFooter.FMargins.SetTop(2),this.edtConfigBannerPreFooter.FMargins.SetRight(2),this.edtConfigBannerPreFooter.FMargins.SetBottom(2),this.edtConfigBannerPreFooter.SetAlign(5),this.edtConfigBannerPreFooter.SetChildOrderEx(1),this.edtConfigBannerPreFooter.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBannerPreFooter.SetElementFont(1),this.edtConfigBannerPreFooter.SetHeightPercent(100),this.edtConfigBannerPreFooter.SetTabOrder(151),this.edtConfigBannerPreFooter.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBannerPreFooter,this,"OnChange","SurveyChanged"),this.divConfigBannerPreContentHolder.SetParentComponent(this.scrollConfigBannerPre),this.divConfigBannerPreContentHolder.SetName("divConfigBannerPreContentHolder"),this.divConfigBannerPreContentHolder.SetAlignWithMargins(!0),this.divConfigBannerPreContentHolder.SetLeft(4),this.divConfigBannerPreContentHolder.SetTop(76),this.divConfigBannerPreContentHolder.SetWidth(477),this.divConfigBannerPreContentHolder.SetHeight(293),this.divConfigBannerPreContentHolder.FMargins.SetLeft(4),this.divConfigBannerPreContentHolder.FMargins.SetTop(2),this.divConfigBannerPreContentHolder.FMargins.SetRight(4),this.divConfigBannerPreContentHolder.FMargins.SetBottom(4),this.divConfigBannerPreContentHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerPreContentHolder.SetAlign(5),this.divConfigBannerPreContentHolder.SetChildOrderEx(2),this.divConfigBannerPreContentHolder.SetElementFont(1),this.divConfigBannerPreContentHolder.SetRole(""),this.divConfigBannerPreContentHeader.SetParentComponent(this.divConfigBannerPreContentHolder),this.divConfigBannerPreContentHeader.SetName("divConfigBannerPreContentHeader"),this.divConfigBannerPreContentHeader.SetLeft(0),this.divConfigBannerPreContentHeader.SetTop(0),this.divConfigBannerPreContentHeader.SetWidth(477),this.divConfigBannerPreContentHeader.SetHeight(50),this.divConfigBannerPreContentHeader.SetElementClassName("sun-editor"),this.divConfigBannerPreContentHeader.SetHeightStyle(2),this.divConfigBannerPreContentHeader.SetWidthStyle(0),this.divConfigBannerPreContentHeader.SetAlign(1),this.divConfigBannerPreContentHeader.SetElementFont(1),this.divConfigBannerPreContentHeader.SetRole(""),this.divConfigBannerPreContentFooter.SetParentComponent(this.divConfigBannerPreContentHolder),this.divConfigBannerPreContentFooter.SetName("divConfigBannerPreContentFooter"),this.divConfigBannerPreContentFooter.SetLeft(0),this.divConfigBannerPreContentFooter.SetTop(275),this.divConfigBannerPreContentFooter.SetWidth(477),this.divConfigBannerPreContentFooter.SetHeight(18),this.divConfigBannerPreContentFooter.SetElementClassName("sun-editor d-flex overflow-hidden"),this.divConfigBannerPreContentFooter.SetWidthStyle(0),this.divConfigBannerPreContentFooter.SetAlign(2),this.divConfigBannerPreContentFooter.SetChildOrderEx(1),this.divConfigBannerPreContentFooter.SetElementFont(1),this.divConfigBannerPreContentFooter.SetRole(""),this.divConfigBannerPreContent.SetParentComponent(this.divConfigBannerPreContentHolder),this.divConfigBannerPreContent.SetName("divConfigBannerPreContent"),this.divConfigBannerPreContent.SetAlignWithMargins(!0),this.divConfigBannerPreContent.SetLeft(0),this.divConfigBannerPreContent.SetTop(50),this.divConfigBannerPreContent.SetWidth(477),this.divConfigBannerPreContent.SetHeight(224),this.divConfigBannerPreContent.FMargins.SetLeft(0),this.divConfigBannerPreContent.FMargins.SetTop(0),this.divConfigBannerPreContent.FMargins.SetRight(0),this.divConfigBannerPreContent.FMargins.SetBottom(1),this.divConfigBannerPreContent.SetAlign(5),this.divConfigBannerPreContent.SetChildOrderEx(2),this.divConfigBannerPreContent.SetElementFont(1),this.divConfigBannerPreContent.FHTML.BeginUpdate();try{this.divConfigBannerPreContent.FHTML.Clear(),this.divConfigBannerPreContent.FHTML.Add('<textarea id="divConfigBannerPreContentText">')}finally{this.divConfigBannerPreContent.FHTML.EndUpdate()}this.divConfigBannerPreContent.SetRole(""),this.pageBannerPause.SetParentComponent(this.pagecontrolSurveysConfig),this.pageBannerPause.SetName("pageBannerPause"),this.pageBannerPause.SetAlignWithMargins(!0),this.pageBannerPause.SetLeft(0),this.pageBannerPause.SetTop(20),this.pageBannerPause.SetWidth(485),this.pageBannerPause.SetHeight(373),this.pageBannerPause.FMargins.SetLeft(4),this.pageBannerPause.FMargins.SetTop(4),this.pageBannerPause.FMargins.SetRight(4),this.pageBannerPause.FMargins.SetBottom(4),this.pageBannerPause.SetElementClassName("rounded border border-dark  bg-info"),this.pageBannerPause.SetCaption("Pause"),this.pageBannerPause.SetChildOrderEx(5),this.pageBannerPause.SetElementFont(1),this.scrollConfigBannerPause.SetParentComponent(this.pageBannerPause),this.scrollConfigBannerPause.SetName("scrollConfigBannerPause"),this.scrollConfigBannerPause.SetLeft(0),this.scrollConfigBannerPause.SetTop(0),this.scrollConfigBannerPause.SetWidth(485),this.scrollConfigBannerPause.SetHeight(373),this.scrollConfigBannerPause.SetElementClassName("rounded "),this.scrollConfigBannerPause.SetAlign(5),this.scrollConfigBannerPause.SetBorderStyle(0),this.scrollConfigBannerPause.SetColor(16711422),this.divConfigBannerPauseTitle.SetParentComponent(this.scrollConfigBannerPause),this.divConfigBannerPauseTitle.SetName("divConfigBannerPauseTitle"),this.divConfigBannerPauseTitle.SetAlignWithMargins(!0),this.divConfigBannerPauseTitle.SetLeft(4),this.divConfigBannerPauseTitle.SetTop(4),this.divConfigBannerPauseTitle.SetWidth(477),this.divConfigBannerPauseTitle.SetHeight(32),this.divConfigBannerPauseTitle.FMargins.SetLeft(4),this.divConfigBannerPauseTitle.FMargins.SetTop(4),this.divConfigBannerPauseTitle.FMargins.SetRight(4),this.divConfigBannerPauseTitle.FMargins.SetBottom(2),this.divConfigBannerPauseTitle.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerPauseTitle.SetAlign(1),this.divConfigBannerPauseTitle.SetChildOrderEx(2),this.divConfigBannerPauseTitle.SetElementFont(1),this.divConfigBannerPauseTitle.SetRole(""),this.divConfigBannerPauseTitleLabel.SetParentComponent(this.divConfigBannerPauseTitle),this.divConfigBannerPauseTitleLabel.SetName("divConfigBannerPauseTitleLabel"),this.divConfigBannerPauseTitleLabel.SetLeft(0),this.divConfigBannerPauseTitleLabel.SetTop(0),this.divConfigBannerPauseTitleLabel.SetWidth(100),this.divConfigBannerPauseTitleLabel.SetHeight(32),this.divConfigBannerPauseTitleLabel.SetElementClassName("ConfigLabel"),this.divConfigBannerPauseTitleLabel.SetAlign(3),this.divConfigBannerPauseTitleLabel.SetElementFont(1),this.divConfigBannerPauseTitleLabel.FHTML.BeginUpdate();try{this.divConfigBannerPauseTitleLabel.FHTML.Clear(),this.divConfigBannerPauseTitleLabel.FHTML.Add("Pause Title")}finally{this.divConfigBannerPauseTitleLabel.FHTML.EndUpdate()}this.divConfigBannerPauseTitleLabel.SetRole(""),this.edtConfigBannerPauseTitle.SetParentComponent(this.divConfigBannerPauseTitle),this.edtConfigBannerPauseTitle.SetName("edtConfigBannerPauseTitle"),this.edtConfigBannerPauseTitle.SetAlignWithMargins(!0),this.edtConfigBannerPauseTitle.SetLeft(102),this.edtConfigBannerPauseTitle.SetTop(2),this.edtConfigBannerPauseTitle.SetWidth(373),this.edtConfigBannerPauseTitle.SetHeight(28),this.edtConfigBannerPauseTitle.FMargins.SetLeft(2),this.edtConfigBannerPauseTitle.FMargins.SetTop(2),this.edtConfigBannerPauseTitle.FMargins.SetRight(2),this.edtConfigBannerPauseTitle.FMargins.SetBottom(2),this.edtConfigBannerPauseTitle.SetAlign(5),this.edtConfigBannerPauseTitle.SetChildOrderEx(1),this.edtConfigBannerPauseTitle.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBannerPauseTitle.SetElementFont(1),this.edtConfigBannerPauseTitle.SetHeightPercent(100),this.edtConfigBannerPauseTitle.SetTabOrder(160),this.edtConfigBannerPauseTitle.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBannerPauseTitle,this,"OnChange","SurveyChanged"),this.divConfigBannerPauseFooter.SetParentComponent(this.scrollConfigBannerPause),this.divConfigBannerPauseFooter.SetName("divConfigBannerPauseFooter"),this.divConfigBannerPauseFooter.SetAlignWithMargins(!0),this.divConfigBannerPauseFooter.SetLeft(4),this.divConfigBannerPauseFooter.SetTop(40),this.divConfigBannerPauseFooter.SetWidth(477),this.divConfigBannerPauseFooter.SetHeight(32),this.divConfigBannerPauseFooter.FMargins.SetLeft(4),this.divConfigBannerPauseFooter.FMargins.SetTop(2),this.divConfigBannerPauseFooter.FMargins.SetRight(4),this.divConfigBannerPauseFooter.FMargins.SetBottom(2),this.divConfigBannerPauseFooter.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerPauseFooter.SetAlign(1),this.divConfigBannerPauseFooter.SetChildOrderEx(2),this.divConfigBannerPauseFooter.SetElementFont(1),this.divConfigBannerPauseFooter.SetRole(""),this.divConfigBannerPauseFooterLabel.SetParentComponent(this.divConfigBannerPauseFooter),this.divConfigBannerPauseFooterLabel.SetName("divConfigBannerPauseFooterLabel"),this.divConfigBannerPauseFooterLabel.SetLeft(0),this.divConfigBannerPauseFooterLabel.SetTop(0),this.divConfigBannerPauseFooterLabel.SetWidth(100),this.divConfigBannerPauseFooterLabel.SetHeight(32),this.divConfigBannerPauseFooterLabel.SetElementClassName("ConfigLabel"),this.divConfigBannerPauseFooterLabel.SetAlign(3),this.divConfigBannerPauseFooterLabel.SetElementFont(1),this.divConfigBannerPauseFooterLabel.FHTML.BeginUpdate();try{this.divConfigBannerPauseFooterLabel.FHTML.Clear(),this.divConfigBannerPauseFooterLabel.FHTML.Add("Pause Footer")}finally{this.divConfigBannerPauseFooterLabel.FHTML.EndUpdate()}this.divConfigBannerPauseFooterLabel.SetRole(""),this.edtConfigBannerPauseFooter.SetParentComponent(this.divConfigBannerPauseFooter),this.edtConfigBannerPauseFooter.SetName("edtConfigBannerPauseFooter"),this.edtConfigBannerPauseFooter.SetAlignWithMargins(!0),this.edtConfigBannerPauseFooter.SetLeft(102),this.edtConfigBannerPauseFooter.SetTop(2),this.edtConfigBannerPauseFooter.SetWidth(373),this.edtConfigBannerPauseFooter.SetHeight(28),this.edtConfigBannerPauseFooter.FMargins.SetLeft(2),this.edtConfigBannerPauseFooter.FMargins.SetTop(2),this.edtConfigBannerPauseFooter.FMargins.SetRight(2),this.edtConfigBannerPauseFooter.FMargins.SetBottom(2),this.edtConfigBannerPauseFooter.SetAlign(5),this.edtConfigBannerPauseFooter.SetChildOrderEx(1),this.edtConfigBannerPauseFooter.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBannerPauseFooter.SetElementFont(1),this.edtConfigBannerPauseFooter.SetHeightPercent(100),this.edtConfigBannerPauseFooter.SetTabOrder(161),this.edtConfigBannerPauseFooter.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBannerPauseFooter,this,"OnChange","SurveyChanged"),this.divConfigBannerPauseContentHolder.SetParentComponent(this.scrollConfigBannerPause),this.divConfigBannerPauseContentHolder.SetName("divConfigBannerPauseContentHolder"),this.divConfigBannerPauseContentHolder.SetAlignWithMargins(!0),this.divConfigBannerPauseContentHolder.SetLeft(4),this.divConfigBannerPauseContentHolder.SetTop(76),this.divConfigBannerPauseContentHolder.SetWidth(477),this.divConfigBannerPauseContentHolder.SetHeight(293),this.divConfigBannerPauseContentHolder.FMargins.SetLeft(4),this.divConfigBannerPauseContentHolder.FMargins.SetTop(2),this.divConfigBannerPauseContentHolder.FMargins.SetRight(4),this.divConfigBannerPauseContentHolder.FMargins.SetBottom(4),this.divConfigBannerPauseContentHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerPauseContentHolder.SetAlign(5),this.divConfigBannerPauseContentHolder.SetChildOrderEx(2),this.divConfigBannerPauseContentHolder.SetElementFont(1),this.divConfigBannerPauseContentHolder.SetRole(""),this.divConfigBannerPauseContentHeader.SetParentComponent(this.divConfigBannerPauseContentHolder),this.divConfigBannerPauseContentHeader.SetName("divConfigBannerPauseContentHeader"),this.divConfigBannerPauseContentHeader.SetLeft(0),this.divConfigBannerPauseContentHeader.SetTop(0),this.divConfigBannerPauseContentHeader.SetWidth(477),this.divConfigBannerPauseContentHeader.SetHeight(50),this.divConfigBannerPauseContentHeader.SetElementClassName("sun-editor"),this.divConfigBannerPauseContentHeader.SetHeightStyle(2),this.divConfigBannerPauseContentHeader.SetWidthStyle(0),this.divConfigBannerPauseContentHeader.SetAlign(1),this.divConfigBannerPauseContentHeader.SetElementFont(1),this.divConfigBannerPauseContentHeader.SetRole(""),this.divConfigBannerPauseContentFooter.SetParentComponent(this.divConfigBannerPauseContentHolder),this.divConfigBannerPauseContentFooter.SetName("divConfigBannerPauseContentFooter"),this.divConfigBannerPauseContentFooter.SetLeft(0),this.divConfigBannerPauseContentFooter.SetTop(275),this.divConfigBannerPauseContentFooter.SetWidth(477),this.divConfigBannerPauseContentFooter.SetHeight(18),this.divConfigBannerPauseContentFooter.SetElementClassName("sun-editor d-flex overflow-hidden"),this.divConfigBannerPauseContentFooter.SetWidthStyle(0),this.divConfigBannerPauseContentFooter.SetAlign(2),this.divConfigBannerPauseContentFooter.SetChildOrderEx(1),this.divConfigBannerPauseContentFooter.SetElementFont(1),this.divConfigBannerPauseContentFooter.SetRole(""),this.divConfigBannerPauseContent.SetParentComponent(this.divConfigBannerPauseContentHolder),this.divConfigBannerPauseContent.SetName("divConfigBannerPauseContent"),this.divConfigBannerPauseContent.SetAlignWithMargins(!0),this.divConfigBannerPauseContent.SetLeft(0),this.divConfigBannerPauseContent.SetTop(50),this.divConfigBannerPauseContent.SetWidth(477),this.divConfigBannerPauseContent.SetHeight(224),this.divConfigBannerPauseContent.FMargins.SetLeft(0),this.divConfigBannerPauseContent.FMargins.SetTop(0),this.divConfigBannerPauseContent.FMargins.SetRight(0),this.divConfigBannerPauseContent.FMargins.SetBottom(1),this.divConfigBannerPauseContent.SetAlign(5),this.divConfigBannerPauseContent.SetChildOrderEx(2),this.divConfigBannerPauseContent.SetElementFont(1),this.divConfigBannerPauseContent.FHTML.BeginUpdate();try{this.divConfigBannerPauseContent.FHTML.Clear(),this.divConfigBannerPauseContent.FHTML.Add('<textarea id="divConfigBannerPauseContentText">')}finally{this.divConfigBannerPauseContent.FHTML.EndUpdate()}this.divConfigBannerPauseContent.SetRole(""),this.pageBannerPost.SetParentComponent(this.pagecontrolSurveysConfig),this.pageBannerPost.SetName("pageBannerPost"),this.pageBannerPost.SetAlignWithMargins(!0),this.pageBannerPost.SetLeft(0),this.pageBannerPost.SetTop(20),this.pageBannerPost.SetWidth(485),this.pageBannerPost.SetHeight(373),this.pageBannerPost.FMargins.SetLeft(4),this.pageBannerPost.FMargins.SetTop(4),this.pageBannerPost.FMargins.SetRight(4),this.pageBannerPost.FMargins.SetBottom(4),this.pageBannerPost.SetElementClassName("rounded border border-dark  bg-info"),this.pageBannerPost.SetCaption("Post"),this.pageBannerPost.SetChildOrderEx(6),this.pageBannerPost.SetElementFont(1),this.scrollConfigBannerPost.SetParentComponent(this.pageBannerPost),this.scrollConfigBannerPost.SetName("scrollConfigBannerPost"),this.scrollConfigBannerPost.SetLeft(0),this.scrollConfigBannerPost.SetTop(0),this.scrollConfigBannerPost.SetWidth(485),this.scrollConfigBannerPost.SetHeight(373),this.scrollConfigBannerPost.SetElementClassName("rounded "),this.scrollConfigBannerPost.SetAlign(5),this.scrollConfigBannerPost.SetBorderStyle(0),this.scrollConfigBannerPost.SetColor(16711422),this.divConfigBannerPostTitle.SetParentComponent(this.scrollConfigBannerPost),this.divConfigBannerPostTitle.SetName("divConfigBannerPostTitle"),this.divConfigBannerPostTitle.SetAlignWithMargins(!0),this.divConfigBannerPostTitle.SetLeft(4),this.divConfigBannerPostTitle.SetTop(4),this.divConfigBannerPostTitle.SetWidth(477),this.divConfigBannerPostTitle.SetHeight(32),this.divConfigBannerPostTitle.FMargins.SetLeft(4),this.divConfigBannerPostTitle.FMargins.SetTop(4),this.divConfigBannerPostTitle.FMargins.SetRight(4),this.divConfigBannerPostTitle.FMargins.SetBottom(2),this.divConfigBannerPostTitle.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerPostTitle.SetAlign(1),this.divConfigBannerPostTitle.SetChildOrderEx(2),this.divConfigBannerPostTitle.SetElementFont(1),this.divConfigBannerPostTitle.SetRole(""),this.divConfigBannerPostTitleLabel.SetParentComponent(this.divConfigBannerPostTitle),this.divConfigBannerPostTitleLabel.SetName("divConfigBannerPostTitleLabel"),this.divConfigBannerPostTitleLabel.SetLeft(0),this.divConfigBannerPostTitleLabel.SetTop(0),this.divConfigBannerPostTitleLabel.SetWidth(100),this.divConfigBannerPostTitleLabel.SetHeight(32),this.divConfigBannerPostTitleLabel.SetElementClassName("ConfigLabel"),this.divConfigBannerPostTitleLabel.SetAlign(3),this.divConfigBannerPostTitleLabel.SetElementFont(1),this.divConfigBannerPostTitleLabel.FHTML.BeginUpdate();try{this.divConfigBannerPostTitleLabel.FHTML.Clear(),this.divConfigBannerPostTitleLabel.FHTML.Add("Post Title")}finally{this.divConfigBannerPostTitleLabel.FHTML.EndUpdate()}this.divConfigBannerPostTitleLabel.SetRole(""),this.edtConfigBannerPostTitle.SetParentComponent(this.divConfigBannerPostTitle),this.edtConfigBannerPostTitle.SetName("edtConfigBannerPostTitle"),this.edtConfigBannerPostTitle.SetAlignWithMargins(!0),this.edtConfigBannerPostTitle.SetLeft(102),this.edtConfigBannerPostTitle.SetTop(2),this.edtConfigBannerPostTitle.SetWidth(373),this.edtConfigBannerPostTitle.SetHeight(28),this.edtConfigBannerPostTitle.FMargins.SetLeft(2),this.edtConfigBannerPostTitle.FMargins.SetTop(2),this.edtConfigBannerPostTitle.FMargins.SetRight(2),this.edtConfigBannerPostTitle.FMargins.SetBottom(2),this.edtConfigBannerPostTitle.SetAlign(5),this.edtConfigBannerPostTitle.SetChildOrderEx(1),this.edtConfigBannerPostTitle.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBannerPostTitle.SetElementFont(1),this.edtConfigBannerPostTitle.SetHeightPercent(100),this.edtConfigBannerPostTitle.SetTabOrder(170),this.edtConfigBannerPostTitle.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBannerPostTitle,this,"OnChange","SurveyChanged"),this.divConfigBannerPostFooter.SetParentComponent(this.scrollConfigBannerPost),this.divConfigBannerPostFooter.SetName("divConfigBannerPostFooter"),this.divConfigBannerPostFooter.SetAlignWithMargins(!0),this.divConfigBannerPostFooter.SetLeft(4),this.divConfigBannerPostFooter.SetTop(40),this.divConfigBannerPostFooter.SetWidth(477),this.divConfigBannerPostFooter.SetHeight(32),this.divConfigBannerPostFooter.FMargins.SetLeft(4),this.divConfigBannerPostFooter.FMargins.SetTop(2),this.divConfigBannerPostFooter.FMargins.SetRight(4),this.divConfigBannerPostFooter.FMargins.SetBottom(2),this.divConfigBannerPostFooter.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerPostFooter.SetAlign(1),this.divConfigBannerPostFooter.SetChildOrderEx(2),this.divConfigBannerPostFooter.SetElementFont(1),this.divConfigBannerPostFooter.SetRole(""),this.divConfigBannerPostFooterLabel.SetParentComponent(this.divConfigBannerPostFooter),this.divConfigBannerPostFooterLabel.SetName("divConfigBannerPostFooterLabel"),this.divConfigBannerPostFooterLabel.SetLeft(0),this.divConfigBannerPostFooterLabel.SetTop(0),this.divConfigBannerPostFooterLabel.SetWidth(100),this.divConfigBannerPostFooterLabel.SetHeight(32),this.divConfigBannerPostFooterLabel.SetElementClassName("ConfigLabel"),this.divConfigBannerPostFooterLabel.SetAlign(3),this.divConfigBannerPostFooterLabel.SetElementFont(1),this.divConfigBannerPostFooterLabel.FHTML.BeginUpdate();try{this.divConfigBannerPostFooterLabel.FHTML.Clear(),this.divConfigBannerPostFooterLabel.FHTML.Add("Post Footer")}finally{this.divConfigBannerPostFooterLabel.FHTML.EndUpdate()}this.divConfigBannerPostFooterLabel.SetRole(""),this.edtConfigBannerPostFooter.SetParentComponent(this.divConfigBannerPostFooter),this.edtConfigBannerPostFooter.SetName("edtConfigBannerPostFooter"),this.edtConfigBannerPostFooter.SetAlignWithMargins(!0),this.edtConfigBannerPostFooter.SetLeft(102),this.edtConfigBannerPostFooter.SetTop(2),this.edtConfigBannerPostFooter.SetWidth(373),this.edtConfigBannerPostFooter.SetHeight(28),this.edtConfigBannerPostFooter.FMargins.SetLeft(2),this.edtConfigBannerPostFooter.FMargins.SetTop(2),this.edtConfigBannerPostFooter.FMargins.SetRight(2),this.edtConfigBannerPostFooter.FMargins.SetBottom(2),this.edtConfigBannerPostFooter.SetAlign(5),this.edtConfigBannerPostFooter.SetChildOrderEx(1),this.edtConfigBannerPostFooter.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigBannerPostFooter.SetElementFont(1),this.edtConfigBannerPostFooter.SetHeightPercent(100),this.edtConfigBannerPostFooter.SetTabOrder(171),this.edtConfigBannerPostFooter.SetWidthPercent(100),this.SetEvent$1(this.edtConfigBannerPostFooter,this,"OnChange","SurveyChanged"),this.divConfigBannerPostContentHolder.SetParentComponent(this.scrollConfigBannerPost),this.divConfigBannerPostContentHolder.SetName("divConfigBannerPostContentHolder"),this.divConfigBannerPostContentHolder.SetAlignWithMargins(!0),this.divConfigBannerPostContentHolder.SetLeft(4),this.divConfigBannerPostContentHolder.SetTop(76),this.divConfigBannerPostContentHolder.SetWidth(477),this.divConfigBannerPostContentHolder.SetHeight(293),this.divConfigBannerPostContentHolder.FMargins.SetLeft(4),this.divConfigBannerPostContentHolder.FMargins.SetTop(2),this.divConfigBannerPostContentHolder.FMargins.SetRight(4),this.divConfigBannerPostContentHolder.FMargins.SetBottom(4),this.divConfigBannerPostContentHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigBannerPostContentHolder.SetAlign(5),this.divConfigBannerPostContentHolder.SetChildOrderEx(2),this.divConfigBannerPostContentHolder.SetElementFont(1),this.divConfigBannerPostContentHolder.SetRole(""),this.divConfigBannerPostContentHeader.SetParentComponent(this.divConfigBannerPostContentHolder),this.divConfigBannerPostContentHeader.SetName("divConfigBannerPostContentHeader"),this.divConfigBannerPostContentHeader.SetLeft(0),this.divConfigBannerPostContentHeader.SetTop(0),this.divConfigBannerPostContentHeader.SetWidth(477),this.divConfigBannerPostContentHeader.SetHeight(50),this.divConfigBannerPostContentHeader.SetElementClassName("sun-editor"),this.divConfigBannerPostContentHeader.SetHeightStyle(2),this.divConfigBannerPostContentHeader.SetWidthStyle(0),this.divConfigBannerPostContentHeader.SetAlign(1),this.divConfigBannerPostContentHeader.SetElementFont(1),this.divConfigBannerPostContentHeader.SetRole(""),this.divConfigBannerPostContentFooter.SetParentComponent(this.divConfigBannerPostContentHolder),this.divConfigBannerPostContentFooter.SetName("divConfigBannerPostContentFooter"),this.divConfigBannerPostContentFooter.SetLeft(0),this.divConfigBannerPostContentFooter.SetTop(275),this.divConfigBannerPostContentFooter.SetWidth(477),this.divConfigBannerPostContentFooter.SetHeight(18),this.divConfigBannerPostContentFooter.SetElementClassName("sun-editor d-flex overflow-hidden"),this.divConfigBannerPostContentFooter.SetWidthStyle(0),this.divConfigBannerPostContentFooter.SetAlign(2),this.divConfigBannerPostContentFooter.SetChildOrderEx(1),this.divConfigBannerPostContentFooter.SetElementFont(1),this.divConfigBannerPostContentFooter.SetRole(""),this.divConfigBannerPostContent.SetParentComponent(this.divConfigBannerPostContentHolder),this.divConfigBannerPostContent.SetName("divConfigBannerPostContent"),this.divConfigBannerPostContent.SetAlignWithMargins(!0),this.divConfigBannerPostContent.SetLeft(0),this.divConfigBannerPostContent.SetTop(50),this.divConfigBannerPostContent.SetWidth(477),this.divConfigBannerPostContent.SetHeight(224),this.divConfigBannerPostContent.FMargins.SetLeft(0),this.divConfigBannerPostContent.FMargins.SetTop(0),this.divConfigBannerPostContent.FMargins.SetRight(0),this.divConfigBannerPostContent.FMargins.SetBottom(1),this.divConfigBannerPostContent.SetAlign(5),this.divConfigBannerPostContent.SetChildOrderEx(2),this.divConfigBannerPostContent.SetElementFont(1),this.divConfigBannerPostContent.FHTML.BeginUpdate();try{this.divConfigBannerPostContent.FHTML.Clear(),this.divConfigBannerPostContent.FHTML.Add('<textarea id="divConfigBannerPostContentText">')}finally{this.divConfigBannerPostContent.FHTML.EndUpdate()}this.divConfigBannerPostContent.SetRole(""),this.pageAbout.SetParentComponent(this.pagecontrolSurveysConfig),this.pageAbout.SetName("pageAbout"),this.pageAbout.SetAlignWithMargins(!0),this.pageAbout.SetLeft(0),this.pageAbout.SetTop(20),this.pageAbout.SetWidth(485),this.pageAbout.SetHeight(373),this.pageAbout.FMargins.SetLeft(4),this.pageAbout.FMargins.SetTop(4),this.pageAbout.FMargins.SetRight(4),this.pageAbout.FMargins.SetBottom(4),this.pageAbout.SetElementClassName("rounded border border-dark  bg-info"),this.pageAbout.SetCaption("Abt"),this.pageAbout.SetChildOrderEx(7),this.pageAbout.SetElementFont(1),this.scrollConfigAbout.SetParentComponent(this.pageAbout),this.scrollConfigAbout.SetName("scrollConfigAbout"),this.scrollConfigAbout.SetLeft(0),this.scrollConfigAbout.SetTop(0),this.scrollConfigAbout.SetWidth(485),this.scrollConfigAbout.SetHeight(373),this.scrollConfigAbout.SetElementClassName("rounded "),this.scrollConfigAbout.SetAlign(5),this.scrollConfigAbout.SetBorderStyle(0),this.scrollConfigAbout.SetColor(16711422),this.divConfigAboutTitle.SetParentComponent(this.scrollConfigAbout),this.divConfigAboutTitle.SetName("divConfigAboutTitle"),this.divConfigAboutTitle.SetAlignWithMargins(!0),this.divConfigAboutTitle.SetLeft(4),this.divConfigAboutTitle.SetTop(4),this.divConfigAboutTitle.SetWidth(477),this.divConfigAboutTitle.SetHeight(32),this.divConfigAboutTitle.FMargins.SetLeft(4),this.divConfigAboutTitle.FMargins.SetTop(4),this.divConfigAboutTitle.FMargins.SetRight(4),this.divConfigAboutTitle.FMargins.SetBottom(2),this.divConfigAboutTitle.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigAboutTitle.SetAlign(1),this.divConfigAboutTitle.SetChildOrderEx(2),this.divConfigAboutTitle.SetElementFont(1),this.divConfigAboutTitle.SetRole(""),this.divConfigAboutTitleLabel.SetParentComponent(this.divConfigAboutTitle),this.divConfigAboutTitleLabel.SetName("divConfigAboutTitleLabel"),this.divConfigAboutTitleLabel.SetLeft(0),this.divConfigAboutTitleLabel.SetTop(0),this.divConfigAboutTitleLabel.SetWidth(100),this.divConfigAboutTitleLabel.SetHeight(32),this.divConfigAboutTitleLabel.SetElementClassName("ConfigLabel"),this.divConfigAboutTitleLabel.SetAlign(3),this.divConfigAboutTitleLabel.SetElementFont(1),this.divConfigAboutTitleLabel.FHTML.BeginUpdate();try{this.divConfigAboutTitleLabel.FHTML.Clear(),this.divConfigAboutTitleLabel.FHTML.Add("About Title")}finally{this.divConfigAboutTitleLabel.FHTML.EndUpdate()}this.divConfigAboutTitleLabel.SetRole(""),this.edtConfigAboutTitle.SetParentComponent(this.divConfigAboutTitle),this.edtConfigAboutTitle.SetName("edtConfigAboutTitle"),this.edtConfigAboutTitle.SetAlignWithMargins(!0),this.edtConfigAboutTitle.SetLeft(102),this.edtConfigAboutTitle.SetTop(2),this.edtConfigAboutTitle.SetWidth(373),this.edtConfigAboutTitle.SetHeight(28),this.edtConfigAboutTitle.FMargins.SetLeft(2),this.edtConfigAboutTitle.FMargins.SetTop(2),this.edtConfigAboutTitle.FMargins.SetRight(2),this.edtConfigAboutTitle.FMargins.SetBottom(2),this.edtConfigAboutTitle.SetAlign(5),this.edtConfigAboutTitle.SetChildOrderEx(1),this.edtConfigAboutTitle.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigAboutTitle.SetElementFont(1),this.edtConfigAboutTitle.SetHeightPercent(100),this.edtConfigAboutTitle.SetTabOrder(180),this.edtConfigAboutTitle.SetWidthPercent(100),this.SetEvent$1(this.edtConfigAboutTitle,this,"OnChange","SurveyChanged"),this.divConfigAboutContentHolder.SetParentComponent(this.scrollConfigAbout),this.divConfigAboutContentHolder.SetName("divConfigAboutContentHolder"),this.divConfigAboutContentHolder.SetAlignWithMargins(!0),this.divConfigAboutContentHolder.SetLeft(4),this.divConfigAboutContentHolder.SetTop(40),this.divConfigAboutContentHolder.SetWidth(477),this.divConfigAboutContentHolder.SetHeight(329),this.divConfigAboutContentHolder.FMargins.SetLeft(4),this.divConfigAboutContentHolder.FMargins.SetTop(2),this.divConfigAboutContentHolder.FMargins.SetRight(4),this.divConfigAboutContentHolder.FMargins.SetBottom(4),this.divConfigAboutContentHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigAboutContentHolder.SetAlign(5),this.divConfigAboutContentHolder.SetChildOrderEx(2),this.divConfigAboutContentHolder.SetElementFont(1),this.divConfigAboutContentHolder.SetRole(""),this.divConfigAboutContentHeader.SetParentComponent(this.divConfigAboutContentHolder),this.divConfigAboutContentHeader.SetName("divConfigAboutContentHeader"),this.divConfigAboutContentHeader.SetLeft(0),this.divConfigAboutContentHeader.SetTop(0),this.divConfigAboutContentHeader.SetWidth(477),this.divConfigAboutContentHeader.SetHeight(50),this.divConfigAboutContentHeader.SetElementClassName("sun-editor"),this.divConfigAboutContentHeader.SetHeightStyle(2),this.divConfigAboutContentHeader.SetWidthStyle(0),this.divConfigAboutContentHeader.SetAlign(1),this.divConfigAboutContentHeader.SetElementFont(1),this.divConfigAboutContentHeader.SetRole(""),this.divConfigAboutContentFooter.SetParentComponent(this.divConfigAboutContentHolder),this.divConfigAboutContentFooter.SetName("divConfigAboutContentFooter"),this.divConfigAboutContentFooter.SetLeft(0),this.divConfigAboutContentFooter.SetTop(311),this.divConfigAboutContentFooter.SetWidth(477),this.divConfigAboutContentFooter.SetHeight(18),this.divConfigAboutContentFooter.SetElementClassName("sun-editor d-flex overflow-hidden"),this.divConfigAboutContentFooter.SetWidthStyle(0),this.divConfigAboutContentFooter.SetAlign(2),this.divConfigAboutContentFooter.SetChildOrderEx(1),this.divConfigAboutContentFooter.SetElementFont(1),this.divConfigAboutContentFooter.SetRole(""),this.divConfigAboutContent.SetParentComponent(this.divConfigAboutContentHolder),this.divConfigAboutContent.SetName("divConfigAboutContent"),this.divConfigAboutContent.SetAlignWithMargins(!0),this.divConfigAboutContent.SetLeft(0),this.divConfigAboutContent.SetTop(50),this.divConfigAboutContent.SetWidth(477),this.divConfigAboutContent.SetHeight(260),this.divConfigAboutContent.FMargins.SetLeft(0),this.divConfigAboutContent.FMargins.SetTop(0),this.divConfigAboutContent.FMargins.SetRight(0),this.divConfigAboutContent.FMargins.SetBottom(1),this.divConfigAboutContent.SetAlign(5),this.divConfigAboutContent.SetChildOrderEx(2),this.divConfigAboutContent.SetElementFont(1),this.divConfigAboutContent.FHTML.BeginUpdate();try{this.divConfigAboutContent.FHTML.Clear(),this.divConfigAboutContent.FHTML.Add('<textarea id="divConfigAboutContentText">')}finally{this.divConfigAboutContent.FHTML.EndUpdate()}this.divConfigAboutContent.SetRole(""),this.pageFeedback.SetParentComponent(this.pagecontrolSurveysConfig),this.pageFeedback.SetName("pageFeedback"),this.pageFeedback.SetAlignWithMargins(!0),this.pageFeedback.SetLeft(0),this.pageFeedback.SetTop(20),this.pageFeedback.SetWidth(485),this.pageFeedback.SetHeight(373),this.pageFeedback.FMargins.SetLeft(4),this.pageFeedback.FMargins.SetTop(4),this.pageFeedback.FMargins.SetRight(4),this.pageFeedback.FMargins.SetBottom(4),this.pageFeedback.SetElementClassName("rounded border border-dark  bg-info"),this.pageFeedback.SetCaption("Fb"),this.pageFeedback.SetChildOrderEx(8),this.pageFeedback.SetElementFont(1),this.scrollConfigFeedback.SetParentComponent(this.pageFeedback),this.scrollConfigFeedback.SetName("scrollConfigFeedback"),this.scrollConfigFeedback.SetLeft(0),this.scrollConfigFeedback.SetTop(0),this.scrollConfigFeedback.SetWidth(485),this.scrollConfigFeedback.SetHeight(373),this.scrollConfigFeedback.SetElementClassName("rounded "),this.scrollConfigFeedback.SetAlign(5),this.scrollConfigFeedback.SetBorderStyle(0),this.scrollConfigFeedback.SetColor(16711422),this.divConfigFeedbackTitle.SetParentComponent(this.scrollConfigFeedback),this.divConfigFeedbackTitle.SetName("divConfigFeedbackTitle"),this.divConfigFeedbackTitle.SetAlignWithMargins(!0),this.divConfigFeedbackTitle.SetLeft(4),this.divConfigFeedbackTitle.SetTop(4),this.divConfigFeedbackTitle.SetWidth(477),this.divConfigFeedbackTitle.SetHeight(32),this.divConfigFeedbackTitle.FMargins.SetLeft(4),this.divConfigFeedbackTitle.FMargins.SetTop(4),this.divConfigFeedbackTitle.FMargins.SetRight(4),this.divConfigFeedbackTitle.FMargins.SetBottom(2),this.divConfigFeedbackTitle.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigFeedbackTitle.SetAlign(1),this.divConfigFeedbackTitle.SetChildOrderEx(2),this.divConfigFeedbackTitle.SetElementFont(1),this.divConfigFeedbackTitle.SetRole(""),this.divConfigFeedbackTitleLabel.SetParentComponent(this.divConfigFeedbackTitle),this.divConfigFeedbackTitleLabel.SetName("divConfigFeedbackTitleLabel"),this.divConfigFeedbackTitleLabel.SetLeft(0),this.divConfigFeedbackTitleLabel.SetTop(0),this.divConfigFeedbackTitleLabel.SetWidth(100),this.divConfigFeedbackTitleLabel.SetHeight(32),this.divConfigFeedbackTitleLabel.SetElementClassName("ConfigLabel"),this.divConfigFeedbackTitleLabel.SetAlign(3),this.divConfigFeedbackTitleLabel.SetElementFont(1),this.divConfigFeedbackTitleLabel.FHTML.BeginUpdate();try{this.divConfigFeedbackTitleLabel.FHTML.Clear(),this.divConfigFeedbackTitleLabel.FHTML.Add("Feedback Title")}finally{this.divConfigFeedbackTitleLabel.FHTML.EndUpdate()}this.divConfigFeedbackTitleLabel.SetRole(""),this.edtConfigFeedbackTitle.SetParentComponent(this.divConfigFeedbackTitle),this.edtConfigFeedbackTitle.SetName("edtConfigFeedbackTitle"),this.edtConfigFeedbackTitle.SetAlignWithMargins(!0),this.edtConfigFeedbackTitle.SetLeft(102),this.edtConfigFeedbackTitle.SetTop(2),this.edtConfigFeedbackTitle.SetWidth(373),this.edtConfigFeedbackTitle.SetHeight(28),this.edtConfigFeedbackTitle.FMargins.SetLeft(2),this.edtConfigFeedbackTitle.FMargins.SetTop(2),this.edtConfigFeedbackTitle.FMargins.SetRight(2),this.edtConfigFeedbackTitle.FMargins.SetBottom(2),this.edtConfigFeedbackTitle.SetAlign(5),this.edtConfigFeedbackTitle.SetChildOrderEx(1),this.edtConfigFeedbackTitle.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtConfigFeedbackTitle.SetElementFont(1),this.edtConfigFeedbackTitle.SetHeightPercent(100),this.edtConfigFeedbackTitle.SetTabOrder(190),this.edtConfigFeedbackTitle.SetWidthPercent(100),this.SetEvent$1(this.edtConfigFeedbackTitle,this,"OnChange","SurveyChanged"),this.divConfigFeedbackContentHolder.SetParentComponent(this.scrollConfigFeedback),this.divConfigFeedbackContentHolder.SetName("divConfigFeedbackContentHolder"),this.divConfigFeedbackContentHolder.SetAlignWithMargins(!0),this.divConfigFeedbackContentHolder.SetLeft(4),this.divConfigFeedbackContentHolder.SetTop(40),this.divConfigFeedbackContentHolder.SetWidth(477),this.divConfigFeedbackContentHolder.SetHeight(329),this.divConfigFeedbackContentHolder.FMargins.SetLeft(4),this.divConfigFeedbackContentHolder.FMargins.SetTop(2),this.divConfigFeedbackContentHolder.FMargins.SetRight(4),this.divConfigFeedbackContentHolder.FMargins.SetBottom(4),this.divConfigFeedbackContentHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divConfigFeedbackContentHolder.SetAlign(5),this.divConfigFeedbackContentHolder.SetChildOrderEx(2),this.divConfigFeedbackContentHolder.SetElementFont(1),this.divConfigFeedbackContentHolder.SetRole(""),this.divConfigFeedbackContentHeader.SetParentComponent(this.divConfigFeedbackContentHolder),this.divConfigFeedbackContentHeader.SetName("divConfigFeedbackContentHeader"),this.divConfigFeedbackContentHeader.SetLeft(0),this.divConfigFeedbackContentHeader.SetTop(0),this.divConfigFeedbackContentHeader.SetWidth(477),this.divConfigFeedbackContentHeader.SetHeight(50),this.divConfigFeedbackContentHeader.SetElementClassName("sun-editor"),this.divConfigFeedbackContentHeader.SetHeightStyle(2),this.divConfigFeedbackContentHeader.SetWidthStyle(0),this.divConfigFeedbackContentHeader.SetAlign(1),this.divConfigFeedbackContentHeader.SetElementFont(1),this.divConfigFeedbackContentHeader.SetRole(""),this.divConfigFeedbackContentFooter.SetParentComponent(this.divConfigFeedbackContentHolder),this.divConfigFeedbackContentFooter.SetName("divConfigFeedbackContentFooter"),this.divConfigFeedbackContentFooter.SetLeft(0),this.divConfigFeedbackContentFooter.SetTop(311),this.divConfigFeedbackContentFooter.SetWidth(477),this.divConfigFeedbackContentFooter.SetHeight(18),this.divConfigFeedbackContentFooter.SetElementClassName("sun-editor d-flex overflow-hidden"),this.divConfigFeedbackContentFooter.SetWidthStyle(0),this.divConfigFeedbackContentFooter.SetAlign(2),this.divConfigFeedbackContentFooter.SetChildOrderEx(1),this.divConfigFeedbackContentFooter.SetElementFont(1),this.divConfigFeedbackContentFooter.SetRole(""),this.divConfigFeedbackContent.SetParentComponent(this.divConfigFeedbackContentHolder),this.divConfigFeedbackContent.SetName("divConfigFeedbackContent"),this.divConfigFeedbackContent.SetAlignWithMargins(!0),this.divConfigFeedbackContent.SetLeft(0),this.divConfigFeedbackContent.SetTop(50),this.divConfigFeedbackContent.SetWidth(477),this.divConfigFeedbackContent.SetHeight(260),this.divConfigFeedbackContent.FMargins.SetLeft(0),this.divConfigFeedbackContent.FMargins.SetTop(0),this.divConfigFeedbackContent.FMargins.SetRight(0),this.divConfigFeedbackContent.FMargins.SetBottom(1),this.divConfigFeedbackContent.SetAlign(5),this.divConfigFeedbackContent.SetChildOrderEx(2),this.divConfigFeedbackContent.SetElementFont(1),this.divConfigFeedbackContent.FHTML.BeginUpdate();try{this.divConfigFeedbackContent.FHTML.Clear(),this.divConfigFeedbackContent.FHTML.Add('<textarea id="divConfigFeedbackContentText">')}finally{this.divConfigFeedbackContent.FHTML.EndUpdate()}this.divConfigFeedbackContent.SetRole(""),this.pageChangeHistory.SetParentComponent(this.pagecontrolSurveysConfig),this.pageChangeHistory.SetName("pageChangeHistory"),this.pageChangeHistory.SetLeft(0),this.pageChangeHistory.SetTop(20),this.pageChangeHistory.SetWidth(485),this.pageChangeHistory.SetHeight(373),this.pageChangeHistory.SetElementClassName("border border-0"),this.pageChangeHistory.SetCaption("Chg"),this.pageChangeHistory.SetChildOrderEx(2),this.pageChangeHistory.SetElementFont(1),this.divChangeHistoryHolder.SetParentComponent(this.pageChangeHistory),this.divChangeHistoryHolder.SetName("divChangeHistoryHolder"),this.divChangeHistoryHolder.SetAlignWithMargins(!0),this.divChangeHistoryHolder.SetLeft(0),this.divChangeHistoryHolder.SetTop(0),this.divChangeHistoryHolder.SetWidth(485),this.divChangeHistoryHolder.SetHeight(373),this.divChangeHistoryHolder.FMargins.SetLeft(0),this.divChangeHistoryHolder.FMargins.SetTop(0),this.divChangeHistoryHolder.FMargins.SetRight(0),this.divChangeHistoryHolder.FMargins.SetBottom(0),this.divChangeHistoryHolder.SetElementClassName("overflow-hidden rounded border border-dark  bg-white"),this.divChangeHistoryHolder.SetAlign(5),this.divChangeHistoryHolder.SetElementFont(1),this.divChangeHistoryHolder.SetRole(""),this.divChangeHistoryButtons.SetParentComponent(this.divChangeHistoryHolder),this.divChangeHistoryButtons.SetName("divChangeHistoryButtons"),this.divChangeHistoryButtons.SetAlignWithMargins(!0),this.divChangeHistoryButtons.SetLeft(4),this.divChangeHistoryButtons.SetTop(0),this.divChangeHistoryButtons.SetWidth(479),this.divChangeHistoryButtons.SetHeight(32),this.divChangeHistoryButtons.FMargins.SetLeft(4),this.divChangeHistoryButtons.FMargins.SetTop(0),this.divChangeHistoryButtons.FMargins.SetRight(2),this.divChangeHistoryButtons.FMargins.SetBottom(0),this.divChangeHistoryButtons.SetElementClassName("d-flex align-items-center "),this.divChangeHistoryButtons.SetAlign(1),this.divChangeHistoryButtons.SetElementFont(1),this.divChangeHistoryButtons.SetRole(""),this.btnChangeHistoryReload.SetParentComponent(this.divChangeHistoryButtons),this.btnChangeHistoryReload.SetName("btnChangeHistoryReload"),this.btnChangeHistoryReload.FTag$1=1,this.btnChangeHistoryReload.SetAlignWithMargins(!0),this.btnChangeHistoryReload.SetLeft(0),this.btnChangeHistoryReload.SetTop(3),this.btnChangeHistoryReload.SetWidth(50),this.btnChangeHistoryReload.SetHeight(24),this.btnChangeHistoryReload.FMargins.SetLeft(0),this.btnChangeHistoryReload.FMargins.SetTop(0),this.btnChangeHistoryReload.FMargins.SetRight(0),this.btnChangeHistoryReload.FMargins.SetBottom(0),this.btnChangeHistoryReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnChangeHistoryReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnChangeHistoryReload.SetElementFont(1),this.btnChangeHistoryReload.SetElementPosition(1),this.btnChangeHistoryReload.SetHeightPercent(100),this.btnChangeHistoryReload.SetWidthStyle(2),this.btnChangeHistoryReload.SetWidthPercent(100),this.SetEvent$1(this.btnChangeHistoryReload,this,"OnClick","btnChangeHistoryReloadClick"),this.btnChangeHistoryPrint.SetParentComponent(this.divChangeHistoryButtons),this.btnChangeHistoryPrint.SetName("btnChangeHistoryPrint"),this.btnChangeHistoryPrint.FTag$1=1,this.btnChangeHistoryPrint.SetAlignWithMargins(!0),this.btnChangeHistoryPrint.SetLeft(50),this.btnChangeHistoryPrint.SetTop(3),this.btnChangeHistoryPrint.SetWidth(50),this.btnChangeHistoryPrint.SetHeight(24),this.btnChangeHistoryPrint.FMargins.SetLeft(0),this.btnChangeHistoryPrint.FMargins.SetTop(0),this.btnChangeHistoryPrint.FMargins.SetRight(0),this.btnChangeHistoryPrint.FMargins.SetBottom(0),this.btnChangeHistoryPrint.SetCaption('<i class="fa-solid fa-print me-1"></i> Print'),this.btnChangeHistoryPrint.SetChildOrderEx(2),this.btnChangeHistoryPrint.SetElementClassName("ShortButton btn btn-dark btn-sm"),this.btnChangeHistoryPrint.SetElementFont(1),this.btnChangeHistoryPrint.SetElementPosition(1),this.btnChangeHistoryPrint.SetHeightPercent(100),this.btnChangeHistoryPrint.SetTabOrder(131),this.btnChangeHistoryPrint.SetWidthStyle(2),this.btnChangeHistoryPrint.SetWidthPercent(100),this.SetEvent$1(this.btnChangeHistoryPrint,this,"OnClick","btnChangeHistoryPrintClick"),this.divChangeHistory.SetParentComponent(this.divChangeHistoryHolder),this.divChangeHistory.SetName("divChangeHistory"),this.divChangeHistory.SetAlignWithMargins(!0),this.divChangeHistory.SetLeft(0),this.divChangeHistory.SetTop(32),this.divChangeHistory.SetWidth(485),this.divChangeHistory.SetHeight(341),this.divChangeHistory.FMargins.SetLeft(0),this.divChangeHistory.FMargins.SetTop(0),this.divChangeHistory.FMargins.SetRight(0),this.divChangeHistory.FMargins.SetBottom(0),this.divChangeHistory.SetElementClassName("overflow-hidden border border-0"),this.divChangeHistory.SetAlign(5),this.divChangeHistory.SetChildOrderEx(1),this.divChangeHistory.SetElementFont(1),this.divChangeHistory.SetRole(""),this.pageQRCode.SetParentComponent(this.pagecontrolSurveysConfig),this.pageQRCode.SetName("pageQRCode"),this.pageQRCode.SetAlignWithMargins(!0),this.pageQRCode.SetLeft(0),this.pageQRCode.SetTop(20),this.pageQRCode.SetWidth(485),this.pageQRCode.SetHeight(373),this.pageQRCode.FMargins.SetLeft(4),this.pageQRCode.FMargins.SetTop(0),this.pageQRCode.FMargins.SetRight(4),this.pageQRCode.FMargins.SetBottom(5),this.pageQRCode.SetElementClassName("rounded border border-dark  bg-info"),this.pageQRCode.SetCaption("QRCode"),this.pageQRCode.SetChildOrderEx(10),this.pageQRCode.SetElementFont(1),this.pageQRCode.SetMaterialGlyphColor(0),this.divQRCodeHolder.SetParentComponent(this.pageQRCode),this.divQRCodeHolder.SetName("divQRCodeHolder"),this.divQRCodeHolder.SetAlignWithMargins(!0),this.divQRCodeHolder.SetLeft(4),this.divQRCodeHolder.SetTop(4),this.divQRCodeHolder.SetWidth(477),this.divQRCodeHolder.SetHeight(365),this.divQRCodeHolder.FMargins.SetLeft(4),this.divQRCodeHolder.FMargins.SetTop(4),this.divQRCodeHolder.FMargins.SetRight(4),this.divQRCodeHolder.FMargins.SetBottom(4),this.divQRCodeHolder.SetElementClassName("rounded border border-dark bg-white"),this.divQRCodeHolder.SetAlign(5),this.divQRCodeHolder.SetElementFont(1),this.divQRCodeHolder.SetRole(""),this.divQRCodeConstraints.SetParentComponent(this.divQRCodeHolder),this.divQRCodeConstraints.SetName("divQRCodeConstraints"),this.divQRCodeConstraints.SetAlignWithMargins(!0),this.divQRCodeConstraints.SetLeft(0),this.divQRCodeConstraints.SetTop(0),this.divQRCodeConstraints.SetWidth(308),this.divQRCodeConstraints.SetHeight(365),this.divQRCodeConstraints.FMargins.SetLeft(0),this.divQRCodeConstraints.FMargins.SetTop(0),this.divQRCodeConstraints.FMargins.SetRight(0),this.divQRCodeConstraints.FMargins.SetBottom(0),this.divQRCodeConstraints.SetChildOrderEx(1),this.divQRCodeConstraints.SetElementFont(1),this.divQRCodeConstraints.SetRole(""),this.qrcode.SetParentComponent(this.divQRCodeConstraints),this.qrcode.SetName("qrcode"),this.qrcode.SetAlignWithMargins(!0),this.qrcode.SetLeft(20),this.qrcode.SetTop(20),this.qrcode.SetWidth(268),this.qrcode.SetHeight(325),this.qrcode.FMargins.SetLeft(20),this.qrcode.FMargins.SetTop(20),this.qrcode.FMargins.SetRight(20),this.qrcode.FMargins.SetBottom(20),this.qrcode.SetAlign(5),this.qrcode.FParentDoubleBuffered=!1,this.qrcode.FDoubleBuffered=!0,this.qrcode.FParentShowHint=!1,this.qrcode.SetShowHint(!1),this.qrcode.SetTabOrder(0),this.qrcode.SetShowAcceleratorChar(!1),this.qrcode.SetText("123456"),this.qrcode.FSettings.SetColorDark(128),this.qrcode.FSettings.FPositionColor.SetTopLeftInnerColor(128),this.qrcode.FSettings.FPositionColor.SetTopRightInnerColor(128),this.qrcode.FSettings.FPositionColor.SetBottomRightInnerColor(128),this.qrcode.FSettings.SetTimingHorizontalColor(128),this.qrcode.FSettings.SetTimingVerticalColor(128),this.qrcode.FSettings.FTitleFont.FCharset=1,this.qrcode.FSettings.FTitleFont.SetColor(65793),this.qrcode.FSettings.FTitleFont.SetHeight(-11),this.qrcode.FSettings.FTitleFont.SetName("Tahoma"),this.qrcode.FSettings.FTitleFont.SetStyle({}),this.qrcode.FSettings.FSubTitleFont.FCharset=1,this.qrcode.FSettings.FSubTitleFont.SetColor(65793),this.qrcode.FSettings.FSubTitleFont.SetHeight(-11),this.qrcode.FSettings.FSubTitleFont.SetName("Tahoma"),this.qrcode.FSettings.FSubTitleFont.SetStyle({}),this.qrcode.FSettings.SetQuietZoneColor(0),this.qrcode.FSettings.SetAutoColorDark(128),this.qrcode.FSettings.SetAutoColorDarkAlpha(.6000000238418579),this.qrcode.FSettings.SetAutoColorLightAlpha(.699999988079071),this.pageQuestion.SetParentComponent(this.pageControlSurveys),this.pageQuestion.SetName("pageQuestion"),this.pageQuestion.SetAlignWithMargins(!0),this.pageQuestion.SetLeft(0),this.pageQuestion.SetTop(20),this.pageQuestion.SetWidth(676),this.pageQuestion.SetHeight(398),this.pageQuestion.FMargins.SetLeft(0),this.pageQuestion.FMargins.SetTop(0),this.pageQuestion.FMargins.SetRight(0),this.pageQuestion.SetElementClassName("bg-light"),this.pageQuestion.SetCaption("Questions"),this.pageQuestion.SetChildOrderEx(1),this.pageQuestion.SetElementFont(1),this.divQuestionsHolder.SetParentComponent(this.pageQuestion),this.divQuestionsHolder.SetName("divQuestionsHolder"),this.divQuestionsHolder.SetAlignWithMargins(!0),this.divQuestionsHolder.SetLeft(4),this.divQuestionsHolder.SetTop(0),this.divQuestionsHolder.SetWidth(250),this.divQuestionsHolder.SetHeight(394),this.divQuestionsHolder.FMargins.SetLeft(4),this.divQuestionsHolder.FMargins.SetTop(0),this.divQuestionsHolder.FMargins.SetRight(4),this.divQuestionsHolder.FMargins.SetBottom(4),this.divQuestionsHolder.SetElementClassName("overflow-hidden rounded border border-dark  bg-white"),this.divQuestionsHolder.SetAlign(3),this.divQuestionsHolder.SetChildOrderEx(1),this.divQuestionsHolder.SetElementFont(1),this.divQuestionsHolder.SetRole(""),this.divQuestionsButtons.SetParentComponent(this.divQuestionsHolder),this.divQuestionsButtons.SetName("divQuestionsButtons"),this.divQuestionsButtons.SetAlignWithMargins(!0),this.divQuestionsButtons.SetLeft(4),this.divQuestionsButtons.SetTop(0),this.divQuestionsButtons.SetWidth(244),this.divQuestionsButtons.SetHeight(32),this.divQuestionsButtons.FMargins.SetLeft(4),this.divQuestionsButtons.FMargins.SetTop(0),this.divQuestionsButtons.FMargins.SetRight(2),this.divQuestionsButtons.FMargins.SetBottom(0),this.divQuestionsButtons.SetElementClassName("d-flex align-items-center justify-content-stretch"),this.divQuestionsButtons.SetAlign(1),this.divQuestionsButtons.SetElementFont(1),this.divQuestionsButtons.SetRole(""),this.btnQuestionsNew.SetParentComponent(this.divQuestionsButtons),this.btnQuestionsNew.SetName("btnQuestionsNew"),this.btnQuestionsNew.SetAlignWithMargins(!0),this.btnQuestionsNew.SetLeft(3),this.btnQuestionsNew.SetTop(3),this.btnQuestionsNew.SetWidth(50),this.btnQuestionsNew.SetHeight(24),this.btnQuestionsNew.FMargins.SetLeft(0),this.btnQuestionsNew.FMargins.SetTop(0),this.btnQuestionsNew.FMargins.SetRight(1),this.btnQuestionsNew.FMargins.SetBottom(0),this.btnQuestionsNew.SetCaption('<i class="fa-solid fa-plus me-1 "></i> New'),this.btnQuestionsNew.SetChildOrderEx(1),this.btnQuestionsNew.SetElementClassName("ShortButton flex-fill btn btn-primary btn-sm"),this.btnQuestionsNew.SetElementFont(1),this.btnQuestionsNew.SetElementPosition(1),this.btnQuestionsNew.SetHeightPercent(100),this.btnQuestionsNew.SetTabOrder(31),this.btnQuestionsNew.SetWidthStyle(2),this.btnQuestionsNew.SetWidthPercent(100),this.SetEvent$1(this.btnQuestionsNew,this,"OnClick","btnQuestionsNewClick"),this.btnQuestionsDelete.SetParentComponent(this.divQuestionsButtons),this.btnQuestionsDelete.SetName("btnQuestionsDelete"),this.btnQuestionsDelete.FTag$1=1,this.btnQuestionsDelete.SetAlignWithMargins(!0),this.btnQuestionsDelete.SetLeft(53),this.btnQuestionsDelete.SetTop(3),this.btnQuestionsDelete.SetWidth(50),this.btnQuestionsDelete.SetHeight(24),this.btnQuestionsDelete.FMargins.SetLeft(0),this.btnQuestionsDelete.FMargins.SetTop(0),this.btnQuestionsDelete.FMargins.SetRight(1),this.btnQuestionsDelete.FMargins.SetBottom(0),this.btnQuestionsDelete.SetCaption('<i class="fa-solid fa-trash-can me-1"></i>Delete'),this.btnQuestionsDelete.SetChildOrderEx(2),this.btnQuestionsDelete.SetElementClassName("ShortButton flex-fill btn btn-danger btn-sm"),this.btnQuestionsDelete.SetElementFont(1),this.btnQuestionsDelete.SetElementPosition(1),this.btnQuestionsDelete.SetHeightPercent(100),this.btnQuestionsDelete.SetTabOrder(32),this.btnQuestionsDelete.SetWidthStyle(2),this.btnQuestionsDelete.SetWidthPercent(100),this.SetEvent$1(this.btnQuestionsDelete,this,"OnClick","btnQuestionsDeleteClick"),this.btnQuestionsClone.SetParentComponent(this.divQuestionsButtons),this.btnQuestionsClone.SetName("btnQuestionsClone"),this.btnQuestionsClone.FTag$1=2,this.btnQuestionsClone.SetAlignWithMargins(!0),this.btnQuestionsClone.SetLeft(103),this.btnQuestionsClone.SetTop(3),this.btnQuestionsClone.SetWidth(50),this.btnQuestionsClone.SetHeight(24),this.btnQuestionsClone.FMargins.SetLeft(0),this.btnQuestionsClone.FMargins.SetTop(0),this.btnQuestionsClone.FMargins.SetRight(0),this.btnQuestionsClone.FMargins.SetBottom(0),this.btnQuestionsClone.SetCaption('<i class="fa-solid fa-clone me-1"></i> Clone'),this.btnQuestionsClone.SetChildOrderEx(3),this.btnQuestionsClone.SetElementClassName("ShortButton flex-fill  btn btn-success btn-sm"),this.btnQuestionsClone.SetElementFont(1),this.btnQuestionsClone.SetElementPosition(1),this.btnQuestionsClone.SetHeightPercent(100),this.btnQuestionsClone.SetTabOrder(33),this.btnQuestionsClone.SetWidthStyle(2),this.btnQuestionsClone.SetWidthPercent(100),this.SetEvent$1(this.btnQuestionsClone,this,"OnClick","btnSurveyCloneClick"),this.btnQuestionsReload.SetParentComponent(this.divQuestionsButtons),this.btnQuestionsReload.SetName("btnQuestionsReload"),this.btnQuestionsReload.FTag$1=2,this.btnQuestionsReload.SetAlignWithMargins(!0),this.btnQuestionsReload.SetLeft(153),this.btnQuestionsReload.SetTop(4),this.btnQuestionsReload.SetWidth(50),this.btnQuestionsReload.SetHeight(24),this.btnQuestionsReload.FMargins.SetLeft(0),this.btnQuestionsReload.FMargins.SetTop(0),this.btnQuestionsReload.FMargins.SetRight(0),this.btnQuestionsReload.FMargins.SetBottom(0),this.btnQuestionsReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnQuestionsReload.SetElementClassName("ShortButton flex-fill  btn btn-secondary btn-sm"),this.btnQuestionsReload.SetElementFont(1),this.btnQuestionsReload.SetElementPosition(1),this.btnQuestionsReload.SetHeightPercent(100),this.btnQuestionsReload.SetTabOrder(30),this.btnQuestionsReload.SetWidthStyle(2),this.btnQuestionsReload.SetWidthPercent(100),this.SetEvent$1(this.btnQuestionsReload,this,"OnClick","btnQuestionsReloadClick"),this.divQuestions.SetParentComponent(this.divQuestionsHolder),this.divQuestions.SetName("divQuestions"),this.divQuestions.SetLeft(0),this.divQuestions.SetTop(32),this.divQuestions.SetWidth(250),this.divQuestions.SetHeight(362),this.divQuestions.SetElementClassName("overflow-hidden border border-0"),this.divQuestions.SetAlign(5),this.divQuestions.SetChildOrderEx(1),this.divQuestions.SetElementFont(1),this.divQuestions.SetRole(""),this.splitterQuestions.SetParentComponent(this.pageQuestion),this.splitterQuestions.SetName("splitterQuestions"),this.splitterQuestions.SetAlignWithMargins(!0),this.splitterQuestions.SetLeft(258),this.splitterQuestions.SetTop(50),this.splitterQuestions.SetWidth(6),this.splitterQuestions.SetHeight(298),this.splitterQuestions.SetControlCursor(14),this.splitterQuestions.FMargins.SetLeft(0),this.splitterQuestions.FMargins.SetTop(50),this.splitterQuestions.FMargins.SetRight(0),this.splitterQuestions.FMargins.SetBottom(50),this.splitterQuestions.SetElementClassName("rounded"),this.splitterQuestions.SetAlign(3),this.splitterQuestions.SetChildOrderEx(2),this.splitterQuestions.SetColor(8222060),this.splitterQuestions.SetGripColor(8222060),this.SetEvent$1(this.splitterQuestions,this,"OnMove","splitterQuestionsMove"),this.divQuestion.SetParentComponent(this.pageQuestion),this.divQuestion.SetName("divQuestion"),this.divQuestion.SetAlignWithMargins(!0),this.divQuestion.SetLeft(268),this.divQuestion.SetTop(0),this.divQuestion.SetWidth(404),this.divQuestion.SetHeight(394),this.divQuestion.FMargins.SetLeft(4),this.divQuestion.FMargins.SetTop(0),this.divQuestion.FMargins.SetRight(4),this.divQuestion.FMargins.SetBottom(4),this.divQuestion.SetElementClassName("overflow-hidden rounded border border-dark  bg-info"),this.divQuestion.SetAlign(5),this.divQuestion.SetChildOrderEx(2),this.divQuestion.SetElementFont(1),this.divQuestion.SetRole(""),this.divQuestionTypeHolder.SetParentComponent(this.divQuestion),this.divQuestionTypeHolder.SetName("divQuestionTypeHolder"),this.divQuestionTypeHolder.SetAlignWithMargins(!0),this.divQuestionTypeHolder.SetLeft(4),this.divQuestionTypeHolder.SetTop(156),this.divQuestionTypeHolder.SetWidth(396),this.divQuestionTypeHolder.SetHeight(32),this.divQuestionTypeHolder.FMargins.SetLeft(4),this.divQuestionTypeHolder.FMargins.SetTop(4),this.divQuestionTypeHolder.FMargins.SetRight(4),this.divQuestionTypeHolder.FMargins.SetBottom(2),this.divQuestionTypeHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divQuestionTypeHolder.SetAlign(1),this.divQuestionTypeHolder.SetElementFont(1),this.divQuestionTypeHolder.SetRole(""),this.divQuestionType.SetParentComponent(this.divQuestionTypeHolder),this.divQuestionType.SetName("divQuestionType"),this.divQuestionType.SetLeft(0),this.divQuestionType.SetTop(0),this.divQuestionType.SetWidth(100),this.divQuestionType.SetHeight(32),this.divQuestionType.SetElementClassName("ConfigLabel"),this.divQuestionType.SetAlign(3),this.divQuestionType.SetElementFont(1),this.divQuestionType.FHTML.BeginUpdate();try{this.divQuestionType.FHTML.Clear(),this.divQuestionType.FHTML.Add("Type")}finally{this.divQuestionType.FHTML.EndUpdate()}this.divQuestionType.SetRole(""),this.ddQuestionType.SetParentComponent(this.divQuestionTypeHolder),this.ddQuestionType.SetName("ddQuestionType"),this.ddQuestionType.SetAlignWithMargins(!0),this.ddQuestionType.SetLeft(102),this.ddQuestionType.SetTop(2),this.ddQuestionType.SetWidth(292),this.ddQuestionType.SetHeight(28),this.ddQuestionType.SetControlCursor(21),this.ddQuestionType.FMargins.SetLeft(2),this.ddQuestionType.FMargins.SetTop(2),this.ddQuestionType.FMargins.SetRight(2),this.ddQuestionType.FMargins.SetBottom(2),this.ddQuestionType.SetElementClassName("d-flex rounded-1 border border-dark bg-white overflow-hidden"),this.ddQuestionType.SetAlign(5),this.ddQuestionType.FAutoDropDown=!0,this.ddQuestionType.SetChildOrderEx(1),this.ddQuestionType.SetColor(-1),this.ddQuestionType.FControl=this.panelQuestionTypes,this.ddQuestionType.FDropDownColor=-1,this.ddQuestionType.FDropDownHeight=437,this.ddQuestionType.FDropDownShadow=!1,this.ddQuestionType.FDropDownWidth=450,this.ddQuestionType.FElementInputClassName="ddQuestionTypeInput",this.ddQuestionType.SetElementFont(1),this.ddQuestionType.SetParentColor(!1),this.ddQuestionType.SetTabOrder(1),this.ddQuestionType.SetText(""),this.SetEvent$1(this.ddQuestionType,this,"OnDropDown","ddQuestionTypeDropDown"),this.divQuestionNameHolder.SetParentComponent(this.divQuestion),this.divQuestionNameHolder.SetName("divQuestionNameHolder"),this.divQuestionNameHolder.SetAlignWithMargins(!0),this.divQuestionNameHolder.SetLeft(4),this.divQuestionNameHolder.SetTop(42),this.divQuestionNameHolder.SetWidth(396),this.divQuestionNameHolder.SetHeight(32),this.divQuestionNameHolder.FMargins.SetLeft(4),this.divQuestionNameHolder.FMargins.SetTop(4),this.divQuestionNameHolder.FMargins.SetRight(4),this.divQuestionNameHolder.FMargins.SetBottom(2),this.divQuestionNameHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divQuestionNameHolder.SetAlign(1),this.divQuestionNameHolder.SetChildOrderEx(1),this.divQuestionNameHolder.SetElementFont(1),this.divQuestionNameHolder.SetRole(""),this.divQuestionName.SetParentComponent(this.divQuestionNameHolder),this.divQuestionName.SetName("divQuestionName"),this.divQuestionName.SetLeft(0),this.divQuestionName.SetTop(0),this.divQuestionName.SetWidth(100),this.divQuestionName.SetHeight(32),this.divQuestionName.SetElementClassName("ConfigLabel"),this.divQuestionName.SetAlign(3),this.divQuestionName.SetElementFont(1),this.divQuestionName.FHTML.BeginUpdate();try{this.divQuestionName.FHTML.Clear(),this.divQuestionName.FHTML.Add("Name")}finally{this.divQuestionName.FHTML.EndUpdate()}this.divQuestionName.SetRole(""),this.edtQuestionName.SetParentComponent(this.divQuestionNameHolder),this.edtQuestionName.SetName("edtQuestionName"),this.edtQuestionName.SetAlignWithMargins(!0),this.edtQuestionName.SetLeft(102),this.edtQuestionName.SetTop(2),this.edtQuestionName.SetWidth(292),this.edtQuestionName.SetHeight(28),this.edtQuestionName.FMargins.SetLeft(2),this.edtQuestionName.FMargins.SetTop(2),this.edtQuestionName.FMargins.SetRight(2),this.edtQuestionName.FMargins.SetBottom(2),this.edtQuestionName.SetAlign(5),this.edtQuestionName.SetChildOrderEx(1),this.edtQuestionName.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtQuestionName.SetElementFont(1),this.edtQuestionName.SetHeightPercent(100),this.edtQuestionName.SetSpellCheck(!1),this.edtQuestionName.SetTabOrder(100),this.edtQuestionName.SetWidthPercent(100),this.SetEvent$1(this.edtQuestionName,this,"OnChange","QuestionChanged"),this.divQuestionIDHolder.SetParentComponent(this.divQuestion),this.divQuestionIDHolder.SetName("divQuestionIDHolder"),this.divQuestionIDHolder.SetAlignWithMargins(!0),this.divQuestionIDHolder.SetLeft(4),this.divQuestionIDHolder.SetTop(4),this.divQuestionIDHolder.SetWidth(396),this.divQuestionIDHolder.SetHeight(32),this.divQuestionIDHolder.FMargins.SetLeft(4),this.divQuestionIDHolder.FMargins.SetTop(4),this.divQuestionIDHolder.FMargins.SetRight(4),this.divQuestionIDHolder.FMargins.SetBottom(2),this.divQuestionIDHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divQuestionIDHolder.SetAlign(1),this.divQuestionIDHolder.SetChildOrderEx(2),this.divQuestionIDHolder.SetElementFont(1),this.divQuestionIDHolder.SetRole(""),this.divQuestionID.SetParentComponent(this.divQuestionIDHolder),this.divQuestionID.SetName("divQuestionID"),this.divQuestionID.SetLeft(0),this.divQuestionID.SetTop(0),this.divQuestionID.SetWidth(100),this.divQuestionID.SetHeight(32),this.divQuestionID.SetElementClassName("ConfigLabel"),this.divQuestionID.SetAlign(3),this.divQuestionID.SetElementFont(1),this.divQuestionID.FHTML.BeginUpdate();try{this.divQuestionID.FHTML.Clear(),this.divQuestionID.FHTML.Add("Question ID")}finally{this.divQuestionID.FHTML.EndUpdate()}this.divQuestionID.SetRole(""),this.edtQuestionID.SetParentComponent(this.divQuestionIDHolder),this.edtQuestionID.SetName("edtQuestionID"),this.edtQuestionID.SetAlignWithMargins(!0),this.edtQuestionID.SetLeft(102),this.edtQuestionID.SetTop(2),this.edtQuestionID.SetWidth(292),this.edtQuestionID.SetHeight(28),this.edtQuestionID.FMargins.SetLeft(2),this.edtQuestionID.FMargins.SetTop(2),this.edtQuestionID.FMargins.SetRight(2),this.edtQuestionID.FMargins.SetBottom(2),this.edtQuestionID.SetAlign(5),this.edtQuestionID.SetChildOrderEx(1),this.edtQuestionID.SetElementClassName("rounded-1 ps-2 border border-dark bg-info text-dark"),this.edtQuestionID.SetElementFont(1),this.edtQuestionID.SetHeightPercent(100),this.edtQuestionID.SetReadOnly(!0),this.edtQuestionID.SetSpellCheck(!1),this.edtQuestionID.SetTabOrder(100),this.edtQuestionID.SetWidthPercent(100),this.divQuestionContentHolder.SetParentComponent(this.divQuestion),this.divQuestionContentHolder.SetName("divQuestionContentHolder"),this.divQuestionContentHolder.SetAlignWithMargins(!0),this.divQuestionContentHolder.SetLeft(4),this.divQuestionContentHolder.SetTop(266),this.divQuestionContentHolder.SetWidth(396),this.divQuestionContentHolder.SetHeight(124),this.divQuestionContentHolder.FMargins.SetLeft(4),this.divQuestionContentHolder.FMargins.SetTop(2),this.divQuestionContentHolder.FMargins.SetRight(4),this.divQuestionContentHolder.FMargins.SetBottom(4),this.divQuestionContentHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divQuestionContentHolder.SetAlign(5),this.divQuestionContentHolder.SetChildOrderEx(2),this.divQuestionContentHolder.SetElementFont(1),this.divQuestionContentHolder.SetRole(""),this.divQuestionContentHeader.SetParentComponent(this.divQuestionContentHolder),this.divQuestionContentHeader.SetName("divQuestionContentHeader"),this.divQuestionContentHeader.SetLeft(0),this.divQuestionContentHeader.SetTop(0),this.divQuestionContentHeader.SetWidth(396),this.divQuestionContentHeader.SetHeight(50),this.divQuestionContentHeader.SetElementClassName("sun-editor"),this.divQuestionContentHeader.SetHeightStyle(2),this.divQuestionContentHeader.SetWidthStyle(0),this.divQuestionContentHeader.SetAlign(1),this.divQuestionContentHeader.SetElementFont(1),this.divQuestionContentHeader.SetRole(""),this.divQuestionContentFooter.SetParentComponent(this.divQuestionContentHolder),this.divQuestionContentFooter.SetName("divQuestionContentFooter"),this.divQuestionContentFooter.SetLeft(0),this.divQuestionContentFooter.SetTop(106),this.divQuestionContentFooter.SetWidth(396),this.divQuestionContentFooter.SetHeight(18),this.divQuestionContentFooter.SetElementClassName("sun-editor d-flex overflow-hidden"),this.divQuestionContentFooter.SetWidthStyle(0),this.divQuestionContentFooter.SetAlign(2),this.divQuestionContentFooter.SetChildOrderEx(1),this.divQuestionContentFooter.SetElementFont(1),this.divQuestionContentFooter.SetRole(""),this.divQuestionContent.SetParentComponent(this.divQuestionContentHolder),this.divQuestionContent.SetName("divQuestionContent"),this.divQuestionContent.SetAlignWithMargins(!0),this.divQuestionContent.SetLeft(0),this.divQuestionContent.SetTop(50),this.divQuestionContent.SetWidth(396),this.divQuestionContent.SetHeight(55),this.divQuestionContent.FMargins.SetLeft(0),this.divQuestionContent.FMargins.SetTop(0),this.divQuestionContent.FMargins.SetRight(0),this.divQuestionContent.FMargins.SetBottom(1),this.divQuestionContent.SetAlign(5),this.divQuestionContent.SetChildOrderEx(2),this.divQuestionContent.SetElementFont(1),this.divQuestionContent.FHTML.BeginUpdate();try{this.divQuestionContent.FHTML.Clear(),this.divQuestionContent.FHTML.Add('<textarea id="divQuestionContentText">')}finally{this.divQuestionContent.FHTML.EndUpdate()}this.divQuestionContent.SetRole(""),this.divQuestionOptionsHolder.SetParentComponent(this.divQuestion),this.divQuestionOptionsHolder.SetName("divQuestionOptionsHolder"),this.divQuestionOptionsHolder.SetAlignWithMargins(!0),this.divQuestionOptionsHolder.SetLeft(4),this.divQuestionOptionsHolder.SetTop(194),this.divQuestionOptionsHolder.SetWidth(396),this.divQuestionOptionsHolder.SetHeight(32),this.divQuestionOptionsHolder.FMargins.SetLeft(4),this.divQuestionOptionsHolder.FMargins.SetTop(4),this.divQuestionOptionsHolder.FMargins.SetRight(4),this.divQuestionOptionsHolder.FMargins.SetBottom(2),this.divQuestionOptionsHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divQuestionOptionsHolder.SetAlign(1),this.divQuestionOptionsHolder.SetChildOrderEx(1),this.divQuestionOptionsHolder.SetElementFont(1),this.divQuestionOptionsHolder.SetRole(""),this.divQuestionOptions.SetParentComponent(this.divQuestionOptionsHolder),this.divQuestionOptions.SetName("divQuestionOptions"),this.divQuestionOptions.SetLeft(0),this.divQuestionOptions.SetTop(0),this.divQuestionOptions.SetWidth(100),this.divQuestionOptions.SetHeight(32),this.divQuestionOptions.SetElementClassName("ConfigLabel"),this.divQuestionOptions.SetAlign(3),this.divQuestionOptions.SetElementFont(1),this.divQuestionOptions.FHTML.BeginUpdate();try{this.divQuestionOptions.FHTML.Clear(),this.divQuestionOptions.FHTML.Add("Options")}finally{this.divQuestionOptions.FHTML.EndUpdate()}this.divQuestionOptions.SetRole(""),this.edtQuestionOptions.SetParentComponent(this.divQuestionOptionsHolder),this.edtQuestionOptions.SetName("edtQuestionOptions"),this.edtQuestionOptions.SetAlignWithMargins(!0),this.edtQuestionOptions.SetLeft(102),this.edtQuestionOptions.SetTop(2),this.edtQuestionOptions.SetWidth(292),this.edtQuestionOptions.SetHeight(28),this.edtQuestionOptions.FMargins.SetLeft(2),this.edtQuestionOptions.FMargins.SetTop(2),this.edtQuestionOptions.FMargins.SetRight(2),this.edtQuestionOptions.FMargins.SetBottom(2),this.edtQuestionOptions.SetAlign(5),this.edtQuestionOptions.SetChildOrderEx(1),this.edtQuestionOptions.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtQuestionOptions.SetElementFont(1),this.edtQuestionOptions.SetHeightPercent(100),this.edtQuestionOptions.SetSpellCheck(!1),this.edtQuestionOptions.SetTabOrder(100),this.edtQuestionOptions.SetWidthPercent(100),this.SetEvent$1(this.edtQuestionOptions,this,"OnChange","QuestionChanged"),this.divQuestionOptionsInfo.SetParentComponent(this.divQuestion),this.divQuestionOptionsInfo.SetName("divQuestionOptionsInfo"),this.divQuestionOptionsInfo.SetAlignWithMargins(!0),this.divQuestionOptionsInfo.SetLeft(4),this.divQuestionOptionsInfo.SetTop(230),this.divQuestionOptionsInfo.SetWidth(396),this.divQuestionOptionsInfo.SetHeight(32),this.divQuestionOptionsInfo.FMargins.SetLeft(4),this.divQuestionOptionsInfo.FMargins.SetTop(2),this.divQuestionOptionsInfo.FMargins.SetRight(4),this.divQuestionOptionsInfo.FMargins.SetBottom(2),this.divQuestionOptionsInfo.SetElementClassName("overflow-hidden rounded border border-dark bg-light"),this.divQuestionOptionsInfo.SetHeightStyle(2),this.divQuestionOptionsInfo.SetAlign(1),this.divQuestionOptionsInfo.SetChildOrderEx(1),this.divQuestionOptionsInfo.SetElementFont(1),this.divQuestionOptionsInfo.FHTML.BeginUpdate();try{this.divQuestionOptionsInfo.FHTML.Clear(),this.divQuestionOptionsInfo.FHTML.Add("+Title: Display alternate title<br />"),this.divQuestionOptionsInfo.FHTML.Add("+Footer: Display alternate footer<br />"),this.divQuestionOptionsInfo.FHTML.Add("+Fireworks: Adds a fireworks display to the page<br />")}finally{this.divQuestionOptionsInfo.FHTML.EndUpdate()}this.divQuestionOptionsInfo.SetRole(""),this.divQuestionTitleHolder.SetParentComponent(this.divQuestion),this.divQuestionTitleHolder.SetName("divQuestionTitleHolder"),this.divQuestionTitleHolder.SetAlignWithMargins(!0),this.divQuestionTitleHolder.SetLeft(4),this.divQuestionTitleHolder.SetTop(80),this.divQuestionTitleHolder.SetWidth(396),this.divQuestionTitleHolder.SetHeight(32),this.divQuestionTitleHolder.FMargins.SetLeft(4),this.divQuestionTitleHolder.FMargins.SetTop(4),this.divQuestionTitleHolder.FMargins.SetRight(4),this.divQuestionTitleHolder.FMargins.SetBottom(2),this.divQuestionTitleHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divQuestionTitleHolder.SetAlign(1),this.divQuestionTitleHolder.SetChildOrderEx(1),this.divQuestionTitleHolder.SetElementFont(1),this.divQuestionTitleHolder.SetRole(""),this.divQuestionTitle.SetParentComponent(this.divQuestionTitleHolder),this.divQuestionTitle.SetName("divQuestionTitle"),this.divQuestionTitle.SetLeft(0),this.divQuestionTitle.SetTop(0),this.divQuestionTitle.SetWidth(100),this.divQuestionTitle.SetHeight(32),this.divQuestionTitle.SetElementClassName("ConfigLabel"),this.divQuestionTitle.SetAlign(3),this.divQuestionTitle.SetElementFont(1),this.divQuestionTitle.FHTML.BeginUpdate();try{this.divQuestionTitle.FHTML.Clear(),this.divQuestionTitle.FHTML.Add("Title")}finally{this.divQuestionTitle.FHTML.EndUpdate()}this.divQuestionTitle.SetRole(""),this.edtQuestionTitle.SetParentComponent(this.divQuestionTitleHolder),this.edtQuestionTitle.SetName("edtQuestionTitle"),this.edtQuestionTitle.SetAlignWithMargins(!0),this.edtQuestionTitle.SetLeft(102),this.edtQuestionTitle.SetTop(2),this.edtQuestionTitle.SetWidth(292),this.edtQuestionTitle.SetHeight(28),this.edtQuestionTitle.FMargins.SetLeft(2),this.edtQuestionTitle.FMargins.SetTop(2),this.edtQuestionTitle.FMargins.SetRight(2),this.edtQuestionTitle.FMargins.SetBottom(2),this.edtQuestionTitle.SetAlign(5),this.edtQuestionTitle.SetChildOrderEx(1),this.edtQuestionTitle.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtQuestionTitle.SetElementFont(1),this.edtQuestionTitle.SetHeightPercent(100),this.edtQuestionTitle.SetSpellCheck(!1),this.edtQuestionTitle.SetTabOrder(100),this.edtQuestionTitle.SetWidthPercent(100),this.SetEvent$1(this.edtQuestionTitle,this,"OnChange","QuestionChanged"),this.divQuestionFooterHolder.SetParentComponent(this.divQuestion),this.divQuestionFooterHolder.SetName("divQuestionFooterHolder"),this.divQuestionFooterHolder.SetAlignWithMargins(!0),this.divQuestionFooterHolder.SetLeft(4),this.divQuestionFooterHolder.SetTop(118),this.divQuestionFooterHolder.SetWidth(396),this.divQuestionFooterHolder.SetHeight(32),this.divQuestionFooterHolder.FMargins.SetLeft(4),this.divQuestionFooterHolder.FMargins.SetTop(4),this.divQuestionFooterHolder.FMargins.SetRight(4),this.divQuestionFooterHolder.FMargins.SetBottom(2),this.divQuestionFooterHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divQuestionFooterHolder.SetAlign(1),this.divQuestionFooterHolder.SetChildOrderEx(1),this.divQuestionFooterHolder.SetElementFont(1),this.divQuestionFooterHolder.SetRole(""),this.divQuestionFooter.SetParentComponent(this.divQuestionFooterHolder),this.divQuestionFooter.SetName("divQuestionFooter"),this.divQuestionFooter.SetLeft(0),this.divQuestionFooter.SetTop(0),this.divQuestionFooter.SetWidth(100),this.divQuestionFooter.SetHeight(32),this.divQuestionFooter.SetElementClassName("ConfigLabel"),this.divQuestionFooter.SetAlign(3),this.divQuestionFooter.SetElementFont(1),this.divQuestionFooter.FHTML.BeginUpdate();try{this.divQuestionFooter.FHTML.Clear(),this.divQuestionFooter.FHTML.Add("Footer")}finally{this.divQuestionFooter.FHTML.EndUpdate()}this.divQuestionFooter.SetRole(""),this.edtQuestionFooter.SetParentComponent(this.divQuestionFooterHolder),this.edtQuestionFooter.SetName("edtQuestionFooter"),this.edtQuestionFooter.SetAlignWithMargins(!0),this.edtQuestionFooter.SetLeft(102),this.edtQuestionFooter.SetTop(2),this.edtQuestionFooter.SetWidth(292),this.edtQuestionFooter.SetHeight(28),this.edtQuestionFooter.FMargins.SetLeft(2),this.edtQuestionFooter.FMargins.SetTop(2),this.edtQuestionFooter.FMargins.SetRight(2),this.edtQuestionFooter.FMargins.SetBottom(2),this.edtQuestionFooter.SetAlign(5),this.edtQuestionFooter.SetChildOrderEx(1),this.edtQuestionFooter.SetElementClassName("rounded-1 ps-2 border border-dark"),this.edtQuestionFooter.SetElementFont(1),this.edtQuestionFooter.SetHeightPercent(100),this.edtQuestionFooter.SetSpellCheck(!1),this.edtQuestionFooter.SetTabOrder(100),this.edtQuestionFooter.SetWidthPercent(100),this.SetEvent$1(this.edtQuestionFooter,this,"OnChange","QuestionChanged"),this.pagePermissions.SetParentComponent(this.pageControlSurveys),this.pagePermissions.SetName("pagePermissions"),this.pagePermissions.SetAlignWithMargins(!0),this.pagePermissions.SetLeft(0),this.pagePermissions.SetTop(20),this.pagePermissions.SetWidth(676),this.pagePermissions.SetHeight(398),this.pagePermissions.FMargins.SetLeft(0),this.pagePermissions.FMargins.SetTop(0),this.pagePermissions.FMargins.SetRight(0),this.pagePermissions.SetElementClassName("bg-light"),this.pagePermissions.SetCaption("Permissions"),this.pagePermissions.SetChildOrderEx(3),this.pagePermissions.SetElementFont(1),this.divPermissionsHolder.SetParentComponent(this.pagePermissions),this.divPermissionsHolder.SetName("divPermissionsHolder"),this.divPermissionsHolder.SetAlignWithMargins(!0),this.divPermissionsHolder.SetLeft(4),this.divPermissionsHolder.SetTop(0),this.divPermissionsHolder.SetWidth(668),this.divPermissionsHolder.SetHeight(394),this.divPermissionsHolder.FMargins.SetLeft(4),this.divPermissionsHolder.FMargins.SetTop(0),this.divPermissionsHolder.FMargins.SetRight(4),this.divPermissionsHolder.FMargins.SetBottom(4),this.divPermissionsHolder.SetElementClassName("overflow-hidden rounded border border-dark  bg-white"),this.divPermissionsHolder.SetAlign(5),this.divPermissionsHolder.SetChildOrderEx(1),this.divPermissionsHolder.SetElementFont(1),this.divPermissionsHolder.SetRole(""),this.WebHTMLDiv2.SetParentComponent(this.divPermissionsHolder),this.WebHTMLDiv2.SetName("WebHTMLDiv2"),this.WebHTMLDiv2.SetAlignWithMargins(!0),this.WebHTMLDiv2.SetLeft(4),this.WebHTMLDiv2.SetTop(0),this.WebHTMLDiv2.SetWidth(662),this.WebHTMLDiv2.SetHeight(32),this.WebHTMLDiv2.FMargins.SetLeft(4),this.WebHTMLDiv2.FMargins.SetTop(0),this.WebHTMLDiv2.FMargins.SetRight(2),this.WebHTMLDiv2.FMargins.SetBottom(0),this.WebHTMLDiv2.SetElementClassName("d-flex align-items-center "),this.WebHTMLDiv2.SetAlign(1),this.WebHTMLDiv2.SetElementFont(1),this.WebHTMLDiv2.SetRole(""),this.btnPermissionsReload.SetParentComponent(this.WebHTMLDiv2),this.btnPermissionsReload.SetName("btnPermissionsReload"),this.btnPermissionsReload.FTag$1=1,this.btnPermissionsReload.SetAlignWithMargins(!0),this.btnPermissionsReload.SetLeft(0),this.btnPermissionsReload.SetTop(0),this.btnPermissionsReload.SetWidth(50),this.btnPermissionsReload.SetHeight(24),this.btnPermissionsReload.FMargins.SetLeft(0),this.btnPermissionsReload.FMargins.SetTop(0),this.btnPermissionsReload.FMargins.SetRight(0),this.btnPermissionsReload.FMargins.SetBottom(0),this.btnPermissionsReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnPermissionsReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnPermissionsReload.SetElementFont(1),this.btnPermissionsReload.SetElementPosition(1),this.btnPermissionsReload.SetHeightPercent(100),this.btnPermissionsReload.SetWidthStyle(2),this.btnPermissionsReload.SetWidthPercent(100),this.SetEvent$1(this.btnPermissionsReload,this,"OnClick","btnPermissionsReloadClick"),this.btnPermissionsPrint.SetParentComponent(this.WebHTMLDiv2),this.btnPermissionsPrint.SetName("btnPermissionsPrint"),this.btnPermissionsPrint.FTag$1=1,this.btnPermissionsPrint.SetAlignWithMargins(!0),this.btnPermissionsPrint.SetLeft(50),this.btnPermissionsPrint.SetTop(0),this.btnPermissionsPrint.SetWidth(50),this.btnPermissionsPrint.SetHeight(24),this.btnPermissionsPrint.FMargins.SetLeft(0),this.btnPermissionsPrint.FMargins.SetTop(0),this.btnPermissionsPrint.FMargins.SetRight(0),this.btnPermissionsPrint.FMargins.SetBottom(0),this.btnPermissionsPrint.SetCaption('<i class="fa-solid fa-print me-1"></i> Print'),this.btnPermissionsPrint.SetChildOrderEx(4),this.btnPermissionsPrint.SetElementClassName("ShortButton btn btn-dark btn-sm"),this.btnPermissionsPrint.SetElementFont(1),this.btnPermissionsPrint.SetElementPosition(1),this.btnPermissionsPrint.SetHeightPercent(100),this.btnPermissionsPrint.SetWidthStyle(2),this.btnPermissionsPrint.SetWidthPercent(100),this.SetEvent$1(this.btnPermissionsPrint,this,"OnClick","btnPermissionsPrintClick"),this.divPermissions.SetParentComponent(this.divPermissionsHolder),this.divPermissions.SetName("divPermissions"),this.divPermissions.SetAlignWithMargins(!0),this.divPermissions.SetLeft(0),this.divPermissions.SetTop(32),this.divPermissions.SetWidth(668),this.divPermissions.SetHeight(362),this.divPermissions.FMargins.SetLeft(0),this.divPermissions.FMargins.SetTop(0),this.divPermissions.FMargins.SetRight(0),this.divPermissions.FMargins.SetBottom(0),this.divPermissions.SetElementClassName("overflow-hidden border border-0"),this.divPermissions.SetAlign(5),this.divPermissions.SetChildOrderEx(1),this.divPermissions.SetElementFont(1),this.divPermissions.SetRole(""),this.pagePreview.SetParentComponent(this.pageControlSurveys),this.pagePreview.SetName("pagePreview"),this.pagePreview.SetAlignWithMargins(!0),this.pagePreview.SetLeft(0),this.pagePreview.SetTop(20),this.pagePreview.SetWidth(676),this.pagePreview.SetHeight(398),this.pagePreview.FMargins.SetLeft(0),this.pagePreview.FMargins.SetTop(0),this.pagePreview.FMargins.SetRight(0),this.pagePreview.SetElementClassName("bg-light"),this.pagePreview.SetCaption("Preview"),this.pagePreview.SetChildOrderEx(2),this.pagePreview.SetElementFont(1),this.divPreviewHolder.SetParentComponent(this.pagePreview),this.divPreviewHolder.SetName("divPreviewHolder"),this.divPreviewHolder.SetAlignWithMargins(!0),this.divPreviewHolder.SetLeft(4),this.divPreviewHolder.SetTop(0),this.divPreviewHolder.SetWidth(668),this.divPreviewHolder.SetHeight(394),this.divPreviewHolder.FMargins.SetLeft(4),this.divPreviewHolder.FMargins.SetTop(0),this.divPreviewHolder.FMargins.SetRight(4),this.divPreviewHolder.FMargins.SetBottom(4),this.divPreviewHolder.SetElementClassName("overflow-hidden rounded border border-dark  bg-white"),this.divPreviewHolder.SetAlign(5),this.divPreviewHolder.SetChildOrderEx(1),this.divPreviewHolder.SetElementFont(1),this.divPreviewHolder.SetRole(""),this.WebHTMLDiv3.SetParentComponent(this.divPreviewHolder),this.WebHTMLDiv3.SetName("WebHTMLDiv3"),this.WebHTMLDiv3.SetAlignWithMargins(!0),this.WebHTMLDiv3.SetLeft(4),this.WebHTMLDiv3.SetTop(0),this.WebHTMLDiv3.SetWidth(662),this.WebHTMLDiv3.SetHeight(32),this.WebHTMLDiv3.FMargins.SetLeft(4),this.WebHTMLDiv3.FMargins.SetTop(0),this.WebHTMLDiv3.FMargins.SetRight(2),this.WebHTMLDiv3.FMargins.SetBottom(0),this.WebHTMLDiv3.SetElementClassName("d-flex align-items-center "),this.WebHTMLDiv3.SetAlign(1),this.WebHTMLDiv3.SetElementFont(1),this.WebHTMLDiv3.SetRole(""),this.btnPreviewReload.SetParentComponent(this.WebHTMLDiv3),this.btnPreviewReload.SetName("btnPreviewReload"),this.btnPreviewReload.FTag$1=2,this.btnPreviewReload.SetAlignWithMargins(!0),this.btnPreviewReload.SetLeft(0),this.btnPreviewReload.SetTop(5),this.btnPreviewReload.SetWidth(50),this.btnPreviewReload.SetHeight(24),this.btnPreviewReload.FMargins.SetLeft(0),this.btnPreviewReload.FMargins.SetTop(0),this.btnPreviewReload.FMargins.SetRight(0),this.btnPreviewReload.FMargins.SetBottom(0),this.btnPreviewReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnPreviewReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnPreviewReload.SetElementFont(1),this.btnPreviewReload.SetElementPosition(1),this.btnPreviewReload.SetHeightPercent(100),this.btnPreviewReload.SetWidthStyle(2),this.btnPreviewReload.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewReload,this,"OnClick","btnPreviewReloadClick"),this.WebPanel1.SetParentComponent(this.WebHTMLDiv3),this.WebPanel1.SetName("WebPanel1"),this.WebPanel1.SetAlignWithMargins(!0),this.WebPanel1.SetLeft(58),this.WebPanel1.SetTop(4),this.WebPanel1.SetWidth(261),this.WebPanel1.SetHeight(24),this.WebPanel1.FMargins.SetLeft(8),this.WebPanel1.FMargins.SetTop(4),this.WebPanel1.FMargins.SetRight(4),this.WebPanel1.FMargins.SetBottom(4),this.WebPanel1.SetElementClassName("d-flex align-items-center"),this.WebPanel1.SetWidthStyle(2),this.WebPanel1.SetBorderColor(-1),this.WebPanel1.SetBorderStyle(0),this.WebPanel1.SetChildOrderEx(1),this.WebPanel1.SetColor(16777215),this.WebPanel1.FElementBodyClassName="btn-group m-1",this.WebPanel1.SetElementFont(1),this.WebPanel1.SetElementPosition(1),this.btnPreviewSize0.SetParentComponent(this.WebPanel1),this.btnPreviewSize0.SetName("btnPreviewSize0"),this.btnPreviewSize0.SetAlignWithMargins(!0),this.btnPreviewSize0.SetLeft(4),this.btnPreviewSize0.SetTop(0),this.btnPreviewSize0.SetWidth(50),this.btnPreviewSize0.SetHeight(24),this.btnPreviewSize0.FMargins.SetLeft(0),this.btnPreviewSize0.FMargins.SetTop(0),this.btnPreviewSize0.FMargins.SetRight(0),this.btnPreviewSize0.FMargins.SetBottom(0),this.btnPreviewSize0.SetCaption('<i style="font-size: 6px;" class="fa-solid fa-circle"></i>'),this.btnPreviewSize0.SetElementClassName("ShorterButton btn btn-dark btn-sm"),this.btnPreviewSize0.SetElementFont(1),this.btnPreviewSize0.SetElementPosition(1),this.btnPreviewSize0.SetHeightPercent(100),this.btnPreviewSize0.SetTabOrder(10),this.btnPreviewSize0.SetWidthStyle(2),this.btnPreviewSize0.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewSize0,this,"OnClick","btnPreviewSizeClick"),this.btnPreviewSize2.SetParentComponent(this.WebPanel1),this.btnPreviewSize2.SetName("btnPreviewSize2"),this.btnPreviewSize2.FTag$1=2,this.btnPreviewSize2.SetAlignWithMargins(!0),this.btnPreviewSize2.SetLeft(104),this.btnPreviewSize2.SetTop(0),this.btnPreviewSize2.SetWidth(50),this.btnPreviewSize2.SetHeight(24),this.btnPreviewSize2.FMargins.SetLeft(0),this.btnPreviewSize2.FMargins.SetTop(0),this.btnPreviewSize2.FMargins.SetRight(0),this.btnPreviewSize2.FMargins.SetBottom(0),this.btnPreviewSize2.SetCaption('<i style="font-size: 12px;" class="fa-solid fa-circle"></i>'),this.btnPreviewSize2.SetChildOrderEx(2),this.btnPreviewSize2.SetElementClassName("ShorterButton btn btn-primary btn-sm"),this.btnPreviewSize2.SetElementFont(1),this.btnPreviewSize2.SetElementPosition(1),this.btnPreviewSize2.SetHeightPercent(100),this.btnPreviewSize2.SetTabOrder(10),this.btnPreviewSize2.SetWidthStyle(2),this.btnPreviewSize2.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewSize2,this,"OnClick","btnPreviewSizeClick"),this.btnPreviewSize3.SetParentComponent(this.WebPanel1),this.btnPreviewSize3.SetName("btnPreviewSize3"),this.btnPreviewSize3.FTag$1=3,this.btnPreviewSize3.SetAlignWithMargins(!0),this.btnPreviewSize3.SetLeft(154),this.btnPreviewSize3.SetTop(0),this.btnPreviewSize3.SetWidth(50),this.btnPreviewSize3.SetHeight(24),this.btnPreviewSize3.FMargins.SetLeft(0),this.btnPreviewSize3.FMargins.SetTop(0),this.btnPreviewSize3.FMargins.SetRight(0),this.btnPreviewSize3.FMargins.SetBottom(0),this.btnPreviewSize3.SetCaption('<i style="font-size: 16px; margin-top:-1px;" class="fa-solid fa-circle"></i>'),this.btnPreviewSize3.SetChildOrderEx(3),this.btnPreviewSize3.SetElementClassName("ShorterButton btn btn-dark btn-sm"),this.btnPreviewSize3.SetElementFont(1),this.btnPreviewSize3.SetElementPosition(1),this.btnPreviewSize3.SetHeightPercent(100),this.btnPreviewSize3.SetTabOrder(10),this.btnPreviewSize3.SetWidthStyle(2),this.btnPreviewSize3.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewSize3,this,"OnClick","btnPreviewSizeClick"),this.btnPreviewSize4.SetParentComponent(this.WebPanel1),this.btnPreviewSize4.SetName("btnPreviewSize4"),this.btnPreviewSize4.FTag$1=4,this.btnPreviewSize4.SetAlignWithMargins(!0),this.btnPreviewSize4.SetLeft(204),this.btnPreviewSize4.SetTop(0),this.btnPreviewSize4.SetWidth(50),this.btnPreviewSize4.SetHeight(24),this.btnPreviewSize4.FMargins.SetLeft(0),this.btnPreviewSize4.FMargins.SetTop(0),this.btnPreviewSize4.FMargins.SetRight(0),this.btnPreviewSize4.FMargins.SetBottom(0),this.btnPreviewSize4.SetCaption('<i style="font-size: 18px;margin-top:-2px;" class="fa-solid fa-circle"></i>'),this.btnPreviewSize4.SetChildOrderEx(4),this.btnPreviewSize4.SetElementClassName("ShorterButton btn btn-dark btn-sm"),this.btnPreviewSize4.SetElementFont(1),this.btnPreviewSize4.SetElementPosition(1),this.btnPreviewSize4.SetHeightPercent(100),this.btnPreviewSize4.SetTabOrder(10),this.btnPreviewSize4.SetWidthStyle(2),this.btnPreviewSize4.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewSize4,this,"OnClick","btnPreviewSizeClick"),this.btnPreviewSize1.SetParentComponent(this.WebPanel1),this.btnPreviewSize1.SetName("btnPreviewSize1"),this.btnPreviewSize1.FTag$1=1,this.btnPreviewSize1.SetAlignWithMargins(!0),this.btnPreviewSize1.SetLeft(54),this.btnPreviewSize1.SetTop(0),this.btnPreviewSize1.SetWidth(50),this.btnPreviewSize1.SetHeight(24),this.btnPreviewSize1.FMargins.SetLeft(0),this.btnPreviewSize1.FMargins.SetTop(0),this.btnPreviewSize1.FMargins.SetRight(0),this.btnPreviewSize1.FMargins.SetBottom(0),this.btnPreviewSize1.SetCaption('<i style="font-size: 8px;" class="fa-solid fa-circle"></i>'),this.btnPreviewSize1.SetChildOrderEx(1),this.btnPreviewSize1.SetElementClassName("ShorterButton btn btn-dark btn-sm"),this.btnPreviewSize1.SetElementFont(1),this.btnPreviewSize1.SetElementPosition(1),this.btnPreviewSize1.SetHeightPercent(100),this.btnPreviewSize1.SetTabOrder(10),this.btnPreviewSize1.SetWidthStyle(2),this.btnPreviewSize1.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewSize1,this,"OnClick","btnPreviewSizeClick"),this.WebPanel2.SetParentComponent(this.WebHTMLDiv3),this.WebPanel2.SetName("WebPanel2"),this.WebPanel2.SetAlignWithMargins(!0),this.WebPanel2.SetLeft(331),this.WebPanel2.SetTop(4),this.WebPanel2.SetWidth(302),this.WebPanel2.SetHeight(24),this.WebPanel2.FMargins.SetLeft(8),this.WebPanel2.FMargins.SetTop(4),this.WebPanel2.FMargins.SetRight(4),this.WebPanel2.FMargins.SetBottom(4),this.WebPanel2.SetElementClassName("d-flex align-items-center"),this.WebPanel2.SetWidthStyle(2),this.WebPanel2.SetBorderColor(-1),this.WebPanel2.SetBorderStyle(0),this.WebPanel2.SetChildOrderEx(2),this.WebPanel2.SetColor(16777215),this.WebPanel2.FElementBodyClassName="btn-group m-1",this.WebPanel2.SetElementFont(1),this.WebPanel2.SetElementPosition(1),this.btnPreviewActive.SetParentComponent(this.WebPanel2),this.btnPreviewActive.SetName("btnPreviewActive"),this.btnPreviewActive.FTag$1=1,this.btnPreviewActive.SetAlignWithMargins(!0),this.btnPreviewActive.SetLeft(4),this.btnPreviewActive.SetTop(0),this.btnPreviewActive.SetWidth(50),this.btnPreviewActive.SetHeight(24),this.btnPreviewActive.FMargins.SetLeft(0),this.btnPreviewActive.FMargins.SetTop(0),this.btnPreviewActive.FMargins.SetRight(0),this.btnPreviewActive.FMargins.SetBottom(0),this.btnPreviewActive.SetCaption("Active"),this.btnPreviewActive.SetChildOrderEx(1),this.btnPreviewActive.SetElementClassName("order-1 ShortestButton btn btn-dark btn-sm"),this.btnPreviewActive.SetElementFont(1),this.btnPreviewActive.SetElementPosition(1),this.btnPreviewActive.SetHeightPercent(100),this.btnPreviewActive.SetTabOrder(10),this.btnPreviewActive.SetWidthStyle(2),this.btnPreviewActive.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewActive,this,"OnClick","btnPreviewTimeClick"),this.btnPreviewPause.SetParentComponent(this.WebPanel2),this.btnPreviewPause.SetName("btnPreviewPause"),this.btnPreviewPause.FTag$1=3,this.btnPreviewPause.SetAlignWithMargins(!0),this.btnPreviewPause.SetLeft(104),this.btnPreviewPause.SetTop(0),this.btnPreviewPause.SetWidth(50),this.btnPreviewPause.SetHeight(24),this.btnPreviewPause.FMargins.SetLeft(0),this.btnPreviewPause.FMargins.SetTop(0),this.btnPreviewPause.FMargins.SetRight(0),this.btnPreviewPause.FMargins.SetBottom(0),this.btnPreviewPause.SetCaption("Pause"),this.btnPreviewPause.SetChildOrderEx(3),this.btnPreviewPause.SetElementClassName("order-3 ShortestButton btn btn-dark btn-sm"),this.btnPreviewPause.SetElementFont(1),this.btnPreviewPause.SetElementPosition(1),this.btnPreviewPause.SetHeightPercent(100),this.btnPreviewPause.SetTabOrder(10),this.btnPreviewPause.SetWidthStyle(2),this.btnPreviewPause.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewPause,this,"OnClick","btnPreviewTimeClick"),this.btnPreviewPost.SetParentComponent(this.WebPanel2),this.btnPreviewPost.SetName("btnPreviewPost"),this.btnPreviewPost.FTag$1=4,this.btnPreviewPost.SetAlignWithMargins(!0),this.btnPreviewPost.SetLeft(154),this.btnPreviewPost.SetTop(0),this.btnPreviewPost.SetWidth(50),this.btnPreviewPost.SetHeight(24),this.btnPreviewPost.FMargins.SetLeft(0),this.btnPreviewPost.FMargins.SetTop(0),this.btnPreviewPost.FMargins.SetRight(0),this.btnPreviewPost.FMargins.SetBottom(0),this.btnPreviewPost.SetCaption("Post"),this.btnPreviewPost.SetChildOrderEx(4),this.btnPreviewPost.SetElementClassName("order-4 ShortestButton btn btn-dark btn-sm"),this.btnPreviewPost.SetElementFont(1),this.btnPreviewPost.SetElementPosition(1),this.btnPreviewPost.SetHeightPercent(100),this.btnPreviewPost.SetTabOrder(10),this.btnPreviewPost.SetWidthStyle(2),this.btnPreviewPost.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewPost,this,"OnClick","btnPreviewTimeClick"),this.btnPreviewPre.SetParentComponent(this.WebPanel2),this.btnPreviewPre.SetName("btnPreviewPre"),this.btnPreviewPre.FTag$1=2,this.btnPreviewPre.SetAlignWithMargins(!0),this.btnPreviewPre.SetLeft(54),this.btnPreviewPre.SetTop(0),this.btnPreviewPre.SetWidth(50),this.btnPreviewPre.SetHeight(24),this.btnPreviewPre.FMargins.SetLeft(0),this.btnPreviewPre.FMargins.SetTop(0),this.btnPreviewPre.FMargins.SetRight(0),this.btnPreviewPre.FMargins.SetBottom(0),this.btnPreviewPre.SetCaption("Pre"),this.btnPreviewPre.SetChildOrderEx(2),this.btnPreviewPre.SetElementClassName("order-2 ShortestButton btn btn-dark btn-sm"),this.btnPreviewPre.SetElementFont(1),this.btnPreviewPre.SetElementPosition(1),this.btnPreviewPre.SetHeightPercent(100),this.btnPreviewPre.SetTabOrder(10),this.btnPreviewPre.SetWidthStyle(2),this.btnPreviewPre.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewPre,this,"OnClick","btnPreviewTimeClick"),this.btnPreviewAuto.SetParentComponent(this.WebPanel2),this.btnPreviewAuto.SetName("btnPreviewAuto"),this.btnPreviewAuto.SetAlignWithMargins(!0),this.btnPreviewAuto.SetLeft(204),this.btnPreviewAuto.SetTop(0),this.btnPreviewAuto.SetWidth(50),this.btnPreviewAuto.SetHeight(24),this.btnPreviewAuto.FMargins.SetLeft(0),this.btnPreviewAuto.FMargins.SetTop(0),this.btnPreviewAuto.FMargins.SetRight(0),this.btnPreviewAuto.FMargins.SetBottom(0),this.btnPreviewAuto.SetCaption("Auto"),this.btnPreviewAuto.SetElementClassName("order-0 ShortestButton btn btn-primary btn-sm"),this.btnPreviewAuto.SetElementFont(1),this.btnPreviewAuto.SetElementPosition(1),this.btnPreviewAuto.SetHeightPercent(100),this.btnPreviewAuto.SetTabOrder(10),this.btnPreviewAuto.SetWidthStyle(2),this.btnPreviewAuto.SetWidthPercent(100),this.SetEvent$1(this.btnPreviewAuto,this,"OnClick","btnPreviewTimeClick"),this.scrollPreview.SetParentComponent(this.divPreviewHolder),this.scrollPreview.SetName("scrollPreview"),this.scrollPreview.SetLeft(0),this.scrollPreview.SetTop(32),this.scrollPreview.SetWidth(668),this.scrollPreview.SetHeight(362),this.scrollPreview.SetElementClassName("border-0 bg-info"),this.scrollPreview.SetAlign(5),this.scrollPreview.SetBorderStyle(1),this.scrollPreview.SetChildOrderEx(2),this.scrollPreview.SetScrollBars(2),this.divPreview.SetParentComponent(this.scrollPreview),this.divPreview.SetName("divPreview"),this.divPreview.SetAlignWithMargins(!0),this.divPreview.SetLeft(0),this.divPreview.SetTop(0),this.divPreview.SetWidth(668),this.divPreview.SetHeight(362),this.divPreview.FMargins.SetLeft(0),this.divPreview.FMargins.SetTop(0),this.divPreview.FMargins.SetRight(0),this.divPreview.FMargins.SetBottom(0),this.divPreview.SetElementClassName("d-flex justify-content-center align-items-center bg-info"),this.divPreview.SetAlign(5),this.divPreview.SetChildOrderEx(1),this.divPreview.SetElementFont(1),this.divPreview.SetRole(""),this.divSurveyMenu.SetParentComponent(this.divSurveysMain),this.divSurveyMenu.SetName("divSurveyMenu"),this.divSurveyMenu.SetLeft(0),this.divSurveyMenu.SetTop(0),this.divSurveyMenu.SetWidth(676),this.divSurveyMenu.SetHeight(48),this.divSurveyMenu.SetAlign(1),this.divSurveyMenu.SetChildOrderEx(2),this.divSurveyMenu.SetElementFont(1),this.divSurveyMenu.SetRole(""),this.divSurveyMenuLeft.SetParentComponent(this.divSurveyMenu),this.divSurveyMenuLeft.SetName("divSurveyMenuLeft"),this.divSurveyMenuLeft.SetAlignWithMargins(!0),this.divSurveyMenuLeft.SetLeft(4),this.divSurveyMenuLeft.SetTop(4),this.divSurveyMenuLeft.SetWidth(332),this.divSurveyMenuLeft.SetHeight(40),this.divSurveyMenuLeft.FMargins.SetLeft(4),this.divSurveyMenuLeft.FMargins.SetTop(4),this.divSurveyMenuLeft.FMargins.SetRight(4),this.divSurveyMenuLeft.FMargins.SetBottom(4),this.divSurveyMenuLeft.SetElementClassName("rounded-1 border border-dark bg-white"),this.divSurveyMenuLeft.SetWidthStyle(2),this.divSurveyMenuLeft.SetAlign(3),this.divSurveyMenuLeft.SetBorderColor(-1),this.divSurveyMenuLeft.SetBorderStyle(0),this.divSurveyMenuLeft.SetColor(16777215),this.divSurveyMenuLeft.FElementBodyClassName="btn-group m-1",this.divSurveyMenuLeft.SetElementFont(1),this.btnSurveyOptions.SetParentComponent(this.divSurveyMenuLeft),this.btnSurveyOptions.SetName("btnSurveyOptions"),this.btnSurveyOptions.SetAlignWithMargins(!0),this.btnSurveyOptions.SetLeft(3),this.btnSurveyOptions.SetTop(3),this.btnSurveyOptions.SetWidth(50),this.btnSurveyOptions.SetHeight(32),this.btnSurveyOptions.FMargins.SetRight(0),this.btnSurveyOptions.FMargins.SetBottom(5),this.btnSurveyOptions.SetAlign(3),this.btnSurveyOptions.SetCaption('<div class="mx-2"><i class="fa-solid fa-list-check me-2 fa-lg"></i> Options</div>'),this.btnSurveyOptions.SetElementClassName("btn btn-primary btn-sm"),this.btnSurveyOptions.SetElementFont(1),this.btnSurveyOptions.SetElementPosition(1),this.btnSurveyOptions.SetHeightPercent(100),this.btnSurveyOptions.SetTabOrder(50),this.btnSurveyOptions.SetWidthStyle(2),this.btnSurveyOptions.SetWidthPercent(100),this.SetEvent$1(this.btnSurveyOptions,this,"OnClick","btnSurveyMenuClick"),this.btnSurveyQuestions.SetParentComponent(this.divSurveyMenuLeft),this.btnSurveyQuestions.SetName("btnSurveyQuestions"),this.btnSurveyQuestions.FTag$1=1,this.btnSurveyQuestions.SetAlignWithMargins(!0),this.btnSurveyQuestions.SetLeft(53),this.btnSurveyQuestions.SetTop(3),this.btnSurveyQuestions.SetWidth(50),this.btnSurveyQuestions.SetHeight(32),this.btnSurveyQuestions.FMargins.SetLeft(0),this.btnSurveyQuestions.FMargins.SetRight(0),this.btnSurveyQuestions.FMargins.SetBottom(5),this.btnSurveyQuestions.SetAlign(3),this.btnSurveyQuestions.SetCaption('<div class="mx-2"><i class="fa-solid fa-list-ol me-2 fa-lg"></i>Questions</div>'),this.btnSurveyQuestions.SetChildOrderEx(1),this.btnSurveyQuestions.SetElementClassName("btn btn-dark btn-sm"),this.btnSurveyQuestions.SetElementFont(1),this.btnSurveyQuestions.SetElementPosition(1),this.btnSurveyQuestions.SetHeightPercent(100),this.btnSurveyQuestions.SetTabOrder(51),this.btnSurveyQuestions.SetWidthStyle(2),this.btnSurveyQuestions.SetWidthPercent(100),this.SetEvent$1(this.btnSurveyQuestions,this,"OnClick","btnSurveyMenuClick"),this.btnSurveyPreview.SetParentComponent(this.divSurveyMenuLeft),this.btnSurveyPreview.SetName("btnSurveyPreview"),this.btnSurveyPreview.FTag$1=3,this.btnSurveyPreview.SetAlignWithMargins(!0),this.btnSurveyPreview.SetLeft(153),this.btnSurveyPreview.SetTop(3),this.btnSurveyPreview.SetWidth(50),this.btnSurveyPreview.SetHeight(32),this.btnSurveyPreview.FMargins.SetLeft(0),this.btnSurveyPreview.FMargins.SetRight(0),this.btnSurveyPreview.FMargins.SetBottom(5),this.btnSurveyPreview.SetAlign(3),this.btnSurveyPreview.SetCaption('<div class="mx-2"><i class="fa-solid fa-eye me-2 fa-lg"></i> Preview</div>'),this.btnSurveyPreview.SetChildOrderEx(4),this.btnSurveyPreview.SetElementClassName("btn btn-dark btn-sm"),this.btnSurveyPreview.SetElementFont(1),this.btnSurveyPreview.SetElementPosition(1),this.btnSurveyPreview.SetHeightPercent(100),this.btnSurveyPreview.SetTabOrder(53),this.btnSurveyPreview.SetWidthStyle(2),this.btnSurveyPreview.SetWidthPercent(100),this.SetEvent$1(this.btnSurveyPreview,this,"OnClick","btnSurveyMenuClick"),this.btnSurveyPermissions.SetParentComponent(this.divSurveyMenuLeft),this.btnSurveyPermissions.SetName("btnSurveyPermissions"),this.btnSurveyPermissions.FTag$1=2,this.btnSurveyPermissions.SetAlignWithMargins(!0),this.btnSurveyPermissions.SetLeft(103),this.btnSurveyPermissions.SetTop(3),this.btnSurveyPermissions.SetWidth(50),this.btnSurveyPermissions.SetHeight(32),this.btnSurveyPermissions.FMargins.SetLeft(0),this.btnSurveyPermissions.FMargins.SetRight(0),this.btnSurveyPermissions.FMargins.SetBottom(5),this.btnSurveyPermissions.SetAlign(3),this.btnSurveyPermissions.SetCaption('<div class="mx-2"><i class="fa-solid fa-key me-2 fa-lg"></i> Permissions</div>'),this.btnSurveyPermissions.SetChildOrderEx(2),this.btnSurveyPermissions.SetElementClassName("btn btn-dark btn-sm"),this.btnSurveyPermissions.SetElementFont(1),this.btnSurveyPermissions.SetElementPosition(1),this.btnSurveyPermissions.SetHeightPercent(100),this.btnSurveyPermissions.SetTabOrder(52),this.btnSurveyPermissions.SetWidthStyle(2),this.btnSurveyPermissions.SetWidthPercent(100),this.SetEvent$1(this.btnSurveyPermissions,this,"OnClick","btnSurveyMenuClick"),this.divSurveyMenuRight.SetParentComponent(this.divSurveyMenu),this.divSurveyMenuRight.SetName("divSurveyMenuRight"),this.divSurveyMenuRight.SetAlignWithMargins(!0),this.divSurveyMenuRight.SetLeft(344),this.divSurveyMenuRight.SetTop(4),this.divSurveyMenuRight.SetWidth(328),this.divSurveyMenuRight.SetHeight(40),this.divSurveyMenuRight.FMargins.SetLeft(4),this.divSurveyMenuRight.FMargins.SetTop(4),this.divSurveyMenuRight.FMargins.SetRight(4),this.divSurveyMenuRight.FMargins.SetBottom(4),this.divSurveyMenuRight.SetElementClassName("rounded-1 border border-dark bg-white"),this.divSurveyMenuRight.SetWidthStyle(2),this.divSurveyMenuRight.SetAlign(4),this.divSurveyMenuRight.SetBorderColor(-1),this.divSurveyMenuRight.SetBorderStyle(0),this.divSurveyMenuRight.SetChildOrderEx(1),this.divSurveyMenuRight.SetColor(16777215),this.divSurveyMenuRight.FElementBodyClassName="m-1",this.divSurveyMenuRight.SetElementFont(1),this.btnSurveyCancel.SetParentComponent(this.divSurveyMenuRight),this.btnSurveyCancel.SetName("btnSurveyCancel"),this.btnSurveyCancel.SetAlignWithMargins(!0),this.btnSurveyCancel.SetLeft(136),this.btnSurveyCancel.SetTop(3),this.btnSurveyCancel.SetWidth(96),this.btnSurveyCancel.SetHeight(32),this.btnSurveyCancel.FMargins.SetRight(0),this.btnSurveyCancel.FMargins.SetBottom(5),this.btnSurveyCancel.SetAlign(4),this.btnSurveyCancel.SetCaption('<div class="mx-2"><i class="fa-solid fa-xmark me-2 fa-lg"></i>Cancel</div>'),this.btnSurveyCancel.SetChildOrderEx(3),this.btnSurveyCancel.SetElementClassName("btn btn-secondary btn-sm me-1"),this.btnSurveyCancel.SetElementFont(1),this.btnSurveyCancel.SetElementPosition(1),this.btnSurveyCancel.SetEnabled(!1),this.btnSurveyCancel.SetHeightPercent(100),this.btnSurveyCancel.SetTabOrder(60),this.btnSurveyCancel.SetWidthStyle(2),this.btnSurveyCancel.SetWidthPercent(100),this.SetEvent$1(this.btnSurveyCancel,this,"OnClick","btnSurveyCancelClick"),this.btnSurveySave.SetParentComponent(this.divSurveyMenuRight),this.btnSurveySave.SetName("btnSurveySave"),this.btnSurveySave.SetAlignWithMargins(!0),this.btnSurveySave.SetLeft(232),this.btnSurveySave.SetTop(3),this.btnSurveySave.SetWidth(96),this.btnSurveySave.SetHeight(32),this.btnSurveySave.FMargins.SetLeft(0),this.btnSurveySave.FMargins.SetRight(0),this.btnSurveySave.FMargins.SetBottom(5),this.btnSurveySave.SetAlign(4),this.btnSurveySave.SetCaption('<div class="mx-2"><i class="fa-solid fa-check me-2 fa-lg"></i> Save</div>'),this.btnSurveySave.SetChildOrderEx(1),this.btnSurveySave.SetElementClassName("btn btn-warning btn-sm"),this.btnSurveySave.SetElementFont(1),this.btnSurveySave.SetElementPosition(1),this.btnSurveySave.SetEnabled(!1),this.btnSurveySave.SetHeightPercent(100),this.btnSurveySave.SetTabOrder(61),this.btnSurveySave.SetWidthStyle(2),this.btnSurveySave.SetWidthPercent(100),this.SetEvent$1(this.btnSurveySave,this,"OnClick","btnSurveySaveClick"),this.pageResponses.SetParentComponent(this.pagecontrolMain),this.pageResponses.SetName("pageResponses"),this.pageResponses.SetAlignWithMargins(!0),this.pageResponses.SetLeft(0),this.pageResponses.SetTop(20),this.pageResponses.SetWidth(940),this.pageResponses.SetHeight(467),this.pageResponses.FMargins.SetLeft(0),this.pageResponses.FMargins.SetTop(0),this.pageResponses.FMargins.SetRight(0),this.pageResponses.SetElementClassName("rounded border border-dark bg-light"),this.pageResponses.SetCaption("Responses"),this.pageResponses.SetChildOrderEx(1),this.pageResponses.SetElementFont(1),this.divResponsesHolder.SetParentComponent(this.pageResponses),this.divResponsesHolder.SetName("divResponsesHolder"),this.divResponsesHolder.SetAlignWithMargins(!0),this.divResponsesHolder.SetLeft(4),this.divResponsesHolder.SetTop(4),this.divResponsesHolder.SetWidth(517),this.divResponsesHolder.SetHeight(459),this.divResponsesHolder.FMargins.SetLeft(4),this.divResponsesHolder.FMargins.SetTop(4),this.divResponsesHolder.FMargins.SetRight(4),this.divResponsesHolder.FMargins.SetBottom(4),this.divResponsesHolder.SetElementClassName("overflow-hidden rounded-1 border border-dark  bg-white"),this.divResponsesHolder.SetAlign(3),this.divResponsesHolder.SetElementFont(1),this.divResponsesHolder.SetRole(""),this.divResponsesButtons.SetParentComponent(this.divResponsesHolder),this.divResponsesButtons.SetName("divResponsesButtons"),this.divResponsesButtons.SetAlignWithMargins(!0),this.divResponsesButtons.SetLeft(4),this.divResponsesButtons.SetTop(0),this.divResponsesButtons.SetWidth(511),this.divResponsesButtons.SetHeight(32),this.divResponsesButtons.FMargins.SetLeft(4),this.divResponsesButtons.FMargins.SetTop(0),this.divResponsesButtons.FMargins.SetRight(2),this.divResponsesButtons.FMargins.SetBottom(0),this.divResponsesButtons.SetElementClassName("d-flex align-items-center "),this.divResponsesButtons.SetAlign(1),this.divResponsesButtons.SetElementFont(1),this.divResponsesButtons.SetRole(""),this.btnResponsesReload.SetParentComponent(this.divResponsesButtons),this.btnResponsesReload.SetName("btnResponsesReload"),this.btnResponsesReload.FTag$1=1,this.btnResponsesReload.SetAlignWithMargins(!0),this.btnResponsesReload.SetLeft(3),this.btnResponsesReload.SetTop(5),this.btnResponsesReload.SetWidth(50),this.btnResponsesReload.SetHeight(24),this.btnResponsesReload.FMargins.SetLeft(0),this.btnResponsesReload.FMargins.SetTop(0),this.btnResponsesReload.FMargins.SetRight(0),this.btnResponsesReload.FMargins.SetBottom(0),this.btnResponsesReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnResponsesReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnResponsesReload.SetElementFont(1),this.btnResponsesReload.SetElementPosition(1),this.btnResponsesReload.SetHeightPercent(100),this.btnResponsesReload.SetWidthStyle(2),this.btnResponsesReload.SetWidthPercent(100),this.SetEvent$1(this.btnResponsesReload,this,"OnClick","btnResponsesReloadClick"),this.btnResponsesPrint.SetParentComponent(this.divResponsesButtons),this.btnResponsesPrint.SetName("btnResponsesPrint"),this.btnResponsesPrint.FTag$1=1,this.btnResponsesPrint.SetAlignWithMargins(!0),this.btnResponsesPrint.SetLeft(54),this.btnResponsesPrint.SetTop(5),this.btnResponsesPrint.SetWidth(50),this.btnResponsesPrint.SetHeight(24),this.btnResponsesPrint.FMargins.SetLeft(0),this.btnResponsesPrint.FMargins.SetTop(0),this.btnResponsesPrint.FMargins.SetRight(0),this.btnResponsesPrint.FMargins.SetBottom(0),this.btnResponsesPrint.SetCaption('<i class="fa-solid fa-print me-1"></i> Print'),this.btnResponsesPrint.SetChildOrderEx(3),this.btnResponsesPrint.SetElementClassName("ShortButton btn btn-dark btn-sm"),this.btnResponsesPrint.SetElementFont(1),this.btnResponsesPrint.SetElementPosition(1),this.btnResponsesPrint.SetHeightPercent(100),this.btnResponsesPrint.SetWidthStyle(2),this.btnResponsesPrint.SetWidthPercent(100),this.SetEvent$1(this.btnResponsesPrint,this,"OnClick","btnAccountsPrintClick"),this.divResponses.SetParentComponent(this.divResponsesHolder),this.divResponses.SetName("divResponses"),this.divResponses.SetAlignWithMargins(!0),this.divResponses.SetLeft(0),this.divResponses.SetTop(32),this.divResponses.SetWidth(517),this.divResponses.SetHeight(427),this.divResponses.FMargins.SetLeft(0),this.divResponses.FMargins.SetTop(0),this.divResponses.FMargins.SetRight(0),this.divResponses.FMargins.SetBottom(0),this.divResponses.SetElementClassName("overflow-hidden border border-0"),this.divResponses.SetAlign(5),this.divResponses.SetChildOrderEx(1),this.divResponses.SetElementFont(1),this.divResponses.SetRole(""),this.divFeedbackHolder.SetParentComponent(this.pageResponses),this.divFeedbackHolder.SetName("divFeedbackHolder"),this.divFeedbackHolder.SetAlignWithMargins(!0),this.divFeedbackHolder.SetLeft(535),this.divFeedbackHolder.SetTop(4),this.divFeedbackHolder.SetWidth(401),this.divFeedbackHolder.SetHeight(459),this.divFeedbackHolder.FMargins.SetLeft(4),this.divFeedbackHolder.FMargins.SetTop(4),this.divFeedbackHolder.FMargins.SetRight(4),this.divFeedbackHolder.FMargins.SetBottom(4),this.divFeedbackHolder.SetElementClassName("overflow-hidden rounded-1 border border-dark  bg-white"),this.divFeedbackHolder.SetAlign(5),this.divFeedbackHolder.SetChildOrderEx(1),this.divFeedbackHolder.SetElementFont(1),this.divFeedbackHolder.SetRole(""),this.divFeedbackButtons.SetParentComponent(this.divFeedbackHolder),this.divFeedbackButtons.SetName("divFeedbackButtons"),this.divFeedbackButtons.SetAlignWithMargins(!0),this.divFeedbackButtons.SetLeft(4),this.divFeedbackButtons.SetTop(0),this.divFeedbackButtons.SetWidth(395),this.divFeedbackButtons.SetHeight(32),this.divFeedbackButtons.FMargins.SetLeft(4),this.divFeedbackButtons.FMargins.SetTop(0),this.divFeedbackButtons.FMargins.SetRight(2),this.divFeedbackButtons.FMargins.SetBottom(0),this.divFeedbackButtons.SetElementClassName("d-flex align-items-center "),this.divFeedbackButtons.SetAlign(1),this.divFeedbackButtons.SetElementFont(1),this.divFeedbackButtons.SetRole(""),this.btnFeedbackReload.SetParentComponent(this.divFeedbackButtons),this.btnFeedbackReload.SetName("btnFeedbackReload"),this.btnFeedbackReload.FTag$1=1,this.btnFeedbackReload.SetAlignWithMargins(!0),this.btnFeedbackReload.SetLeft(15),this.btnFeedbackReload.SetTop(8),this.btnFeedbackReload.SetWidth(50),this.btnFeedbackReload.SetHeight(24),this.btnFeedbackReload.FMargins.SetLeft(0),this.btnFeedbackReload.FMargins.SetTop(0),this.btnFeedbackReload.FMargins.SetRight(0),this.btnFeedbackReload.FMargins.SetBottom(0),this.btnFeedbackReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnFeedbackReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnFeedbackReload.SetElementFont(1),this.btnFeedbackReload.SetElementPosition(1),this.btnFeedbackReload.SetHeightPercent(100),this.btnFeedbackReload.SetWidthStyle(2),this.btnFeedbackReload.SetWidthPercent(100),this.SetEvent$1(this.btnFeedbackReload,this,"OnClick","btnFeedbackReloadClick");this.btnFeedbackPrint.SetParentComponent(this.divFeedbackButtons),this.btnFeedbackPrint.SetName("btnFeedbackPrint"),this.btnFeedbackPrint.FTag$1=1,this.btnFeedbackPrint.SetAlignWithMargins(!0),this.btnFeedbackPrint.SetLeft(289),this.btnFeedbackPrint.SetTop(8),this.btnFeedbackPrint.SetWidth(50),this.btnFeedbackPrint.SetHeight(24),this.btnFeedbackPrint.FMargins.SetLeft(0),this.btnFeedbackPrint.FMargins.SetTop(0),this.btnFeedbackPrint.FMargins.SetRight(0),this.btnFeedbackPrint.FMargins.SetBottom(0),this.btnFeedbackPrint.SetCaption('<i class="fa-solid fa-print me-1"></i> Print'),this.btnFeedbackPrint.SetChildOrderEx(4),this.btnFeedbackPrint.SetElementClassName("ShortButton btn btn-dark btn-sm"),this.btnFeedbackPrint.SetElementFont(1),this.btnFeedbackPrint.SetElementPosition(1),this.btnFeedbackPrint.SetHeightPercent(100),this.btnFeedbackPrint.SetWidthStyle(2),this.btnFeedbackPrint.SetWidthPercent(100),this.SetEvent$1(this.btnFeedbackPrint,this,"OnClick","btnIssuesPrintClick"),this.btnFeedbackStatusNew.SetParentComponent(this.divFeedbackButtons),this.btnFeedbackStatusNew.SetName("btnFeedbackStatusNew"),this.btnFeedbackStatusNew.FTag$1=1,this.btnFeedbackStatusNew.SetAlignWithMargins(!0),this.btnFeedbackStatusNew.SetLeft(75),this.btnFeedbackStatusNew.SetTop(8),this.btnFeedbackStatusNew.SetWidth(50),this.btnFeedbackStatusNew.SetHeight(24),this.btnFeedbackStatusNew.FMargins.SetLeft(0),this.btnFeedbackStatusNew.FMargins.SetTop(0),this.btnFeedbackStatusNew.FMargins.SetRight(0),this.btnFeedbackStatusNew.FMargins.SetBottom(0),this.btnFeedbackStatusNew.SetCaption('<i class="fa-solid fa-tag me-1"></i> Set Status: New'),this.btnFeedbackStatusNew.SetChildOrderEx(1),this.btnFeedbackStatusNew.SetElementClassName("ShortButton btn btn-warning btn-sm"),this.btnFeedbackStatusNew.SetElementFont(1),this.btnFeedbackStatusNew.SetElementPosition(1),this.btnFeedbackStatusNew.SetHeightPercent(100),this.btnFeedbackStatusNew.SetVisible(!1),this.btnFeedbackStatusNew.SetWidthStyle(2),this.btnFeedbackStatusNew.SetWidthPercent(100),this.SetEvent$1(this.btnFeedbackStatusNew,this,"OnClick","btnIssueStatusNewClick"),this.btnFeedbackStatusInProgress.SetParentComponent(this.divFeedbackButtons),this.btnFeedbackStatusInProgress.SetName("btnFeedbackStatusInProgress"),this.btnFeedbackStatusInProgress.FTag$1=1,this.btnFeedbackStatusInProgress.SetAlignWithMargins(!0),this.btnFeedbackStatusInProgress.SetLeft(125),this.btnFeedbackStatusInProgress.SetTop(8),this.btnFeedbackStatusInProgress.SetWidth(50),this.btnFeedbackStatusInProgress.SetHeight(24),this.btnFeedbackStatusInProgress.FMargins.SetLeft(0),this.btnFeedbackStatusInProgress.FMargins.SetTop(0),this.btnFeedbackStatusInProgress.FMargins.SetRight(0),this.btnFeedbackStatusInProgress.FMargins.SetBottom(0),this.btnFeedbackStatusInProgress.SetCaption('<i class="fa-solid fa-tag me-1"></i> In Progress'),this.btnFeedbackStatusInProgress.SetChildOrderEx(2),this.btnFeedbackStatusInProgress.SetElementClassName("ShortButton btn btn-primary btn-sm"),this.btnFeedbackStatusInProgress.SetElementFont(1),this.btnFeedbackStatusInProgress.SetElementPosition(1),this.btnFeedbackStatusInProgress.SetHeightPercent(100),this.btnFeedbackStatusInProgress.SetVisible(!1),this.btnFeedbackStatusInProgress.SetWidthStyle(2),this.btnFeedbackStatusInProgress.SetWidthPercent(100),this.SetEvent$1(this.btnFeedbackStatusInProgress,this,"OnClick","btnIssueStatusNewClick"),this.btnFeedbackStatusClosed.SetParentComponent(this.divFeedbackButtons),this.btnFeedbackStatusClosed.SetName("btnFeedbackStatusClosed"),this.btnFeedbackStatusClosed.FTag$1=1,this.btnFeedbackStatusClosed.SetAlignWithMargins(!0),this.btnFeedbackStatusClosed.SetLeft(181),this.btnFeedbackStatusClosed.SetTop(8),this.btnFeedbackStatusClosed.SetWidth(50),this.btnFeedbackStatusClosed.SetHeight(24),this.btnFeedbackStatusClosed.FMargins.SetLeft(0),this.btnFeedbackStatusClosed.FMargins.SetTop(0),this.btnFeedbackStatusClosed.FMargins.SetRight(0),this.btnFeedbackStatusClosed.FMargins.SetBottom(0),this.btnFeedbackStatusClosed.SetCaption('<i class="fa-solid fa-tag me-1"></i> Closed'),this.btnFeedbackStatusClosed.SetChildOrderEx(3),this.btnFeedbackStatusClosed.SetElementClassName("ShortButton btn btn-success btn-sm"),this.btnFeedbackStatusClosed.SetElementFont(1),this.btnFeedbackStatusClosed.SetElementPosition(1),this.btnFeedbackStatusClosed.SetHeightPercent(100),this.btnFeedbackStatusClosed.SetVisible(!1),this.btnFeedbackStatusClosed.SetWidthStyle(2),this.btnFeedbackStatusClosed.SetWidthPercent(100),this.SetEvent$1(this.btnFeedbackStatusClosed,this,"OnClick","btnIssueStatusNewClick"),this.btnFeedbackActivityLog.SetParentComponent(this.divFeedbackButtons),this.btnFeedbackActivityLog.SetName("btnFeedbackActivityLog"),this.btnFeedbackActivityLog.FTag$1=1,this.btnFeedbackActivityLog.SetAlignWithMargins(!0),this.btnFeedbackActivityLog.SetLeft(231),this.btnFeedbackActivityLog.SetTop(8),this.btnFeedbackActivityLog.SetWidth(50),this.btnFeedbackActivityLog.SetHeight(24),this.btnFeedbackActivityLog.FMargins.SetLeft(0),this.btnFeedbackActivityLog.FMargins.SetTop(0),this.btnFeedbackActivityLog.FMargins.SetRight(0),this.btnFeedbackActivityLog.FMargins.SetBottom(0),this.btnFeedbackActivityLog.SetCaption('<i class="fa-solid fa-scroll me-1"></i> View Activity Log'),this.btnFeedbackActivityLog.SetChildOrderEx(4),this.btnFeedbackActivityLog.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnFeedbackActivityLog.SetElementFont(1),this.btnFeedbackActivityLog.SetElementPosition(1),this.btnFeedbackActivityLog.SetHeightPercent(100),this.btnFeedbackActivityLog.SetWidthStyle(2),this.btnFeedbackActivityLog.SetWidthPercent(100),this.SetEvent$1(this.btnFeedbackActivityLog,this,"OnClick","btnFeedbackActivityLogClick"),this.divFeedback.SetParentComponent(this.divFeedbackHolder),this.divFeedback.SetName("divFeedback"),this.divFeedback.SetAlignWithMargins(!0),this.divFeedback.SetLeft(0),this.divFeedback.SetTop(32),this.divFeedback.SetWidth(401),this.divFeedback.SetHeight(427),this.divFeedback.FMargins.SetLeft(0),this.divFeedback.FMargins.SetTop(0),this.divFeedback.FMargins.SetRight(0),this.divFeedback.FMargins.SetBottom(0),this.divFeedback.SetElementClassName("overflow-hidden border border-0"),this.divFeedback.SetAlign(5),this.divFeedback.SetChildOrderEx(1),this.divFeedback.SetElementFont(1),this.divFeedback.SetRole(""),this.splitterResponses.SetParentComponent(this.pageResponses),this.splitterResponses.SetName("splitterResponses"),this.splitterResponses.SetAlignWithMargins(!0),this.splitterResponses.SetLeft(525),this.splitterResponses.SetTop(50),this.splitterResponses.SetWidth(6),this.splitterResponses.SetHeight(367),this.splitterResponses.SetControlCursor(14),this.splitterResponses.FMargins.SetLeft(0),this.splitterResponses.FMargins.SetTop(50),this.splitterResponses.FMargins.SetRight(0),this.splitterResponses.FMargins.SetBottom(50),this.splitterResponses.SetElementClassName("rounded"),this.splitterResponses.SetAlign(3),this.splitterResponses.SetChildOrderEx(2),this.splitterResponses.SetColor(8222060),this.splitterResponses.SetGripColor(8222060),this.SetEvent$1(this.splitterResponses,this,"OnMove","splitterResponsesMove"),this.pageQuestions.SetParentComponent(this.pagecontrolMain),this.pageQuestions.SetName("pageQuestions"),this.pageQuestions.SetAlignWithMargins(!0),this.pageQuestions.SetLeft(0),this.pageQuestions.SetTop(20),this.pageQuestions.SetWidth(940),this.pageQuestions.SetHeight(467),this.pageQuestions.FMargins.SetLeft(0),this.pageQuestions.FMargins.SetTop(0),this.pageQuestions.FMargins.SetRight(0),this.pageQuestions.SetElementClassName("rounded border border-dark bg-light"),this.pageQuestions.SetCaption("Library"),this.pageQuestions.SetChildOrderEx(2),this.pageQuestions.SetElementFont(1),this.divLibrary.SetParentComponent(this.pageQuestions),this.divLibrary.SetName("divLibrary"),this.divLibrary.SetAlignWithMargins(!0),this.divLibrary.SetLeft(268),this.divLibrary.SetTop(4),this.divLibrary.SetWidth(668),this.divLibrary.SetHeight(459),this.divLibrary.FMargins.SetLeft(4),this.divLibrary.FMargins.SetTop(4),this.divLibrary.FMargins.SetRight(4),this.divLibrary.FMargins.SetBottom(4),this.divLibrary.SetElementClassName("overflow-hidden rounded border border-dark  bg-info"),this.divLibrary.SetAlign(5),this.divLibrary.SetChildOrderEx(2),this.divLibrary.SetElementFont(1),this.divLibrary.SetRole(""),this.divLibraryTypeHolder.SetParentComponent(this.divLibrary),this.divLibraryTypeHolder.SetName("divLibraryTypeHolder"),this.divLibraryTypeHolder.SetAlignWithMargins(!0),this.divLibraryTypeHolder.SetLeft(4),this.divLibraryTypeHolder.SetTop(80),this.divLibraryTypeHolder.SetWidth(660),this.divLibraryTypeHolder.SetHeight(32),this.divLibraryTypeHolder.FMargins.SetLeft(4),this.divLibraryTypeHolder.FMargins.SetTop(4),this.divLibraryTypeHolder.FMargins.SetRight(4),this.divLibraryTypeHolder.FMargins.SetBottom(2),this.divLibraryTypeHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divLibraryTypeHolder.SetAlign(1),this.divLibraryTypeHolder.SetElementFont(1),this.divLibraryTypeHolder.SetRole(""),this.divLibraryType.SetParentComponent(this.divLibraryTypeHolder),this.divLibraryType.SetName("divLibraryType"),this.divLibraryType.SetLeft(0),this.divLibraryType.SetTop(0),this.divLibraryType.SetWidth(100),this.divLibraryType.SetHeight(32),this.divLibraryType.SetElementClassName("ConfigLabel"),this.divLibraryType.SetAlign(3),this.divLibraryType.SetElementFont(1),this.divLibraryType.FHTML.BeginUpdate();try{this.divLibraryType.FHTML.Clear(),this.divLibraryType.FHTML.Add("Question Type")}finally{this.divLibraryType.FHTML.EndUpdate()}this.divLibraryType.SetRole(""),this.edtLibraryType.SetParentComponent(this.divLibraryTypeHolder),this.edtLibraryType.SetName("edtLibraryType"),this.edtLibraryType.SetAlignWithMargins(!0),this.edtLibraryType.SetLeft(102),this.edtLibraryType.SetTop(2),this.edtLibraryType.SetWidth(556),this.edtLibraryType.SetHeight(28),this.edtLibraryType.FMargins.SetLeft(2),this.edtLibraryType.FMargins.SetTop(2),this.edtLibraryType.FMargins.SetRight(2),this.edtLibraryType.FMargins.SetBottom(2),this.edtLibraryType.SetAlign(5),this.edtLibraryType.SetChildOrderEx(1),this.edtLibraryType.SetElementClassName("rounded-1 ps-2 border border-dark bg-info text-dark"),this.edtLibraryType.SetElementFont(1),this.edtLibraryType.SetHeightPercent(100),this.edtLibraryType.SetReadOnly(!0),this.edtLibraryType.SetSpellCheck(!1),this.edtLibraryType.SetTabOrder(100),this.edtLibraryType.SetWidthPercent(100),this.SetEvent$1(this.edtLibraryType,this,"OnChange","SurveyChanged"),this.divLibraryNameHolder.SetParentComponent(this.divLibrary),this.divLibraryNameHolder.SetName("divLibraryNameHolder"),this.divLibraryNameHolder.SetAlignWithMargins(!0),this.divLibraryNameHolder.SetLeft(4),this.divLibraryNameHolder.SetTop(42),this.divLibraryNameHolder.SetWidth(660),this.divLibraryNameHolder.SetHeight(32),this.divLibraryNameHolder.FMargins.SetLeft(4),this.divLibraryNameHolder.FMargins.SetTop(4),this.divLibraryNameHolder.FMargins.SetRight(4),this.divLibraryNameHolder.FMargins.SetBottom(2),this.divLibraryNameHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divLibraryNameHolder.SetAlign(1),this.divLibraryNameHolder.SetChildOrderEx(1),this.divLibraryNameHolder.SetElementFont(1),this.divLibraryNameHolder.SetRole(""),this.divLibraryName.SetParentComponent(this.divLibraryNameHolder),this.divLibraryName.SetName("divLibraryName"),this.divLibraryName.SetLeft(0),this.divLibraryName.SetTop(0),this.divLibraryName.SetWidth(100),this.divLibraryName.SetHeight(32),this.divLibraryName.SetElementClassName("ConfigLabel"),this.divLibraryName.SetAlign(3),this.divLibraryName.SetElementFont(1),this.divLibraryName.FHTML.BeginUpdate();try{this.divLibraryName.FHTML.Clear(),this.divLibraryName.FHTML.Add("Library Name")}finally{this.divLibraryName.FHTML.EndUpdate()}this.divLibraryName.SetRole(""),this.edtLibraryName.SetParentComponent(this.divLibraryNameHolder),this.edtLibraryName.SetName("edtLibraryName"),this.edtLibraryName.SetAlignWithMargins(!0),this.edtLibraryName.SetLeft(102),this.edtLibraryName.SetTop(2),this.edtLibraryName.SetWidth(556),this.edtLibraryName.SetHeight(28),this.edtLibraryName.FMargins.SetLeft(2),this.edtLibraryName.FMargins.SetTop(2),this.edtLibraryName.FMargins.SetRight(2),this.edtLibraryName.FMargins.SetBottom(2),this.edtLibraryName.SetAlign(5),this.edtLibraryName.SetChildOrderEx(1),this.edtLibraryName.SetElementClassName("rounded-1 ps-2 border border-none"),this.edtLibraryName.SetElementFont(1),this.edtLibraryName.SetHeightPercent(100),this.edtLibraryName.SetReadOnly(!0),this.edtLibraryName.SetSpellCheck(!1),this.edtLibraryName.SetTabOrder(100),this.edtLibraryName.SetWidthPercent(100),this.SetEvent$1(this.edtLibraryName,this,"OnChange","SurveyChanged"),this.divLibraryIDHolder.SetParentComponent(this.divLibrary),this.divLibraryIDHolder.SetName("divLibraryIDHolder"),this.divLibraryIDHolder.SetAlignWithMargins(!0),this.divLibraryIDHolder.SetLeft(4),this.divLibraryIDHolder.SetTop(4),this.divLibraryIDHolder.SetWidth(660),this.divLibraryIDHolder.SetHeight(32),this.divLibraryIDHolder.FMargins.SetLeft(4),this.divLibraryIDHolder.FMargins.SetTop(4),this.divLibraryIDHolder.FMargins.SetRight(4),this.divLibraryIDHolder.FMargins.SetBottom(2),this.divLibraryIDHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divLibraryIDHolder.SetAlign(1),this.divLibraryIDHolder.SetChildOrderEx(2),this.divLibraryIDHolder.SetElementFont(1),this.divLibraryIDHolder.SetRole(""),this.divLibraryID.SetParentComponent(this.divLibraryIDHolder),this.divLibraryID.SetName("divLibraryID"),this.divLibraryID.SetLeft(0),this.divLibraryID.SetTop(0),this.divLibraryID.SetWidth(100),this.divLibraryID.SetHeight(32),this.divLibraryID.SetElementClassName("ConfigLabel"),this.divLibraryID.SetAlign(3),this.divLibraryID.SetElementFont(1),this.divLibraryID.FHTML.BeginUpdate();try{this.divLibraryID.FHTML.Clear(),this.divLibraryID.FHTML.Add("Library ID")}finally{this.divLibraryID.FHTML.EndUpdate()}this.divLibraryID.SetRole(""),this.edtLibraryID.SetParentComponent(this.divLibraryIDHolder),this.edtLibraryID.SetName("edtLibraryID"),this.edtLibraryID.SetAlignWithMargins(!0),this.edtLibraryID.SetLeft(102),this.edtLibraryID.SetTop(2),this.edtLibraryID.SetWidth(556),this.edtLibraryID.SetHeight(28),this.edtLibraryID.FMargins.SetLeft(2),this.edtLibraryID.FMargins.SetTop(2),this.edtLibraryID.FMargins.SetRight(2),this.edtLibraryID.FMargins.SetBottom(2),this.edtLibraryID.SetAlign(5),this.edtLibraryID.SetChildOrderEx(1),this.edtLibraryID.SetElementClassName("rounded-1 ps-2 border border-dark bg-info text-dark"),this.edtLibraryID.SetElementFont(1),this.edtLibraryID.SetHeightPercent(100),this.edtLibraryID.SetReadOnly(!0),this.edtLibraryID.SetSpellCheck(!1),this.edtLibraryID.SetTabOrder(100),this.edtLibraryID.SetWidthPercent(100),this.SetEvent$1(this.edtLibraryID,this,"OnChange","SurveyChanged"),this.divLibraryContentHolder.SetParentComponent(this.divLibrary),this.divLibraryContentHolder.SetName("divLibraryContentHolder"),this.divLibraryContentHolder.SetAlignWithMargins(!0),this.divLibraryContentHolder.SetLeft(4),this.divLibraryContentHolder.SetTop(116),this.divLibraryContentHolder.SetWidth(660),this.divLibraryContentHolder.SetHeight(339),this.divLibraryContentHolder.FMargins.SetLeft(4),this.divLibraryContentHolder.FMargins.SetTop(2),this.divLibraryContentHolder.FMargins.SetRight(4),this.divLibraryContentHolder.FMargins.SetBottom(4),this.divLibraryContentHolder.SetElementClassName("overflow-hidden rounded border border-dark bg-secondary"),this.divLibraryContentHolder.SetAlign(5),this.divLibraryContentHolder.SetChildOrderEx(2),this.divLibraryContentHolder.SetElementFont(1),this.divLibraryContentHolder.SetRole(""),this.divLibraryContentHeader.SetParentComponent(this.divLibraryContentHolder),this.divLibraryContentHeader.SetName("divLibraryContentHeader"),this.divLibraryContentHeader.SetLeft(0),this.divLibraryContentHeader.SetTop(0),this.divLibraryContentHeader.SetWidth(660),this.divLibraryContentHeader.SetHeight(50),this.divLibraryContentHeader.SetElementClassName("sun-editor"),this.divLibraryContentHeader.SetHeightStyle(2),this.divLibraryContentHeader.SetWidthStyle(0),this.divLibraryContentHeader.SetAlign(1),this.divLibraryContentHeader.SetElementFont(1),this.divLibraryContentHeader.SetRole(""),this.divLibraryContentFooter.SetParentComponent(this.divLibraryContentHolder),this.divLibraryContentFooter.SetName("divLibraryContentFooter"),this.divLibraryContentFooter.SetLeft(0),this.divLibraryContentFooter.SetTop(321),this.divLibraryContentFooter.SetWidth(660),this.divLibraryContentFooter.SetHeight(18),this.divLibraryContentFooter.SetElementClassName("sun-editor d-flex overflow-hidden"),this.divLibraryContentFooter.SetWidthStyle(0),this.divLibraryContentFooter.SetAlign(2),this.divLibraryContentFooter.SetChildOrderEx(1),this.divLibraryContentFooter.SetElementFont(1),this.divLibraryContentFooter.SetRole(""),this.divLibraryContent.SetParentComponent(this.divLibraryContentHolder),this.divLibraryContent.SetName("divLibraryContent"),this.divLibraryContent.SetAlignWithMargins(!0),this.divLibraryContent.SetLeft(0),this.divLibraryContent.SetTop(50),this.divLibraryContent.SetWidth(660),this.divLibraryContent.SetHeight(270),this.divLibraryContent.FMargins.SetLeft(0),this.divLibraryContent.FMargins.SetTop(0),this.divLibraryContent.FMargins.SetRight(0),this.divLibraryContent.FMargins.SetBottom(1),this.divLibraryContent.SetAlign(5),this.divLibraryContent.SetChildOrderEx(2),this.divLibraryContent.SetElementFont(1),this.divLibraryContent.FHTML.BeginUpdate();try{this.divLibraryContent.FHTML.Clear(),this.divLibraryContent.FHTML.Add('<textarea id="divLibraryContentText">')}finally{this.divLibraryContent.FHTML.EndUpdate()}this.divLibraryContent.SetRole(""),this.splitterLibrary.SetParentComponent(this.pageQuestions),this.splitterLibrary.SetName("splitterLibrary"),this.splitterLibrary.SetAlignWithMargins(!0),this.splitterLibrary.SetLeft(258),this.splitterLibrary.SetTop(50),this.splitterLibrary.SetWidth(6),this.splitterLibrary.SetHeight(367),this.splitterLibrary.SetControlCursor(14),this.splitterLibrary.FMargins.SetLeft(0),this.splitterLibrary.FMargins.SetTop(50),this.splitterLibrary.FMargins.SetRight(0),this.splitterLibrary.FMargins.SetBottom(50),this.splitterLibrary.SetElementClassName("rounded"),this.splitterLibrary.SetAlign(3),this.splitterLibrary.SetChildOrderEx(2),this.splitterLibrary.SetColor(8222060),this.splitterLibrary.SetGripColor(8222060),this.SetEvent$1(this.splitterLibrary,this,"OnMove","splitterLibraryMove"),this.divLibraryListHolder.SetParentComponent(this.pageQuestions),this.divLibraryListHolder.SetName("divLibraryListHolder"),this.divLibraryListHolder.SetAlignWithMargins(!0),this.divLibraryListHolder.SetLeft(4),this.divLibraryListHolder.SetTop(4),this.divLibraryListHolder.SetWidth(250),this.divLibraryListHolder.SetHeight(459),this.divLibraryListHolder.FMargins.SetLeft(4),this.divLibraryListHolder.FMargins.SetTop(4),this.divLibraryListHolder.FMargins.SetRight(4),this.divLibraryListHolder.FMargins.SetBottom(4),this.divLibraryListHolder.SetElementClassName("overflow-hidden rounded border border-dark  bg-white"),this.divLibraryListHolder.SetAlign(3),this.divLibraryListHolder.SetChildOrderEx(1),this.divLibraryListHolder.SetElementFont(1),this.divLibraryListHolder.SetRole(""),this.divLibraryButtons.SetParentComponent(this.divLibraryListHolder),this.divLibraryButtons.SetName("divLibraryButtons"),this.divLibraryButtons.SetAlignWithMargins(!0),this.divLibraryButtons.SetLeft(4),this.divLibraryButtons.SetTop(0),this.divLibraryButtons.SetWidth(244),this.divLibraryButtons.SetHeight(32),this.divLibraryButtons.FMargins.SetLeft(4),this.divLibraryButtons.FMargins.SetTop(0),this.divLibraryButtons.FMargins.SetRight(2),this.divLibraryButtons.FMargins.SetBottom(0),this.divLibraryButtons.SetElementClassName("d-flex align-items-center justify-content-stretch"),this.divLibraryButtons.SetAlign(1),this.divLibraryButtons.SetElementFont(1),this.divLibraryButtons.SetRole(""),this.btnLibraryListNew.SetParentComponent(this.divLibraryButtons),this.btnLibraryListNew.SetName("btnLibraryListNew"),this.btnLibraryListNew.SetAlignWithMargins(!0),this.btnLibraryListNew.SetLeft(3),this.btnLibraryListNew.SetTop(3),this.btnLibraryListNew.SetWidth(50),this.btnLibraryListNew.SetHeight(24),this.btnLibraryListNew.FMargins.SetLeft(0),this.btnLibraryListNew.FMargins.SetTop(0),this.btnLibraryListNew.FMargins.SetRight(1),this.btnLibraryListNew.FMargins.SetBottom(0),this.btnLibraryListNew.SetCaption('<i class="fa-solid fa-plus me-1 "></i> New'),this.btnLibraryListNew.SetChildOrderEx(1),this.btnLibraryListNew.SetElementClassName("ShortButton flex-fill btn btn-primary btn-sm"),this.btnLibraryListNew.SetElementFont(1),this.btnLibraryListNew.SetElementPosition(1),this.btnLibraryListNew.SetHeightPercent(100),this.btnLibraryListNew.SetTabOrder(31),this.btnLibraryListNew.SetWidthStyle(2),this.btnLibraryListNew.SetWidthPercent(100),this.SetEvent$1(this.btnLibraryListNew,this,"OnClick","btnSurveyNewClick"),this.btnLibraryListDelete.SetParentComponent(this.divLibraryButtons),this.btnLibraryListDelete.SetName("btnLibraryListDelete"),this.btnLibraryListDelete.FTag$1=1,this.btnLibraryListDelete.SetAlignWithMargins(!0),this.btnLibraryListDelete.SetLeft(53),this.btnLibraryListDelete.SetTop(3),this.btnLibraryListDelete.SetWidth(50),this.btnLibraryListDelete.SetHeight(24),this.btnLibraryListDelete.FMargins.SetLeft(0),this.btnLibraryListDelete.FMargins.SetTop(0),this.btnLibraryListDelete.FMargins.SetRight(1),this.btnLibraryListDelete.FMargins.SetBottom(0),this.btnLibraryListDelete.SetCaption('<i class="fa-solid fa-trash-can me-1"></i>Delete'),this.btnLibraryListDelete.SetChildOrderEx(2),this.btnLibraryListDelete.SetElementClassName("ShortButton flex-fill btn btn-danger btn-sm"),this.btnLibraryListDelete.SetElementFont(1),this.btnLibraryListDelete.SetElementPosition(1),this.btnLibraryListDelete.SetHeightPercent(100),this.btnLibraryListDelete.SetTabOrder(32),this.btnLibraryListDelete.SetWidthStyle(2),this.btnLibraryListDelete.SetWidthPercent(100),this.SetEvent$1(this.btnLibraryListDelete,this,"OnClick","btnSurveyDeleteClick"),this.btnLibraryListClone.SetParentComponent(this.divLibraryButtons),this.btnLibraryListClone.SetName("btnLibraryListClone"),this.btnLibraryListClone.FTag$1=2,this.btnLibraryListClone.SetAlignWithMargins(!0),this.btnLibraryListClone.SetLeft(103),this.btnLibraryListClone.SetTop(3),this.btnLibraryListClone.SetWidth(50),this.btnLibraryListClone.SetHeight(24),this.btnLibraryListClone.FMargins.SetLeft(0),this.btnLibraryListClone.FMargins.SetTop(0),this.btnLibraryListClone.FMargins.SetRight(0),this.btnLibraryListClone.FMargins.SetBottom(0),this.btnLibraryListClone.SetCaption('<i class="fa-solid fa-clone me-1"></i> Clone'),this.btnLibraryListClone.SetChildOrderEx(3),this.btnLibraryListClone.SetElementClassName("ShortButton flex-fill  btn btn-success btn-sm"),this.btnLibraryListClone.SetElementFont(1),this.btnLibraryListClone.SetElementPosition(1),this.btnLibraryListClone.SetHeightPercent(100),this.btnLibraryListClone.SetTabOrder(33),this.btnLibraryListClone.SetWidthStyle(2),this.btnLibraryListClone.SetWidthPercent(100),this.SetEvent$1(this.btnLibraryListClone,this,"OnClick","btnSurveyCloneClick"),this.btnLibraryListReload.SetParentComponent(this.divLibraryButtons),this.btnLibraryListReload.SetName("btnLibraryListReload"),this.btnLibraryListReload.FTag$1=2,this.btnLibraryListReload.SetAlignWithMargins(!0),this.btnLibraryListReload.SetLeft(153),this.btnLibraryListReload.SetTop(3),this.btnLibraryListReload.SetWidth(50),this.btnLibraryListReload.SetHeight(24),this.btnLibraryListReload.FMargins.SetLeft(0),this.btnLibraryListReload.FMargins.SetTop(0),this.btnLibraryListReload.FMargins.SetRight(0),this.btnLibraryListReload.FMargins.SetBottom(0),this.btnLibraryListReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnLibraryListReload.SetElementClassName("ShortButton flex-fill  btn btn-secondary btn-sm"),this.btnLibraryListReload.SetElementFont(1),this.btnLibraryListReload.SetElementPosition(1),this.btnLibraryListReload.SetHeightPercent(100),this.btnLibraryListReload.SetTabOrder(30),this.btnLibraryListReload.SetWidthStyle(2),this.btnLibraryListReload.SetWidthPercent(100),this.SetEvent$1(this.btnLibraryListReload,this,"OnClick","btnSurveyReloadClick"),this.divLibraryList.SetParentComponent(this.divLibraryListHolder),this.divLibraryList.SetName("divLibraryList"),this.divLibraryList.SetLeft(0),this.divLibraryList.SetTop(32),this.divLibraryList.SetWidth(250),this.divLibraryList.SetHeight(427),this.divLibraryList.SetElementClassName("overflow-hidden border border-0"),this.divLibraryList.SetAlign(5),this.divLibraryList.SetChildOrderEx(1),this.divLibraryList.SetElementFont(1),this.divLibraryList.SetRole(""),this.pageAccounts.SetParentComponent(this.pagecontrolMain),this.pageAccounts.SetName("pageAccounts"),this.pageAccounts.SetAlignWithMargins(!0),this.pageAccounts.SetLeft(0),this.pageAccounts.SetTop(20),this.pageAccounts.SetWidth(940),this.pageAccounts.SetHeight(467),this.pageAccounts.FMargins.SetLeft(0),this.pageAccounts.FMargins.SetTop(0),this.pageAccounts.FMargins.SetRight(0),this.pageAccounts.SetElementClassName("rounded border border-dark bg-light"),this.pageAccounts.SetCaption("Accounts"),this.pageAccounts.SetChildOrderEx(3),this.pageAccounts.SetElementFont(1),this.divAccountsHolder.SetParentComponent(this.pageAccounts),this.divAccountsHolder.SetName("divAccountsHolder"),this.divAccountsHolder.SetAlignWithMargins(!0),this.divAccountsHolder.SetLeft(4),this.divAccountsHolder.SetTop(4),this.divAccountsHolder.SetWidth(433),this.divAccountsHolder.SetHeight(459),this.divAccountsHolder.FMargins.SetLeft(4),this.divAccountsHolder.FMargins.SetTop(4),this.divAccountsHolder.FMargins.SetRight(4),this.divAccountsHolder.FMargins.SetBottom(4),this.divAccountsHolder.SetElementClassName("overflow-hidden rounded-1 border border-dark  bg-white"),this.divAccountsHolder.SetAlign(3),this.divAccountsHolder.SetElementFont(1),this.divAccountsHolder.SetRole(""),this.divAccountsButtons.SetParentComponent(this.divAccountsHolder),this.divAccountsButtons.SetName("divAccountsButtons"),this.divAccountsButtons.SetAlignWithMargins(!0),this.divAccountsButtons.SetLeft(4),this.divAccountsButtons.SetTop(0),this.divAccountsButtons.SetWidth(427),this.divAccountsButtons.SetHeight(32),this.divAccountsButtons.FMargins.SetLeft(4),this.divAccountsButtons.FMargins.SetTop(0),this.divAccountsButtons.FMargins.SetRight(2),this.divAccountsButtons.FMargins.SetBottom(0),this.divAccountsButtons.SetElementClassName("d-flex align-items-center "),this.divAccountsButtons.SetAlign(1),this.divAccountsButtons.SetElementFont(1),this.divAccountsButtons.SetRole(""),this.btnAccountsReload.SetParentComponent(this.divAccountsButtons),this.btnAccountsReload.SetName("btnAccountsReload"),this.btnAccountsReload.FTag$1=1,this.btnAccountsReload.SetAlignWithMargins(!0),this.btnAccountsReload.SetLeft(3),this.btnAccountsReload.SetTop(5),this.btnAccountsReload.SetWidth(50),this.btnAccountsReload.SetHeight(24),this.btnAccountsReload.FMargins.SetLeft(0),this.btnAccountsReload.FMargins.SetTop(0),this.btnAccountsReload.FMargins.SetRight(0),this.btnAccountsReload.FMargins.SetBottom(0),this.btnAccountsReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnAccountsReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnAccountsReload.SetElementFont(1),this.btnAccountsReload.SetElementPosition(1),this.btnAccountsReload.SetHeightPercent(100),this.btnAccountsReload.SetWidthStyle(2),this.btnAccountsReload.SetWidthPercent(100),this.SetEvent$1(this.btnAccountsReload,this,"OnClick","btnAccountsReloadClick"),this.btnAccountsPrint.SetParentComponent(this.divAccountsButtons),this.btnAccountsPrint.SetName("btnAccountsPrint"),this.btnAccountsPrint.FTag$1=1,this.btnAccountsPrint.SetAlignWithMargins(!0),this.btnAccountsPrint.SetLeft(187),this.btnAccountsPrint.SetTop(5),this.btnAccountsPrint.SetWidth(50),this.btnAccountsPrint.SetHeight(24),this.btnAccountsPrint.FMargins.SetLeft(0),this.btnAccountsPrint.FMargins.SetTop(0),this.btnAccountsPrint.FMargins.SetRight(0),this.btnAccountsPrint.FMargins.SetBottom(0),this.btnAccountsPrint.SetCaption('<i class="fa-solid fa-print me-1"></i> Print'),this.btnAccountsPrint.SetChildOrderEx(3),this.btnAccountsPrint.SetElementClassName("ShortButton btn btn-dark btn-sm"),this.btnAccountsPrint.SetElementFont(1),this.btnAccountsPrint.SetElementPosition(1),this.btnAccountsPrint.SetHeightPercent(100),this.btnAccountsPrint.SetWidthStyle(2),this.btnAccountsPrint.SetWidthPercent(100),this.SetEvent$1(this.btnAccountsPrint,this,"OnClick","btnAccountsPrintClick"),this.btnAddUser.SetParentComponent(this.divAccountsButtons),this.btnAddUser.SetName("btnAddUser"),this.btnAddUser.FTag$1=1,this.btnAddUser.SetAlignWithMargins(!0),this.btnAddUser.SetLeft(54),this.btnAddUser.SetTop(5),this.btnAddUser.SetWidth(50),this.btnAddUser.SetHeight(24),this.btnAddUser.FMargins.SetLeft(0),this.btnAddUser.FMargins.SetTop(0),this.btnAddUser.FMargins.SetRight(0),this.btnAddUser.FMargins.SetBottom(0),this.btnAddUser.SetCaption('<i class="fa-solid fa-user-plus me-1"></i> Add'),this.btnAddUser.SetChildOrderEx(1),this.btnAddUser.SetElementClassName("ShortButton btn btn-primary btn-sm"),this.btnAddUser.SetElementFont(1),this.btnAddUser.SetElementPosition(1),this.btnAddUser.SetHeightPercent(100),this.btnAddUser.SetWidthStyle(2),this.btnAddUser.SetWidthPercent(100),this.SetEvent$1(this.btnAddUser,this,"OnClick","btnAddUserClick"),this.btnDeleteUser.SetParentComponent(this.divAccountsButtons),this.btnDeleteUser.SetName("btnDeleteUser"),this.btnDeleteUser.FTag$1=1,this.btnDeleteUser.SetAlignWithMargins(!0),this.btnDeleteUser.SetLeft(121),this.btnDeleteUser.SetTop(5),this.btnDeleteUser.SetWidth(50),this.btnDeleteUser.SetHeight(24),this.btnDeleteUser.FMargins.SetLeft(0),this.btnDeleteUser.FMargins.SetTop(0),this.btnDeleteUser.FMargins.SetRight(0),this.btnDeleteUser.FMargins.SetBottom(0),this.btnDeleteUser.SetCaption('<i class="fa-solid fa-user-minus me-1"></i> Delete'),this.btnDeleteUser.SetChildOrderEx(2),this.btnDeleteUser.SetElementClassName("ShortButton btn btn-danger btn-sm"),this.btnDeleteUser.SetElementFont(1),this.btnDeleteUser.SetElementPosition(1),this.btnDeleteUser.SetHeightPercent(100),this.btnDeleteUser.SetWidthStyle(2),this.btnDeleteUser.SetWidthPercent(100),this.SetEvent$1(this.btnDeleteUser,this,"OnClick","btnDeleteUserClick"),this.btnSetPassword.SetParentComponent(this.divAccountsButtons),this.btnSetPassword.SetName("btnSetPassword"),this.btnSetPassword.FTag$1=1,this.btnSetPassword.SetAlignWithMargins(!0),this.btnSetPassword.SetLeft(237),this.btnSetPassword.SetTop(5),this.btnSetPassword.SetWidth(50),this.btnSetPassword.SetHeight(24),this.btnSetPassword.FMargins.SetLeft(0),this.btnSetPassword.FMargins.SetTop(0),this.btnSetPassword.FMargins.SetRight(0),this.btnSetPassword.FMargins.SetBottom(0),this.btnSetPassword.SetCaption('<i class="fa-solid fa-key me-1"></i> Set Password'),this.btnSetPassword.SetChildOrderEx(4),this.btnSetPassword.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnSetPassword.SetElementFont(1),this.btnSetPassword.SetElementPosition(1),this.btnSetPassword.SetHeightPercent(100),this.btnSetPassword.SetWidthStyle(2),this.btnSetPassword.SetWidthPercent(100),this.SetEvent$1(this.btnSetPassword,this,"OnClick","btnSetPasswordClick"),this.edtSetPassword.SetParentComponent(this.divAccountsButtons),this.edtSetPassword.SetName("edtSetPassword"),this.edtSetPassword.SetAlignWithMargins(!0),this.edtSetPassword.SetLeft(289),this.edtSetPassword.SetTop(4),this.edtSetPassword.SetWidth(150),this.edtSetPassword.SetHeight(24),this.edtSetPassword.FMargins.SetLeft(0),this.edtSetPassword.FMargins.SetTop(0),this.edtSetPassword.FMargins.SetRight(0),this.edtSetPassword.FMargins.SetBottom(0),this.edtSetPassword.SetChildOrderEx(5),this.edtSetPassword.SetElementClassName("ShortButton border border-secondary rounded-1"),this.edtSetPassword.SetElementFont(1),this.edtSetPassword.SetElementPosition(1),this.edtSetPassword.SetHeightPercent(100),this.edtSetPassword.SetSpellCheck(!1),this.edtSetPassword.SetWidthStyle(0),this.edtSetPassword.SetWidthPercent(100),this.divAccounts.SetParentComponent(this.divAccountsHolder),this.divAccounts.SetName("divAccounts"),this.divAccounts.SetAlignWithMargins(!0),this.divAccounts.SetLeft(0),this.divAccounts.SetTop(32),this.divAccounts.SetWidth(433),this.divAccounts.SetHeight(427),this.divAccounts.FMargins.SetLeft(0),this.divAccounts.FMargins.SetTop(0),this.divAccounts.FMargins.SetRight(0),this.divAccounts.FMargins.SetBottom(0),this.divAccounts.SetElementClassName("overflow-hidden border border-0"),this.divAccounts.SetAlign(5),this.divAccounts.SetChildOrderEx(1),this.divAccounts.SetElementFont(1),this.divAccounts.SetRole(""),this.divIssuesHolder.SetParentComponent(this.pageAccounts),this.divIssuesHolder.SetName("divIssuesHolder"),this.divIssuesHolder.SetAlignWithMargins(!0),this.divIssuesHolder.SetLeft(451),this.divIssuesHolder.SetTop(4),this.divIssuesHolder.SetWidth(485),this.divIssuesHolder.SetHeight(459),this.divIssuesHolder.FMargins.SetLeft(4),this.divIssuesHolder.FMargins.SetTop(4),this.divIssuesHolder.FMargins.SetRight(4),this.divIssuesHolder.FMargins.SetBottom(4),this.divIssuesHolder.SetElementClassName("overflow-hidden rounded-1 border border-dark  bg-white"),this.divIssuesHolder.SetAlign(5),this.divIssuesHolder.SetChildOrderEx(1),this.divIssuesHolder.SetElementFont(1),this.divIssuesHolder.SetRole(""),this.divIssuesButtons.SetParentComponent(this.divIssuesHolder),this.divIssuesButtons.SetName("divIssuesButtons"),this.divIssuesButtons.SetAlignWithMargins(!0),this.divIssuesButtons.SetLeft(4),this.divIssuesButtons.SetTop(0),this.divIssuesButtons.SetWidth(479),this.divIssuesButtons.SetHeight(32),this.divIssuesButtons.FMargins.SetLeft(4),this.divIssuesButtons.FMargins.SetTop(0),this.divIssuesButtons.FMargins.SetRight(2),this.divIssuesButtons.FMargins.SetBottom(0),this.divIssuesButtons.SetElementClassName("d-flex align-items-center "),this.divIssuesButtons.SetAlign(1),this.divIssuesButtons.SetElementFont(1),this.divIssuesButtons.SetRole(""),this.btnIssuesReload.SetParentComponent(this.divIssuesButtons),this.btnIssuesReload.SetName("btnIssuesReload"),this.btnIssuesReload.FTag$1=1,this.btnIssuesReload.SetAlignWithMargins(!0),this.btnIssuesReload.SetLeft(15),this.btnIssuesReload.SetTop(8),this.btnIssuesReload.SetWidth(50),this.btnIssuesReload.SetHeight(24),this.btnIssuesReload.FMargins.SetLeft(0),this.btnIssuesReload.FMargins.SetTop(0),this.btnIssuesReload.FMargins.SetRight(0),this.btnIssuesReload.FMargins.SetBottom(0),this.btnIssuesReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnIssuesReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnIssuesReload.SetElementFont(1),this.btnIssuesReload.SetElementPosition(1),this.btnIssuesReload.SetHeightPercent(100),this.btnIssuesReload.SetWidthStyle(2),this.btnIssuesReload.SetWidthPercent(100),this.SetEvent$1(this.btnIssuesReload,this,"OnClick","btnIssuesReloadClick"),this.btnIssuesPrint.SetParentComponent(this.divIssuesButtons),this.btnIssuesPrint.SetName("btnIssuesPrint"),this.btnIssuesPrint.FTag$1=1,this.btnIssuesPrint.SetAlignWithMargins(!0),this.btnIssuesPrint.SetLeft(289),this.btnIssuesPrint.SetTop(8),this.btnIssuesPrint.SetWidth(50),this.btnIssuesPrint.SetHeight(24),this.btnIssuesPrint.FMargins.SetLeft(0),this.btnIssuesPrint.FMargins.SetTop(0),this.btnIssuesPrint.FMargins.SetRight(0),this.btnIssuesPrint.FMargins.SetBottom(0),this.btnIssuesPrint.SetCaption('<i class="fa-solid fa-print me-1"></i> Print'),this.btnIssuesPrint.SetChildOrderEx(4),this.btnIssuesPrint.SetElementClassName("ShortButton btn btn-dark btn-sm"),this.btnIssuesPrint.SetElementFont(1),this.btnIssuesPrint.SetElementPosition(1),this.btnIssuesPrint.SetHeightPercent(100),this.btnIssuesPrint.SetWidthStyle(2),this.btnIssuesPrint.SetWidthPercent(100),this.SetEvent$1(this.btnIssuesPrint,this,"OnClick","btnIssuesPrintClick"),this.btnIssueStatusNew.SetParentComponent(this.divIssuesButtons),this.btnIssueStatusNew.SetName("btnIssueStatusNew"),this.btnIssueStatusNew.FTag$1=1,this.btnIssueStatusNew.SetAlignWithMargins(!0),this.btnIssueStatusNew.SetLeft(75),this.btnIssueStatusNew.SetTop(8),this.btnIssueStatusNew.SetWidth(50),this.btnIssueStatusNew.SetHeight(24),this.btnIssueStatusNew.FMargins.SetLeft(0),this.btnIssueStatusNew.FMargins.SetTop(0),this.btnIssueStatusNew.FMargins.SetRight(0),this.btnIssueStatusNew.FMargins.SetBottom(0),this.btnIssueStatusNew.SetCaption('<i class="fa-solid fa-tag me-1"></i> Set Status: New'),this.btnIssueStatusNew.SetChildOrderEx(1),this.btnIssueStatusNew.SetElementClassName("ShortButton btn btn-warning btn-sm"),this.btnIssueStatusNew.SetElementFont(1),this.btnIssueStatusNew.SetElementPosition(1),this.btnIssueStatusNew.SetHeightPercent(100),this.btnIssueStatusNew.SetWidthStyle(2),this.btnIssueStatusNew.SetWidthPercent(100),this.SetEvent$1(this.btnIssueStatusNew,this,"OnClick","btnIssueStatusNewClick"),this.btnIssueStatusInProgress.SetParentComponent(this.divIssuesButtons),this.btnIssueStatusInProgress.SetName("btnIssueStatusInProgress"),this.btnIssueStatusInProgress.FTag$1=1,this.btnIssueStatusInProgress.SetAlignWithMargins(!0),this.btnIssueStatusInProgress.SetLeft(125),this.btnIssueStatusInProgress.SetTop(8),this.btnIssueStatusInProgress.SetWidth(50),this.btnIssueStatusInProgress.SetHeight(24),this.btnIssueStatusInProgress.FMargins.SetLeft(0),this.btnIssueStatusInProgress.FMargins.SetTop(0),this.btnIssueStatusInProgress.FMargins.SetRight(0),this.btnIssueStatusInProgress.FMargins.SetBottom(0),this.btnIssueStatusInProgress.SetCaption('<i class="fa-solid fa-tag me-1"></i> In Progress'),this.btnIssueStatusInProgress.SetChildOrderEx(2),this.btnIssueStatusInProgress.SetElementClassName("ShortButton btn btn-primary btn-sm"),this.btnIssueStatusInProgress.SetElementFont(1),this.btnIssueStatusInProgress.SetElementPosition(1),this.btnIssueStatusInProgress.SetHeightPercent(100),this.btnIssueStatusInProgress.SetWidthStyle(2),this.btnIssueStatusInProgress.SetWidthPercent(100),this.SetEvent$1(this.btnIssueStatusInProgress,this,"OnClick","btnIssueStatusNewClick"),this.btnIssueStatusClosed.SetParentComponent(this.divIssuesButtons),this.btnIssueStatusClosed.SetName("btnIssueStatusClosed"),this.btnIssueStatusClosed.FTag$1=1,this.btnIssueStatusClosed.SetAlignWithMargins(!0),this.btnIssueStatusClosed.SetLeft(181),this.btnIssueStatusClosed.SetTop(8),this.btnIssueStatusClosed.SetWidth(50),this.btnIssueStatusClosed.SetHeight(24),this.btnIssueStatusClosed.FMargins.SetLeft(0),this.btnIssueStatusClosed.FMargins.SetTop(0),this.btnIssueStatusClosed.FMargins.SetRight(0),this.btnIssueStatusClosed.FMargins.SetBottom(0),this.btnIssueStatusClosed.SetCaption('<i class="fa-solid fa-tag me-1"></i> Closed'),this.btnIssueStatusClosed.SetChildOrderEx(3),this.btnIssueStatusClosed.SetElementClassName("ShortButton btn btn-success btn-sm"),this.btnIssueStatusClosed.SetElementFont(1),this.btnIssueStatusClosed.SetElementPosition(1),this.btnIssueStatusClosed.SetHeightPercent(100),this.btnIssueStatusClosed.SetWidthStyle(2),this.btnIssueStatusClosed.SetWidthPercent(100),this.SetEvent$1(this.btnIssueStatusClosed,this,"OnClick","btnIssueStatusNewClick"),this.btnViewActivityLog.SetParentComponent(this.divIssuesButtons),this.btnViewActivityLog.SetName("btnViewActivityLog"),this.btnViewActivityLog.FTag$1=1,this.btnViewActivityLog.SetAlignWithMargins(!0),this.btnViewActivityLog.SetLeft(231),this.btnViewActivityLog.SetTop(8),this.btnViewActivityLog.SetWidth(50),this.btnViewActivityLog.SetHeight(24),this.btnViewActivityLog.FMargins.SetLeft(0),this.btnViewActivityLog.FMargins.SetTop(0),this.btnViewActivityLog.FMargins.SetRight(0),this.btnViewActivityLog.FMargins.SetBottom(0),this.btnViewActivityLog.SetCaption('<i class="fa-solid fa-scroll me-1"></i> View Activity Log'),this.btnViewActivityLog.SetChildOrderEx(4),this.btnViewActivityLog.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnViewActivityLog.SetElementFont(1),this.btnViewActivityLog.SetElementPosition(1),this.btnViewActivityLog.SetHeightPercent(100),this.btnViewActivityLog.SetWidthStyle(2),this.btnViewActivityLog.SetWidthPercent(100),this.SetEvent$1(this.btnViewActivityLog,this,"OnClick","btnViewActivityLogClick"),this.divIssues.SetParentComponent(this.divIssuesHolder),this.divIssues.SetName("divIssues"),this.divIssues.SetAlignWithMargins(!0),this.divIssues.SetLeft(0),this.divIssues.SetTop(32),this.divIssues.SetWidth(485),this.divIssues.SetHeight(427),this.divIssues.FMargins.SetLeft(0),this.divIssues.FMargins.SetTop(0),this.divIssues.FMargins.SetRight(0),this.divIssues.FMargins.SetBottom(0),this.divIssues.SetElementClassName("overflow-hidden border border-0"),this.divIssues.SetAlign(5),this.divIssues.SetChildOrderEx(1),this.divIssues.SetElementFont(1),this.divIssues.SetRole(""),this.splitterAccounts.SetParentComponent(this.pageAccounts),this.splitterAccounts.SetName("splitterAccounts"),this.splitterAccounts.SetAlignWithMargins(!0),this.splitterAccounts.SetLeft(441),this.splitterAccounts.SetTop(50),this.splitterAccounts.SetWidth(6),this.splitterAccounts.SetHeight(367),this.splitterAccounts.SetControlCursor(14),this.splitterAccounts.FMargins.SetLeft(0),this.splitterAccounts.FMargins.SetTop(50),this.splitterAccounts.FMargins.SetRight(0),this.splitterAccounts.FMargins.SetBottom(50),this.splitterAccounts.SetElementClassName("rounded"),this.splitterAccounts.SetAlign(3),this.splitterAccounts.SetChildOrderEx(2),this.splitterAccounts.SetColor(8222060),this.splitterAccounts.SetGripColor(8222060),this.SetEvent$1(this.splitterAccounts,this,"OnMove","splitterAccountsMove"),this.pageLogging.SetParentComponent(this.pagecontrolMain),this.pageLogging.SetName("pageLogging"),this.pageLogging.SetAlignWithMargins(!0),this.pageLogging.SetLeft(0),this.pageLogging.SetTop(20),this.pageLogging.SetWidth(940),this.pageLogging.SetHeight(467),this.pageLogging.FMargins.SetLeft(0),this.pageLogging.FMargins.SetTop(0),this.pageLogging.FMargins.SetRight(0),this.pageLogging.SetElementClassName("rounded border border-dark bg-light"),this.pageLogging.SetCaption("Logging"),this.pageLogging.SetChildOrderEx(4),this.pageLogging.SetElementFont(1),this.divLoggingHolder.SetParentComponent(this.pageLogging),this.divLoggingHolder.SetName("divLoggingHolder"),this.divLoggingHolder.SetAlignWithMargins(!0),this.divLoggingHolder.SetLeft(4),this.divLoggingHolder.SetTop(4),this.divLoggingHolder.SetWidth(932),this.divLoggingHolder.SetHeight(459),this.divLoggingHolder.FMargins.SetLeft(4),this.divLoggingHolder.FMargins.SetTop(4),this.divLoggingHolder.FMargins.SetRight(4),this.divLoggingHolder.FMargins.SetBottom(4),this.divLoggingHolder.SetElementClassName("overflow-hidden rounded-1 border border-dark  bg-white"),this.divLoggingHolder.SetAlign(5),this.divLoggingHolder.SetElementFont(1),this.divLoggingHolder.SetRole(""),this.divLoggingButtons.SetParentComponent(this.divLoggingHolder),this.divLoggingButtons.SetName("divLoggingButtons"),this.divLoggingButtons.SetAlignWithMargins(!0),this.divLoggingButtons.SetLeft(4),this.divLoggingButtons.SetTop(0),this.divLoggingButtons.SetWidth(926),this.divLoggingButtons.SetHeight(32),this.divLoggingButtons.FMargins.SetLeft(4),this.divLoggingButtons.FMargins.SetTop(0),this.divLoggingButtons.FMargins.SetRight(2),this.divLoggingButtons.FMargins.SetBottom(0),this.divLoggingButtons.SetElementClassName("d-flex align-items-center "),this.divLoggingButtons.SetAlign(1),this.divLoggingButtons.SetElementFont(1),this.divLoggingButtons.SetRole(""),this.btnLoggingToday.SetParentComponent(this.divLoggingButtons),this.btnLoggingToday.SetName("btnLoggingToday"),this.btnLoggingToday.SetAlignWithMargins(!0),this.btnLoggingToday.SetLeft(2),this.btnLoggingToday.SetTop(3),this.btnLoggingToday.SetWidth(50),this.btnLoggingToday.SetHeight(24),this.btnLoggingToday.FMargins.SetLeft(0),this.btnLoggingToday.FMargins.SetTop(0),this.btnLoggingToday.FMargins.SetRight(1),this.btnLoggingToday.FMargins.SetBottom(0),this.btnLoggingToday.SetCaption('<i class="fa-solid fa-calendar-day me-1 "></i> Today'),this.btnLoggingToday.SetChildOrderEx(1),this.btnLoggingToday.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnLoggingToday.SetElementFont(1),this.btnLoggingToday.SetElementPosition(1),this.btnLoggingToday.SetHeightPercent(100),this.btnLoggingToday.SetWidthStyle(2),this.btnLoggingToday.SetWidthPercent(100),this.SetEvent$1(this.btnLoggingToday,this,"OnClick","btnLoggingTodayClick"),this.btnLogging7Days.SetParentComponent(this.divLoggingButtons),this.btnLogging7Days.SetName("btnLogging7Days"),this.btnLogging7Days.FTag$1=1,this.btnLogging7Days.SetAlignWithMargins(!0),this.btnLogging7Days.SetLeft(53),this.btnLogging7Days.SetTop(3),this.btnLogging7Days.SetWidth(50),this.btnLogging7Days.SetHeight(24),this.btnLogging7Days.FMargins.SetLeft(0),this.btnLogging7Days.FMargins.SetTop(0),this.btnLogging7Days.FMargins.SetRight(1),this.btnLogging7Days.FMargins.SetBottom(0),this.btnLogging7Days.SetCaption('<i class="fa-solid fa-calendar-week me-1"></i>Past 7 days'),this.btnLogging7Days.SetChildOrderEx(2),this.btnLogging7Days.SetElementClassName("ShortButton  btn btn-secondary btn-sm"),this.btnLogging7Days.SetElementFont(1),this.btnLogging7Days.SetElementPosition(1),this.btnLogging7Days.SetHeightPercent(100),this.btnLogging7Days.SetWidthStyle(2),this.btnLogging7Days.SetWidthPercent(100),this.SetEvent$1(this.btnLogging7Days,this,"OnClick","btnLogging7DaysClick"),this.btnLoggingAllData.SetParentComponent(this.divLoggingButtons),this.btnLoggingAllData.SetName("btnLoggingAllData"),this.btnLoggingAllData.FTag$1=2,this.btnLoggingAllData.SetAlignWithMargins(!0),this.btnLoggingAllData.SetLeft(103),this.btnLoggingAllData.SetTop(3),this.btnLoggingAllData.SetWidth(50),this.btnLoggingAllData.SetHeight(24),this.btnLoggingAllData.FMargins.SetLeft(0),this.btnLoggingAllData.FMargins.SetTop(0),this.btnLoggingAllData.FMargins.SetRight(0),this.btnLoggingAllData.FMargins.SetBottom(0),this.btnLoggingAllData.SetCaption('<i class="fa-solid fa-calendar-days me-1"></i> All Data'),this.btnLoggingAllData.SetChildOrderEx(3),this.btnLoggingAllData.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnLoggingAllData.SetElementFont(1),this.btnLoggingAllData.SetElementPosition(1),this.btnLoggingAllData.SetHeightPercent(100),this.btnLoggingAllData.SetWidthStyle(2),this.btnLoggingAllData.SetWidthPercent(100),this.SetEvent$1(this.btnLoggingAllData,this,"OnClick","btnLoggingAllDataClick"),this.btnLoggingReload.SetParentComponent(this.divLoggingButtons),this.btnLoggingReload.SetName("btnLoggingReload"),this.btnLoggingReload.FTag$1=1,this.btnLoggingReload.SetAlignWithMargins(!0),this.btnLoggingReload.SetLeft(153),this.btnLoggingReload.SetTop(3),this.btnLoggingReload.SetWidth(50),this.btnLoggingReload.SetHeight(24),this.btnLoggingReload.FMargins.SetLeft(0),this.btnLoggingReload.FMargins.SetTop(0),this.btnLoggingReload.FMargins.SetRight(0),this.btnLoggingReload.FMargins.SetBottom(0),this.btnLoggingReload.SetCaption('<i class="fa-solid fa-rotate"></i>'),this.btnLoggingReload.SetElementClassName("ShortButton btn btn-secondary btn-sm"),this.btnLoggingReload.SetElementFont(1),this.btnLoggingReload.SetElementPosition(1),this.btnLoggingReload.SetHeightPercent(100),this.btnLoggingReload.SetWidthStyle(2),this.btnLoggingReload.SetWidthPercent(100),this.SetEvent$1(this.btnLoggingReload,this,"OnClick","btnLoggingReloadClick"),this.btnLoggingPrint.SetParentComponent(this.divLoggingButtons),this.btnLoggingPrint.SetName("btnLoggingPrint"),this.btnLoggingPrint.FTag$1=1,this.btnLoggingPrint.SetAlignWithMargins(!0),this.btnLoggingPrint.SetLeft(206),this.btnLoggingPrint.SetTop(3),this.btnLoggingPrint.SetWidth(50),this.btnLoggingPrint.SetHeight(24),this.btnLoggingPrint.FMargins.SetLeft(0),this.btnLoggingPrint.FMargins.SetTop(0),this.btnLoggingPrint.FMargins.SetRight(0),this.btnLoggingPrint.FMargins.SetBottom(0),this.btnLoggingPrint.SetCaption('<i class="fa-solid fa-print me-1"></i> Print'),this.btnLoggingPrint.SetChildOrderEx(4),this.btnLoggingPrint.SetElementClassName("ShortButton btn btn-dark btn-sm"),this.btnLoggingPrint.SetElementFont(1),this.btnLoggingPrint.SetElementPosition(1),this.btnLoggingPrint.SetHeightPercent(100),this.btnLoggingPrint.SetWidthStyle(2),this.btnLoggingPrint.SetWidthPercent(100),this.SetEvent$1(this.btnLoggingPrint,this,"OnClick","btnLoggingPrintClick"),this.divLogging.SetParentComponent(this.divLoggingHolder),this.divLogging.SetName("divLogging"),this.divLogging.SetAlignWithMargins(!0),this.divLogging.SetLeft(0),this.divLogging.SetTop(32),this.divLogging.SetWidth(932),this.divLogging.SetHeight(427),this.divLogging.FMargins.SetLeft(0),this.divLogging.FMargins.SetTop(0),this.divLogging.FMargins.SetRight(0),this.divLogging.FMargins.SetBottom(0),this.divLogging.SetElementClassName("overflow-hidden border border-0"),this.divLogging.SetAlign(5),this.divLogging.SetChildOrderEx(1),this.divLogging.SetElementFont(1),this.divLogging.SetRole(""),this.divBlocker.SetParentComponent(this),this.divBlocker.SetName("divBlocker"),this.divBlocker.SetLeft(49),this.divBlocker.SetTop(382),this.divBlocker.SetWidth(100),this.divBlocker.SetHeight(41),this.divBlocker.SetElementClassName("Open"),this.divBlocker.SetChildOrderEx(3),this.divBlocker.SetElementFont(1),this.divBlocker.SetRole(""),this.panelQuestionTypes.SetParentComponent(this),this.panelQuestionTypes.SetName("panelQuestionTypes"),this.panelQuestionTypes.SetLeft(49),this.panelQuestionTypes.SetTop(196),this.panelQuestionTypes.SetWidth(162),this.panelQuestionTypes.SetHeight(70),this.panelQuestionTypes.SetElementClassName("rounded-1 w-100 h-100 overflow-hidden border border-dark bg-secondary"),this.panelQuestionTypes.SetCaption("panelQuestionTypes"),this.panelQuestionTypes.SetChildOrderEx(1),this.panelQuestionTypes.SetElementFont(1),this.panelQuestionTypes.SetVisible(!1),this.tmrLaunch.SetParentComponent(this),this.tmrLaunch.SetName("tmrLaunch"),this.tmrLaunch.SetEnabled(!1),this.tmrLaunch.SetInterval(0),this.SetEvent$1(this.tmrLaunch,this,"OnTimer","tmrLaunchTimer"),this.tmrLaunch.SetLeft(48),this.tmrLaunch.SetTop(120),this.ServerConn.SetParentComponent(this),this.ServerConn.SetName("ServerConn"),this.SetEvent$1(this.ServerConn,this,"OnRequest","ServerConnRequest"),this.ServerConn.SetLeft(36),this.ServerConn.SetTop(474),this.tmrCountdown.SetParentComponent(this),this.tmrCountdown.SetName("tmrCountdown"),this.tmrCountdown.SetEnabled(!1),this.SetEvent$1(this.tmrCountdown,this,"OnTimer","tmrCountdownTimer"),this.tmrCountdown.SetLeft(144),this.tmrCountdown.SetTop(120)}finally{this.divTop.AfterLoadDFMValues(),this.panelTopLeft.AfterLoadDFMValues(),this.btnSurveys.AfterLoadDFMValues(),this.btnResponses.AfterLoadDFMValues(),this.btnQuestions.AfterLoadDFMValues(),this.btnAccounts.AfterLoadDFMValues(),this.btnLogging.AfterLoadDFMValues(),this.panelTopRight.AfterLoadDFMValues(),this.btnAccount.AfterLoadDFMValues(),this.btnLogout.AfterLoadDFMValues(),this.divBottom.AfterLoadDFMValues(),this.panelBottomRight.AfterLoadDFMValues(),this.btnBlog.AfterLoadDFMValues(),this.btnGitHub.AfterLoadDFMValues(),this.panelBottomLeft.AfterLoadDFMValues(),this.btnEmail.AfterLoadDFMValues(),this.btnDiscord.AfterLoadDFMValues(),this.btnTicket.AfterLoadDFMValues(),this.pagecontrolMain.AfterLoadDFMValues(),this.pageSurveys.AfterLoadDFMValues(),this.divSurveysSurveyHolder.AfterLoadDFMValues(),this.divSurveysButtons.AfterLoadDFMValues(),this.btnSurveyNew.AfterLoadDFMValues(),this.btnSurveyDelete.AfterLoadDFMValues(),this.btnSurveyClone.AfterLoadDFMValues(),this.btnSurveyReload.AfterLoadDFMValues(),this.divSurveysSurveyList.AfterLoadDFMValues(),this.splitterSurveyMain.AfterLoadDFMValues(),this.divSurveysMain.AfterLoadDFMValues(),this.pageControlSurveys.AfterLoadDFMValues(),this.pageConfig.AfterLoadDFMValues(),this.divSurveysOptions.AfterLoadDFMValues(),this.splitterSurveyConfig.AfterLoadDFMValues(),this.pagecontrolSurveysConfig.AfterLoadDFMValues(),this.pageConfigBasic.AfterLoadDFMValues(),this.scrollConfigBasic.AfterLoadDFMValues(),this.divConfigBasicName.AfterLoadDFMValues(),this.divConfigBasicNameLabel.AfterLoadDFMValues(),this.edtConfigBasicName.AfterLoadDFMValues(),this.divConfigBasicID.AfterLoadDFMValues(),this.divConfigBasicIDLabel.AfterLoadDFMValues(),this.edtConfigBasicID.AfterLoadDFMValues(),this.divConfigBasicLink.AfterLoadDFMValues(),this.divConfigBasicLinkLabel.AfterLoadDFMValues(),this.edtConfigBasicLink.AfterLoadDFMValues(),this.divConfigBasicGroup.AfterLoadDFMValues(),this.divConfigBasicGroupLabel.AfterLoadDFMValues(),this.edtConfigBasicGroup.AfterLoadDFMValues(),this.divSurveyInfoHolder.AfterLoadDFMValues(),this.divSurveyInfoButtons.AfterLoadDFMValues(),this.btnSurveyInfoReload.AfterLoadDFMValues(),this.divSurveyInfo.AfterLoadDFMValues(),this.divConfigBasicLiveLinkHolder.AfterLoadDFMValues(),this.divConfigBasicLiveLinkLabel.AfterLoadDFMValues(),this.divConfigBasicLiveLink.AfterLoadDFMValues(),this.divConfigBasicTestLinkHolder.AfterLoadDFMValues(),this.divConfigBasicTestLinkLabel.AfterLoadDFMValues(),this.divConfigBasicTestLink.AfterLoadDFMValues(),this.pageNotes.AfterLoadDFMValues(),this.divNotesHolder.AfterLoadDFMValues(),this.divNotesButtons.AfterLoadDFMValues(),this.btnNotesAdd.AfterLoadDFMValues(),this.btnNotesDelete.AfterLoadDFMValues(),this.btnNotesReload.AfterLoadDFMValues(),this.btnNotesPrint.AfterLoadDFMValues(),this.divNotes.AfterLoadDFMValues(),this.pageAvailability.AfterLoadDFMValues(),this.divAvailabilityHolder.AfterLoadDFMValues(),this.divAvailabilityButtons.AfterLoadDFMValues(),this.labelAvailabilityCountdown.AfterLoadDFMValues(),this.labelAvailabilityStatus.AfterLoadDFMValues(),this.btnAvailabilityAdd.AfterLoadDFMValues(),this.btnAvailabilityDelete.AfterLoadDFMValues(),this.btnAvailabilityPrint.AfterLoadDFMValues(),this.btnAvailabilityReload.AfterLoadDFMValues(),this.divAvailability.AfterLoadDFMValues(),this.pageBanner.AfterLoadDFMValues(),this.scrollConfigBanner.AfterLoadDFMValues(),this.divConfigBannerTitle.AfterLoadDFMValues(),this.divConfigBannerTitleLabel.AfterLoadDFMValues(),this.edtConfigBannerTitle.AfterLoadDFMValues(),this.divConfigBannerFooter.AfterLoadDFMValues(),this.divConfigBannerFooterLabel.AfterLoadDFMValues(),this.edtConfigBannerFooter.AfterLoadDFMValues(),this.divConfigBannerContentHolder.AfterLoadDFMValues(),this.divConfigBannerContentHeader.AfterLoadDFMValues(),this.divConfigBannerContentFooter.AfterLoadDFMValues(),this.divConfigBannerContent.AfterLoadDFMValues(),this.pageBannerPre.AfterLoadDFMValues(),this.scrollConfigBannerPre.AfterLoadDFMValues(),this.divConfigBannerPreTitle.AfterLoadDFMValues(),this.divConfigBannerPreTitleLabel.AfterLoadDFMValues(),this.edtConfigBannerPreTitle.AfterLoadDFMValues(),this.divConfigBannerPreFooter.AfterLoadDFMValues(),this.divConfigBannerPreFooterLabel.AfterLoadDFMValues(),this.edtConfigBannerPreFooter.AfterLoadDFMValues(),this.divConfigBannerPreContentHolder.AfterLoadDFMValues(),this.divConfigBannerPreContentHeader.AfterLoadDFMValues(),this.divConfigBannerPreContentFooter.AfterLoadDFMValues(),this.divConfigBannerPreContent.AfterLoadDFMValues(),this.pageBannerPause.AfterLoadDFMValues(),this.scrollConfigBannerPause.AfterLoadDFMValues(),this.divConfigBannerPauseTitle.AfterLoadDFMValues(),this.divConfigBannerPauseTitleLabel.AfterLoadDFMValues(),this.edtConfigBannerPauseTitle.AfterLoadDFMValues(),this.divConfigBannerPauseFooter.AfterLoadDFMValues(),this.divConfigBannerPauseFooterLabel.AfterLoadDFMValues(),this.edtConfigBannerPauseFooter.AfterLoadDFMValues(),this.divConfigBannerPauseContentHolder.AfterLoadDFMValues(),this.divConfigBannerPauseContentHeader.AfterLoadDFMValues(),this.divConfigBannerPauseContentFooter.AfterLoadDFMValues(),this.divConfigBannerPauseContent.AfterLoadDFMValues(),this.pageBannerPost.AfterLoadDFMValues(),this.scrollConfigBannerPost.AfterLoadDFMValues(),this.divConfigBannerPostTitle.AfterLoadDFMValues(),this.divConfigBannerPostTitleLabel.AfterLoadDFMValues(),this.edtConfigBannerPostTitle.AfterLoadDFMValues(),this.divConfigBannerPostFooter.AfterLoadDFMValues(),this.divConfigBannerPostFooterLabel.AfterLoadDFMValues(),this.edtConfigBannerPostFooter.AfterLoadDFMValues(),this.divConfigBannerPostContentHolder.AfterLoadDFMValues(),this.divConfigBannerPostContentHeader.AfterLoadDFMValues(),this.divConfigBannerPostContentFooter.AfterLoadDFMValues(),this.divConfigBannerPostContent.AfterLoadDFMValues(),this.pageAbout.AfterLoadDFMValues(),this.scrollConfigAbout.AfterLoadDFMValues(),this.divConfigAboutTitle.AfterLoadDFMValues(),this.divConfigAboutTitleLabel.AfterLoadDFMValues(),this.edtConfigAboutTitle.AfterLoadDFMValues(),this.divConfigAboutContentHolder.AfterLoadDFMValues(),this.divConfigAboutContentHeader.AfterLoadDFMValues(),this.divConfigAboutContentFooter.AfterLoadDFMValues(),this.divConfigAboutContent.AfterLoadDFMValues(),this.pageFeedback.AfterLoadDFMValues(),this.scrollConfigFeedback.AfterLoadDFMValues(),this.divConfigFeedbackTitle.AfterLoadDFMValues(),this.divConfigFeedbackTitleLabel.AfterLoadDFMValues(),this.edtConfigFeedbackTitle.AfterLoadDFMValues(),this.divConfigFeedbackContentHolder.AfterLoadDFMValues(),this.divConfigFeedbackContentHeader.AfterLoadDFMValues(),this.divConfigFeedbackContentFooter.AfterLoadDFMValues(),this.divConfigFeedbackContent.AfterLoadDFMValues(),this.pageChangeHistory.AfterLoadDFMValues(),this.divChangeHistoryHolder.AfterLoadDFMValues(),this.divChangeHistoryButtons.AfterLoadDFMValues(),this.btnChangeHistoryReload.AfterLoadDFMValues(),this.btnChangeHistoryPrint.AfterLoadDFMValues(),this.divChangeHistory.AfterLoadDFMValues(),this.pageQRCode.AfterLoadDFMValues(),this.divQRCodeHolder.AfterLoadDFMValues(),this.divQRCodeConstraints.AfterLoadDFMValues(),this.qrcode.AfterLoadDFMValues(),this.pageQuestion.AfterLoadDFMValues(),this.divQuestionsHolder.AfterLoadDFMValues(),this.divQuestionsButtons.AfterLoadDFMValues(),this.btnQuestionsNew.AfterLoadDFMValues(),this.btnQuestionsDelete.AfterLoadDFMValues(),this.btnQuestionsClone.AfterLoadDFMValues(),this.btnQuestionsReload.AfterLoadDFMValues(),this.divQuestions.AfterLoadDFMValues(),this.splitterQuestions.AfterLoadDFMValues(),this.divQuestion.AfterLoadDFMValues(),this.divQuestionTypeHolder.AfterLoadDFMValues(),this.divQuestionType.AfterLoadDFMValues(),this.ddQuestionType.AfterLoadDFMValues(),this.divQuestionNameHolder.AfterLoadDFMValues(),this.divQuestionName.AfterLoadDFMValues(),this.edtQuestionName.AfterLoadDFMValues(),this.divQuestionIDHolder.AfterLoadDFMValues(),this.divQuestionID.AfterLoadDFMValues(),this.edtQuestionID.AfterLoadDFMValues(),this.divQuestionContentHolder.AfterLoadDFMValues(),this.divQuestionContentHeader.AfterLoadDFMValues(),this.divQuestionContentFooter.AfterLoadDFMValues(),this.divQuestionContent.AfterLoadDFMValues(),this.divQuestionOptionsHolder.AfterLoadDFMValues(),this.divQuestionOptions.AfterLoadDFMValues(),this.edtQuestionOptions.AfterLoadDFMValues(),this.divQuestionOptionsInfo.AfterLoadDFMValues(),this.divQuestionTitleHolder.AfterLoadDFMValues(),this.divQuestionTitle.AfterLoadDFMValues(),this.edtQuestionTitle.AfterLoadDFMValues(),this.divQuestionFooterHolder.AfterLoadDFMValues(),this.divQuestionFooter.AfterLoadDFMValues(),this.edtQuestionFooter.AfterLoadDFMValues(),this.pagePermissions.AfterLoadDFMValues(),this.divPermissionsHolder.AfterLoadDFMValues(),this.WebHTMLDiv2.AfterLoadDFMValues(),this.btnPermissionsReload.AfterLoadDFMValues(),this.btnPermissionsPrint.AfterLoadDFMValues(),this.divPermissions.AfterLoadDFMValues(),this.pagePreview.AfterLoadDFMValues(),this.divPreviewHolder.AfterLoadDFMValues(),this.WebHTMLDiv3.AfterLoadDFMValues(),this.btnPreviewReload.AfterLoadDFMValues(),this.WebPanel1.AfterLoadDFMValues(),this.btnPreviewSize0.AfterLoadDFMValues(),this.btnPreviewSize2.AfterLoadDFMValues(),this.btnPreviewSize3.AfterLoadDFMValues(),this.btnPreviewSize4.AfterLoadDFMValues(),this.btnPreviewSize1.AfterLoadDFMValues(),this.WebPanel2.AfterLoadDFMValues(),this.btnPreviewActive.AfterLoadDFMValues(),this.btnPreviewPause.AfterLoadDFMValues(),this.btnPreviewPost.AfterLoadDFMValues(),this.btnPreviewPre.AfterLoadDFMValues(),this.btnPreviewAuto.AfterLoadDFMValues(),this.scrollPreview.AfterLoadDFMValues(),this.divPreview.AfterLoadDFMValues(),this.divSurveyMenu.AfterLoadDFMValues(),this.divSurveyMenuLeft.AfterLoadDFMValues(),this.btnSurveyOptions.AfterLoadDFMValues(),this.btnSurveyQuestions.AfterLoadDFMValues(),this.btnSurveyPreview.AfterLoadDFMValues(),this.btnSurveyPermissions.AfterLoadDFMValues(),this.divSurveyMenuRight.AfterLoadDFMValues(),this.btnSurveyCancel.AfterLoadDFMValues(),this.btnSurveySave.AfterLoadDFMValues(),this.pageResponses.AfterLoadDFMValues(),this.divResponsesHolder.AfterLoadDFMValues(),this.divResponsesButtons.AfterLoadDFMValues(),this.btnResponsesReload.AfterLoadDFMValues(),this.btnResponsesPrint.AfterLoadDFMValues(),this.divResponses.AfterLoadDFMValues(),this.divFeedbackHolder.AfterLoadDFMValues(),this.divFeedbackButtons.AfterLoadDFMValues(),this.btnFeedbackReload.AfterLoadDFMValues(),this.btnFeedbackPrint.AfterLoadDFMValues(),this.btnFeedbackStatusNew.AfterLoadDFMValues(),this.btnFeedbackStatusInProgress.AfterLoadDFMValues(),this.btnFeedbackStatusClosed.AfterLoadDFMValues(),this.btnFeedbackActivityLog.AfterLoadDFMValues(),this.divFeedback.AfterLoadDFMValues(),this.splitterResponses.AfterLoadDFMValues(),this.pageQuestions.AfterLoadDFMValues(),this.divLibrary.AfterLoadDFMValues(),this.divLibraryTypeHolder.AfterLoadDFMValues(),this.divLibraryType.AfterLoadDFMValues(),this.edtLibraryType.AfterLoadDFMValues(),this.divLibraryNameHolder.AfterLoadDFMValues(),this.divLibraryName.AfterLoadDFMValues(),this.edtLibraryName.AfterLoadDFMValues(),this.divLibraryIDHolder.AfterLoadDFMValues(),this.divLibraryID.AfterLoadDFMValues(),this.edtLibraryID.AfterLoadDFMValues(),this.divLibraryContentHolder.AfterLoadDFMValues(),this.divLibraryContentHeader.AfterLoadDFMValues(),this.divLibraryContentFooter.AfterLoadDFMValues(),this.divLibraryContent.AfterLoadDFMValues(),this.splitterLibrary.AfterLoadDFMValues(),this.divLibraryListHolder.AfterLoadDFMValues(),this.divLibraryButtons.AfterLoadDFMValues(),this.btnLibraryListNew.AfterLoadDFMValues(),this.btnLibraryListDelete.AfterLoadDFMValues(),this.btnLibraryListClone.AfterLoadDFMValues(),this.btnLibraryListReload.AfterLoadDFMValues(),this.divLibraryList.AfterLoadDFMValues(),this.pageAccounts.AfterLoadDFMValues(),this.divAccountsHolder.AfterLoadDFMValues(),this.divAccountsButtons.AfterLoadDFMValues(),this.btnAccountsReload.AfterLoadDFMValues(),this.btnAccountsPrint.AfterLoadDFMValues(),this.btnAddUser.AfterLoadDFMValues(),this.btnDeleteUser.AfterLoadDFMValues(),this.btnSetPassword.AfterLoadDFMValues(),this.edtSetPassword.AfterLoadDFMValues(),this.divAccounts.AfterLoadDFMValues(),this.divIssuesHolder.AfterLoadDFMValues(),this.divIssuesButtons.AfterLoadDFMValues(),this.btnIssuesReload.AfterLoadDFMValues(),this.btnIssuesPrint.AfterLoadDFMValues(),this.btnIssueStatusNew.AfterLoadDFMValues(),this.btnIssueStatusInProgress.AfterLoadDFMValues(),this.btnIssueStatusClosed.AfterLoadDFMValues(),this.btnViewActivityLog.AfterLoadDFMValues(),this.divIssues.AfterLoadDFMValues(),this.splitterAccounts.AfterLoadDFMValues(),this.pageLogging.AfterLoadDFMValues(),this.divLoggingHolder.AfterLoadDFMValues(),this.divLoggingButtons.AfterLoadDFMValues(),this.btnLoggingToday.AfterLoadDFMValues(),this.btnLogging7Days.AfterLoadDFMValues(),this.btnLoggingAllData.AfterLoadDFMValues(),this.btnLoggingReload.AfterLoadDFMValues(),this.btnLoggingPrint.AfterLoadDFMValues(),this.divLogging.AfterLoadDFMValues(),this.divBlocker.AfterLoadDFMValues(),this.panelQuestionTypes.AfterLoadDFMValues(),this.tmrLaunch.AfterLoadDFMValues(),this.ServerConn.AfterLoadDFMValues(),this.tmrCountdown.AfterLoadDFMValues()}},rtl.addIntf(this,pas.System.IUnknown);var e=this.$rtti;e.addField("divTop",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divBottom",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("pagecontrolMain",pas["WEBLib.ComCtrls"].$rtti.TPageControl),e.addField("pageSurveys",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageResponses",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageQuestions",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("panelTopLeft",pas["WEBLib.ExtCtrls"].$rtti.TPanel),e.addField("btnSurveys",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnResponses",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnQuestions",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnAccounts",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("panelTopRight",pas["WEBLib.ExtCtrls"].$rtti.TPanel),e.addField("btnAccount",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnLogout",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("pageAccounts",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("panelBottomRight",pas["WEBLib.ExtCtrls"].$rtti.TPanel),e.addField("btnBlog",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnGitHub",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("panelBottomLeft",pas["WEBLib.ExtCtrls"].$rtti.TPanel),e.addField("btnEmail",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnDiscord",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("tmrLaunch",pas["WEBLib.ExtCtrls"].$rtti.TTimer),e.addField("divSurveysSurveyHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("splitterSurveyMain",pas["WEBLib.ExtCtrls"].$rtti.TSplitter),e.addField("divSurveysMain",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("pageControlSurveys",pas["WEBLib.ComCtrls"].$rtti.TPageControl),e.addField("pageConfig",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageQuestion",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pagePreview",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("divSurveysOptions",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("splitterSurveyConfig",pas["WEBLib.ExtCtrls"].$rtti.TSplitter),e.addField("pagecontrolSurveysConfig",pas["WEBLib.ComCtrls"].$rtti.TPageControl),e.addField("pageConfigBasic",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageBanner",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageChangeHistory",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("divSurveysButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divSurveysSurveyList",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnSurveyNew",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnSurveyDelete",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnSurveyClone",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divSurveyMenu",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divSurveyMenuLeft",pas["WEBLib.ExtCtrls"].$rtti.TPanel),e.addField("btnSurveyOptions",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnSurveyQuestions",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnSurveyPreview",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divSurveyMenuRight",pas["WEBLib.ExtCtrls"].$rtti.TPanel),e.addField("btnSurveyCancel",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnSurveySave",pas["WEBLib.StdCtrls"].$rtti.TButton,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addField("scrollConfigBasic",pas["WEBLib.ExtCtrls"].$rtti.TScrollBox),e.addField("divConfigBasicName",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicNameLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicID",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicIDLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicLink",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicLinkLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigBasicName",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("scrollConfigBanner",pas["WEBLib.ExtCtrls"].$rtti.TScrollBox),e.addField("divConfigBannerTitle",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerTitleLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigBannerTitle",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divConfigBannerFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerFooterLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigBannerFooter",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("edtConfigBasicID",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("edtConfigBasicLink",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("ServerConn",pas["XData.Web.Connection"].$rtti.TXDataWebConnection),e.addField("btnSurveyReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divBlocker",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnLogging",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("pageLogging",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("divConfigBasicGroup",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicGroupLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigBasicGroup",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("btnSurveyPermissions",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divLoggingHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLoggingButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnLoggingToday",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnLogging7Days",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnLoggingAllData",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divLogging",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnTicket",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("pagePermissions",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("btnLoggingReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divChangeHistoryHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divChangeHistoryButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnChangeHistoryReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divChangeHistory",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("pageAvailability",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageBannerPre",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageBannerPause",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageBannerPost",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageAbout",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageFeedback",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("pageNotes",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("divAvailabilityHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divAvailabilityButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnAvailabilityAdd",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divAvailability",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("labelAvailabilityCountdown",pas["WEBLib.StdCtrls"].$rtti.TLabel),e.addField("labelAvailabilityStatus",pas["WEBLib.StdCtrls"].$rtti.TLabel),e.addField("btnAvailabilityDelete",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divSurveyInfoHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divSurveyInfoButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnSurveyInfoReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divSurveyInfo",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerContentHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerContentHeader",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerContentFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerContent",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divNotesHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divNotesButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnNotesAdd",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnNotesDelete",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divNotes",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("scrollConfigBannerPause",pas["WEBLib.ExtCtrls"].$rtti.TScrollBox),e.addField("divConfigBannerPauseTitle",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPauseTitleLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigBannerPauseTitle",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divConfigBannerPauseFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPauseFooterLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigBannerPauseFooter",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divConfigBannerPauseContentHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPauseContentHeader",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPauseContentFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPauseContent",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("scrollConfigBannerPre",pas["WEBLib.ExtCtrls"].$rtti.TScrollBox),e.addField("divConfigBannerPreTitle",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPreTitleLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigBannerPreTitle",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divConfigBannerPreFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPreFooterLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigBannerPreFooter",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divConfigBannerPreContentHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPreContentHeader",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPreContentFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPreContent",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("scrollConfigBannerPost",pas["WEBLib.ExtCtrls"].$rtti.TScrollBox),e.addField("divConfigBannerPostTitle",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPostTitleLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigBannerPostTitle",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divConfigBannerPostFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPostFooterLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigBannerPostFooter",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divConfigBannerPostContentHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPostContentHeader",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPostContentFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBannerPostContent",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("scrollConfigFeedback",pas["WEBLib.ExtCtrls"].$rtti.TScrollBox),e.addField("divConfigFeedbackTitle",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigFeedbackTitleLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigFeedbackTitle",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divConfigFeedbackContentHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigFeedbackContentHeader",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigFeedbackContentFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigFeedbackContent",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("scrollConfigAbout",pas["WEBLib.ExtCtrls"].$rtti.TScrollBox),e.addField("divConfigAboutTitle",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigAboutTitleLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtConfigAboutTitle",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divConfigAboutContentHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigAboutContentHeader",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigAboutContentFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigAboutContent",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicLiveLinkHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicLiveLinkLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicTestLinkHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicTestLinkLabel",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicTestLink",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divConfigBasicLiveLink",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("pageQRCode",pas["WEBLib.ComCtrls"].$rtti.TTabSheet),e.addField("divQRCodeHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQRCodeConstraints",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("qrcode",pas["WEBLib.TMSFNCWXQRCode"].$rtti.TTMSFNCWXQRCode),e.addField("btnNotesReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnLoggingPrint",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnAvailabilityPrint",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnChangeHistoryPrint",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnNotesPrint",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divAccountsHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divAccountsButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnAccountsReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnAccountsPrint",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divAccounts",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divIssuesHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divIssuesButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnIssuesReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnIssuesPrint",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divIssues",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("splitterAccounts",pas["WEBLib.ExtCtrls"].$rtti.TSplitter),e.addField("btnAddUser",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnDeleteUser",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnSetPassword",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("edtSetPassword",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("btnIssueStatusNew",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnIssueStatusInProgress",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnIssueStatusClosed",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divPermissionsHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("WebHTMLDiv2",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnPermissionsReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnPermissionsPrint",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divPermissions",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divPreviewHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("WebHTMLDiv3",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnPreviewReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("scrollPreview",pas["WEBLib.ExtCtrls"].$rtti.TScrollBox),e.addField("divPreview",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("WebPanel1",pas["WEBLib.ExtCtrls"].$rtti.TPanel),e.addField("btnPreviewSize0",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnPreviewSize2",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnPreviewSize3",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnPreviewSize4",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnPreviewSize1",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnViewActivityLog",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divResponsesHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divResponsesButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnResponsesReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnResponsesPrint",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divResponses",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divFeedbackHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divFeedbackButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnFeedbackReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnFeedbackPrint",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnFeedbackStatusNew",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnFeedbackStatusInProgress",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnFeedbackStatusClosed",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnFeedbackActivityLog",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divFeedback",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("splitterResponses",pas["WEBLib.ExtCtrls"].$rtti.TSplitter),e.addField("WebPanel2",pas["WEBLib.ExtCtrls"].$rtti.TPanel),e.addField("btnPreviewActive",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnPreviewPause",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnPreviewPost",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnPreviewPre",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnPreviewAuto",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnAvailabilityReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("tmrCountdown",pas["WEBLib.ExtCtrls"].$rtti.TTimer),e.addField("divQuestionsHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("splitterQuestions",pas["WEBLib.ExtCtrls"].$rtti.TSplitter),e.addField("divQuestion",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionTypeHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionType",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionNameHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionName",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtQuestionName",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divQuestionIDHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionID",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtQuestionID",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divQuestionContentHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionContentHeader",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionContentFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionContent",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLibrary",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLibraryTypeHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLibraryType",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtLibraryType",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divLibraryNameHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLibraryName",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtLibraryName",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divLibraryIDHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLibraryID",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtLibraryID",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divLibraryContentHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLibraryContentHeader",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLibraryContentFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLibraryContent",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("splitterLibrary",pas["WEBLib.ExtCtrls"].$rtti.TSplitter),e.addField("divQuestionsButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnQuestionsNew",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnQuestionsDelete",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnQuestionsClone",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnQuestionsReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divQuestions",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLibraryListHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divLibraryButtons",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("btnLibraryListNew",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnLibraryListDelete",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnLibraryListClone",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("btnLibraryListReload",pas["WEBLib.StdCtrls"].$rtti.TButton),e.addField("divLibraryList",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("panelQuestionTypes",pas["WEBLib.ExtCtrls"].$rtti.TPanel),e.addField("ddQuestionType",pas["WEBLib.DropDown"].$rtti.TDropDownControl),e.addField("divQuestionOptionsHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionOptions",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtQuestionOptions",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divQuestionOptionsInfo",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionTitleHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionTitle",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtQuestionTitle",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addField("divQuestionFooterHolder",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("divQuestionFooter",pas["WEBLib.WebCtrls"].$rtti.THTMLDiv),e.addField("edtQuestionFooter",pas["WEBLib.StdCtrls"].$rtti.TEdit),e.addMethod("btnMainMenuClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnSurveyMenuClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnPreviewSizeClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnPreviewTimeClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("WebFormCreate",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("WebFormShow",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("tmrLaunchTimer",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("splitterSurveyMainMove",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnLogoutClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("ServerConnRequest",0,[["Args",pas["XData.Web.Connection"].$rtti.TXDataWebConnectionRequest]]),e.addMethod("btnAccountClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("Login",0,[],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnSurveyReloadClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("UpdateTable",0,[["Endpoint",rtl.string],["Params",rtl.jsvalue,8],["Table",rtl.jsvalue],["Progress",pas["WEBLib.StdCtrls"].$rtti.TButton]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("GetQueryData",1,[["Endpoint",rtl.string],["Params",rtl.jsvalue,8],["Progress",pas["WEBLib.StdCtrls"].$rtti.TButton]],rtl.string,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnSurveyNewClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnSurveyDeleteClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnSurveyCloneClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("SurveySelect",0,[["SurveyID",rtl.string]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("QuestionSelect",0,[["QuestionID",rtl.string]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("SurveyChanged",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("QuestionChanged",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnLoggingTodayClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnLogging7DaysClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnLoggingAllDataClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnSurveySaveClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnSurveyCancelClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("GetSurveyByID",1,[["SurveyID",rtl.string],["SurveyName",rtl.string],["SurveyGroup",rtl.string]],rtl.string,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnLoggingReloadClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnChangeHistoryReloadClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("WebFormResize",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnAvailabilityDeleteClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnAvailabilityAddClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnSurveyInfoReloadClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("splitterSurveyConfigMove",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("edtConfigBasicLinkChange",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("edtConfigBasicLiveLinkClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("ResizeQRCode",0,[]),e.addMethod("btnNotesReloadClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnNotesAddClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnNotesDeleteClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnLoggingPrintClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnAvailabilityPrintClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnChangeHistoryPrintClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnNotesPrintClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnDiscordClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnEmailClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnTicketClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnAccountsReloadClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnGitHubClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("AccountChanged",0,[["AccountID",rtl.string]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnIssuesPrintClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnIssuesReloadClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnAccountsPrintClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnAddUserClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnDeleteUserClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnSetPasswordClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnIssueStatusNewClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnPermissionsPrintClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnPermissionsReloadClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("TogglePermissions",0,[["AccountID",rtl.string],["FirstName",rtl.string],["LastName",rtl.string],["Access",rtl.longint]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnPreviewReloadClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnViewActivityLogClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnBlogClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnFeedbackReloadClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnFeedbackActivityLogClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("btnAvailabilityReloadClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("tmrCountdownTimer",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("splitterLibraryMove",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("splitterQuestionsMove",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("splitterAccountsMove",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("splitterResponsesMove",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnQuestionsReloadClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]}),e.addMethod("NewQuestionTypeSelected",0,[["QuestionID",rtl.string],["typeid",rtl.longint],["icon",rtl.string],["hint",rtl.string],["desc",rtl.string],["info",rtl.string],["update",rtl.boolean]]),e.addMethod("ddQuestionTypeDropDown",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnQuestionsNewClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnQuestionsDeleteClick",0,[["Sender",pas.System.$rtti.TObject]]),e.addMethod("btnResponsesReloadClick",0,[["Sender",pas.System.$rtti.TObject]],null,16,{attr:[pas.JS.AsyncAttribute,"Create"]})})),this.Form1=null,this.MainMenuButtons=[],this.SurveyMenuButtons=[],this.PreviewSizeButtons=[],this.PreviewTimeButtons=[],this.PreviewSize=0,this.PreviewTime=0}),["UnitLogin","UnitNote"]),rtl.module("program",["System","WEBLib.Forms","WEBLib.Forms","Unit1","UnitLogin","UnitNote"],(function(){"use strict";this.$main=function(){pas["WEBLib.Forms"].Application.Initialize(),pas["WEBLib.Forms"].Application.FMainFormOnTaskBar=!0,pas["WEBLib.Forms"].Application.CreateForm(pas.Unit1.TForm1,{p:pas.Unit1,get:function(){return this.p.Form1},set:function(t){this.p.Form1=t}}),pas["WEBLib.Forms"].Application.Run()}}));